2023-05-16 00:07:20.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:22.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:22.388 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:24.090 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:24.355 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39101625943592960 [0;39m 生成今日电子书快照开始
2023-05-16 00:07:24.355 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39101625943592960 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:07:24.356 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39101625943592960 [0;39m ==> Parameters: 
2023-05-16 00:07:24.359 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39101625943592960 [0;39m <==    Updates: 5
2023-05-16 00:07:24.360 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39101625943592960 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 00:07:24.360 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39101625964564480 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:07:24.360 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39101625964564480 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:07:24.360 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39101625964564480 [0;39m ==> Parameters: 
2023-05-16 00:07:24.361 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39101625964564480 [0;39m <==    Updates: 2
2023-05-16 00:07:24.361 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39101625964564480 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 00:07:24.422 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:26.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:29.138 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=23m54s352ms872µs200ns).
2023-05-16 00:07:30.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:30.694 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:32.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:32.745 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:34.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:34.788 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39101670612930560 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:07:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39101670612930560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39101670612930560 [0;39m ==> Parameters: 
2023-05-16 00:07:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39101670612930560 [0;39m <==    Updates: 2
2023-05-16 00:07:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39101670612930560 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:07:36.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:38.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:38.852 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:40.408 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:40.877 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:42.432 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:42.905 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:44.455 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:46.489 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:46.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:48.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:49.002 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:50.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:51.009 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:52.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:53.024 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:54.589 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:55.044 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:56.601 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:57.055 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:07:58.609 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39101775487307776 [0;39m 生成今日电子书快照开始
2023-05-16 00:08:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39101775487307776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:08:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39101775487307776 [0;39m ==> Parameters: 
2023-05-16 00:08:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39101775487307776 [0;39m <==    Updates: 0
2023-05-16 00:08:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39101775487307776 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 00:08:00.624 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:01.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:02.658 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:03.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:04.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39101796429467648 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:08:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39101796429467648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:08:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39101796429467648 [0;39m ==> Parameters: 
2023-05-16 00:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39101796429467648 [0;39m <==    Updates: 2
2023-05-16 00:08:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39101796429467648 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 00:08:05.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:06.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:07.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:08.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:09.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:10.734 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:11.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:12.774 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:13.250 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:14.805 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:15.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:16.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:17.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:18.842 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:19.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:20.867 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:21.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:22.892 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:24.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:25.385 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:26.929 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:27.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:28.949 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:29.422 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:30.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:31.441 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:32.991 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:33.478 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39101922266976256 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:08:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39101922266976256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:08:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39101922266976256 [0;39m ==> Parameters: 
2023-05-16 00:08:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39101922266976256 [0;39m <==    Updates: 2
2023-05-16 00:08:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39101922266976256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:08:35.020 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:35.509 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:37.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:37.533 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:39.063 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:39.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:43.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:43.630 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:45.148 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:47.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:47.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:49.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:49.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:51.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:51.749 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:53.308 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:53.793 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:55.351 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:55.848 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:57.905 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:08:59.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39102027111993344 [0;39m 生成今日电子书快照开始
2023-05-16 00:09:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39102027111993344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:09:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39102027111993344 [0;39m ==> Parameters: 
2023-05-16 00:09:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39102027111993344 [0;39m <==    Updates: 0
2023-05-16 00:09:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39102027111993344 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-16 00:09:01.469 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:01.982 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:04.024 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39102048087707648 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:09:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102048087707648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:09:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102048087707648 [0;39m ==> Parameters: 
2023-05-16 00:09:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102048087707648 [0;39m <==    Updates: 2
2023-05-16 00:09:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39102048087707648 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-16 00:09:06.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:10.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:12.311 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:14.322 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:16.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:18.363 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:20.375 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:22.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:22.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:24.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:28.573 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:30.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:32.655 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:34.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39102173921021952 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:09:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102173921021952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:09:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102173921021952 [0;39m ==> Parameters: 
2023-05-16 00:09:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102173921021952 [0;39m <==    Updates: 2
2023-05-16 00:09:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39102173921021952 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:09:36.717 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:38.734 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:42.784 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:44.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:50.936 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:52.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:52.958 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:54.969 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:56.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:59.000 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:59.766 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 00:09:59.766 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-16 00:09:59.766 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-16 00:09:59.766 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-16 00:09:59.782 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-16 00:09:59.797 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:09:59.797 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-16 00:09:59.797 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-16 00:10:03.366 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-16 00:10:03.381 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 17348 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-16 00:10:03.381 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-16 00:10:03.444 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-16 00:10:03.444 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-16 00:10:04.044 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-16 00:10:04.044 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-16 00:10:04.060 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2023-05-16 00:10:04.235 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$b3345d1e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.251 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.534 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.534 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$556ed21f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.534 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.534 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.534 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.534 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.549 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.549 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.549 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.565 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.565 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.565 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.565 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:04.581 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:05.415 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:05.415 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:10:05.780 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-16 00:10:05.780 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-16 00:10:05.780 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-16 00:10:05.780 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-16 00:10:05.859 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-16 00:10:05.859 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2415 ms
2023-05-16 00:10:06.575 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-16 00:10:06.908 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-16 00:10:06.956 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-16 00:10:07.558 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:10:07.558 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:10:11.598 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:10:11.598 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 00:10:11.598 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-16 00:10:11.598 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-16 00:10:11.630 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-16 00:10:11.646 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 8.664 seconds (JVM running for 9.624)
2023-05-16 00:10:11.646 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-16 00:10:11.646 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-16 00:10:15.643 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:10:35.028 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39102425679925248 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:10:35.043 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39102425679925248 [0;39m HikariPool-1 - Starting...
2023-05-16 00:10:35.558 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39102425679925248 [0;39m HikariPool-1 - Start completed.
2023-05-16 00:10:35.558 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102425679925248 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:10:35.573 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102425679925248 [0;39m ==> Parameters: 
2023-05-16 00:10:35.573 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102425679925248 [0;39m <==    Updates: 2
2023-05-16 00:10:35.589 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39102425679925248 [0;39m 更新电子书下的文档数据结束，耗时：561毫秒
2023-05-16 00:10:37.134 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:10:37.466 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:10:43.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:11:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39102530516553728 [0;39m 生成今日电子书快照开始
2023-05-16 00:11:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39102530516553728 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:11:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39102530516553728 [0;39m ==> Parameters: 
2023-05-16 00:11:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39102530516553728 [0;39m <==    Updates: 0
2023-05-16 00:11:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39102530516553728 [0;39m 生成今日电子书快照结束，耗时：1毫秒
2023-05-16 00:11:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39102551450324992 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:11:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102551450324992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:11:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102551450324992 [0;39m ==> Parameters: 
2023-05-16 00:11:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102551450324992 [0;39m <==    Updates: 2
2023-05-16 00:11:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39102551450324992 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:11:07.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:11:07.455 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:11:10.586 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 00:11:10.586 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-16 00:11:10.586 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-16 00:11:10.586 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-16 00:11:10.602 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-16 00:11:10.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:11:10.618 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-16 00:11:10.618 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-16 00:11:14.938 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-16 00:11:14.938 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 4344 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-16 00:11:14.954 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-16 00:11:15.001 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-16 00:11:15.001 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-16 00:11:15.586 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-16 00:11:15.602 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-16 00:11:15.618 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2023-05-16 00:11:15.777 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$e55bd2c9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:15.793 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.076 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.076 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$879647ca] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.076 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.076 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.076 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.076 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.076 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.091 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.091 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.091 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.091 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.107 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.107 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.123 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.924 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:16.939 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 00:11:17.288 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-16 00:11:17.304 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-16 00:11:17.304 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-16 00:11:17.304 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-16 00:11:17.367 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-16 00:11:17.367 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2366 ms
2023-05-16 00:11:18.019 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-16 00:11:18.350 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-16 00:11:18.414 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-16 00:11:19.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:11:19.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:11:21.094 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:11:23.119 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:11:23.119 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 00:11:23.119 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-16 00:11:23.119 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-16 00:11:23.134 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-16 00:11:23.150 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 8.6 seconds (JVM running for 9.485)
2023-05-16 00:11:23.150 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-16 00:11:23.150 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-16 00:11:27.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:11:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39102677279444992 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:11:35.030 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39102677279444992 [0;39m HikariPool-1 - Starting...
2023-05-16 00:11:35.503 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39102677279444992 [0;39m HikariPool-1 - Start completed.
2023-05-16 00:11:35.519 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102677279444992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:11:35.519 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102677279444992 [0;39m ==> Parameters: 
2023-05-16 00:11:35.519 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39102677279444992 [0;39m <==    Updates: 2
2023-05-16 00:11:35.535 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39102677279444992 [0;39m 更新电子书下的文档数据结束，耗时：522毫秒
2023-05-16 00:11:38.291 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-16 00:11:38.291 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-16 00:11:38.292 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-16 00:11:38.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39102691259060224 [0;39m ------------- 开始 -------------
2023-05-16 00:11:38.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39102691259060224 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 00:11:38.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39102691259060224 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 00:11:38.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39102691259060224 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:11:38.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39102691259060224 [0;39m 请求参数: [2]
2023-05-16 00:11:38.533 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39102691259060224 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 00:11:38.533 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39102691259060224 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:11:38.547 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39102691259060224 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 00:11:38.547 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39102691259060224 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 00:11:38.547 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39102691259060224 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 00:11:38.547 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39102691259060224 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 00:11:38.547 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39102691259060224 [0;39m <==      Total: 3
2023-05-16 00:11:43.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:11:43.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:11:43.488 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102691259060224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:11:43.488 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102691259060224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:11:43.488 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m <==      Total: 1
2023-05-16 00:11:47.295 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:11:47.295 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:11:47.312 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102691259060224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:11:47.312 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102691259060224 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 00:11:47.312 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m <==      Total: 1
2023-05-16 00:11:49.622 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:11:50.155 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:11:50.170 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:11:50.171 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102691259060224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:11:50.171 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102691259060224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:11:50.171 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m <==      Total: 1
2023-05-16 00:11:52.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:11:52.079 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:11:52.079 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:11:52.079 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102691259060224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:11:52.079 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102691259060224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:11:52.094 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m <==      Total: 1
2023-05-16 00:11:53.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:11:53.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:11:53.054 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102691259060224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:11:53.054 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102691259060224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:11:53.054 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102691259060224 [0;39m <==      Total: 1
2023-05-16 00:11:53.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39102691259060224 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 00:11:53.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39102691259060224 [0;39m ------------- 结束 耗时：14740 ms -------------
2023-05-16 00:11:54.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:11:55.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39102764588077056 [0;39m ------------- 开始 -------------
2023-05-16 00:11:55.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39102764588077056 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 00:11:55.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39102764588077056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 00:11:55.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39102764588077056 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:11:55.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39102764588077056 [0;39m 请求参数: [2]
2023-05-16 00:11:55.831 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39102764588077056 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 00:11:55.831 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39102764588077056 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:11:55.833 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39102764588077056 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 00:11:55.833 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39102764588077056 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 00:11:55.834 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39102764588077056 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 00:11:55.834 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39102764588077056 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 00:11:55.835 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39102764588077056 [0;39m <==      Total: 3
2023-05-16 00:27:32.769 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m57s145ms96µs900ns).
2023-05-16 00:27:32.769 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39106694399266816 [0;39m 生成今日电子书快照开始
2023-05-16 00:27:32.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:27:32.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:27:32.769 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:27:32.769 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102764588077056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:27:32.769 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102764588077056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:27:32.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m <==      Total: 1
2023-05-16 00:27:32.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:27:32.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:27:32.769 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102764588077056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:27:32.769 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102764588077056 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 00:27:32.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m <==      Total: 1
2023-05-16 00:27:32.769 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39106694399266816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:27:32.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:27:32.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:27:32.769 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102764588077056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:27:32.769 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39106694399266816 [0;39m ==> Parameters: 
2023-05-16 00:27:32.769 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102764588077056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:27:32.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m <==      Total: 1
2023-05-16 00:27:32.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:27:32.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:27:32.769 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102764588077056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:27:32.769 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39106694399266816 [0;39m <==    Updates: 0
2023-05-16 00:27:32.769 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102764588077056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:27:32.784 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m <==      Total: 1
2023-05-16 00:27:32.784 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:27:32.784 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:27:32.784 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102764588077056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:27:32.784 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39102764588077056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:27:32.784 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39106694399266816 [0;39m 生成今日电子书快照结束，耗时：15毫秒
2023-05-16 00:27:32.784 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39102764588077056 [0;39m <==      Total: 1
2023-05-16 00:27:32.784 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39106694462181376 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:27:32.784 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39102764588077056 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 00:27:32.784 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39102764588077056 [0;39m ------------- 结束 耗时：936955 ms -------------
2023-05-16 00:27:32.784 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39106694462181376 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:27:32.784 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39106694462181376 [0;39m ==> Parameters: 
2023-05-16 00:27:32.784 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39106694462181376 [0;39m <==    Updates: 2
2023-05-16 00:27:32.784 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39106694462181376 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:27:32.784 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39102764588077056 [0;39m 系统异常：
org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:309)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:272)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118)
	at java.io.FilterOutputStream.flush(FilterOutputStream.java:140)
	at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1176)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1008)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:345)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:277)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:124)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at sun.nio.ch.SocketDispatcher.write0(Native Method)
	at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:51)
	at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)
	at sun.nio.ch.IOUtil.write(IOUtil.java:65)
	at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:469)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:138)
	at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101)
	at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:152)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1253)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:764)
	at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:717)
	at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:707)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:572)
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.flush(ChunkedOutputFilter.java:157)
	at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:220)
	at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1195)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:399)
	at org.apache.coyote.Response.action(Response.java:209)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
	... 54 common frames omitted
2023-05-16 00:27:32.784 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :428  [32m39102764588077056 [0;39m Failure in @ExceptionHandler com.jiawa.wiki.config.ControllerExceptionHandler#validExceptionHandler(Exception)
org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:309)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:272)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118)
	at java.io.FilterOutputStream.flush(FilterOutputStream.java:140)
	at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1176)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1008)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:345)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:277)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:124)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:417)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1321)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1132)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1078)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at sun.nio.ch.SocketDispatcher.write0(Native Method)
	at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:51)
	at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)
	at sun.nio.ch.IOUtil.write(IOUtil.java:65)
	at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:469)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:138)
	at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101)
	at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:152)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1253)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:764)
	at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:717)
	at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:707)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:572)
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.flush(ChunkedOutputFilter.java:157)
	at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:220)
	at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1195)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:399)
	at org.apache.coyote.Response.action(Response.java:209)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
	... 57 common frames omitted
2023-05-16 00:27:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39106703840645120 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:27:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39106703840645120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:27:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39106703840645120 [0;39m ==> Parameters: 
2023-05-16 00:27:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39106703840645120 [0;39m <==    Updates: 2
2023-05-16 00:27:35.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39106703840645120 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:27:36.867 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:27:36.870 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:27:38.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:27:40.965 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:27:40.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:27:43.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:27:43.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:27:45.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:27:45.036 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:27:47.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:27:51.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:27:53.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:28:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39106808681467904 [0;39m 生成今日电子书快照开始
2023-05-16 00:28:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39106808681467904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:28:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39106808681467904 [0;39m ==> Parameters: 
2023-05-16 00:28:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39106808681467904 [0;39m <==    Updates: 0
2023-05-16 00:28:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39106808681467904 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-16 00:28:01.343 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:28:05.046 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39106829774622720 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:28:05.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39106829774622720 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:28:05.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39106829774622720 [0;39m ==> Parameters: 
2023-05-16 00:28:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39106829774622720 [0;39m <==    Updates: 2
2023-05-16 00:28:05.050 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39106829774622720 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 00:28:07.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:28:12.435 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:28:21.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:28:29.656 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:28:31.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:28:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39106955465330688 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:28:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39106955465330688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:28:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39106955465330688 [0;39m ==> Parameters: 
2023-05-16 00:28:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39106955465330688 [0;39m <==    Updates: 2
2023-05-16 00:28:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39106955465330688 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:28:37.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:28:41.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:28:43.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:28:49.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:28:58.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39107053058396160 [0;39m ------------- 开始 -------------
2023-05-16 00:28:58.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39107053058396160 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 00:28:58.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39107053058396160 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 00:28:58.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39107053058396160 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:28:58.281 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39107053058396160 [0;39m 请求参数: [2]
2023-05-16 00:28:58.282 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39107053058396160 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 00:28:58.283 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39107053058396160 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:28:58.284 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39107053058396160 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 00:28:58.284 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39107053058396160 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 00:28:58.286 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39107053058396160 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 00:28:58.286 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39107053058396160 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 00:28:58.287 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39107053058396160 [0;39m <==      Total: 3
2023-05-16 00:29:13.929 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39107118690865152 [0;39m 生成今日电子书快照开始
2023-05-16 00:29:13.930 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39107118690865152 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:29:15.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:29:15.109 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39107118690865152 [0;39m ==> Parameters: 
2023-05-16 00:29:15.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39107118690865152 [0;39m <==    Updates: 0
2023-05-16 00:29:17.529 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39107118690865152 [0;39m 生成今日电子书快照结束，耗时：3600毫秒
2023-05-16 00:29:17.529 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39107133794553856 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:29:17.529 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107133794553856 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:29:17.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:29:17.529 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107133794553856 [0;39m ==> Parameters: 
2023-05-16 00:29:17.539 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107133794553856 [0;39m <==    Updates: 2
2023-05-16 00:29:17.539 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39107133794553856 [0;39m 更新电子书下的文档数据结束，耗时：10毫秒
2023-05-16 00:29:17.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:29:17.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:29:17.540 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39107053058396160 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:29:17.540 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39107053058396160 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:29:17.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m <==      Total: 1
2023-05-16 00:29:19.567 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:29:25.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:29:30.954 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:29:30.958 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:29:30.962 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39107053058396160 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:29:30.964 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39107053058396160 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 00:29:30.965 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m <==      Total: 1
2023-05-16 00:29:32.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:29:35.137 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39107207647858688 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:29:35.139 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107207647858688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:29:35.139 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107207647858688 [0;39m ==> Parameters: 
2023-05-16 00:29:35.144 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107207647858688 [0;39m <==    Updates: 2
2023-05-16 00:29:35.144 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39107207647858688 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-16 00:29:36.033 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:29:36.038 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:29:36.045 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39107053058396160 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:29:36.045 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39107053058396160 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:29:36.045 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m <==      Total: 1
2023-05-16 00:29:39.213 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:29:39.224 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:29:39.227 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39107053058396160 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:29:39.227 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39107053058396160 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:29:39.227 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m <==      Total: 1
2023-05-16 00:29:42.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:29:51.800 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:29:51.800 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:29:51.811 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39107053058396160 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:29:51.811 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39107053058396160 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:29:51.816 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39107053058396160 [0;39m <==      Total: 1
2023-05-16 00:29:55.653 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:29:55.653 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:30:00.643 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39107314627776512 [0;39m 生成今日电子书快照开始
2023-05-16 00:30:00.643 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39107314627776512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:30:00.654 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39107314627776512 [0;39m ==> Parameters: 
2023-05-16 00:30:24.567 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39107314627776512 [0;39m <==    Updates: 0
2023-05-16 00:30:24.568 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39107314627776512 [0;39m 生成今日电子书快照结束，耗时：23925毫秒
2023-05-16 00:30:24.568 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39107414976499712 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:30:31.703 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107414976499712 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:30:31.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:30:31.707 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107414976499712 [0;39m ==> Parameters: 
2023-05-16 00:30:31.708 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107414976499712 [0;39m <==    Updates: 2
2023-05-16 00:30:31.708 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39107414976499712 [0;39m 更新电子书下的文档数据结束，耗时：7140毫秒
2023-05-16 00:30:35.345 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39107460178513920 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:30:36.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:30:36.125 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107460178513920 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:30:36.126 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107460178513920 [0;39m ==> Parameters: 
2023-05-16 00:30:36.128 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107460178513920 [0;39m <==    Updates: 2
2023-05-16 00:30:36.128 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39107460178513920 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:30:40.643 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:30:43.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:30:47.736 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:30:53.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:01.838 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39107571298209792 [0;39m 生成今日电子书快照开始
2023-05-16 00:31:01.838 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39107571298209792 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:31:09.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:09.471 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39107571298209792 [0;39m ==> Parameters: 
2023-05-16 00:31:12.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39107571298209792 [0;39m <==    Updates: 0
2023-05-16 00:31:12.035 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39107571298209792 [0;39m 生成今日电子书快照结束，耗时：10197毫秒
2023-05-16 00:31:12.035 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39107614067527680 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:31:13.795 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107614067527680 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:31:18.254 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107614067527680 [0;39m ==> Parameters: 
2023-05-16 00:31:22.904 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107614067527680 [0;39m <==    Updates: 2
2023-05-16 00:31:23.992 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39107614067527680 [0;39m 更新电子书下的文档数据结束，耗时：11165毫秒
2023-05-16 00:31:23.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39107053058396160 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 00:31:23.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39107053058396160 [0;39m ------------- 结束 耗时：145714 ms -------------
2023-05-16 00:31:24.014 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:26.067 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:30.152 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:32.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:34.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39107710427467776 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:31:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107710427467776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:31:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107710427467776 [0;39m ==> Parameters: 
2023-05-16 00:31:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107710427467776 [0;39m <==    Updates: 2
2023-05-16 00:31:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39107710427467776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 00:31:36.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:38.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:40.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:48.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:50.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:54.616 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:31:58.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39107815276679168 [0;39m 生成今日电子书快照开始
2023-05-16 00:32:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39107815276679168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:32:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39107815276679168 [0;39m ==> Parameters: 
2023-05-16 00:32:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39107815276679168 [0;39m <==    Updates: 0
2023-05-16 00:32:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39107815276679168 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 00:32:02.769 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:04.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39107836285947904 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:32:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107836285947904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:32:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107836285947904 [0;39m ==> Parameters: 
2023-05-16 00:32:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107836285947904 [0;39m <==    Updates: 2
2023-05-16 00:32:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39107836285947904 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:32:06.844 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:10.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:12.948 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:17.010 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:19.011 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:19.057 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:21.088 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:23.135 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:25.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:27.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:29.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:31.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39107962089902080 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:32:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107962089902080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:32:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107962089902080 [0;39m ==> Parameters: 
2023-05-16 00:32:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39107962089902080 [0;39m <==    Updates: 2
2023-05-16 00:32:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39107962089902080 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 00:32:35.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:37.370 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:45.592 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:47.622 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:48.995 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:51.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:57.853 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:32:59.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39108066947502080 [0;39m 生成今日电子书快照开始
2023-05-16 00:33:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39108066947502080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:33:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39108066947502080 [0;39m ==> Parameters: 
2023-05-16 00:33:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39108066947502080 [0;39m <==    Updates: 0
2023-05-16 00:33:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39108066947502080 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 00:33:01.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:03.971 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39108087944187904 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:33:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108087944187904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:33:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108087944187904 [0;39m ==> Parameters: 
2023-05-16 00:33:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108087944187904 [0;39m <==    Updates: 2
2023-05-16 00:33:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39108087944187904 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:33:05.998 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:08.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:12.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:14.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:16.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:18.993 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:20.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:26.480 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:30.533 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:32.559 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39108213748142080 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:33:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108213748142080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:33:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108213748142080 [0;39m ==> Parameters: 
2023-05-16 00:33:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108213748142080 [0;39m <==    Updates: 2
2023-05-16 00:33:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39108213748142080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:33:47.445 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:48.962 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:49.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:51.508 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:33:53.527 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:34:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39108318572187648 [0;39m 生成今日电子书快照开始
2023-05-16 00:34:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39108318572187648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:34:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39108318572187648 [0;39m ==> Parameters: 
2023-05-16 00:34:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39108318572187648 [0;39m <==    Updates: 0
2023-05-16 00:34:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39108318572187648 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-16 00:34:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39108339543707648 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:34:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108339543707648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:34:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108339543707648 [0;39m ==> Parameters: 
2023-05-16 00:34:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108339543707648 [0;39m <==    Updates: 2
2023-05-16 00:34:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39108339543707648 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 00:34:11.514 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:34:18.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:34:18.976 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:34:20.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:34:22.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:34:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39108465397993472 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:34:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108465397993472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:34:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108465397993472 [0;39m ==> Parameters: 
2023-05-16 00:34:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108465397993472 [0;39m <==    Updates: 2
2023-05-16 00:34:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39108465397993472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:34:35.586 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:34:48.654 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:34:48.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:34:50.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:34:52.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:34:57.640 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:34:59.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:35:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39108570289147904 [0;39m 生成今日电子书快照开始
2023-05-16 00:35:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39108570289147904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:35:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39108570289147904 [0;39m ==> Parameters: 
2023-05-16 00:35:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39108570289147904 [0;39m <==    Updates: 0
2023-05-16 00:35:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39108570289147904 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 00:35:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39108591260667904 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:35:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108591260667904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:35:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108591260667904 [0;39m ==> Parameters: 
2023-05-16 00:35:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108591260667904 [0;39m <==    Updates: 2
2023-05-16 00:35:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39108591260667904 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:35:18.640 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:35:18.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:35:22.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:35:24.725 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:35:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39108717077204992 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:35:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108717077204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:35:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108717077204992 [0;39m ==> Parameters: 
2023-05-16 00:35:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108717077204992 [0;39m <==    Updates: 2
2023-05-16 00:35:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39108717077204992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:35:48.806 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:35:48.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:35:54.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:36:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39108821922222080 [0;39m 生成今日电子书快照开始
2023-05-16 00:36:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39108821922222080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:36:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39108821922222080 [0;39m ==> Parameters: 
2023-05-16 00:36:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39108821922222080 [0;39m <==    Updates: 0
2023-05-16 00:36:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39108821922222080 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 00:36:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39108842893742080 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:36:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108842893742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:36:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108842893742080 [0;39m ==> Parameters: 
2023-05-16 00:36:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108842893742080 [0;39m <==    Updates: 2
2023-05-16 00:36:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39108842893742080 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-16 00:36:10.854 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:36:12.888 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:36:18.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:36:20.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:36:22.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:36:34.947 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:36:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39108968727056384 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:36:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108968727056384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:36:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108968727056384 [0;39m ==> Parameters: 
2023-05-16 00:36:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39108968727056384 [0;39m <==    Updates: 2
2023-05-16 00:36:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39108968727056384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:36:36.995 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:36:48.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:36:48.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:36:52.714 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:36:59.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:37:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39109073576267776 [0;39m 生成今日电子书快照开始
2023-05-16 00:37:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39109073576267776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:37:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39109073576267776 [0;39m ==> Parameters: 
2023-05-16 00:37:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39109073576267776 [0;39m <==    Updates: 0
2023-05-16 00:37:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39109073576267776 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 00:37:01.087 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:37:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39109094577147904 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:37:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109094577147904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:37:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109094577147904 [0;39m ==> Parameters: 
2023-05-16 00:37:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109094577147904 [0;39m <==    Updates: 2
2023-05-16 00:37:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39109094577147904 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:37:18.652 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:37:18.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:37:20.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:37:22.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:37:24.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:37:26.822 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:37:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39109220385296384 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:37:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109220385296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:37:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109220385296384 [0;39m ==> Parameters: 
2023-05-16 00:37:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109220385296384 [0;39m <==    Updates: 2
2023-05-16 00:37:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39109220385296384 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 00:37:48.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:37:48.995 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:37:50.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:37:52.749 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:37:54.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:38:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39109325238702080 [0;39m 生成今日电子书快照开始
2023-05-16 00:38:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39109325238702080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:38:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39109325238702080 [0;39m ==> Parameters: 
2023-05-16 00:38:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39109325238702080 [0;39m <==    Updates: 0
2023-05-16 00:38:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39109325238702080 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 00:38:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39109346210222080 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:38:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109346210222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:38:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109346210222080 [0;39m ==> Parameters: 
2023-05-16 00:38:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109346210222080 [0;39m <==    Updates: 2
2023-05-16 00:38:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39109346210222080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:38:16.839 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:38:18.869 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:38:18.994 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:38:20.900 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:38:22.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:38:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39109472047730688 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:38:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109472047730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:38:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109472047730688 [0;39m ==> Parameters: 
2023-05-16 00:38:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109472047730688 [0;39m <==    Updates: 2
2023-05-16 00:38:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39109472047730688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 00:38:43.933 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:38:48.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:38:49.011 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:38:50.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:38:52.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:39:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39109576892747776 [0;39m 生成今日电子书快照开始
2023-05-16 00:39:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39109576892747776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:39:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39109576892747776 [0;39m ==> Parameters: 
2023-05-16 00:39:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39109576892747776 [0;39m <==    Updates: 0
2023-05-16 00:39:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39109576892747776 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 00:39:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39109597868462080 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:39:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109597868462080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:39:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109597868462080 [0;39m ==> Parameters: 
2023-05-16 00:39:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109597868462080 [0;39m <==    Updates: 2
2023-05-16 00:39:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39109597868462080 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 00:39:05.982 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:39:08.008 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:39:18.654 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:39:19.009 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:39:20.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:39:22.730 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:39:32.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:39:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39109723655639040 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:39:35.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109723655639040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:39:35.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109723655639040 [0;39m ==> Parameters: 
2023-05-16 00:39:35.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109723655639040 [0;39m <==    Updates: 2
2023-05-16 00:39:35.000 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39109723655639040 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:39:48.650 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:39:48.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:39:52.745 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:39:56.846 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:40:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39109828567764992 [0;39m 生成今日电子书快照开始
2023-05-16 00:40:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39109828567764992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:40:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39109828567764992 [0;39m ==> Parameters: 
2023-05-16 00:40:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39109828567764992 [0;39m <==    Updates: 0
2023-05-16 00:40:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39109828567764992 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 00:40:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39109849526702080 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:40:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109849526702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:40:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109849526702080 [0;39m ==> Parameters: 
2023-05-16 00:40:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109849526702080 [0;39m <==    Updates: 2
2023-05-16 00:40:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39109849526702080 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-16 00:40:18.621 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:40:18.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:40:20.652 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:40:22.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:40:24.736 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:40:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39109975326461952 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:40:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109975326461952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:40:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109975326461952 [0;39m ==> Parameters: 
2023-05-16 00:40:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39109975326461952 [0;39m <==    Updates: 2
2023-05-16 00:40:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39109975326461952 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:40:48.824 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:40:48.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:40:54.947 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:41:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39110080209227776 [0;39m 生成今日电子书快照开始
2023-05-16 00:41:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39110080209227776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:41:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39110080209227776 [0;39m ==> Parameters: 
2023-05-16 00:41:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39110080209227776 [0;39m <==    Updates: 0
2023-05-16 00:41:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39110080209227776 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-16 00:41:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39110101180747776 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:41:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110101180747776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:41:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110101180747776 [0;39m ==> Parameters: 
2023-05-16 00:41:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110101180747776 [0;39m <==    Updates: 2
2023-05-16 00:41:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39110101180747776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:41:10.885 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:41:12.931 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:41:18.964 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:41:20.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:41:22.729 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:41:34.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:41:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39110227009867776 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:41:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110227009867776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:41:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110227009867776 [0;39m ==> Parameters: 
2023-05-16 00:41:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110227009867776 [0;39m <==    Updates: 2
2023-05-16 00:41:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39110227009867776 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 00:41:37.010 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:41:48.989 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:41:50.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:41:52.730 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:42:00.092 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39110332215595008 [0;39m 生成今日电子书快照开始
2023-05-16 00:42:00.093 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39110332215595008 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:42:00.094 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39110332215595008 [0;39m ==> Parameters: 
2023-05-16 00:42:00.095 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39110332215595008 [0;39m <==    Updates: 0
2023-05-16 00:42:00.095 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39110332215595008 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 00:42:01.134 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:42:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39110352864153600 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:42:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110352864153600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:42:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110352864153600 [0;39m ==> Parameters: 
2023-05-16 00:42:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110352864153600 [0;39m <==    Updates: 2
2023-05-16 00:42:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39110352864153600 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 00:42:18.656 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:42:18.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:42:20.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:42:22.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:42:26.822 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:42:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39110478676496384 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:42:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110478676496384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:42:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110478676496384 [0;39m ==> Parameters: 
2023-05-16 00:42:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110478676496384 [0;39m <==    Updates: 2
2023-05-16 00:42:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39110478676496384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:42:48.651 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:42:48.982 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:42:50.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:42:52.739 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:42:54.770 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:43:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39110583534096384 [0;39m 生成今日电子书快照开始
2023-05-16 00:43:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39110583534096384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:43:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39110583534096384 [0;39m ==> Parameters: 
2023-05-16 00:43:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39110583534096384 [0;39m <==    Updates: 0
2023-05-16 00:43:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39110583534096384 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 00:43:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39110604509810688 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:43:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110604509810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:43:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110604509810688 [0;39m ==> Parameters: 
2023-05-16 00:43:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110604509810688 [0;39m <==    Updates: 2
2023-05-16 00:43:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39110604509810688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:43:08.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39110619869351936 [0;39m ------------- 开始 -------------
2023-05-16 00:43:08.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39110619869351937 [0;39m ------------- 开始 -------------
2023-05-16 00:43:08.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39110619869351936 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 00:43:08.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39110619869351937 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 00:43:08.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39110619869351936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 00:43:08.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39110619869351937 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 00:43:08.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39110619869351936 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:43:08.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39110619869351937 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:43:08.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39110619869351936 [0;39m 请求参数: [2]
2023-05-16 00:43:08.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39110619869351937 [0;39m 请求参数: [2]
2023-05-16 00:43:08.674 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39110619869351936 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 00:43:08.674 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39110619869351936 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:43:08.679 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39110619869351936 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 00:43:08.679 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39110619869351936 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 00:43:08.679 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39110619869351936 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 00:43:08.679 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39110619869351936 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 00:43:08.679 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39110619869351936 [0;39m <==      Total: 3
2023-05-16 00:43:26.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:43:26.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:43:26.106 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110619869351936 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:43:26.106 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110619869351936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:43:26.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m <==      Total: 1
2023-05-16 00:43:26.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:43:26.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:43:26.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110619869351936 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:43:26.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110619869351936 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 00:43:26.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m <==      Total: 1
2023-05-16 00:43:26.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:43:26.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:43:26.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110619869351936 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:43:26.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110619869351936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:43:26.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m <==      Total: 1
2023-05-16 00:43:26.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:43:26.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:43:26.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110619869351936 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:43:26.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110619869351936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:43:26.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m <==      Total: 1
2023-05-16 00:43:26.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:43:26.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:43:26.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110619869351936 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:43:26.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110619869351936 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:43:26.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110619869351936 [0;39m <==      Total: 1
2023-05-16 00:43:26.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39110619869351936 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 00:43:26.114 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39110619869351936 [0;39m ------------- 结束 耗时：17440 ms -------------
2023-05-16 00:43:26.138 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39110619869351937 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 00:43:26.138 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39110619869351937 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:43:26.138 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39110619869351937 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 00:43:26.138 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39110619869351937 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 72, 0
2023-05-16 00:43:26.146 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39110619869351937 [0;39m <==      Total: 1
2023-05-16 00:43:26.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39110619869351937 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":72,"voteCount":0}],"success":true}
2023-05-16 00:43:26.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39110619869351937 [0;39m ------------- 结束 耗时：17483 ms -------------
2023-05-16 00:43:26.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39110693252894720 [0;39m ------------- 开始 -------------
2023-05-16 00:43:26.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39110693252894720 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 00:43:26.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39110693252894720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 00:43:26.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39110693252894720 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:43:26.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39110693252894720 [0;39m 请求参数: [38625501966897152]
2023-05-16 00:43:26.170 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39110693252894720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 00:43:26.170 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39110693252894720 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 00:43:26.178 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39110693252894720 [0;39m <==    Columns: id, content
2023-05-16 00:43:26.178 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39110693252894720 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 00:43:26.178 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39110693252894720 [0;39m <==      Total: 1
2023-05-16 00:43:26.178 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39110693252894720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 00:43:26.178 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39110693252894720 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 00:43:26.178 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39110693252894720 [0;39m <==    Updates: 1
2023-05-16 00:43:26.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39110693252894720 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 00:43:26.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39110693252894720 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-16 00:43:28.152 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:43:28.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:43:30.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:43:32.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:43:34.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:43:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39110730330542080 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110730330542080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110730330542080 [0;39m ==> Parameters: 
2023-05-16 00:43:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110730330542080 [0;39m <==    Updates: 2
2023-05-16 00:43:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39110730330542080 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-16 00:43:48.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:43:48.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:43:50.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:43:52.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:43:54.770 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:43:56.806 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:44:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39110835192336384 [0;39m 生成今日电子书快照开始
2023-05-16 00:44:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39110835192336384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:44:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39110835192336384 [0;39m ==> Parameters: 
2023-05-16 00:44:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39110835192336384 [0;39m <==    Updates: 0
2023-05-16 00:44:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39110835192336384 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-16 00:44:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39110856134496256 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:44:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110856134496256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:44:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110856134496256 [0;39m ==> Parameters: 
2023-05-16 00:44:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110856134496256 [0;39m <==    Updates: 2
2023-05-16 00:44:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39110856134496256 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 00:44:18.648 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:44:18.950 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:44:20.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:44:22.729 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:44:24.777 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:44:31.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39110966109147136 [0;39m ------------- 开始 -------------
2023-05-16 00:44:31.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39110966109147136 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 00:44:31.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39110966109147136 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 00:44:31.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39110966109147136 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:44:31.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39110966109147136 [0;39m 请求参数: [2]
2023-05-16 00:44:31.226 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39110966109147136 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 00:44:31.226 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39110966109147136 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:44:31.228 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39110966109147136 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 00:44:31.228 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39110966109147136 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 00:44:31.229 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39110966109147136 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 00:44:31.230 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39110966109147136 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 00:44:31.230 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39110966109147136 [0;39m <==      Total: 3
2023-05-16 00:44:31.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:44:31.231 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:44:31.232 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110966109147136 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:44:31.232 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110966109147136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:44:31.233 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m <==      Total: 1
2023-05-16 00:44:31.233 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:44:31.233 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:44:31.234 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110966109147136 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:44:31.234 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110966109147136 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 00:44:31.235 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m <==      Total: 1
2023-05-16 00:44:31.235 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:44:31.236 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:44:31.236 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110966109147136 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:44:31.237 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110966109147136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:44:31.237 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m <==      Total: 1
2023-05-16 00:44:31.238 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:44:31.238 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:44:31.239 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110966109147136 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:44:31.239 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110966109147136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:44:31.239 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m <==      Total: 1
2023-05-16 00:44:31.240 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:44:31.240 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:44:31.241 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110966109147136 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:44:31.241 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39110966109147136 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:44:31.241 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39110966109147136 [0;39m <==      Total: 1
2023-05-16 00:44:31.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39110966109147136 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 00:44:31.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39110966109147136 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-16 00:44:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39110981955227648 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:44:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110981955227648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:44:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110981955227648 [0;39m ==> Parameters: 
2023-05-16 00:44:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39110981955227648 [0;39m <==    Updates: 2
2023-05-16 00:44:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39110981955227648 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:44:46.805 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:44:48.842 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:44:48.994 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:44:50.878 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:44:52.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:44:54.962 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:45:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39111086808633344 [0;39m 生成今日电子书快照开始
2023-05-16 00:45:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39111086808633344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:45:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39111086808633344 [0;39m ==> Parameters: 
2023-05-16 00:45:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39111086808633344 [0;39m <==    Updates: 0
2023-05-16 00:45:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39111086808633344 [0;39m 生成今日电子书快照结束，耗时：1毫秒
2023-05-16 00:45:05.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39111107855650816 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:45:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111107855650816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:45:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111107855650816 [0;39m ==> Parameters: 
2023-05-16 00:45:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111107855650816 [0;39m <==    Updates: 2
2023-05-16 00:45:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39111107855650816 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:45:10.894 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:45:12.928 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:45:18.957 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:45:20.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:45:22.735 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:45:34.967 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:45:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39111233621856256 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:45:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111233621856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:45:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111233621856256 [0;39m ==> Parameters: 
2023-05-16 00:45:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111233621856256 [0;39m <==    Updates: 2
2023-05-16 00:45:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39111233621856256 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:45:36.987 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:45:37.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39111242056601600 [0;39m ------------- 开始 -------------
2023-05-16 00:45:37.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39111242056601601 [0;39m ------------- 开始 -------------
2023-05-16 00:45:37.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39111242056601600 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 00:45:37.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39111242056601601 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 00:45:37.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39111242056601600 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 00:45:37.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39111242056601601 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 00:45:37.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39111242056601600 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:45:37.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39111242056601601 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:45:37.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39111242056601600 [0;39m 请求参数: [2]
2023-05-16 00:45:37.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39111242056601601 [0;39m 请求参数: [2]
2023-05-16 00:45:37.015 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39111242056601601 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 00:45:37.020 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39111242056601601 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:45:37.020 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39111242056601600 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 00:45:37.020 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39111242056601600 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:45:37.020 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39111242056601601 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 00:45:37.020 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39111242056601601 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 00:45:37.020 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39111242056601600 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 00:45:37.023 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39111242056601600 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 73, 0
2023-05-16 00:45:37.023 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39111242056601600 [0;39m <==      Total: 1
2023-05-16 00:45:37.023 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39111242056601600 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":73,"voteCount":0}],"success":true}
2023-05-16 00:45:37.023 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39111242056601600 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-16 00:45:37.023 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39111242056601601 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 00:45:37.023 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39111242056601601 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 00:45:37.023 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39111242056601601 [0;39m <==      Total: 3
2023-05-16 00:45:37.023 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:45:37.023 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:45:37.023 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39111242056601601 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:45:37.023 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39111242056601601 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:45:37.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m <==      Total: 1
2023-05-16 00:45:37.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:45:37.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:45:37.026 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39111242056601601 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:45:37.026 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39111242056601601 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 00:45:37.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m <==      Total: 1
2023-05-16 00:45:37.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:45:37.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:45:37.026 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39111242056601601 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:45:37.026 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39111242056601601 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:45:37.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m <==      Total: 1
2023-05-16 00:45:37.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:45:37.026 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:45:37.026 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39111242056601601 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:45:37.026 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39111242056601601 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:45:37.031 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m <==      Total: 1
2023-05-16 00:45:37.031 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:45:37.031 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:45:37.031 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39111242056601601 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:45:37.031 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39111242056601601 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:45:37.031 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39111242056601601 [0;39m <==      Total: 1
2023-05-16 00:45:37.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39111242056601601 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 00:45:37.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39111242056601601 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-16 00:45:37.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39111242195013632 [0;39m ------------- 开始 -------------
2023-05-16 00:45:37.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39111242195013632 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 00:45:37.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39111242195013632 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 00:45:37.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39111242195013632 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:45:37.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39111242195013632 [0;39m 请求参数: [38625501966897152]
2023-05-16 00:45:37.048 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39111242195013632 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 00:45:37.048 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39111242195013632 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 00:45:37.048 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39111242195013632 [0;39m <==    Columns: id, content
2023-05-16 00:45:37.048 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39111242195013632 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 00:45:37.048 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39111242195013632 [0;39m <==      Total: 1
2023-05-16 00:45:37.048 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39111242195013632 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 00:45:37.048 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39111242195013632 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 00:45:37.053 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39111242195013632 [0;39m <==    Updates: 1
2023-05-16 00:45:37.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39111242195013632 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 00:45:37.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39111242195013632 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 00:45:48.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:45:50.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:45:52.714 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:45:59.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:46:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39111338542370816 [0;39m 生成今日电子书快照开始
2023-05-16 00:46:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39111338542370816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:46:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39111338542370816 [0;39m ==> Parameters: 
2023-05-16 00:46:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39111338542370816 [0;39m <==    Updates: 0
2023-05-16 00:46:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39111338542370816 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 00:46:01.093 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:46:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39111359467753472 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:46:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111359467753472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:46:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111359467753472 [0;39m ==> Parameters: 
2023-05-16 00:46:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111359467753472 [0;39m <==    Updates: 2
2023-05-16 00:46:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39111359467753472 [0;39m 更新电子书下的文档数据结束，耗时：10毫秒
2023-05-16 00:46:18.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:46:18.958 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:46:20.660 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:46:22.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:46:26.777 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:46:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39111485322039296 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:46:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111485322039296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:46:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111485322039296 [0;39m ==> Parameters: 
2023-05-16 00:46:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111485322039296 [0;39m <==    Updates: 2
2023-05-16 00:46:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39111485322039296 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:46:48.654 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:46:48.941 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:46:52.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:46:54.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:47:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39111590129307648 [0;39m 生成今日电子书快照开始
2023-05-16 00:47:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39111590129307648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:47:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39111590129307648 [0;39m ==> Parameters: 
2023-05-16 00:47:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39111590129307648 [0;39m <==    Updates: 0
2023-05-16 00:47:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39111590129307648 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-16 00:47:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39111611159547904 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:47:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111611159547904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:47:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111611159547904 [0;39m ==> Parameters: 
2023-05-16 00:47:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111611159547904 [0;39m <==    Updates: 2
2023-05-16 00:47:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39111611159547904 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:47:16.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:47:18.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:47:18.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:47:20.843 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:47:22.899 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:47:24.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:47:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39111736934141952 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:47:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111736934141952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:47:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111736934141952 [0;39m ==> Parameters: 
2023-05-16 00:47:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111736934141952 [0;39m <==    Updates: 2
2023-05-16 00:47:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39111736934141952 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:47:40.887 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:47:42.928 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:47:48.982 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:47:50.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:47:52.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:48:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39111841816907776 [0;39m 生成今日电子书快照开始
2023-05-16 00:48:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39111841816907776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:48:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39111841816907776 [0;39m ==> Parameters: 
2023-05-16 00:48:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39111841816907776 [0;39m <==    Updates: 0
2023-05-16 00:48:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39111841816907776 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-16 00:48:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39111862767456256 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:48:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111862767456256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:48:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111862767456256 [0;39m ==> Parameters: 
2023-05-16 00:48:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111862767456256 [0;39m <==    Updates: 2
2023-05-16 00:48:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39111862767456256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:48:07.007 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:48:18.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:48:18.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:48:20.705 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:48:22.740 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:48:31.056 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:48:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39111988588187648 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:48:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111988588187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:48:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111988588187648 [0;39m ==> Parameters: 
2023-05-16 00:48:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39111988588187648 [0;39m <==    Updates: 2
2023-05-16 00:48:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39111988588187648 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 00:48:48.652 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:48:48.992 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:48:50.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:48:52.716 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:48:54.750 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:48:56.774 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:49:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39112093483536384 [0;39m 生成今日电子书快照开始
2023-05-16 00:49:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39112093483536384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:49:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39112093483536384 [0;39m ==> Parameters: 
2023-05-16 00:49:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39112093483536384 [0;39m <==    Updates: 0
2023-05-16 00:49:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39112093483536384 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 00:49:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39112114450862080 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:49:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112114450862080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:49:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112114450862080 [0;39m ==> Parameters: 
2023-05-16 00:49:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112114450862080 [0;39m <==    Updates: 2
2023-05-16 00:49:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39112114450862080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:49:18.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:49:18.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:49:22.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:49:24.768 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:49:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39112240254816256 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:49:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112240254816256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:49:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112240254816256 [0;39m ==> Parameters: 
2023-05-16 00:49:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112240254816256 [0;39m <==    Updates: 2
2023-05-16 00:49:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39112240254816256 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 00:49:46.827 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:49:48.854 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:49:49.014 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:49:50.902 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:49:52.949 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:49:54.994 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:50:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39112345133387776 [0;39m 生成今日电子书快照开始
2023-05-16 00:50:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39112345133387776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:50:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39112345133387776 [0;39m ==> Parameters: 
2023-05-16 00:50:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39112345133387776 [0;39m <==    Updates: 0
2023-05-16 00:50:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39112345133387776 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-16 00:50:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39112366104907776 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:50:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112366104907776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:50:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112366104907776 [0;39m ==> Parameters: 
2023-05-16 00:50:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112366104907776 [0;39m <==    Updates: 2
2023-05-16 00:50:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39112366104907776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:50:10.899 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:50:12.928 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:50:18.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:50:18.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:50:22.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:50:34.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:50:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39112491925639168 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:50:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112491925639168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:50:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112491925639168 [0;39m ==> Parameters: 
2023-05-16 00:50:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112491925639168 [0;39m <==    Updates: 2
2023-05-16 00:50:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39112491925639168 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 00:50:37.007 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:50:48.651 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:50:48.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:50:52.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:51:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39112596812599296 [0;39m 生成今日电子书快照开始
2023-05-16 00:51:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39112596812599296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:51:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39112596812599296 [0;39m ==> Parameters: 
2023-05-16 00:51:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39112596812599296 [0;39m <==    Updates: 0
2023-05-16 00:51:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39112596812599296 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 00:51:01.074 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:51:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39112617788313600 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:51:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112617788313600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:51:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112617788313600 [0;39m ==> Parameters: 
2023-05-16 00:51:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112617788313600 [0;39m <==    Updates: 2
2023-05-16 00:51:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39112617788313600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 00:51:18.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:51:22.743 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:51:24.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:51:26.854 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:51:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39112743596462080 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:51:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112743596462080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:51:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112743596462080 [0;39m ==> Parameters: 
2023-05-16 00:51:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112743596462080 [0;39m <==    Updates: 2
2023-05-16 00:51:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39112743596462080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:51:48.667 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:51:48.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:51:50.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:51:52.770 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:51:54.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:52:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39112848458256384 [0;39m 生成今日电子书快照开始
2023-05-16 00:52:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39112848458256384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:52:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39112848458256384 [0;39m ==> Parameters: 
2023-05-16 00:52:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39112848458256384 [0;39m <==    Updates: 0
2023-05-16 00:52:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39112848458256384 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 00:52:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39112869392027648 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:52:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112869392027648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:52:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112869392027648 [0;39m ==> Parameters: 
2023-05-16 00:52:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112869392027648 [0;39m <==    Updates: 2
2023-05-16 00:52:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39112869392027648 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:52:18.896 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:52:18.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:52:20.933 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:52:25.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:52:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39112995258896384 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:52:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112995258896384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:52:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112995258896384 [0;39m ==> Parameters: 
2023-05-16 00:52:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39112995258896384 [0;39m <==    Updates: 2
2023-05-16 00:52:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39112995258896384 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 00:52:42.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:52:48.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:52:49.007 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:52:51.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113062359371776 [0;39m ------------- 开始 -------------
2023-05-16 00:52:51.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113062359371776 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 00:52:51.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113062359371776 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 00:52:51.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113062359371776 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:52:51.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113062359371776 [0;39m 请求参数: [2]
2023-05-16 00:52:51.011 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39113062359371776 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 00:52:51.011 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39113062359371776 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:52:51.012 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39113062359371776 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 00:52:51.012 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39113062359371776 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 74, 0
2023-05-16 00:52:51.012 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39113062359371776 [0;39m <==      Total: 1
2023-05-16 00:52:51.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113062359371776 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":74,"voteCount":0}],"success":true}
2023-05-16 00:52:51.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113062359371776 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 00:52:51.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113062975934464 [0;39m ------------- 开始 -------------
2023-05-16 00:52:51.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113062975934464 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 00:52:51.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113062975934464 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 00:52:51.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113062975934464 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:52:51.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113062975934464 [0;39m 请求参数: [2]
2023-05-16 00:52:51.157 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113062975934464 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 00:52:51.157 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113062975934464 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:52:51.158 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113062975934464 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 00:52:51.158 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113062975934464 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 00:52:51.159 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113062975934464 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 00:52:51.159 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113062975934464 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 00:52:51.160 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113062975934464 [0;39m <==      Total: 3
2023-05-16 00:52:51.160 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:52:51.161 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:52:51.161 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113062975934464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:52:51.161 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113062975934464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:52:51.162 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m <==      Total: 1
2023-05-16 00:52:51.162 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:52:51.162 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:52:51.163 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113062975934464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:52:51.163 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113062975934464 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 00:52:51.163 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m <==      Total: 1
2023-05-16 00:52:51.164 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:52:51.164 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:52:51.164 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113062975934464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:52:51.165 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113062975934464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:52:51.165 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m <==      Total: 1
2023-05-16 00:52:51.165 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:52:51.166 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:52:51.166 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113062975934464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:52:51.166 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113062975934464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:52:51.167 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m <==      Total: 1
2023-05-16 00:52:51.167 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:52:51.168 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:52:51.169 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113062975934464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:52:51.169 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113062975934464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:52:51.169 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113062975934464 [0;39m <==      Total: 1
2023-05-16 00:52:51.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113062975934464 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 00:52:51.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113062975934464 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 00:52:51.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113063055626240 [0;39m ------------- 开始 -------------
2023-05-16 00:52:51.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113063055626240 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 00:52:51.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113063055626240 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 00:52:51.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113063055626240 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:52:51.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113063055626240 [0;39m 请求参数: [38625501966897152]
2023-05-16 00:52:51.176 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39113063055626240 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 00:52:51.176 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39113063055626240 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 00:52:51.177 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39113063055626240 [0;39m <==    Columns: id, content
2023-05-16 00:52:51.177 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39113063055626240 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 00:52:51.177 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39113063055626240 [0;39m <==      Total: 1
2023-05-16 00:52:51.179 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39113063055626240 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 00:52:51.179 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39113063055626240 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 00:52:51.186 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39113063055626240 [0;39m <==    Updates: 1
2023-05-16 00:52:51.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113063055626240 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 00:52:51.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113063055626240 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 00:52:52.759 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39113100070359040 [0;39m 生成今日电子书快照开始
2023-05-16 00:53:00.000 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39113100070359040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:53:00.000 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39113100070359040 [0;39m ==> Parameters: 
2023-05-16 00:53:00.000 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39113100070359040 [0;39m <==    Updates: 0
2023-05-16 00:53:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39113100070359040 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 00:53:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39113121092210688 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:53:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113121092210688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:53:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113121092210688 [0;39m ==> Parameters: 
2023-05-16 00:53:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113121092210688 [0;39m <==    Updates: 2
2023-05-16 00:53:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39113121092210688 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-16 00:53:05.028 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:07.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:18.642 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:18.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:20.678 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:22.704 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:29.086 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:31.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39113246908747776 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:53:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113246908747776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:53:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113246908747776 [0;39m ==> Parameters: 
2023-05-16 00:53:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113246908747776 [0;39m <==    Updates: 2
2023-05-16 00:53:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39113246908747776 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 00:53:40.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113269276971008 [0;39m ------------- 开始 -------------
2023-05-16 00:53:40.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113269276971008 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 00:53:40.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113269276971008 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 00:53:40.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113269276971008 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:53:40.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113269276971008 [0;39m 请求参数: [2]
2023-05-16 00:53:40.345 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39113269276971008 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 00:53:40.346 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39113269276971008 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:53:40.346 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39113269276971008 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 00:53:40.347 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39113269276971008 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 75, 0
2023-05-16 00:53:40.347 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39113269276971008 [0;39m <==      Total: 1
2023-05-16 00:53:40.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113269276971008 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":75,"voteCount":0}],"success":true}
2023-05-16 00:53:40.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113269276971008 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-16 00:53:40.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113269478297600 [0;39m ------------- 开始 -------------
2023-05-16 00:53:40.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113269478297600 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 00:53:40.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113269478297600 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 00:53:40.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113269478297600 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:53:40.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113269478297600 [0;39m 请求参数: [2]
2023-05-16 00:53:40.392 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113269478297600 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 00:53:40.392 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113269478297600 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:53:40.392 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113269478297600 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 00:53:40.395 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113269478297600 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 00:53:40.395 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113269478297600 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 00:53:40.395 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113269478297600 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 00:53:40.395 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113269478297600 [0;39m <==      Total: 3
2023-05-16 00:53:40.395 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:53:40.395 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:53:40.398 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113269478297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:53:40.398 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113269478297600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:53:40.398 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m <==      Total: 1
2023-05-16 00:53:40.399 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:53:40.399 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:53:40.399 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113269478297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:53:40.399 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113269478297600 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 00:53:40.400 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m <==      Total: 1
2023-05-16 00:53:40.400 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:53:40.400 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:53:40.400 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113269478297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:53:40.401 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113269478297600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:53:40.401 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m <==      Total: 1
2023-05-16 00:53:40.401 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:53:40.402 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:53:40.402 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113269478297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:53:40.402 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113269478297600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:53:40.402 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m <==      Total: 1
2023-05-16 00:53:40.403 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:53:40.403 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:53:40.403 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113269478297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:53:40.403 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113269478297600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:53:40.403 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113269478297600 [0;39m <==      Total: 1
2023-05-16 00:53:40.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113269478297600 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 00:53:40.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113269478297600 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 00:53:40.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113269545406464 [0;39m ------------- 开始 -------------
2023-05-16 00:53:40.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113269545406464 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 00:53:40.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113269545406464 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 00:53:40.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113269545406464 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:53:40.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113269545406464 [0;39m 请求参数: [38625501966897152]
2023-05-16 00:53:40.407 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39113269545406464 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 00:53:40.407 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39113269545406464 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 00:53:40.408 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39113269545406464 [0;39m <==    Columns: id, content
2023-05-16 00:53:40.408 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39113269545406464 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 00:53:40.408 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39113269545406464 [0;39m <==      Total: 1
2023-05-16 00:53:40.409 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39113269545406464 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 00:53:40.409 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39113269545406464 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 00:53:40.416 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39113269545406464 [0;39m <==    Updates: 1
2023-05-16 00:53:40.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113269545406464 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 00:53:40.417 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113269545406464 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 00:53:48.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:48.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:50.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:52.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:54.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113329154854912 [0;39m ------------- 开始 -------------
2023-05-16 00:53:54.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113329154854912 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 00:53:54.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113329154854912 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 00:53:54.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113329154854912 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:53:54.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113329154854912 [0;39m 请求参数: [2]
2023-05-16 00:53:54.621 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39113329154854912 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 00:53:54.621 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39113329154854912 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:53:54.622 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39113329154854912 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 00:53:54.622 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39113329154854912 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 76, 0
2023-05-16 00:53:54.622 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39113329154854912 [0;39m <==      Total: 1
2023-05-16 00:53:54.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113329154854912 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":76,"voteCount":0}],"success":true}
2023-05-16 00:53:54.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113329154854912 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 00:53:54.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113329188409344 [0;39m ------------- 开始 -------------
2023-05-16 00:53:54.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113329188409344 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 00:53:54.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113329188409344 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 00:53:54.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113329188409344 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:53:54.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113329188409344 [0;39m 请求参数: [2]
2023-05-16 00:53:54.627 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113329188409344 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 00:53:54.628 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113329188409344 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:53:54.629 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113329188409344 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 00:53:54.629 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113329188409344 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 00:53:54.630 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113329188409344 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 00:53:54.630 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113329188409344 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 00:53:54.630 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113329188409344 [0;39m <==      Total: 3
2023-05-16 00:53:54.631 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:53:54.631 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:53:54.632 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113329188409344 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:53:54.632 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113329188409344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:53:54.632 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m <==      Total: 1
2023-05-16 00:53:54.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:53:54.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:53:54.633 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113329188409344 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:53:54.634 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113329188409344 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 00:53:54.634 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m <==      Total: 1
2023-05-16 00:53:54.635 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:53:54.635 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:53:54.636 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113329188409344 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:53:54.636 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113329188409344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:53:54.636 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m <==      Total: 1
2023-05-16 00:53:54.636 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:53:54.637 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:53:54.637 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113329188409344 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:53:54.637 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113329188409344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:53:54.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m <==      Total: 1
2023-05-16 00:53:54.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:53:54.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:53:54.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113329188409344 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:53:54.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113329188409344 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:53:54.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113329188409344 [0;39m <==      Total: 1
2023-05-16 00:53:54.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113329188409344 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 00:53:54.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113329188409344 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 00:53:54.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113329259712512 [0;39m ------------- 开始 -------------
2023-05-16 00:53:54.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113329259712512 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 00:53:54.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113329259712512 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 00:53:54.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113329259712512 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:53:54.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113329259712512 [0;39m 请求参数: [38625501966897152]
2023-05-16 00:53:54.644 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39113329259712512 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 00:53:54.645 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39113329259712512 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 00:53:54.646 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39113329259712512 [0;39m <==    Columns: id, content
2023-05-16 00:53:54.646 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39113329259712512 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 00:53:54.646 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39113329259712512 [0;39m <==      Total: 1
2023-05-16 00:53:54.647 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39113329259712512 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 00:53:54.647 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39113329259712512 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 00:53:54.654 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39113329259712512 [0;39m <==    Updates: 1
2023-05-16 00:53:54.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113329259712512 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 00:53:54.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113329259712512 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-16 00:53:54.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:53:56.740 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:54:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39113351736987648 [0;39m 生成今日电子书快照开始
2023-05-16 00:54:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39113351736987648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:54:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39113351736987648 [0;39m ==> Parameters: 
2023-05-16 00:54:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39113351736987648 [0;39m <==    Updates: 0
2023-05-16 00:54:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39113351736987648 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-16 00:54:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39113372725284864 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:54:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113372725284864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:54:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113372725284864 [0;39m ==> Parameters: 
2023-05-16 00:54:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113372725284864 [0;39m <==    Updates: 2
2023-05-16 00:54:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39113372725284864 [0;39m 更新电子书下的文档数据结束，耗时：10毫秒
2023-05-16 00:54:18.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:54:20.668 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:54:22.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:54:24.747 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:54:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39113498579570688 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:54:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113498579570688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:54:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113498579570688 [0;39m ==> Parameters: 
2023-05-16 00:54:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113498579570688 [0;39m <==    Updates: 2
2023-05-16 00:54:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39113498579570688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 00:54:46.795 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:54:48.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:54:48.965 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:54:50.841 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:54:52.891 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:55:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39113603449753600 [0;39m 生成今日电子书快照开始
2023-05-16 00:55:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39113603449753600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:55:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39113603449753600 [0;39m ==> Parameters: 
2023-05-16 00:55:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39113603449753600 [0;39m <==    Updates: 0
2023-05-16 00:55:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39113603449753600 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-16 00:55:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39113624425467904 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:55:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113624425467904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:55:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113624425467904 [0;39m ==> Parameters: 
2023-05-16 00:55:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113624425467904 [0;39m <==    Updates: 2
2023-05-16 00:55:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39113624425467904 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 00:55:06.795 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39113062975934464 [0;39m 有新连接：token：cElXxgDRM0，session id：0，当前连接数：1
2023-05-16 00:55:06.826 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113632017158144 [0;39m ------------- 开始 -------------
2023-05-16 00:55:06.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113632017158144 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 00:55:06.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113632017158144 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 00:55:06.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113632017158144 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:55:06.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113632017158144 [0;39m 请求参数: [2]
2023-05-16 00:55:06.829 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39113632017158144 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 00:55:06.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113632029741056 [0;39m ------------- 开始 -------------
2023-05-16 00:55:06.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113632029741056 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 00:55:06.829 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39113632017158144 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:55:06.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113632029741056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 00:55:06.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113632029741056 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:55:06.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113632029741056 [0;39m 请求参数: [2]
2023-05-16 00:55:06.830 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39113632017158144 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 00:55:06.830 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39113632017158144 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 77, 0
2023-05-16 00:55:06.830 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113632029741056 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 00:55:06.830 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113632029741056 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:55:06.830 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39113632017158144 [0;39m <==      Total: 1
2023-05-16 00:55:06.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113632017158144 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":77,"voteCount":0}],"success":true}
2023-05-16 00:55:06.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113632017158144 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 00:55:06.831 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113632029741056 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 00:55:06.831 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113632029741056 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 00:55:06.832 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113632029741056 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 00:55:06.832 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113632029741056 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 00:55:06.833 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113632029741056 [0;39m <==      Total: 3
2023-05-16 00:55:06.833 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:55:06.833 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:55:06.834 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113632029741056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:55:06.834 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113632029741056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:55:06.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m <==      Total: 1
2023-05-16 00:55:06.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:55:06.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:55:06.836 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113632029741056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:55:06.836 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113632029741056 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 00:55:06.836 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m <==      Total: 1
2023-05-16 00:55:06.836 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:55:06.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:55:06.837 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113632029741056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:55:06.837 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113632029741056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:55:06.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m <==      Total: 1
2023-05-16 00:55:06.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:55:06.838 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:55:06.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113632029741056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:55:06.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113632029741056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:55:06.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m <==      Total: 1
2023-05-16 00:55:06.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:55:06.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:55:06.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113632029741056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:55:06.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113632029741056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:55:06.840 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113632029741056 [0;39m <==      Total: 1
2023-05-16 00:55:06.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113632029741056 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 00:55:06.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113632029741056 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 00:55:06.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113632189124608 [0;39m ------------- 开始 -------------
2023-05-16 00:55:06.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113632189124608 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 00:55:06.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113632189124608 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 00:55:06.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113632189124608 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:55:06.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113632189124608 [0;39m 请求参数: [38625501966897152]
2023-05-16 00:55:06.869 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39113632189124608 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 00:55:06.869 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39113632189124608 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 00:55:06.871 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39113632189124608 [0;39m <==    Columns: id, content
2023-05-16 00:55:06.871 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39113632189124608 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 00:55:06.871 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39113632189124608 [0;39m <==      Total: 1
2023-05-16 00:55:06.871 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39113632189124608 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 00:55:06.871 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39113632189124608 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 00:55:06.876 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39113632189124608 [0;39m <==    Updates: 1
2023-05-16 00:55:06.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113632189124608 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 00:55:06.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113632189124608 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-16 00:55:10.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39113648672739328 [0;39m ------------- 开始 -------------
2023-05-16 00:55:10.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39113648672739328 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 00:55:10.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39113648672739328 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 00:55:10.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39113648672739328 [0;39m 远程地址: 127.0.0.1
2023-05-16 00:55:10.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39113648672739328 [0;39m 请求参数: [2]
2023-05-16 00:55:10.798 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113648672739328 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 00:55:10.799 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113648672739328 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:55:10.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113648672739328 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 00:55:10.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113648672739328 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 00:55:10.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113648672739328 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 00:55:10.801 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39113648672739328 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 00:55:10.801 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39113648672739328 [0;39m <==      Total: 3
2023-05-16 00:55:10.802 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:55:10.802 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:55:10.802 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113648672739328 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:55:10.802 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113648672739328 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:55:10.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m <==      Total: 1
2023-05-16 00:55:10.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:55:10.804 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m ==> Parameters: 2(Long)
2023-05-16 00:55:10.805 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113648672739328 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:55:10.805 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113648672739328 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 00:55:10.805 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m <==      Total: 1
2023-05-16 00:55:10.805 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:55:10.806 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:55:10.806 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113648672739328 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:55:10.806 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113648672739328 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:55:10.806 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m <==      Total: 1
2023-05-16 00:55:10.807 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:55:10.807 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:55:10.807 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113648672739328 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:55:10.808 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113648672739328 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:55:10.808 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m <==      Total: 1
2023-05-16 00:55:10.808 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 00:55:10.808 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m ==> Parameters: 1(Long)
2023-05-16 00:55:10.809 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113648672739328 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 00:55:10.809 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39113648672739328 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 00:55:10.809 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39113648672739328 [0;39m <==      Total: 1
2023-05-16 00:55:10.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39113648672739328 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 00:55:10.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39113648672739328 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 00:55:11.847 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:55:13.867 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:55:18.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:55:18.969 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:55:20.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:55:22.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:55:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39113750225227776 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:55:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113750225227776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:55:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113750225227776 [0;39m ==> Parameters: 
2023-05-16 00:55:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113750225227776 [0;39m <==    Updates: 2
2023-05-16 00:55:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39113750225227776 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-16 00:55:35.895 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:55:37.926 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:55:48.654 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:55:48.967 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:55:52.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:55:59.958 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:56:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39113855057661952 [0;39m 生成今日电子书快照开始
2023-05-16 00:56:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39113855057661952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:56:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39113855057661952 [0;39m ==> Parameters: 
2023-05-16 00:56:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39113855057661952 [0;39m <==    Updates: 0
2023-05-16 00:56:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39113855057661952 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-16 00:56:01.999 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:56:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39113876033376256 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:56:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113876033376256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:56:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113876033376256 [0;39m ==> Parameters: 
2023-05-16 00:56:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39113876033376256 [0;39m <==    Updates: 2
2023-05-16 00:56:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39113876033376256 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 00:56:18.650 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:56:18.969 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:56:20.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:56:22.715 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:56:24.749 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:56:26.775 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:56:35.032 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39114001979936768 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:56:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114001979936768 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:56:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114001979936768 [0;39m ==> Parameters: 
2023-05-16 00:56:35.040 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114001979936768 [0;39m <==    Updates: 2
2023-05-16 00:56:35.040 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39114001979936768 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-16 00:56:48.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:56:48.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:56:52.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:56:54.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:57:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39114106711707648 [0;39m 生成今日电子书快照开始
2023-05-16 00:57:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39114106711707648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:57:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39114106711707648 [0;39m ==> Parameters: 
2023-05-16 00:57:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39114106711707648 [0;39m <==    Updates: 0
2023-05-16 00:57:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39114106711707648 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 00:57:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39114127725170688 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:57:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114127725170688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:57:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114127725170688 [0;39m ==> Parameters: 
2023-05-16 00:57:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114127725170688 [0;39m <==    Updates: 2
2023-05-16 00:57:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39114127725170688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:57:18.793 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:57:18.957 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:57:20.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:57:22.858 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:57:24.872 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:57:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39114253545902080 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:57:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114253545902080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:57:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114253545902080 [0;39m ==> Parameters: 
2023-05-16 00:57:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114253545902080 [0;39m <==    Updates: 2
2023-05-16 00:57:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39114253545902080 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 00:57:42.882 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:57:48.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:57:48.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:57:50.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:57:52.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:58:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39114358378336256 [0;39m 生成今日电子书快照开始
2023-05-16 00:58:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39114358378336256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:58:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39114358378336256 [0;39m ==> Parameters: 
2023-05-16 00:58:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39114358378336256 [0;39m <==    Updates: 0
2023-05-16 00:58:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39114358378336256 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 00:58:04.907 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:58:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39114379391799296 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:58:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114379391799296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:58:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114379391799296 [0;39m ==> Parameters: 
2023-05-16 00:58:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114379391799296 [0;39m <==    Updates: 2
2023-05-16 00:58:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39114379391799296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 00:58:06.945 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:58:18.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:58:18.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:58:20.640 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:58:22.654 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:58:28.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:58:30.997 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:58:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39114505204142080 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:58:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114505204142080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:58:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114505204142080 [0;39m ==> Parameters: 
2023-05-16 00:58:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114505204142080 [0;39m <==    Updates: 2
2023-05-16 00:58:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39114505204142080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 00:58:48.649 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:58:49.026 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:58:52.729 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:58:56.794 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:59:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39114610061742080 [0;39m 生成今日电子书快照开始
2023-05-16 00:59:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39114610061742080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 00:59:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39114610061742080 [0;39m ==> Parameters: 
2023-05-16 00:59:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39114610061742080 [0;39m <==    Updates: 0
2023-05-16 00:59:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39114610061742080 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 00:59:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39114631029067776 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:59:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114631029067776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:59:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114631029067776 [0;39m ==> Parameters: 
2023-05-16 00:59:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114631029067776 [0;39m <==    Updates: 2
2023-05-16 00:59:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39114631029067776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 00:59:18.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:59:18.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:59:22.805 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:59:24.854 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:59:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39114756891742208 [0;39m 更新电子书下的文档数据开始
2023-05-16 00:59:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114756891742208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 00:59:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114756891742208 [0;39m ==> Parameters: 
2023-05-16 00:59:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114756891742208 [0;39m <==    Updates: 2
2023-05-16 00:59:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39114756891742208 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 00:59:46.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:59:48.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:59:50.949 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 00:59:52.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:00:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39114861745147904 [0;39m 生成今日电子书快照开始
2023-05-16 01:00:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39114861745147904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:00:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39114861745147904 [0;39m ==> Parameters: 
2023-05-16 01:00:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39114861745147904 [0;39m <==    Updates: 0
2023-05-16 01:00:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39114861745147904 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 01:00:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39114882687307776 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:00:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114882687307776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:00:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114882687307776 [0;39m ==> Parameters: 
2023-05-16 01:00:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39114882687307776 [0;39m <==    Updates: 2
2023-05-16 01:00:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39114882687307776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:00:11.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:00:14.025 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:00:18.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:00:18.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:00:20.667 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:00:22.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:00:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39115008516427776 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:00:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115008516427776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:00:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115008516427776 [0;39m ==> Parameters: 
2023-05-16 01:00:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115008516427776 [0;39m <==    Updates: 2
2023-05-16 01:00:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39115008516427776 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 01:00:36.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:00:38.096 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:00:48.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:00:48.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:00:50.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:00:52.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:01:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39115113361444864 [0;39m 生成今日电子书快照开始
2023-05-16 01:01:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39115113361444864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:01:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39115113361444864 [0;39m ==> Parameters: 
2023-05-16 01:01:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39115113361444864 [0;39m <==    Updates: 0
2023-05-16 01:01:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39115113361444864 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-16 01:01:02.168 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:01:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39115134362324992 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:01:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115134362324992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:01:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115134362324992 [0;39m ==> Parameters: 
2023-05-16 01:01:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115134362324992 [0;39m <==    Updates: 2
2023-05-16 01:01:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39115134362324992 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-16 01:01:18.653 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:01:18.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:01:20.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:01:22.702 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:01:26.785 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:01:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39115260166279168 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:01:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115260166279168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:01:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115260166279168 [0;39m ==> Parameters: 
2023-05-16 01:01:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115260166279168 [0;39m <==    Updates: 2
2023-05-16 01:01:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39115260166279168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:01:48.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:01:48.987 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:01:50.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:01:52.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:01:54.736 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:02:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39115365023879168 [0;39m 生成今日电子书快照开始
2023-05-16 01:02:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39115365023879168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39115365023879168 [0;39m ==> Parameters: 
2023-05-16 01:02:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39115365023879168 [0;39m <==    Updates: 0
2023-05-16 01:02:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39115365023879168 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 01:02:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39115385978621952 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:02:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115385978621952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:02:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115385978621952 [0;39m ==> Parameters: 
2023-05-16 01:02:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115385978621952 [0;39m <==    Updates: 2
2023-05-16 01:02:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39115385978621952 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:02:16.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:02:18.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:02:18.971 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:02:20.839 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:02:22.863 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:02:32.838 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39115502727073792 [0;39m ------------- 开始 -------------
2023-05-16 01:02:32.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39115502727073792 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 01:02:32.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39115502727073792 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 01:02:32.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39115502727073792 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:02:32.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39115502727073792 [0;39m 请求参数: [2]
2023-05-16 01:02:32.842 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39115502727073792 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 01:02:32.842 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39115502727073792 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:02:32.842 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39115502727073792 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 01:02:32.842 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39115502727073792 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 78, 0
2023-05-16 01:02:32.842 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39115502727073792 [0;39m <==      Total: 1
2023-05-16 01:02:32.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39115502727073792 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":78,"voteCount":0}],"success":true}
2023-05-16 01:02:32.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39115502727073792 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-16 01:02:32.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39115502743851008 [0;39m ------------- 开始 -------------
2023-05-16 01:02:32.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39115502743851008 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 01:02:32.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39115502743851008 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 01:02:32.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39115502743851008 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:02:32.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39115502743851008 [0;39m 请求参数: [2]
2023-05-16 01:02:32.853 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39115502743851008 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 01:02:32.853 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39115502743851008 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:02:32.853 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39115502743851008 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 01:02:32.854 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39115502743851008 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 01:02:32.854 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39115502743851008 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 01:02:32.854 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39115502743851008 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 01:02:32.854 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39115502743851008 [0;39m <==      Total: 3
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:02:32.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115502743851008 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:32.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115502743851008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m <==      Total: 1
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:02:32.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115502743851008 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:32.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115502743851008 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m <==      Total: 1
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:02:32.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115502743851008 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:32.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115502743851008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m <==      Total: 1
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:02:32.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115502743851008 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:32.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115502743851008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m <==      Total: 1
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:02:32.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115502743851008 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:32.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115502743851008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:02:32.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115502743851008 [0;39m <==      Total: 1
2023-05-16 01:02:32.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39115502743851008 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 01:02:32.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39115502743851008 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 01:02:32.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39115503033257984 [0;39m ------------- 开始 -------------
2023-05-16 01:02:32.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39115503033257984 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 01:02:32.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39115503033257984 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 01:02:32.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39115503033257984 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:02:32.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39115503033257984 [0;39m 请求参数: [38625501966897152]
2023-05-16 01:02:32.917 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39115503033257984 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 01:02:32.917 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39115503033257984 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 01:02:32.917 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39115503033257984 [0;39m <==    Columns: id, content
2023-05-16 01:02:32.917 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39115503033257984 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 01:02:32.917 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39115503033257984 [0;39m <==      Total: 1
2023-05-16 01:02:32.917 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39115503033257984 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 01:02:32.917 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39115503033257984 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 01:02:32.922 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39115503033257984 [0;39m <==    Updates: 1
2023-05-16 01:02:32.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39115503033257984 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 01:02:32.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39115503033257984 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-16 01:02:32.957 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39113062975934464 [0;39m 连接关闭，token：cElXxgDRM0，session id：0！当前连接数：0
2023-05-16 01:02:33.583 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39113632017158144 [0;39m 有新连接：token：rSEWktwgmL，session id：1，当前连接数：1
2023-05-16 01:02:33.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39115506103488513 [0;39m ------------- 开始 -------------
2023-05-16 01:02:33.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39115506103488512 [0;39m ------------- 开始 -------------
2023-05-16 01:02:33.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39115506103488512 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 01:02:33.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39115506103488513 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 01:02:33.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39115506103488512 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 01:02:33.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39115506103488512 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:02:33.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39115506103488513 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 01:02:33.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39115506103488513 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:02:33.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39115506103488512 [0;39m 请求参数: [2]
2023-05-16 01:02:33.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39115506103488513 [0;39m 请求参数: [2]
2023-05-16 01:02:33.644 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39115506103488512 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 01:02:33.645 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39115506103488512 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:02:33.645 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39115506103488513 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 01:02:33.645 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39115506103488513 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:02:33.646 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39115506103488512 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 01:02:33.646 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39115506103488512 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 01:02:33.646 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39115506103488513 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 01:02:33.646 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39115506103488513 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 79, 0
2023-05-16 01:02:33.646 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39115506103488512 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 01:02:33.646 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39115506103488513 [0;39m <==      Total: 1
2023-05-16 01:02:33.647 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39115506103488512 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 01:02:33.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39115506103488513 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":79,"voteCount":0}],"success":true}
2023-05-16 01:02:33.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39115506103488513 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-16 01:02:33.647 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39115506103488512 [0;39m <==      Total: 3
2023-05-16 01:02:33.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:33.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:02:33.648 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115506103488512 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:33.649 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115506103488512 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:02:33.649 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m <==      Total: 1
2023-05-16 01:02:33.649 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:33.650 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:02:33.650 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115506103488512 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:33.650 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115506103488512 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 01:02:33.651 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m <==      Total: 1
2023-05-16 01:02:33.651 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:33.651 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:02:33.651 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115506103488512 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:33.651 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115506103488512 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:02:33.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m <==      Total: 1
2023-05-16 01:02:33.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:33.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:02:33.654 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115506103488512 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:33.654 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115506103488512 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:02:33.654 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m <==      Total: 1
2023-05-16 01:02:33.654 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:33.654 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:02:33.655 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115506103488512 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:33.655 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115506103488512 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:02:33.655 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115506103488512 [0;39m <==      Total: 1
2023-05-16 01:02:33.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39115506103488512 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 01:02:33.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39115506103488512 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 01:02:33.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39115506216734720 [0;39m ------------- 开始 -------------
2023-05-16 01:02:33.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39115506216734720 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 01:02:33.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39115506216734720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 01:02:33.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39115506216734720 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:02:33.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39115506216734720 [0;39m 请求参数: [38625501966897152]
2023-05-16 01:02:33.671 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39115506216734720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 01:02:33.672 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39115506216734720 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 01:02:33.673 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39115506216734720 [0;39m <==    Columns: id, content
2023-05-16 01:02:33.673 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39115506216734720 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 01:02:33.673 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39115506216734720 [0;39m <==      Total: 1
2023-05-16 01:02:33.674 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39115506216734720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 01:02:33.674 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39115506216734720 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 01:02:33.681 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39115506216734720 [0;39m <==    Updates: 1
2023-05-16 01:02:33.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39115506216734720 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 01:02:33.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39115506216734720 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 01:02:35.042 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39115511971319808 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:02:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115511971319808 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:02:35.045 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115511971319808 [0;39m ==> Parameters: 
2023-05-16 01:02:35.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115511971319808 [0;39m <==    Updates: 2
2023-05-16 01:02:35.049 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39115511971319808 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-16 01:02:38.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39115526609440768 [0;39m ------------- 开始 -------------
2023-05-16 01:02:38.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39115526609440768 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 01:02:38.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39115526609440768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 01:02:38.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39115526609440768 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:02:38.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39115526609440768 [0;39m 请求参数: [2]
2023-05-16 01:02:38.534 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39115526609440768 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 01:02:38.534 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39115526609440768 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:02:38.535 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39115526609440768 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 01:02:38.535 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39115526609440768 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 01:02:38.536 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39115526609440768 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 01:02:38.536 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39115526609440768 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 01:02:38.536 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39115526609440768 [0;39m <==      Total: 3
2023-05-16 01:02:38.537 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:38.537 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:02:38.538 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115526609440768 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:38.538 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115526609440768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:02:38.538 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m <==      Total: 1
2023-05-16 01:02:38.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:38.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:02:38.541 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115526609440768 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:38.541 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115526609440768 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 01:02:38.541 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m <==      Total: 1
2023-05-16 01:02:38.541 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:38.542 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:02:38.542 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115526609440768 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:38.542 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115526609440768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:02:38.542 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m <==      Total: 1
2023-05-16 01:02:38.543 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:38.543 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:02:38.543 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115526609440768 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:38.544 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115526609440768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:02:38.544 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m <==      Total: 1
2023-05-16 01:02:38.544 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:02:38.545 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:02:38.545 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115526609440768 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:02:38.545 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39115526609440768 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:02:38.545 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39115526609440768 [0;39m <==      Total: 1
2023-05-16 01:02:38.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39115526609440768 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 01:02:38.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39115526609440768 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 01:02:41.838 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:02:43.859 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:02:48.642 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:02:48.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:02:52.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:03:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39115616707284992 [0;39m 生成今日电子书快照开始
2023-05-16 01:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39115616707284992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39115616707284992 [0;39m ==> Parameters: 
2023-05-16 01:03:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39115616707284992 [0;39m <==    Updates: 0
2023-05-16 01:03:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39115616707284992 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-16 01:03:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39115637666222080 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:03:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115637666222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:03:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115637666222080 [0;39m ==> Parameters: 
2023-05-16 01:03:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115637666222080 [0;39m <==    Updates: 2
2023-05-16 01:03:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39115637666222080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:03:05.906 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:03:07.937 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:03:18.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:03:18.962 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:03:22.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:03:30.008 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:03:32.030 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:03:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39115763499536384 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:03:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115763499536384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:03:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115763499536384 [0;39m ==> Parameters: 
2023-05-16 01:03:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115763499536384 [0;39m <==    Updates: 2
2023-05-16 01:03:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39115763499536384 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:03:48.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:03:52.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:03:56.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:04:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39115868352942080 [0;39m 生成今日电子书快照开始
2023-05-16 01:04:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39115868352942080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:04:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39115868352942080 [0;39m ==> Parameters: 
2023-05-16 01:04:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39115868352942080 [0;39m <==    Updates: 0
2023-05-16 01:04:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39115868352942080 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 01:04:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39115889324462080 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:04:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115889324462080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:04:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115889324462080 [0;39m ==> Parameters: 
2023-05-16 01:04:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39115889324462080 [0;39m <==    Updates: 2
2023-05-16 01:04:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39115889324462080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 01:04:18.967 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:04:22.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:04:24.789 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:04:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39116015174553600 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:04:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116015174553600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:04:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116015174553600 [0;39m ==> Parameters: 
2023-05-16 01:04:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116015174553600 [0;39m <==    Updates: 2
2023-05-16 01:04:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39116015174553600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:04:46.843 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:04:48.871 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:04:48.964 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:04:52.957 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:04:54.997 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:05:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39116119977627648 [0;39m 生成今日电子书快照开始
2023-05-16 01:05:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39116119977627648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:05:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39116119977627648 [0;39m ==> Parameters: 
2023-05-16 01:05:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39116119977627648 [0;39m <==    Updates: 0
2023-05-16 01:05:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39116119977627648 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 01:05:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39116140999479296 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:05:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116140999479296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:05:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116140999479296 [0;39m ==> Parameters: 
2023-05-16 01:05:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116140999479296 [0;39m <==    Updates: 2
2023-05-16 01:05:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39116140999479296 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:05:10.906 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:05:12.943 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:05:18.651 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:05:18.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:05:22.730 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:05:34.988 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:05:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39116266786656256 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:05:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116266786656256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:05:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116266786656256 [0;39m ==> Parameters: 
2023-05-16 01:05:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116266786656256 [0;39m <==    Updates: 2
2023-05-16 01:05:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39116266786656256 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:05:37.004 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:05:48.971 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:05:52.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:05:59.056 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:06:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39116371631673344 [0;39m 生成今日电子书快照开始
2023-05-16 01:06:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39116371631673344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:06:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39116371631673344 [0;39m ==> Parameters: 
2023-05-16 01:06:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39116371631673344 [0;39m <==    Updates: 0
2023-05-16 01:06:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39116371631673344 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 01:06:01.090 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:06:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39116392628359168 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:06:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116392628359168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:06:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116392628359168 [0;39m ==> Parameters: 
2023-05-16 01:06:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116392628359168 [0;39m <==    Updates: 2
2023-05-16 01:06:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39116392628359168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:06:18.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:06:18.960 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:06:20.690 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:06:22.715 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:06:24.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:06:26.779 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:06:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39116518449090560 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:06:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116518449090560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:06:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116518449090560 [0;39m ==> Parameters: 
2023-05-16 01:06:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116518449090560 [0;39m <==    Updates: 2
2023-05-16 01:06:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39116518449090560 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:06:48.655 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:06:48.992 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:06:52.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:06:54.738 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:07:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39116623315079168 [0;39m 生成今日电子书快照开始
2023-05-16 01:07:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39116623315079168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:07:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39116623315079168 [0;39m ==> Parameters: 
2023-05-16 01:07:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39116623315079168 [0;39m <==    Updates: 0
2023-05-16 01:07:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39116623315079168 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 01:07:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39116644286599168 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:07:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116644286599168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:07:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116644286599168 [0;39m ==> Parameters: 
2023-05-16 01:07:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116644286599168 [0;39m <==    Updates: 2
2023-05-16 01:07:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39116644286599168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:07:16.773 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:07:18.804 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:07:18.971 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:07:25.036 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:07:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39116770124107776 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:07:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116770124107776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:07:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116770124107776 [0;39m ==> Parameters: 
2023-05-16 01:07:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116770124107776 [0;39m <==    Updates: 2
2023-05-16 01:07:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39116770124107776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 01:07:42.947 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:07:48.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:07:48.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:07:52.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:08:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39116874985902080 [0;39m 生成今日电子书快照开始
2023-05-16 01:08:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39116874985902080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:08:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39116874985902080 [0;39m ==> Parameters: 
2023-05-16 01:08:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39116874985902080 [0;39m <==    Updates: 0
2023-05-16 01:08:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39116874985902080 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 01:08:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39116895944839168 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:08:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116895944839168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:08:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116895944839168 [0;39m ==> Parameters: 
2023-05-16 01:08:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39116895944839168 [0;39m <==    Updates: 2
2023-05-16 01:08:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39116895944839168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:08:07.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:08:18.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:08:18.954 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:08:22.723 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:08:29.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:08:31.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:08:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39117021811707904 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:08:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117021811707904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:08:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117021811707904 [0;39m ==> Parameters: 
2023-05-16 01:08:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117021811707904 [0;39m <==    Updates: 2
2023-05-16 01:08:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39117021811707904 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 01:08:48.663 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:08:48.964 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:08:52.748 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:08:56.838 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:09:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39117126644142080 [0;39m 生成今日电子书快照开始
2023-05-16 01:09:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39117126644142080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:09:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39117126644142080 [0;39m ==> Parameters: 
2023-05-16 01:09:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39117126644142080 [0;39m <==    Updates: 0
2023-05-16 01:09:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39117126644142080 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 01:09:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39117147645022208 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:09:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117147645022208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:09:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117147645022208 [0;39m ==> Parameters: 
2023-05-16 01:09:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117147645022208 [0;39m <==    Updates: 2
2023-05-16 01:09:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39117147645022208 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 01:09:18.652 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:09:18.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:09:22.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:09:24.757 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:09:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39117273444782080 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:09:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117273444782080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:09:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117273444782080 [0;39m ==> Parameters: 
2023-05-16 01:09:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117273444782080 [0;39m <==    Updates: 2
2023-05-16 01:09:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39117273444782080 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 01:09:46.806 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:09:48.848 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:09:48.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:09:50.884 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:09:54.948 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:10:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39117378348519424 [0;39m 生成今日电子书快照开始
2023-05-16 01:10:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39117378348519424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:10:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39117378348519424 [0;39m ==> Parameters: 
2023-05-16 01:10:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39117378348519424 [0;39m <==    Updates: 0
2023-05-16 01:10:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39117378348519424 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-16 01:10:05.066 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39117399508783104 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:10:05.066 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117399508783104 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:10:05.066 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117399508783104 [0;39m ==> Parameters: 
2023-05-16 01:10:05.066 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117399508783104 [0;39m <==    Updates: 2
2023-05-16 01:10:05.066 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39117399508783104 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 01:10:12.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:10:18.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:10:18.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:10:22.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:10:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39117525103022080 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:10:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117525103022080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:10:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117525103022080 [0;39m ==> Parameters: 
2023-05-16 01:10:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117525103022080 [0;39m <==    Updates: 2
2023-05-16 01:10:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39117525103022080 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:10:37.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:10:44.275 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39115502743851008 [0;39m 连接关闭，token：rSEWktwgmL，session id：1！当前连接数：0
2023-05-16 01:10:47.138 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39115503033257984 [0;39m 有新连接：token：6JHd3X21Wt，session id：2，当前连接数：1
2023-05-16 01:10:47.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39117577347272704 [0;39m ------------- 开始 -------------
2023-05-16 01:10:47.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39117577347272704 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 01:10:47.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39117577347272704 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 01:10:47.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39117577347272704 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:10:47.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39117577347272704 [0;39m 请求参数: [2]
2023-05-16 01:10:47.467 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39117577347272704 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 01:10:47.467 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39117577347272704 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:10:47.468 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39117577347272704 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 01:10:47.468 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39117577347272704 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 80, 0
2023-05-16 01:10:47.469 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39117577347272704 [0;39m <==      Total: 1
2023-05-16 01:10:47.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39117577347272704 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":80,"voteCount":0}],"success":true}
2023-05-16 01:10:47.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39117577347272704 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-16 01:10:47.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39117577372438528 [0;39m ------------- 开始 -------------
2023-05-16 01:10:47.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39117577372438528 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 01:10:47.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39117577372438528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 01:10:47.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39117577372438528 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:10:47.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39117577372438528 [0;39m 请求参数: [2]
2023-05-16 01:10:47.474 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39117577372438528 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 01:10:47.474 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39117577372438528 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:10:47.475 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39117577372438528 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 01:10:47.475 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39117577372438528 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 01:10:47.475 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39117577372438528 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 01:10:47.476 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39117577372438528 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 01:10:47.477 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39117577372438528 [0;39m <==      Total: 3
2023-05-16 01:10:47.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:10:47.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:10:47.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39117577372438528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:10:47.479 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39117577372438528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:10:47.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m <==      Total: 1
2023-05-16 01:10:47.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:10:47.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:10:47.480 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39117577372438528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:10:47.480 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39117577372438528 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 01:10:47.480 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m <==      Total: 1
2023-05-16 01:10:47.480 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:10:47.481 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:10:47.481 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39117577372438528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:10:47.481 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39117577372438528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:10:47.482 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m <==      Total: 1
2023-05-16 01:10:47.482 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:10:47.482 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:10:47.483 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39117577372438528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:10:47.483 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39117577372438528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:10:47.483 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m <==      Total: 1
2023-05-16 01:10:47.483 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:10:47.484 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:10:47.484 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39117577372438528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:10:47.485 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39117577372438528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:10:47.485 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39117577372438528 [0;39m <==      Total: 1
2023-05-16 01:10:47.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39117577372438528 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 01:10:47.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39117577372438528 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 01:10:47.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39117577724760064 [0;39m ------------- 开始 -------------
2023-05-16 01:10:47.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39117577724760064 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 01:10:47.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39117577724760064 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 01:10:47.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39117577724760064 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:10:47.558 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39117577724760064 [0;39m 请求参数: [38625501966897152]
2023-05-16 01:10:47.558 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39117577724760064 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 01:10:47.559 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39117577724760064 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 01:10:47.559 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39117577724760064 [0;39m <==    Columns: id, content
2023-05-16 01:10:47.559 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39117577724760064 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 01:10:47.559 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39117577724760064 [0;39m <==      Total: 1
2023-05-16 01:10:47.559 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39117577724760064 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 01:10:47.560 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39117577724760064 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 01:10:47.569 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39117577724760064 [0;39m <==    Updates: 1
2023-05-16 01:10:47.569 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39117577724760064 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 01:10:47.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39117577724760064 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 01:10:48.643 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:10:48.955 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:10:52.704 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:11:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39117629931261952 [0;39m 生成今日电子书快照开始
2023-05-16 01:11:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39117629931261952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:11:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39117629931261952 [0;39m ==> Parameters: 
2023-05-16 01:11:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39117629931261952 [0;39m <==    Updates: 0
2023-05-16 01:11:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39117629931261952 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 01:11:01.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:11:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39117650919559168 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:11:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117650919559168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:11:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117650919559168 [0;39m ==> Parameters: 
2023-05-16 01:11:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117650919559168 [0;39m <==    Updates: 2
2023-05-16 01:11:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39117650919559168 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-16 01:11:18.643 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:11:18.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:11:22.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:11:24.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:11:26.757 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:11:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39117776748679168 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117776748679168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117776748679168 [0;39m ==> Parameters: 
2023-05-16 01:11:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117776748679168 [0;39m <==    Updates: 2
2023-05-16 01:11:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39117776748679168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:11:48.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:11:48.965 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:11:52.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:11:54.749 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:12:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39117881581113344 [0;39m 生成今日电子书快照开始
2023-05-16 01:12:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39117881581113344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:12:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39117881581113344 [0;39m ==> Parameters: 
2023-05-16 01:12:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39117881581113344 [0;39m <==    Updates: 0
2023-05-16 01:12:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39117881581113344 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 01:12:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39117902619742208 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:12:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117902619742208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:12:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117902619742208 [0;39m ==> Parameters: 
2023-05-16 01:12:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39117902619742208 [0;39m <==    Updates: 2
2023-05-16 01:12:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39117902619742208 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:12:16.779 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:12:18.991 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:12:20.851 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:12:22.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:12:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39118028398530560 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:12:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118028398530560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:12:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118028398530560 [0;39m ==> Parameters: 
2023-05-16 01:12:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118028398530560 [0;39m <==    Updates: 2
2023-05-16 01:12:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39118028398530560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 01:12:41.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:12:43.842 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:12:48.960 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:12:50.667 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:12:52.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:13:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39118133260324864 [0;39m 生成今日电子书快照开始
2023-05-16 01:13:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39118133260324864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:13:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39118133260324864 [0;39m ==> Parameters: 
2023-05-16 01:13:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39118133260324864 [0;39m <==    Updates: 0
2023-05-16 01:13:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39118133260324864 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-16 01:13:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39118154231844864 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:13:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118154231844864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:13:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118154231844864 [0;39m ==> Parameters: 
2023-05-16 01:13:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118154231844864 [0;39m <==    Updates: 2
2023-05-16 01:13:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39118154231844864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:13:05.886 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:13:07.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:13:18.657 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:13:18.962 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:13:20.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:13:22.730 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:13:29.202 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39118255717224448 [0;39m ------------- 开始 -------------
2023-05-16 01:13:29.202 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39118255717224448 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 01:13:29.202 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39118255717224448 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 01:13:29.202 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39118255717224448 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:13:29.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39118255717224448 [0;39m 请求参数: [2]
2023-05-16 01:13:29.204 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39118255717224448 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 01:13:29.204 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39118255717224448 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:13:29.205 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39118255717224448 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 01:13:29.205 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39118255717224448 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 01:13:29.206 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39118255717224448 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 01:13:29.206 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39118255717224448 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 01:13:29.206 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39118255717224448 [0;39m <==      Total: 3
2023-05-16 01:13:29.207 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:13:29.207 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:13:29.207 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39118255717224448 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:13:29.208 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39118255717224448 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:13:29.208 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m <==      Total: 1
2023-05-16 01:13:29.209 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:13:29.209 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:13:29.209 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39118255717224448 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:13:29.209 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39118255717224448 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 01:13:29.210 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m <==      Total: 1
2023-05-16 01:13:29.210 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:13:29.210 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:13:29.211 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39118255717224448 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:13:29.211 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39118255717224448 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:13:29.211 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m <==      Total: 1
2023-05-16 01:13:29.212 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:13:29.212 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:13:29.212 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39118255717224448 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:13:29.213 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39118255717224448 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:13:29.213 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m <==      Total: 1
2023-05-16 01:13:29.213 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:13:29.213 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:13:29.214 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39118255717224448 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:13:29.214 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39118255717224448 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:13:29.214 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39118255717224448 [0;39m <==      Total: 1
2023-05-16 01:13:29.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39118255717224448 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 01:13:29.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39118255717224448 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 01:13:31.967 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:13:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39118280111296512 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:13:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118280111296512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:13:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118280111296512 [0;39m ==> Parameters: 
2023-05-16 01:13:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118280111296512 [0;39m <==    Updates: 2
2023-05-16 01:13:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39118280111296512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 01:13:48.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:13:48.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:13:52.838 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:13:54.870 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:13:56.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:14:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39118384935342080 [0;39m 生成今日电子书快照开始
2023-05-16 01:14:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39118384935342080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:14:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39118384935342080 [0;39m ==> Parameters: 
2023-05-16 01:14:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39118384935342080 [0;39m <==    Updates: 0
2023-05-16 01:14:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39118384935342080 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-16 01:14:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39118405911056384 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:14:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118405911056384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:14:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118405911056384 [0;39m ==> Parameters: 
2023-05-16 01:14:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118405911056384 [0;39m <==    Updates: 2
2023-05-16 01:14:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39118405911056384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:14:18.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:14:18.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:14:20.664 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:14:22.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:14:24.715 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:14:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39118531731787776 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:14:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118531731787776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:14:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118531731787776 [0;39m ==> Parameters: 
2023-05-16 01:14:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118531731787776 [0;39m <==    Updates: 2
2023-05-16 01:14:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39118531731787776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:14:46.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:14:48.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:14:48.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:14:52.864 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:14:54.901 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:15:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39118636597776384 [0;39m 生成今日电子书快照开始
2023-05-16 01:15:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39118636597776384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:15:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39118636597776384 [0;39m ==> Parameters: 
2023-05-16 01:15:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39118636597776384 [0;39m <==    Updates: 0
2023-05-16 01:15:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39118636597776384 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 01:15:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39118657560907776 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:15:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118657560907776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:15:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118657560907776 [0;39m ==> Parameters: 
2023-05-16 01:15:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118657560907776 [0;39m <==    Updates: 2
2023-05-16 01:15:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39118657560907776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 01:15:10.817 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:15:12.855 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:15:18.654 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:15:18.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:15:22.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:15:34.900 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:15:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39118783385833472 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:15:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118783385833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:15:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118783385833472 [0;39m ==> Parameters: 
2023-05-16 01:15:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118783385833472 [0;39m <==    Updates: 2
2023-05-16 01:15:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39118783385833472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:15:36.930 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:15:48.630 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:15:48.992 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:15:50.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:15:52.714 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:16:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39118888256016384 [0;39m 生成今日电子书快照开始
2023-05-16 01:16:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39118888256016384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:16:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39118888256016384 [0;39m ==> Parameters: 
2023-05-16 01:16:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39118888256016384 [0;39m <==    Updates: 0
2023-05-16 01:16:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39118888256016384 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 01:16:01.002 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:16:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39118909219147776 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:16:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118909219147776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:16:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118909219147776 [0;39m ==> Parameters: 
2023-05-16 01:16:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39118909219147776 [0;39m <==    Updates: 2
2023-05-16 01:16:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39118909219147776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:16:18.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:16:20.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:16:22.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:16:24.740 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:16:26.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:16:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39119035052462080 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:16:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119035052462080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:16:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119035052462080 [0;39m ==> Parameters: 
2023-05-16 01:16:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119035052462080 [0;39m <==    Updates: 2
2023-05-16 01:16:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39119035052462080 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:16:48.997 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:16:52.766 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:16:54.811 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:17:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39119139922644992 [0;39m 生成今日电子书快照开始
2023-05-16 01:17:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39119139922644992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:17:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39119139922644992 [0;39m ==> Parameters: 
2023-05-16 01:17:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39119139922644992 [0;39m <==    Updates: 0
2023-05-16 01:17:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39119139922644992 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 01:17:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39119160843833344 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:17:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119160843833344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:17:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119160843833344 [0;39m ==> Parameters: 
2023-05-16 01:17:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119160843833344 [0;39m <==    Updates: 2
2023-05-16 01:17:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39119160843833344 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:17:18.882 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:17:18.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:17:25.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:17:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39119286727479296 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:17:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119286727479296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:17:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119286727479296 [0;39m ==> Parameters: 
2023-05-16 01:17:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119286727479296 [0;39m <==    Updates: 2
2023-05-16 01:17:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39119286727479296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:17:42.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:17:48.661 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:17:48.985 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:17:52.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:17:54.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39119370022162432 [0;39m ------------- 开始 -------------
2023-05-16 01:17:54.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39119370022162432 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 01:17:54.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39119370022162432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 01:17:54.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39119370022162432 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:17:54.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39119370022162432 [0;39m 请求参数: [2]
2023-05-16 01:17:54.879 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39119370022162432 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 01:17:54.879 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39119370022162432 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:17:54.881 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39119370022162432 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 01:17:54.881 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39119370022162432 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 01:17:54.881 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39119370022162432 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 01:17:54.881 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39119370022162432 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 01:17:54.881 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39119370022162432 [0;39m <==      Total: 3
2023-05-16 01:18:03.576 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39119406525190144 [0;39m 生成今日电子书快照开始
2023-05-16 01:18:03.576 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39119406525190144 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:18:08.377 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39119406525190144 [0;39m ==> Parameters: 
2023-05-16 01:18:08.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:18:08.377 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39119406525190144 [0;39m <==    Updates: 0
2023-05-16 01:18:08.377 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39119406525190144 [0;39m 生成今日电子书快照结束，耗时：4801毫秒
2023-05-16 01:18:08.377 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39119426662043648 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:18:08.377 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119426662043648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:18:08.377 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119426662043648 [0;39m ==> Parameters: 
2023-05-16 01:18:08.377 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119426662043648 [0;39m <==    Updates: 2
2023-05-16 01:18:08.383 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39119426662043648 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-16 01:18:08.383 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:18:08.385 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:18:08.385 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39119370022162432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:18:08.391 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39119370022162432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:18:08.391 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m <==      Total: 1
2023-05-16 01:18:11.402 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:19:03.095 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39119656165969920 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:19:03.095 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m3s977ms635µs400ns).
2023-05-16 01:19:06.047 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119656165969920 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:19:06.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119656165969920 [0;39m ==> Parameters: 
2023-05-16 01:19:06.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119656165969920 [0;39m <==    Updates: 2
2023-05-16 01:19:06.052 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39119656165969920 [0;39m 更新电子书下的文档数据结束，耗时：2957毫秒
2023-05-16 01:19:06.052 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39119668568526848 [0;39m 生成今日电子书快照开始
2023-05-16 01:19:06.057 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39119668568526848 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:19:06.057 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39119668568526848 [0;39m ==> Parameters: 
2023-05-16 01:19:06.059 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39119668568526848 [0;39m <==    Updates: 0
2023-05-16 01:19:06.059 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39119668568526848 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-16 01:19:06.516 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:19:06.516 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:19:06.520 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39119370022162432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:19:06.520 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39119370022162432 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 01:19:06.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m <==      Total: 1
2023-05-16 01:19:54.668 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39119872478810112 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:19:54.668 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=51s575ms563µs300ns).
2023-05-16 01:19:55.338 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119872478810112 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:19:55.340 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119872478810112 [0;39m ==> Parameters: 
2023-05-16 01:19:55.341 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39119872478810112 [0;39m <==    Updates: 2
2023-05-16 01:19:55.341 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39119872478810112 [0;39m 更新电子书下的文档数据结束，耗时：673毫秒
2023-05-16 01:19:55.341 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:19:55.344 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:19:55.347 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39119370022162432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:19:55.348 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39119370022162432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:19:55.349 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m <==      Total: 1
2023-05-16 01:19:57.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:19:57.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:19:57.476 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:19:57.476 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:19:57.481 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39119370022162432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:19:57.481 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39119370022162432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:19:57.485 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m <==      Total: 1
2023-05-16 01:19:59.232 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:19:59.232 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:19:59.232 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39119370022162432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:19:59.232 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39119370022162432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:19:59.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39119370022162432 [0;39m <==      Total: 1
2023-05-16 01:19:59.935 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:20:01.451 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39119900928774144 [0;39m 生成今日电子书快照开始
2023-05-16 01:20:03.472 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39119900928774144 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:20:43.818 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49s149ms155µs600ns).
2023-05-16 01:20:43.818 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39119900928774144 [0;39m ==> Parameters: 
2023-05-16 01:20:45.165 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39119900928774144 [0;39m <==    Updates: 0
2023-05-16 01:20:45.165 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39119900928774144 [0;39m 生成今日电子书快照结束，耗时：41694毫秒
2023-05-16 01:20:45.165 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39120084278579200 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:20:45.172 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39120084278579200 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:20:45.172 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39120084278579200 [0;39m ==> Parameters: 
2023-05-16 01:20:45.172 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39120084278579200 [0;39m <==    Updates: 2
2023-05-16 01:20:45.172 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39120084278579200 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-16 01:21:34.623 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39120291720466432 [0;39m 生成今日电子书快照开始
2023-05-16 01:21:34.623 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s804ms616µs800ns).
2023-05-16 01:21:34.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:21:34.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:21:34.623 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39120291720466432 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:21:34.623 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39120291720466432 [0;39m ==> Parameters: 
2023-05-16 01:21:38.734 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39120291720466432 [0;39m <==    Updates: 0
2023-05-16 01:21:38.737 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39120291720466432 [0;39m 生成今日电子书快照结束，耗时：4114毫秒
2023-05-16 01:21:38.737 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39120308975833088 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:21:38.740 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39120308975833088 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:21:38.740 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39120308975833088 [0;39m ==> Parameters: 
2023-05-16 01:21:38.740 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39120308975833088 [0;39m <==    Updates: 2
2023-05-16 01:21:38.740 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39120308975833088 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:23:08.330 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m33s707ms215µs100ns).
2023-05-16 01:23:08.330 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39120684756111360 [0;39m 生成今日电子书快照开始
2023-05-16 01:23:08.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:23:08.330 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39120684756111360 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:23:08.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:23:08.337 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39120684756111360 [0;39m ==> Parameters: 
2023-05-16 01:24:32.153 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m23s823ms336µs500ns).
2023-05-16 01:24:33.610 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39120684756111360 [0;39m <==    Updates: 0
2023-05-16 01:24:33.611 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39120684756111360 [0;39m 生成今日电子书快照结束，耗时：85281毫秒
2023-05-16 01:24:33.613 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39121042458939392 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:24:33.615 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121042458939392 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:24:34.249 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121042458939392 [0;39m ==> Parameters: 
2023-05-16 01:24:35.904 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121042458939392 [0;39m <==    Updates: 2
2023-05-16 01:24:35.904 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39121042458939392 [0;39m 更新电子书下的文档数据结束，耗时：2290毫秒
2023-05-16 01:24:35.904 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:24:40.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:24:40.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:25:01.232 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39121158301421568 [0;39m 生成今日电子书快照开始
2023-05-16 01:25:04.505 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39121158301421568 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:25:04.505 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39121158301421568 [0;39m ==> Parameters: 
2023-05-16 01:25:04.516 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39121158301421568 [0;39m <==    Updates: 0
2023-05-16 01:25:04.516 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39121158301421568 [0;39m 生成今日电子书快照结束，耗时：2192毫秒
2023-05-16 01:25:04.521 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:25:06.172 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39121179021283328 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:25:08.343 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121179021283328 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:25:08.343 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121179021283328 [0;39m ==> Parameters: 
2023-05-16 01:25:09.727 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121179021283328 [0;39m <==    Updates: 2
2023-05-16 01:25:09.727 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39121179021283328 [0;39m 更新电子书下的文档数据结束，耗时：2098毫秒
2023-05-16 01:25:10.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:25:16.500 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:25:30.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:25:37.823 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39121311775199232 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:25:37.823 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121311775199232 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:25:37.823 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121311775199232 [0;39m ==> Parameters: 
2023-05-16 01:25:39.166 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121311775199232 [0;39m <==    Updates: 2
2023-05-16 01:25:39.166 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39121311775199232 [0;39m 更新电子书下的文档数据结束，耗时：1343毫秒
2023-05-16 01:25:44.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:25:49.538 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:25:52.905 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:03.551 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39121419686252544 [0;39m 生成今日电子书快照开始
2023-05-16 01:26:03.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:04.308 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39121419686252544 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:26:04.308 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39121419686252544 [0;39m ==> Parameters: 
2023-05-16 01:26:04.308 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39121419686252544 [0;39m <==    Updates: 0
2023-05-16 01:26:04.308 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39121419686252544 [0;39m 生成今日电子书快照结束，耗时：757毫秒
2023-05-16 01:26:05.335 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39121427168890880 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:26:05.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39119370022162432 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 01:26:05.335 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121427168890880 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:26:05.335 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39119370022162432 [0;39m ------------- 结束 耗时：490462 ms -------------
2023-05-16 01:26:05.336 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121427168890880 [0;39m ==> Parameters: 
2023-05-16 01:26:05.336 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121427168890880 [0;39m <==    Updates: 2
2023-05-16 01:26:05.337 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39121427168890880 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:26:06.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:08.362 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:10.401 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:16.525 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:18.969 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:20.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:24.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:26.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:30.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:32.839 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:34.889 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39121551634862080 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:26:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121551634862080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:26:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121551634862080 [0;39m ==> Parameters: 
2023-05-16 01:26:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121551634862080 [0;39m <==    Updates: 2
2023-05-16 01:26:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39121551634862080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 01:26:36.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:40.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:45.044 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:48.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:51.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:53.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:55.242 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:57.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:26:59.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:27:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39121656505044992 [0;39m 生成今日电子书快照开始
2023-05-16 01:27:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39121656505044992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:27:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39121656505044992 [0;39m ==> Parameters: 
2023-05-16 01:27:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39121656505044992 [0;39m <==    Updates: 0
2023-05-16 01:27:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39121656505044992 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 01:27:01.354 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:27:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39121677459787776 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:27:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121677459787776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:27:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121677459787776 [0;39m ==> Parameters: 
2023-05-16 01:27:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121677459787776 [0;39m <==    Updates: 2
2023-05-16 01:27:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39121677459787776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:27:18.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:27:18.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:27:20.685 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:27:22.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:27:26.807 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:27:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39121803309879296 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:27:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121803309879296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:27:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121803309879296 [0;39m ==> Parameters: 
2023-05-16 01:27:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121803309879296 [0;39m <==    Updates: 2
2023-05-16 01:27:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39121803309879296 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:27:48.953 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:27:52.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:27:54.736 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:28:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39121908129730560 [0;39m 生成今日电子书快照开始
2023-05-16 01:28:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39121908129730560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:28:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39121908129730560 [0;39m ==> Parameters: 
2023-05-16 01:28:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39121908129730560 [0;39m <==    Updates: 0
2023-05-16 01:28:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39121908129730560 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-16 01:28:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39121929147387904 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:28:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121929147387904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:28:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121929147387904 [0;39m ==> Parameters: 
2023-05-16 01:28:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39121929147387904 [0;39m <==    Updates: 2
2023-05-16 01:28:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39121929147387904 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:28:16.762 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:28:18.955 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:28:22.869 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:28:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39122054993285120 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:28:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39122054993285120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:28:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39122054993285120 [0;39m ==> Parameters: 
2023-05-16 01:28:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39122054993285120 [0;39m <==    Updates: 2
2023-05-16 01:28:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39122054993285120 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 01:28:41.822 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:28:43.853 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:28:48.998 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:28:52.737 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:29:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39122159771193344 [0;39m 生成今日电子书快照开始
2023-05-16 01:29:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39122159771193344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:29:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39122159771193344 [0;39m ==> Parameters: 
2023-05-16 01:29:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39122159771193344 [0;39m <==    Updates: 0
2023-05-16 01:29:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39122159771193344 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 01:29:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39122180772073472 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:29:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39122180772073472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:29:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39122180772073472 [0;39m ==> Parameters: 
2023-05-16 01:29:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39122180772073472 [0;39m <==    Updates: 2
2023-05-16 01:29:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39122180772073472 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 01:29:05.905 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:29:07.939 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:29:18.643 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:29:18.965 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:29:20.661 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:29:22.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:29:29.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:29:32.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:29:32.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39122298015453184 [0;39m ------------- 开始 -------------
2023-05-16 01:29:32.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39122298015453184 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 01:29:32.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39122298015453184 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 01:29:32.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39122298015453184 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:29:32.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39122298015453184 [0;39m 请求参数: [2]
2023-05-16 01:29:32.963 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39122298015453184 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 01:29:32.963 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39122298015453184 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:29:32.964 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39122298015453184 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 01:29:32.964 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39122298015453184 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 01:29:32.965 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39122298015453184 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 01:29:32.966 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39122298015453184 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 01:29:32.966 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39122298015453184 [0;39m <==      Total: 3
2023-05-16 01:29:32.967 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:29:32.967 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:29:32.968 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39122298015453184 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:29:32.968 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39122298015453184 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:29:32.968 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m <==      Total: 1
2023-05-16 01:29:32.969 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:29:32.969 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:29:32.970 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39122298015453184 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:29:32.970 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39122298015453184 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 01:29:32.970 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m <==      Total: 1
2023-05-16 01:29:32.971 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:29:32.971 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:29:32.972 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39122298015453184 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:29:32.972 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39122298015453184 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:29:32.972 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m <==      Total: 1
2023-05-16 01:29:32.972 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:29:32.972 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:29:32.973 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39122298015453184 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:29:32.973 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39122298015453184 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:29:32.973 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m <==      Total: 1
2023-05-16 01:29:32.974 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:29:32.974 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:29:32.974 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39122298015453184 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:29:32.974 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39122298015453184 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:29:32.975 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39122298015453184 [0;39m <==      Total: 1
2023-05-16 01:29:38.083 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39122319498678272 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:30:23.883 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=45s799ms628µs400ns).
2023-05-16 01:30:23.884 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39122319498678272 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:30:23.884 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39122319498678272 [0;39m ==> Parameters: 
2023-05-16 01:30:23.885 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39122319498678272 [0;39m <==    Updates: 2
2023-05-16 01:30:23.886 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39122319498678272 [0;39m 更新电子书下的文档数据结束，耗时：33086毫秒
2023-05-16 01:30:23.886 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39122511610384384 [0;39m 生成今日电子书快照开始
2023-05-16 01:30:23.886 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39122511610384384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:30:23.887 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39122511610384384 [0;39m ==> Parameters: 
2023-05-16 01:30:23.888 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39122511610384384 [0;39m <==    Updates: 0
2023-05-16 01:30:23.889 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39122511610384384 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 01:34:11.873 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m47s989ms516µs700ns).
2023-05-16 01:34:11.873 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39123467857170432 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:34:11.873 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39123467857170432 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:34:11.873 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39123467857170432 [0;39m ==> Parameters: 
2023-05-16 01:34:13.399 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39123467857170432 [0;39m <==    Updates: 2
2023-05-16 01:34:13.399 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39123467857170432 [0;39m 更新电子书下的文档数据结束，耗时：1526毫秒
2023-05-16 01:34:13.399 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39123474257678336 [0;39m 生成今日电子书快照开始
2023-05-16 01:34:13.399 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39123474257678336 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:34:13.399 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39123474257678336 [0;39m ==> Parameters: 
2023-05-16 01:34:13.904 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39123474257678336 [0;39m <==    Updates: 0
2023-05-16 01:34:13.904 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39123474257678336 [0;39m 生成今日电子书快照结束，耗时：505毫秒
2023-05-16 01:34:15.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39122298015453184 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 01:34:15.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39122298015453184 [0;39m ------------- 结束 耗时：283004 ms -------------
2023-05-16 01:34:17.992 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:34:20.025 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:34:20.025 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:34:20.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39123505412968448 [0;39m ------------- 开始 -------------
2023-05-16 01:34:20.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39123505412968448 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 01:34:20.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39123505412968448 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 01:34:20.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39123505412968448 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:34:20.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39123505412968448 [0;39m 请求参数: [2]
2023-05-16 01:34:20.828 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39123505412968448 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 01:34:20.829 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39123505412968448 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:34:20.830 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39123505412968448 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 01:34:20.830 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39123505412968448 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 01:34:20.831 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39123505412968448 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 01:34:20.831 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39123505412968448 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 01:34:20.831 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39123505412968448 [0;39m <==      Total: 3
2023-05-16 01:34:20.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:34:20.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:34:20.833 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39123505412968448 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:34:20.833 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39123505412968448 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:34:20.834 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m <==      Total: 1
2023-05-16 01:34:20.834 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:34:20.834 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:34:20.835 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39123505412968448 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:34:20.835 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39123505412968448 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 01:34:20.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m <==      Total: 1
2023-05-16 01:34:20.836 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:34:20.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:34:20.837 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39123505412968448 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:34:20.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39123505412968448 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:34:20.838 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m <==      Total: 1
2023-05-16 01:34:20.838 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:34:20.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:34:20.839 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39123505412968448 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:34:20.839 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39123505412968448 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:34:20.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m <==      Total: 1
2023-05-16 01:34:20.840 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:34:20.840 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:34:20.841 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39123505412968448 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:34:20.841 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39123505412968448 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:34:20.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39123505412968448 [0;39m <==      Total: 1
2023-05-16 01:35:02.079 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s207ms242µs800ns).
2023-05-16 01:35:02.079 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39123678436397056 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:35:02.082 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39123678436397056 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:35:02.082 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39123678436397056 [0;39m ==> Parameters: 
2023-05-16 01:35:02.083 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39123678436397056 [0;39m <==    Updates: 2
2023-05-16 01:35:02.083 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39123678436397056 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 01:35:02.083 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39123678453174272 [0;39m 生成今日电子书快照开始
2023-05-16 01:35:02.084 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39123678453174272 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:35:02.084 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39123678453174272 [0;39m ==> Parameters: 
2023-05-16 01:35:02.085 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39123678453174272 [0;39m <==    Updates: 0
2023-05-16 01:35:02.086 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39123678453174272 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 01:35:05.337 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39123692101439488 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:35:05.338 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39123692101439488 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:35:05.339 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39123692101439488 [0;39m ==> Parameters: 
2023-05-16 01:35:05.341 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39123692101439488 [0;39m <==    Updates: 2
2023-05-16 01:35:05.341 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39123692101439488 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 01:35:43.570 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39123852462264320 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:36:20.261 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39123852462264320 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:36:20.269 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39123852462264320 [0;39m ==> Parameters: 
2023-05-16 01:36:20.267 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39115506216734720 [0;39m 有新连接：token：SIjFr9lFwb，session id：3，当前连接数：2
2023-05-16 01:36:20.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39124006380638209 [0;39m ------------- 开始 -------------
2023-05-16 01:36:20.273 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39123852462264320 [0;39m <==    Updates: 2
2023-05-16 01:36:20.273 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39123852462264320 [0;39m 更新电子书下的文档数据结束，耗时：36701毫秒
2023-05-16 01:36:20.274 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39124006409998336 [0;39m 生成今日电子书快照开始
2023-05-16 01:36:20.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39124006380638208 [0;39m ------------- 开始 -------------
2023-05-16 01:36:20.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39124006380638209 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 01:36:20.275 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39124006409998336 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:36:20.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39124006380638208 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 01:36:20.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39124006380638209 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 01:36:20.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39124006380638208 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 01:36:20.275 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39124006409998336 [0;39m ==> Parameters: 
2023-05-16 01:36:20.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39124006380638209 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:36:20.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39124006380638209 [0;39m 请求参数: [2]
2023-05-16 01:36:20.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39124006380638208 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:36:20.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39124006380638208 [0;39m 请求参数: [2]
2023-05-16 01:36:20.277 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39124006409998336 [0;39m <==    Updates: 0
2023-05-16 01:36:20.278 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39124006409998336 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 01:36:20.275 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39117577372438528 [0;39m 连接关闭，token：6JHd3X21Wt，session id：2！当前连接数：1
2023-05-16 01:36:20.283 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39124006380638208 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 01:36:20.283 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39124006380638208 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:36:20.285 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39124006380638208 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 01:36:20.285 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39124006380638208 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 81, 0
2023-05-16 01:36:20.846 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39124006380638209 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 01:36:20.846 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39124006380638208 [0;39m <==      Total: 1
2023-05-16 01:36:21.936 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39124006380638209 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:36:21.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39124006380638208 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":81,"voteCount":0}],"success":true}
2023-05-16 01:36:22.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39124006380638208 [0;39m ------------- 结束 耗时：2219 ms -------------
2023-05-16 01:36:23.893 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:36:23.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39124006380638209 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 01:36:23.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39124006380638209 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 01:36:23.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39124006380638209 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 01:36:23.893 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39124006380638209 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 01:36:23.893 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39124006380638209 [0;39m <==      Total: 3
2023-05-16 01:36:23.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:36:23.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:36:23.904 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124006380638209 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:36:23.904 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124006380638209 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:36:23.904 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m <==      Total: 1
2023-05-16 01:36:23.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:36:23.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:36:23.906 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124006380638209 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:36:23.906 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124006380638209 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 01:36:23.906 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m <==      Total: 1
2023-05-16 01:36:23.910 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:36:23.911 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:36:23.911 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124006380638209 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:36:23.912 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124006380638209 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:36:23.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m <==      Total: 1
2023-05-16 01:36:23.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:36:23.912 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:36:23.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124006380638209 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:36:23.913 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124006380638209 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:36:23.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m <==      Total: 1
2023-05-16 01:36:23.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:36:23.913 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:36:23.915 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124006380638209 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:36:23.915 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124006380638209 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:36:23.915 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124006380638209 [0;39m <==      Total: 1
2023-05-16 01:36:23.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39124006380638209 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 01:36:23.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39124006380638209 [0;39m ------------- 结束 耗时：3649 ms -------------
2023-05-16 01:36:27.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39124038748082176 [0;39m ------------- 开始 -------------
2023-05-16 01:36:27.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39124038748082176 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 01:36:27.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39124038748082176 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 01:36:27.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39124038748082176 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:36:27.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39124038748082176 [0;39m 请求参数: [38625501966897152]
2023-05-16 01:36:27.989 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39124038748082176 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 01:36:27.989 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39124038748082176 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 01:36:27.989 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39124038748082176 [0;39m <==    Columns: id, content
2023-05-16 01:36:27.989 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39124038748082176 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 01:36:27.989 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39124038748082176 [0;39m <==      Total: 1
2023-05-16 01:36:27.989 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39124038748082176 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 01:36:27.989 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39124038748082176 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 01:36:27.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39123505412968448 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 01:36:27.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39123505412968448 [0;39m ------------- 结束 耗时：127162 ms -------------
2023-05-16 01:36:28.004 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39124038748082176 [0;39m <==    Updates: 1
2023-05-16 01:36:28.005 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39124038748082176 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 01:36:28.005 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39124038748082176 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-16 01:36:31.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39124052199215104 [0;39m ------------- 开始 -------------
2023-05-16 01:36:31.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39124052199215104 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 01:36:31.192 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39124052199215104 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 01:36:31.192 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39124052199215104 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:36:31.192 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39124052199215104 [0;39m 请求参数: [2]
2023-05-16 01:36:31.192 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39124052199215104 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 01:36:31.193 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39124052199215104 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:36:31.194 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39124052199215104 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 01:36:31.194 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39124052199215104 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 01:36:31.194 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39124052199215104 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 01:36:31.195 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39124052199215104 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 01:36:31.195 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39124052199215104 [0;39m <==      Total: 3
2023-05-16 01:36:31.195 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:36:31.196 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:36:31.196 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124052199215104 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:36:31.196 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124052199215104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:36:31.197 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m <==      Total: 1
2023-05-16 01:36:31.197 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:36:31.197 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:36:31.198 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124052199215104 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:36:31.198 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124052199215104 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 01:36:31.198 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m <==      Total: 1
2023-05-16 01:36:31.198 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:36:31.198 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:36:31.199 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124052199215104 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:36:31.199 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124052199215104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:36:31.199 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m <==      Total: 1
2023-05-16 01:36:31.199 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:36:31.199 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:36:31.200 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124052199215104 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:36:31.200 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124052199215104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:36:31.200 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m <==      Total: 1
2023-05-16 01:36:31.200 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:36:31.201 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:36:31.201 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124052199215104 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:36:31.201 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39124052199215104 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:36:31.201 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39124052199215104 [0;39m <==      Total: 1
2023-05-16 01:40:18.220 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m57s961ms514µs200ns).
2023-05-16 01:40:18.220 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39125004427857920 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:40:18.220 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39125004427857920 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:40:18.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:40:18.228 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39125004427857920 [0;39m ==> Parameters: 
2023-05-16 01:40:18.456 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39125004427857920 [0;39m <==    Updates: 2
2023-05-16 01:40:20.064 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39125004427857920 [0;39m 更新电子书下的文档数据结束，耗时：1844毫秒
2023-05-16 01:40:20.064 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39125012162154496 [0;39m 生成今日电子书快照开始
2023-05-16 01:40:20.116 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39125012162154496 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:40:20.855 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:40:20.855 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39125012162154496 [0;39m ==> Parameters: 
2023-05-16 01:40:21.386 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39125012162154496 [0;39m <==    Updates: 0
2023-05-16 01:40:26.703 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39125012162154496 [0;39m 生成今日电子书快照结束，耗时：6639毫秒
2023-05-16 01:40:26.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39124052199215104 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 01:40:26.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39124052199215104 [0;39m ------------- 结束 耗时：235512 ms -------------
2023-05-16 01:40:27.321 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：SIjFr9lFwb，session id：3！当前连接数：0
2023-05-16 01:40:27.380 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 01:40:27.386 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-16 01:40:27.386 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-16 01:40:27.386 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-16 01:40:27.417 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-16 01:40:27.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:40:27.550 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-16 01:40:27.550 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-16 01:40:46.988 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-16 01:40:46.996 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 12660 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-16 01:40:46.996 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-16 01:40:47.051 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-16 01:40:47.051 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-16 01:40:47.744 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-16 01:40:47.754 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-16 01:40:47.779 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2023-05-16 01:40:47.967 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$7019989] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:47.979 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.300 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.300 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$a93c0e8a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.300 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.300 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.308 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.308 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.308 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.308 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.308 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.319 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.319 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.330 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.335 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:48.352 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:49.236 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:49.236 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 01:40:49.620 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-16 01:40:49.620 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-16 01:40:49.631 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-16 01:40:49.631 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-16 01:40:49.705 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-16 01:40:49.705 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2653 ms
2023-05-16 01:40:50.473 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-16 01:40:50.804 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-16 01:40:50.857 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-16 01:40:51.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:40:51.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:40:53.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:40:55.526 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:40:55.527 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 01:40:55.527 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-16 01:40:55.539 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-16 01:40:55.572 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-16 01:40:55.594 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 9.143 seconds (JVM running for 10.262)
2023-05-16 01:40:55.594 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-16 01:40:55.594 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-16 01:40:57.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:40:59.605 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:41:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39125179724599296 [0;39m 生成今日电子书快照开始
2023-05-16 01:41:00.034 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39125179724599296 [0;39m HikariPool-1 - Starting...
2023-05-16 01:41:00.489 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39125179724599296 [0;39m HikariPool-1 - Start completed.
2023-05-16 01:41:00.496 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39125179724599296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:41:00.512 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39125179724599296 [0;39m ==> Parameters: 
2023-05-16 01:41:00.515 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39125179724599296 [0;39m <==    Updates: 0
2023-05-16 01:41:00.516 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39125179724599296 [0;39m 生成今日电子书快照结束，耗时：502毫秒
2023-05-16 01:41:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39125200654176256 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:41:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39125200654176256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:41:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39125200654176256 [0;39m ==> Parameters: 
2023-05-16 01:41:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39125200654176256 [0;39m <==    Updates: 2
2023-05-16 01:41:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39125200654176256 [0;39m 更新电子书下的文档数据结束，耗时：11毫秒
2023-05-16 01:41:21.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:41:22.902 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:41:22.997 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-16 01:41:22.998 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-16 01:41:23.000 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-05-16 01:41:23.074 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39125276407500800 [0;39m ------------- 开始 -------------
2023-05-16 01:41:23.075 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39125276407500800 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 01:41:23.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39125276407500800 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 01:41:23.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39125276407500800 [0;39m 远程地址: 127.0.0.1
2023-05-16 01:41:23.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39125276407500800 [0;39m 请求参数: [2]
2023-05-16 01:41:23.610 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39125276407500800 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 01:41:23.610 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39125276407500800 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:41:23.624 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39125276407500800 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 01:41:23.625 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39125276407500800 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 01:41:23.627 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39125276407500800 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 01:41:23.628 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39125276407500800 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 01:41:23.628 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39125276407500800 [0;39m <==      Total: 3
2023-05-16 01:41:23.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:41:23.633 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:41:23.634 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39125276407500800 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:41:23.634 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39125276407500800 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:41:23.635 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m <==      Total: 1
2023-05-16 01:41:23.636 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:41:23.636 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m ==> Parameters: 2(Long)
2023-05-16 01:41:23.636 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39125276407500800 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:41:23.636 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39125276407500800 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 01:41:23.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m <==      Total: 1
2023-05-16 01:41:23.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:41:23.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:41:23.640 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39125276407500800 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:41:23.640 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39125276407500800 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:41:23.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m <==      Total: 1
2023-05-16 01:41:23.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:41:23.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:41:23.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39125276407500800 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:41:23.642 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39125276407500800 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:41:23.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m <==      Total: 1
2023-05-16 01:41:23.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 01:41:23.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m ==> Parameters: 1(Long)
2023-05-16 01:41:23.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39125276407500800 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 01:41:23.644 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39125276407500800 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 01:41:23.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39125276407500800 [0;39m <==      Total: 1
2023-05-16 01:41:52.294 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39125399002812416 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:41:52.294 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=51s690ms49µs).
2023-05-16 01:41:52.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:41:52.305 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39125399002812416 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:41:52.305 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39125399002812416 [0;39m ==> Parameters: 
2023-05-16 01:51:23.579 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m31s284ms693µs500ns).
2023-05-16 01:51:23.581 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39125399002812416 [0;39m <==    Updates: 2
2023-05-16 01:51:23.581 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39125399002812416 [0;39m 更新电子书下的文档数据结束，耗时：571280毫秒
2023-05-16 01:51:23.582 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39127795154161664 [0;39m 生成今日电子书快照开始
2023-05-16 01:51:23.583 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39127795154161664 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 01:51:23.584 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39127795154161664 [0;39m ==> Parameters: 
2023-05-16 01:54:39.990 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m16s410ms693µs300ns).
2023-05-16 01:54:39.994 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39127795154161664 [0;39m <==    Updates: 0
2023-05-16 01:54:39.996 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39127795154161664 [0;39m 生成今日电子书快照结束，耗时：196414毫秒
2023-05-16 01:54:39.997 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39128618982576128 [0;39m 更新电子书下的文档数据开始
2023-05-16 01:54:39.998 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39128618982576128 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 01:54:39.998 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39128618982576128 [0;39m ==> Parameters: 
2023-05-16 01:54:39.999 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:54:40.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39128618982576128 [0;39m <==    Updates: 2
2023-05-16 01:54:40.000 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39128618982576128 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 01:54:40.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39125276407500800 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 01:54:40.026 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39125276407500800 [0;39m ------------- 结束 耗时：796961 ms -------------
2023-05-16 01:54:40.299 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 01:54:40.302 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-16 01:54:40.303 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-16 01:54:40.304 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-16 01:54:40.415 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-16 01:54:40.613 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 01:54:40.620 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-16 01:54:40.621 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-16 19:59:57.868 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 11960 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-16 19:59:57.868 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-16 19:59:57.868 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-16 19:59:57.905 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-16 19:59:57.910 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-16 19:59:58.572 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-16 19:59:58.572 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-16 19:59:58.598 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2023-05-16 19:59:58.775 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$2b564e9d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:58.791 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.130 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.131 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$cd90c39e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.131 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.131 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.137 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.137 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.137 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.137 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.137 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.153 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.153 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.153 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.159 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 19:59:59.170 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:00:00.119 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:00:00.124 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:00:00.539 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-16 20:00:00.550 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-16 20:00:00.550 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-16 20:00:00.550 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-16 20:00:00.634 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-16 20:00:00.634 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2724 ms
2023-05-16 20:00:01.345 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-16 20:00:01.670 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-16 20:00:01.735 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-16 20:00:02.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:00:02.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:00:04.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:00:07.406 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 20:00:07.406 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-16 20:00:07.420 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-16 20:00:07.654 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-16 20:00:07.676 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 10.157 seconds (JVM running for 15.918)
2023-05-16 20:00:07.681 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-16 20:00:07.681 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-16 20:00:09.969 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:00:32.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:00:34.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:00:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39401898910027776 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:00:35.025 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39401898910027776 [0;39m HikariPool-1 - Starting...
2023-05-16 20:00:35.617 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39401898910027776 [0;39m HikariPool-1 - Start completed.
2023-05-16 20:00:35.617 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39401898910027776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:00:35.638 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39401898910027776 [0;39m ==> Parameters: 
2023-05-16 20:00:35.651 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39401898910027776 [0;39m <==    Updates: 2
2023-05-16 20:00:35.655 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39401898910027776 [0;39m 更新电子书下的文档数据结束，耗时：646毫秒
2023-05-16 20:00:36.091 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:01:00.082 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39402004073811968 [0;39m 生成今日电子书快照开始
2023-05-16 20:01:00.089 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39402004073811968 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:01:00.092 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39402004073811968 [0;39m ==> Parameters: 
2023-05-16 20:01:00.105 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39402004073811968 [0;39m <==    Updates: 0
2023-05-16 20:01:00.105 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39402004073811968 [0;39m 生成今日电子书快照结束，耗时：16毫秒
2023-05-16 20:01:00.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:01:02.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:01:04.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:01:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39402024743342080 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:01:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402024743342080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:01:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402024743342080 [0;39m ==> Parameters: 
2023-05-16 20:01:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402024743342080 [0;39m <==    Updates: 2
2023-05-16 20:01:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39402024743342080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:01:06.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:01:24.466 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:01:31.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:01:32.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:01:33.869 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:01:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39402150547296256 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:01:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402150547296256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:01:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402150547296256 [0;39m ==> Parameters: 
2023-05-16 20:01:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402150547296256 [0;39m <==    Updates: 2
2023-05-16 20:01:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39402150547296256 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:01:35.903 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:01:46.519 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:01:48.561 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39402255438450688 [0;39m 生成今日电子书快照开始
2023-05-16 20:02:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39402255438450688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:02:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39402255438450688 [0;39m ==> Parameters: 
2023-05-16 20:02:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39402255438450688 [0;39m <==    Updates: 0
2023-05-16 20:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39402255438450688 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:02:01.827 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:02:02.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:02:03.858 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:02:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39402276388999168 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:02:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402276388999168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:02:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402276388999168 [0;39m ==> Parameters: 
2023-05-16 20:02:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402276388999168 [0;39m <==    Updates: 2
2023-05-16 20:02:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39402276388999168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 20:02:05.894 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:02:10.596 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:02:12.663 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:02:31.833 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:02:32.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:02:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39402402226507776 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:02:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402402226507776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:02:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402402226507776 [0;39m ==> Parameters: 
2023-05-16 20:02:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402402226507776 [0;39m <==    Updates: 2
2023-05-16 20:02:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39402402226507776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:02:35.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:02:37.960 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:02:40.501 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-16 20:02:40.501 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-16 20:02:40.501 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2023-05-16 20:02:40.556 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：BxoFpZrLKu，session id：0，当前连接数：1
2023-05-16 20:02:40.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39402425693638656 [0;39m ------------- 开始 -------------
2023-05-16 20:02:40.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39402425693638657 [0;39m ------------- 开始 -------------
2023-05-16 20:02:40.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39402425693638658 [0;39m ------------- 开始 -------------
2023-05-16 20:02:40.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39402425693638657 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-16 20:02:40.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39402425693638657 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-16 20:02:40.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39402425693638656 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-16 20:02:40.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39402425693638657 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:02:40.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39402425693638658 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-16 20:02:40.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39402425693638656 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-16 20:02:40.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39402425693638658 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-16 20:02:40.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39402425693638656 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:02:40.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39402425693638658 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:02:40.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39402425693638658 [0;39m 请求参数: []
2023-05-16 20:02:40.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39402425693638657 [0;39m 请求参数: []
2023-05-16 20:02:40.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39402425693638656 [0;39m 请求参数: []
2023-05-16 20:02:40.789 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39402425693638656 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-16 20:02:40.789 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39402425693638657 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-16 20:02:40.789 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39402425693638656 [0;39m ==> Parameters: 
2023-05-16 20:02:40.789 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39402425693638657 [0;39m ==> Parameters: 
2023-05-16 20:02:40.807 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39402425693638658 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-16 20:02:40.807 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39402425693638658 [0;39m ==> Parameters: 
2023-05-16 20:02:40.807 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39402425693638656 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-16 20:02:40.807 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39402425693638657 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-16 20:02:40.807 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39402425693638656 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-16 20:02:40.807 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39402425693638657 [0;39m <==        Row: 2023-05-15, 502, 12, 36, 0
2023-05-16 20:02:40.807 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39402425693638657 [0;39m <==        Row: 2023-05-16, 512, 12, 10, 0
2023-05-16 20:02:40.807 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39402425693638656 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-16 20:02:40.813 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39402425693638657 [0;39m <==      Total: 2
2023-05-16 20:02:40.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39402425693638656 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-16 20:02:40.813 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39402425693638656 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-16 20:02:40.814 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39402425693638656 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-16 20:02:40.814 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39402425693638656 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-16 20:02:40.815 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39402425693638656 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-16 20:02:40.815 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39402425693638656 [0;39m <==      Total: 7
2023-05-16 20:02:40.818 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==    Columns: id, parent, name, sort
2023-05-16 20:02:40.818 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-16 20:02:40.818 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-16 20:02:40.818 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-16 20:02:40.818 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 200, 0, Java, 200
2023-05-16 20:02:40.821 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-16 20:02:40.821 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-16 20:02:40.821 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 300, 0, Python, 300
2023-05-16 20:02:40.821 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-16 20:02:40.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-16 20:02:40.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-16 20:02:40.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-16 20:02:40.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-16 20:02:40.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-16 20:02:40.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-16 20:02:40.823 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39402425693638658 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-16 20:02:40.823 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39402425693638658 [0;39m <==      Total: 15
2023-05-16 20:02:40.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39402425693638658 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-16 20:02:40.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39402425693638656 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-16 20:02:40.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39402425693638658 [0;39m ------------- 结束 耗时：235 ms -------------
2023-05-16 20:02:40.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39402425693638656 [0;39m ------------- 结束 耗时：235 ms -------------
2023-05-16 20:02:40.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39402425693638657 [0;39m 返回结果: {"content":[{"date":1684080000000,"viewCount":502,"viewIncrease":36,"voteCount":12,"voteIncrease":0},{"date":1684166400000,"viewCount":512,"viewIncrease":10,"voteCount":12,"voteIncrease":0}],"success":true}
2023-05-16 20:02:40.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39402425693638657 [0;39m ------------- 结束 耗时：235 ms -------------
2023-05-16 20:02:59.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39402504890486784 [0;39m ------------- 开始 -------------
2023-05-16 20:02:59.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39402504890486784 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-16 20:02:59.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39402504890486784 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-16 20:02:59.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39402504890486784 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:02:59.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39402504890486784 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-16 20:02:59.520 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39402504890486784 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-16 20:02:59.520 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39402504890486784 [0;39m ==> Parameters: 202(Long)
2023-05-16 20:02:59.520 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39402504890486784 [0;39m <==    Columns: count(0)
2023-05-16 20:02:59.520 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39402504890486784 [0;39m <==        Row: 1
2023-05-16 20:02:59.520 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39402504890486784 [0;39m <==      Total: 1
2023-05-16 20:02:59.520 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39402504890486784 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-16 20:02:59.520 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39402504890486784 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-16 20:02:59.527 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39402504890486784 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-16 20:02:59.527 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39402504890486784 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 430, 12
2023-05-16 20:02:59.527 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39402504890486784 [0;39m <==      Total: 1
2023-05-16 20:02:59.527 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39402504890486784 [0;39m 总行数：1
2023-05-16 20:02:59.527 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39402504890486784 [0;39m 总页数：1
2023-05-16 20:02:59.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39402504890486784 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":430,"voteCount":12}],"total":1},"success":true}
2023-05-16 20:02:59.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39402504890486784 [0;39m ------------- 结束 耗时：48 ms -------------
2023-05-16 20:03:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39402507105079296 [0;39m 生成今日电子书快照开始
2023-05-16 20:03:00.014 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39402507105079296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:03:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39402507105079296 [0;39m ==> Parameters: 
2023-05-16 20:03:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39402507105079296 [0;39m <==    Updates: 0
2023-05-16 20:03:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39402507105079296 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-16 20:03:02.044 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:03:02.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:03:03.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39402521462181888 [0;39m ------------- 开始 -------------
2023-05-16 20:03:03.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39402521462181888 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-16 20:03:03.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39402521462181888 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-16 20:03:03.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39402521462181888 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:03:03.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39402521462181888 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-16 20:03:03.444 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39402521462181888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-16 20:03:03.444 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39402521462181888 [0;39m ==> Parameters: test(String)
2023-05-16 20:03:03.458 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39402521462181888 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:03.458 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m39402521462181888 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:03.458 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m39402521462181888 [0;39m <==      Total: 1
2023-05-16 20:03:03.463 INFO  com.jiawa.wiki.controller.UserController          :86   [32m39402521462181888 [0;39m 生成单点登录token：39402521571233792，并放入redis中
2023-05-16 20:03:03.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39402521462181888 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"test","token":"39402521571233792"},"success":true}
2023-05-16 20:03:03.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39402521462181888 [0;39m ------------- 结束 耗时：326 ms -------------
2023-05-16 20:03:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39402528076599296 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:03:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402528076599296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:03:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402528076599296 [0;39m ==> Parameters: 
2023-05-16 20:03:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402528076599296 [0;39m <==    Updates: 2
2023-05-16 20:03:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39402528076599296 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 20:03:07.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39402539002761216 [0;39m ------------- 开始 -------------
2023-05-16 20:03:07.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39402539002761217 [0;39m ------------- 开始 -------------
2023-05-16 20:03:07.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39402539002761216 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:03:07.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39402539002761217 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 20:03:07.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39402539002761217 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 20:03:07.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39402539002761216 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:03:07.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39402539002761217 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:03:07.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39402539002761216 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:03:07.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39402539002761217 [0;39m 请求参数: [1]
2023-05-16 20:03:07.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39402539002761216 [0;39m 请求参数: [1]
2023-05-16 20:03:07.626 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39402539002761216 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:03:07.627 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39402539002761216 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:07.629 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39402539002761217 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 20:03:07.631 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39402539002761216 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:03:07.631 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39402539002761217 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:07.632 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39402539002761216 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:03:07.632 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39402539002761217 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 20:03:07.633 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39402539002761217 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 396, 7
2023-05-16 20:03:07.633 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39402539002761217 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 20:03:07.633 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39402539002761216 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:03:07.634 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39402539002761217 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 20:03:07.634 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39402539002761217 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 20:03:07.635 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39402539002761217 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 20:03:07.635 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39402539002761216 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:03:07.635 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39402539002761217 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 20:03:07.635 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39402539002761216 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:03:07.635 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39402539002761217 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 20:03:07.636 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39402539002761217 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 20:03:07.636 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39402539002761216 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:03:07.636 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39402539002761217 [0;39m <==      Total: 8
2023-05-16 20:03:07.636 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39402539002761216 [0;39m <==      Total: 5
2023-05-16 20:03:07.637 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:07.637 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:07.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:07.638 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:07.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m <==      Total: 1
2023-05-16 20:03:07.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:07.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:07.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:07.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:07.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m <==      Total: 1
2023-05-16 20:03:07.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:07.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:03:07.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:07.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:03:07.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m <==      Total: 1
2023-05-16 20:03:07.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:07.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:07.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39402539002761217 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":396,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 20:03:07.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39402539002761217 [0;39m ------------- 结束 耗时：26 ms -------------
2023-05-16 20:03:07.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:07.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:07.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m <==      Total: 1
2023-05-16 20:03:07.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:07.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:07.647 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:07.648 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:07.648 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m <==      Total: 1
2023-05-16 20:03:07.649 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:07.649 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:07.650 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:07.650 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:07.650 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m <==      Total: 1
2023-05-16 20:03:07.651 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:07.651 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:07.652 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:07.653 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:07.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m <==      Total: 1
2023-05-16 20:03:07.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:07.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:07.655 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:07.655 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402539002761216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:07.655 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402539002761216 [0;39m <==      Total: 1
2023-05-16 20:03:07.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39402539002761216 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:03:07.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39402539002761216 [0;39m ------------- 结束 耗时：41 ms -------------
2023-05-16 20:03:07.776 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39402539661266944 [0;39m ------------- 开始 -------------
2023-05-16 20:03:07.776 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39402539661266944 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 20:03:07.776 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39402539661266944 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 20:03:07.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39402539661266944 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:03:07.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39402539661266944 [0;39m 请求参数: [1]
2023-05-16 20:03:07.777 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39402539661266944 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 20:03:07.778 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39402539661266944 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:07.784 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39402539661266944 [0;39m <==    Columns: id, content
2023-05-16 20:03:07.784 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39402539661266944 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 20:03:07.784 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39402539661266944 [0;39m <==      Total: 1
2023-05-16 20:03:07.786 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39402539661266944 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 20:03:07.787 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39402539661266944 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:07.790 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39402539661266944 [0;39m <==    Updates: 1
2023-05-16 20:03:07.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39402539661266944 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 20:03:07.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39402539661266944 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 20:03:08.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:03:09.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39402546279878656 [0;39m ------------- 开始 -------------
2023-05-16 20:03:09.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39402546279878656 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:03:09.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39402546279878656 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:03:09.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39402546279878656 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:03:09.355 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39402546279878656 [0;39m 请求参数: [1]
2023-05-16 20:03:09.356 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39402546279878656 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:03:09.356 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39402546279878656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:09.357 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39402546279878656 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:03:09.358 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39402546279878656 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:03:09.358 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39402546279878656 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:03:09.359 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39402546279878656 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:03:09.359 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39402546279878656 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:03:09.360 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39402546279878656 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:03:09.360 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39402546279878656 [0;39m <==      Total: 5
2023-05-16 20:03:09.360 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:09.361 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:09.362 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:09.363 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:09.363 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m <==      Total: 1
2023-05-16 20:03:09.363 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:09.364 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:09.365 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:09.365 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:09.365 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m <==      Total: 1
2023-05-16 20:03:09.366 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:09.366 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:03:09.367 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:09.367 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:03:09.367 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m <==      Total: 1
2023-05-16 20:03:09.368 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:09.368 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:09.369 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:09.369 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:09.369 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m <==      Total: 1
2023-05-16 20:03:09.370 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:09.370 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:09.371 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:09.371 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:09.371 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m <==      Total: 1
2023-05-16 20:03:09.372 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:09.373 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:09.373 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:09.374 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:09.374 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m <==      Total: 1
2023-05-16 20:03:09.375 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:09.375 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:09.376 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:09.376 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:09.378 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m <==      Total: 1
2023-05-16 20:03:09.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:03:09.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:03:09.381 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:03:09.381 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39402546279878656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:03:09.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39402546279878656 [0;39m <==      Total: 1
2023-05-16 20:03:09.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39402546279878656 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:03:09.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39402546279878656 [0;39m ------------- 结束 耗时：28 ms -------------
2023-05-16 20:03:24.083 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:03:26.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:03:31.829 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:03:32.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:03:33.878 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:03:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39402653859581952 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:03:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402653859581952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402653859581952 [0;39m ==> Parameters: 
2023-05-16 20:03:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402653859581952 [0;39m <==    Updates: 2
2023-05-16 20:03:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39402653859581952 [0;39m 更新电子书下的文档数据结束，耗时：11毫秒
2023-05-16 20:03:35.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:03:48.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:03:50.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:04:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39402758712987648 [0;39m 生成今日电子书快照开始
2023-05-16 20:04:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39402758712987648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:04:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39402758712987648 [0;39m ==> Parameters: 
2023-05-16 20:04:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39402758712987648 [0;39m <==    Updates: 0
2023-05-16 20:04:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39402758712987648 [0;39m 生成今日电子书快照结束，耗时：13毫秒
2023-05-16 20:04:01.843 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:04:02.157 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:04:03.883 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:04:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39402779684507648 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:04:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402779684507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:04:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402779684507648 [0;39m ==> Parameters: 
2023-05-16 20:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402779684507648 [0;39m <==    Updates: 2
2023-05-16 20:04:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39402779684507648 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 20:04:05.928 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:04:12.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:04:14.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:04:31.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:04:32.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:04:33.853 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:04:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39402905559764992 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:04:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402905559764992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:04:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402905559764992 [0;39m ==> Parameters: 
2023-05-16 20:04:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39402905559764992 [0;39m <==    Updates: 2
2023-05-16 20:04:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39402905559764992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 20:04:35.888 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:04:37.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:04:39.967 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:05:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39403010438336512 [0;39m 生成今日电子书快照开始
2023-05-16 20:05:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39403010438336512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:05:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39403010438336512 [0;39m ==> Parameters: 
2023-05-16 20:05:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39403010438336512 [0;39m <==    Updates: 0
2023-05-16 20:05:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39403010438336512 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-16 20:05:01.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:05:02.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:05:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39403031342747648 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:05:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403031342747648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:05:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403031342747648 [0;39m ==> Parameters: 
2023-05-16 20:05:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403031342747648 [0;39m <==    Updates: 2
2023-05-16 20:05:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39403031342747648 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:05:05.895 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:05:07.943 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:05:32.030 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:05:32.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:05:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39403157180256256 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:05:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403157180256256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:05:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403157180256256 [0;39m ==> Parameters: 
2023-05-16 20:05:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403157180256256 [0;39m <==    Updates: 2
2023-05-16 20:05:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39403157180256256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 20:05:36.098 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:05:38.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:05:54.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:05:56.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:06:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39403262033661952 [0;39m 生成今日电子书快照开始
2023-05-16 20:06:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39403262033661952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:06:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39403262033661952 [0;39m ==> Parameters: 
2023-05-16 20:06:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39403262033661952 [0;39m <==    Updates: 0
2023-05-16 20:06:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39403262033661952 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:06:01.826 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:06:02.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:06:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39403283030347776 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:06:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403283030347776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:06:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403283030347776 [0;39m ==> Parameters: 
2023-05-16 20:06:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403283030347776 [0;39m <==    Updates: 2
2023-05-16 20:06:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39403283030347776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 20:06:05.890 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:06:15.232 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：BxoFpZrLKu，session id：0！当前连接数：0
2023-05-16 20:06:17.559 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：TrP4UM3Z0b，session id：1，当前连接数：1
2023-05-16 20:06:17.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39403336054738944 [0;39m ------------- 开始 -------------
2023-05-16 20:06:17.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39403336054738944 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 20:06:17.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39403336054738944 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 20:06:17.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39403336054738945 [0;39m ------------- 开始 -------------
2023-05-16 20:06:17.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39403336054738944 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:06:17.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39403336054738945 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:06:17.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39403336054738944 [0;39m 请求参数: [1]
2023-05-16 20:06:17.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39403336054738945 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:06:17.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39403336054738945 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:06:17.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39403336054738945 [0;39m 请求参数: [1]
2023-05-16 20:06:17.653 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39403336054738945 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:06:17.653 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39403336054738944 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 20:06:17.653 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39403336054738945 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:17.653 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39403336054738944 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:17.654 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39403336054738944 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 20:06:17.654 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39403336054738945 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:06:17.654 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39403336054738944 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 397, 7
2023-05-16 20:06:17.654 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39403336054738945 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:06:17.654 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39403336054738944 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 20:06:17.654 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39403336054738944 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 20:06:17.655 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39403336054738945 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:06:17.655 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39403336054738944 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 20:06:17.655 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39403336054738945 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:06:17.655 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39403336054738944 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 20:06:17.655 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39403336054738944 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 20:06:17.655 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39403336054738945 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:06:17.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39403336054738944 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 20:06:17.656 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39403336054738945 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:06:17.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39403336054738944 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 20:06:17.656 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39403336054738945 [0;39m <==      Total: 5
2023-05-16 20:06:17.656 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:17.657 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:17.657 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39403336054738944 [0;39m <==      Total: 8
2023-05-16 20:06:17.657 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:17.658 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:17.658 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m <==      Total: 1
2023-05-16 20:06:17.659 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:17.659 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:17.659 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:17.659 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:17.659 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m <==      Total: 1
2023-05-16 20:06:17.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39403336054738944 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":397,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 20:06:17.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39403336054738944 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-16 20:06:17.660 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:17.660 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:06:17.661 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:17.661 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:06:17.661 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m <==      Total: 1
2023-05-16 20:06:17.662 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:17.662 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:17.662 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:17.663 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:17.663 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m <==      Total: 1
2023-05-16 20:06:17.663 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:17.664 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:17.664 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:17.664 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:17.665 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m <==      Total: 1
2023-05-16 20:06:17.665 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:17.665 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:17.666 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:17.666 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:17.666 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m <==      Total: 1
2023-05-16 20:06:17.667 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:17.667 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:17.668 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:17.668 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:17.668 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m <==      Total: 1
2023-05-16 20:06:17.669 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:17.669 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:17.669 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:17.669 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403336054738945 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:17.669 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403336054738945 [0;39m <==      Total: 1
2023-05-16 20:06:17.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39403336054738945 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:06:17.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39403336054738945 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-16 20:06:17.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39403336260259840 [0;39m ------------- 开始 -------------
2023-05-16 20:06:17.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39403336260259840 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 20:06:17.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39403336260259840 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 20:06:17.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39403336260259840 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:06:17.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39403336260259840 [0;39m 请求参数: [1]
2023-05-16 20:06:17.701 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39403336260259840 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 20:06:17.701 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39403336260259840 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:17.703 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39403336260259840 [0;39m <==    Columns: id, content
2023-05-16 20:06:17.703 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39403336260259840 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 20:06:17.703 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39403336260259840 [0;39m <==      Total: 1
2023-05-16 20:06:17.704 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39403336260259840 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 20:06:17.704 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39403336260259840 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:17.711 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39403336260259840 [0;39m <==    Updates: 1
2023-05-16 20:06:17.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39403336260259840 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 20:06:17.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39403336260259840 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 20:06:18.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:06:20.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:06:22.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39403356971732992 [0;39m ------------- 开始 -------------
2023-05-16 20:06:22.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39403356971732992 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:06:22.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39403356971732992 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:06:22.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39403356971732992 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:06:22.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39403356971732992 [0;39m 请求参数: [1]
2023-05-16 20:06:22.640 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39403356971732992 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:06:22.640 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39403356971732992 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:22.641 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39403356971732992 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:06:22.641 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39403356971732992 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:06:22.643 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39403356971732992 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:06:22.644 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39403356971732992 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:06:22.644 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39403356971732992 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:06:22.645 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39403356971732992 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:06:22.645 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39403356971732992 [0;39m <==      Total: 5
2023-05-16 20:06:22.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:22.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:22.647 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:22.647 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:22.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m <==      Total: 1
2023-05-16 20:06:22.648 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:22.648 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:22.649 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:22.649 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:22.649 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m <==      Total: 1
2023-05-16 20:06:22.650 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:22.650 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:06:22.650 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:22.650 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:06:22.652 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m <==      Total: 1
2023-05-16 20:06:22.652 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:22.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:22.653 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:22.654 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:22.654 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m <==      Total: 1
2023-05-16 20:06:22.654 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:22.654 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:22.655 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:22.656 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:22.656 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m <==      Total: 1
2023-05-16 20:06:22.657 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:22.657 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:22.658 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:22.659 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:22.659 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m <==      Total: 1
2023-05-16 20:06:22.660 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:22.660 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:22.661 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:22.661 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:22.661 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m <==      Total: 1
2023-05-16 20:06:22.661 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:06:22.661 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:06:22.663 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:06:22.664 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39403356971732992 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:06:22.664 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39403356971732992 [0;39m <==      Total: 1
2023-05-16 20:06:22.664 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39403356971732992 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:06:22.664 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39403356971732992 [0;39m ------------- 结束 耗时：26 ms -------------
2023-05-16 20:06:32.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:06:33.950 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:06:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39403408876244992 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:06:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403408876244992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:06:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403408876244992 [0;39m ==> Parameters: 
2023-05-16 20:06:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403408876244992 [0;39m <==    Updates: 2
2023-05-16 20:06:35.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39403408876244992 [0;39m 更新电子书下的文档数据结束，耗时：10毫秒
2023-05-16 20:06:35.991 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:06:44.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:07:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39403513704484864 [0;39m 生成今日电子书快照开始
2023-05-16 20:07:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39403513704484864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:07:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39403513704484864 [0;39m ==> Parameters: 
2023-05-16 20:07:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39403513704484864 [0;39m <==    Updates: 0
2023-05-16 20:07:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39403513704484864 [0;39m 生成今日电子书快照结束，耗时：13毫秒
2023-05-16 20:07:02.165 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:07:03.859 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:07:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39403534676004864 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:07:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403534676004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:07:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403534676004864 [0;39m ==> Parameters: 
2023-05-16 20:07:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403534676004864 [0;39m <==    Updates: 2
2023-05-16 20:07:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39403534676004864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 20:07:05.908 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:07:07.940 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:07:09.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:07:31.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:07:32.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:07:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39403660488347648 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:07:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403660488347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:07:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403660488347648 [0;39m ==> Parameters: 
2023-05-16 20:07:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403660488347648 [0;39m <==    Updates: 2
2023-05-16 20:07:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39403660488347648 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 20:07:35.865 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:07:37.902 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39403765375307776 [0;39m 生成今日电子书快照开始
2023-05-16 20:08:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39403765375307776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:08:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39403765375307776 [0;39m ==> Parameters: 
2023-05-16 20:08:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39403765375307776 [0;39m <==    Updates: 0
2023-05-16 20:08:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39403765375307776 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 20:08:01.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:02.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:04.007 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39403786313273344 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:08:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403786313273344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:08:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403786313273344 [0;39m ==> Parameters: 
2023-05-16 20:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403786313273344 [0;39m <==    Updates: 2
2023-05-16 20:08:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39403786313273344 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 20:08:06.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:08.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:24.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:26.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:31.846 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:32.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:33.862 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39403912171753472 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:08:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403912171753472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:08:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403912171753472 [0;39m ==> Parameters: 
2023-05-16 20:08:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39403912171753472 [0;39m <==    Updates: 2
2023-05-16 20:08:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39403912171753472 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 20:08:35.899 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:48.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:08:50.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:09:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39404016999993344 [0;39m 生成今日电子书快照开始
2023-05-16 20:09:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39404016999993344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:09:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39404016999993344 [0;39m ==> Parameters: 
2023-05-16 20:09:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39404016999993344 [0;39m <==    Updates: 0
2023-05-16 20:09:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39404016999993344 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 20:09:01.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:09:02.181 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:09:03.827 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:09:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39404037979901952 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:09:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404037979901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:09:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404037979901952 [0;39m ==> Parameters: 
2023-05-16 20:09:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404037979901952 [0;39m <==    Updates: 2
2023-05-16 20:09:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39404037979901952 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 20:09:05.847 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:09:12.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:09:14.233 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:09:16.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404085740441600 [0;39m ------------- 开始 -------------
2023-05-16 20:09:16.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404085740441600 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:09:16.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404085740441600 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:09:16.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404085740441600 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:09:16.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404085740441600 [0;39m 请求参数: [1]
2023-05-16 20:09:16.391 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404085740441600 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:09:16.392 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404085740441600 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:09:16.393 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404085740441600 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:09:16.393 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404085740441600 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:09:16.394 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404085740441600 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:09:16.394 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404085740441600 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:09:16.394 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404085740441600 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:09:16.395 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404085740441600 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:09:16.395 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404085740441600 [0;39m <==      Total: 5
2023-05-16 20:09:16.396 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:09:16.396 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:09:16.397 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:09:16.397 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:09:16.397 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m <==      Total: 1
2023-05-16 20:09:16.397 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:09:16.397 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:09:16.398 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:09:16.398 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:09:16.398 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m <==      Total: 1
2023-05-16 20:09:16.399 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:09:16.399 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:09:16.400 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:09:16.400 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:09:16.400 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m <==      Total: 1
2023-05-16 20:09:16.400 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:09:16.401 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:09:16.401 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:09:16.401 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:09:16.401 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m <==      Total: 1
2023-05-16 20:09:16.402 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:09:16.402 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:09:16.403 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:09:16.403 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:09:16.403 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m <==      Total: 1
2023-05-16 20:09:16.404 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:09:16.404 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:09:16.404 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:09:16.404 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:09:16.405 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m <==      Total: 1
2023-05-16 20:09:16.405 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:09:16.405 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:09:16.406 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:09:16.406 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:09:16.406 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m <==      Total: 1
2023-05-16 20:09:16.407 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:09:16.407 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:09:16.407 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:09:16.408 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404085740441600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:09:16.408 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404085740441600 [0;39m <==      Total: 1
2023-05-16 20:09:16.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404085740441600 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:09:16.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404085740441600 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-16 20:09:31.827 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:09:32.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:09:33.846 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:09:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39404163855159296 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:09:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404163855159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:09:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404163855159296 [0;39m ==> Parameters: 
2023-05-16 20:09:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404163855159296 [0;39m <==    Updates: 2
2023-05-16 20:09:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39404163855159296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 20:09:35.889 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:09:37.922 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:09:39.957 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:10:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39404268712759296 [0;39m 生成今日电子书快照开始
2023-05-16 20:10:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39404268712759296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:10:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39404268712759296 [0;39m ==> Parameters: 
2023-05-16 20:10:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39404268712759296 [0;39m <==    Updates: 0
2023-05-16 20:10:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39404268712759296 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 20:10:01.839 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:10:02.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:10:03.867 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:10:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39404289663307776 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:10:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404289663307776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:10:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404289663307776 [0;39m ==> Parameters: 
2023-05-16 20:10:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404289663307776 [0;39m <==    Updates: 2
2023-05-16 20:10:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39404289663307776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 20:10:05.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:10:07.953 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:10:18.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404347544702976 [0;39m ------------- 开始 -------------
2023-05-16 20:10:18.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404347548897280 [0;39m ------------- 开始 -------------
2023-05-16 20:10:18.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404347548897280 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:10:18.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404347544702976 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 20:10:18.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404347548897280 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:10:18.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404347544702976 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 20:10:18.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404347544702976 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:18.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404347548897280 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:18.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404347544702976 [0;39m 请求参数: [1]
2023-05-16 20:10:18.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404347548897280 [0;39m 请求参数: [1]
2023-05-16 20:10:18.811 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404347548897280 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:10:18.811 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39404347544702976 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 20:10:18.812 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404347548897280 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.812 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39404347544702976 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.812 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404347544702976 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 20:10:18.812 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404347548897280 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:10:18.812 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404347544702976 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 398, 7
2023-05-16 20:10:18.813 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404347548897280 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:10:18.813 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404347544702976 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 20:10:18.813 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404347544702976 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 20:10:18.813 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404347548897280 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:10:18.814 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404347544702976 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 20:10:18.814 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404347544702976 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 20:10:18.814 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404347548897280 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:10:18.814 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404347544702976 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 20:10:18.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404347544702976 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 20:10:18.815 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404347548897280 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:10:18.815 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404347544702976 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 20:10:18.815 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404347548897280 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:10:18.815 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39404347544702976 [0;39m <==      Total: 8
2023-05-16 20:10:18.816 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404347548897280 [0;39m <==      Total: 5
2023-05-16 20:10:18.816 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.816 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404347544702976 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":398,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 20:10:18.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404347544702976 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-16 20:10:18.817 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.817 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.818 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m <==      Total: 1
2023-05-16 20:10:18.818 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.818 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.819 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.819 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.819 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m <==      Total: 1
2023-05-16 20:10:18.820 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.821 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:10:18.821 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.821 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:10:18.822 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m <==      Total: 1
2023-05-16 20:10:18.822 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.822 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.823 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.823 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.823 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m <==      Total: 1
2023-05-16 20:10:18.824 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.824 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m <==      Total: 1
2023-05-16 20:10:18.826 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.826 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.827 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.827 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.828 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m <==      Total: 1
2023-05-16 20:10:18.828 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.828 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.829 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.829 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.830 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m <==      Total: 1
2023-05-16 20:10:18.830 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404347548897280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404347548897280 [0;39m <==      Total: 1
2023-05-16 20:10:18.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404347548897280 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:10:18.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404347548897280 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-16 20:10:18.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404347787972608 [0;39m ------------- 开始 -------------
2023-05-16 20:10:18.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404347787972608 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 20:10:18.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404347787972608 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 20:10:18.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404347787972608 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:18.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404347787972608 [0;39m 请求参数: [1]
2023-05-16 20:10:18.869 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39404347787972608 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 20:10:18.869 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39404347787972608 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.870 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39404347787972608 [0;39m <==    Columns: id, content
2023-05-16 20:10:18.871 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39404347787972608 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 20:10:18.871 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39404347787972608 [0;39m <==      Total: 1
2023-05-16 20:10:18.871 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39404347787972608 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 20:10:18.872 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39404347787972608 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.880 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39404347787972608 [0;39m <==    Updates: 1
2023-05-16 20:10:18.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404347787972608 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 20:10:18.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404347787972608 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 20:10:18.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404348064796672 [0;39m ------------- 开始 -------------
2023-05-16 20:10:18.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404348064796672 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:10:18.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404348064796673 [0;39m ------------- 开始 -------------
2023-05-16 20:10:18.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404348064796672 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:10:18.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404348064796673 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 20:10:18.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404348064796672 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:18.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404348064796673 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 20:10:18.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404348064796672 [0;39m 请求参数: [1]
2023-05-16 20:10:18.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404348064796673 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:18.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404348064796673 [0;39m 请求参数: [1]
2023-05-16 20:10:18.934 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404348064796672 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:10:18.934 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404348064796672 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.934 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39404348064796673 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 20:10:18.935 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39404348064796673 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.935 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404348064796672 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:10:18.935 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404348064796673 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 20:10:18.935 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404348064796672 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:10:18.935 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404348064796673 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 399, 7
2023-05-16 20:10:18.936 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404348064796673 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 20:10:18.936 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404348064796672 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:10:18.936 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404348064796673 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 20:10:18.936 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404348064796672 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:10:18.936 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404348064796673 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 20:10:18.936 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404348064796673 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 20:10:18.936 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404348064796672 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:10:18.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404348064796673 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 20:10:18.937 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404348064796672 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:10:18.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404348064796673 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 20:10:18.938 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404348064796672 [0;39m <==      Total: 5
2023-05-16 20:10:18.938 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404348064796673 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 20:10:18.938 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39404348064796673 [0;39m <==      Total: 8
2023-05-16 20:10:18.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404348064796673 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":399,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 20:10:18.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404348064796673 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-16 20:10:18.939 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.940 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.940 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m <==      Total: 1
2023-05-16 20:10:18.940 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.941 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.941 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.942 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m <==      Total: 1
2023-05-16 20:10:18.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.943 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:10:18.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:10:18.944 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m <==      Total: 1
2023-05-16 20:10:18.944 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.944 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.945 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.945 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.945 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m <==      Total: 1
2023-05-16 20:10:18.945 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.946 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.946 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.946 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m <==      Total: 1
2023-05-16 20:10:18.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.947 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.947 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.948 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m <==      Total: 1
2023-05-16 20:10:18.948 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.948 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.949 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.949 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.949 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m <==      Total: 1
2023-05-16 20:10:18.950 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:18.950 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.950 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:18.951 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404348064796672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:18.951 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404348064796672 [0;39m <==      Total: 1
2023-05-16 20:10:18.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404348064796672 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:10:18.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404348064796672 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-16 20:10:18.973 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404348232568832 [0;39m ------------- 开始 -------------
2023-05-16 20:10:18.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404348232568832 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 20:10:18.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404348232568832 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 20:10:18.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404348232568832 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:18.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404348232568832 [0;39m 请求参数: [1]
2023-05-16 20:10:18.974 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39404348232568832 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 20:10:18.975 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39404348232568832 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.976 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39404348232568832 [0;39m <==    Columns: id, content
2023-05-16 20:10:18.976 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39404348232568832 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 20:10:18.976 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39404348232568832 [0;39m <==      Total: 1
2023-05-16 20:10:18.977 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39404348232568832 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 20:10:18.977 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39404348232568832 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:18.978 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39404348232568832 [0;39m <==    Updates: 1
2023-05-16 20:10:18.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404348232568832 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 20:10:18.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404348232568832 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-16 20:10:21.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404358064017408 [0;39m ------------- 开始 -------------
2023-05-16 20:10:21.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404358064017408 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:10:21.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404358064017408 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:10:21.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404358064017408 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:21.318 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404358064017408 [0;39m 请求参数: [1]
2023-05-16 20:10:21.319 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404358064017408 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:10:21.319 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404358064017408 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:21.320 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404358064017408 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:10:21.320 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404358064017408 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:10:21.321 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404358064017408 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:10:21.321 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404358064017408 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:10:21.322 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404358064017408 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:10:21.322 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404358064017408 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:10:21.322 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404358064017408 [0;39m <==      Total: 5
2023-05-16 20:10:21.323 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:21.323 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:21.324 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:21.324 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:21.324 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m <==      Total: 1
2023-05-16 20:10:21.324 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:21.325 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:21.325 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:21.325 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:21.326 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m <==      Total: 1
2023-05-16 20:10:21.326 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:21.326 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:10:21.328 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:21.328 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:10:21.328 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m <==      Total: 1
2023-05-16 20:10:21.328 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:21.329 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:21.329 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:21.329 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:21.330 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m <==      Total: 1
2023-05-16 20:10:21.330 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:21.331 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:21.331 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:21.331 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:21.332 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m <==      Total: 1
2023-05-16 20:10:21.332 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:21.332 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:21.333 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:21.333 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:21.333 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m <==      Total: 1
2023-05-16 20:10:21.333 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:21.334 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:21.334 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:21.334 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:21.334 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m <==      Total: 1
2023-05-16 20:10:21.335 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:21.335 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:21.335 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:21.336 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404358064017408 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:21.336 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404358064017408 [0;39m <==      Total: 1
2023-05-16 20:10:21.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404358064017408 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:10:21.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404358064017408 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-16 20:10:32.037 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:10:32.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:10:33.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404409045782528 [0;39m ------------- 开始 -------------
2023-05-16 20:10:33.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404409045782528 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:10:33.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404409045782528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:10:33.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404409045782528 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:33.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404409045782528 [0;39m 请求参数: [1]
2023-05-16 20:10:33.474 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404409045782528 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:10:33.474 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404409045782528 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:33.475 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404409045782528 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:10:33.475 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404409045782528 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:10:33.476 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404409045782528 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:10:33.476 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404409045782528 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:10:33.477 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404409045782528 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:10:33.477 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404409045782528 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:10:33.477 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404409045782528 [0;39m <==      Total: 5
2023-05-16 20:10:33.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:33.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:33.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:33.479 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:33.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m <==      Total: 1
2023-05-16 20:10:33.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:33.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:33.480 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:33.480 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:33.480 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m <==      Total: 1
2023-05-16 20:10:33.481 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:33.481 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:10:33.482 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:33.482 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:10:33.482 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m <==      Total: 1
2023-05-16 20:10:33.483 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:33.483 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:33.484 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:33.484 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:33.484 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m <==      Total: 1
2023-05-16 20:10:33.484 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:33.485 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:33.485 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:33.485 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:33.486 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m <==      Total: 1
2023-05-16 20:10:33.486 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:33.486 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:33.487 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:33.487 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:33.487 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m <==      Total: 1
2023-05-16 20:10:33.488 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:33.489 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:33.490 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:33.490 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:33.490 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m <==      Total: 1
2023-05-16 20:10:33.491 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:33.491 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:33.491 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:33.492 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404409045782528 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:33.492 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404409045782528 [0;39m <==      Total: 1
2023-05-16 20:10:33.493 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404409045782528 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:10:33.493 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404409045782528 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-16 20:10:34.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:10:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39404415471456256 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:10:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404415471456256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:10:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404415471456256 [0;39m ==> Parameters: 
2023-05-16 20:10:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404415471456256 [0;39m <==    Updates: 2
2023-05-16 20:10:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39404415471456256 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-16 20:10:36.121 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:10:38.173 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:10:38.562 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39404085740441600 [0;39m 连接关闭，token：TrP4UM3Z0b，session id：1！当前连接数：0
2023-05-16 20:10:40.221 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39402521462181888 [0;39m 有新连接：token：ZcruQg1tRP，session id：2，当前连接数：1
2023-05-16 20:10:40.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404438435270656 [0;39m ------------- 开始 -------------
2023-05-16 20:10:40.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404438435270657 [0;39m ------------- 开始 -------------
2023-05-16 20:10:40.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404438435270656 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:10:40.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404438435270657 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 20:10:40.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404438435270657 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 20:10:40.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404438435270656 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:10:40.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404438435270657 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:40.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404438435270656 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:40.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404438435270656 [0;39m 请求参数: [1]
2023-05-16 20:10:40.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404438435270657 [0;39m 请求参数: [1]
2023-05-16 20:10:40.480 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404438435270656 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:10:40.481 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404438435270656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:40.481 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39404438435270657 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 20:10:40.481 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39404438435270657 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:40.482 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404438435270656 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:10:40.482 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404438435270657 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 20:10:40.482 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404438435270656 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:10:40.482 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404438435270657 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 400, 7
2023-05-16 20:10:40.482 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404438435270656 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:10:40.482 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404438435270657 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 20:10:40.484 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404438435270657 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 20:10:40.484 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404438435270657 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 20:10:40.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404438435270657 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 20:10:40.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404438435270657 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 20:10:40.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404438435270657 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 20:10:40.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39404438435270657 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 20:10:40.486 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39404438435270657 [0;39m <==      Total: 8
2023-05-16 20:10:40.485 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404438435270656 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:10:40.486 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404438435270656 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:10:40.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404438435270657 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":400,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 20:10:40.486 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404438435270656 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:10:40.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404438435270657 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-16 20:10:40.487 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404438435270656 [0;39m <==      Total: 5
2023-05-16 20:10:40.487 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:40.487 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:40.489 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:40.489 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:40.489 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m <==      Total: 1
2023-05-16 20:10:40.489 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:40.490 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:40.490 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:40.491 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:40.491 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m <==      Total: 1
2023-05-16 20:10:40.491 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:40.492 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:10:40.492 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:40.492 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:10:40.493 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m <==      Total: 1
2023-05-16 20:10:40.493 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:40.493 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:40.493 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:40.493 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:40.494 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m <==      Total: 1
2023-05-16 20:10:40.494 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:40.494 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:40.495 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:40.495 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:40.495 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m <==      Total: 1
2023-05-16 20:10:40.496 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:40.496 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:40.497 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:40.497 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:40.497 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m <==      Total: 1
2023-05-16 20:10:40.497 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:40.498 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:40.498 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:40.498 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:40.498 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m <==      Total: 1
2023-05-16 20:10:40.499 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:40.499 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:40.500 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:40.500 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404438435270656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:40.500 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404438435270656 [0;39m <==      Total: 1
2023-05-16 20:10:40.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404438435270656 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:10:40.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404438435270656 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-16 20:10:40.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404438795980800 [0;39m ------------- 开始 -------------
2023-05-16 20:10:40.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404438795980800 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 20:10:40.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404438795980800 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 20:10:40.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404438795980800 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:40.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404438795980800 [0;39m 请求参数: [1]
2023-05-16 20:10:40.568 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39404438795980800 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 20:10:40.568 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39404438795980800 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:40.569 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39404438795980800 [0;39m <==    Columns: id, content
2023-05-16 20:10:40.569 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39404438795980800 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 20:10:40.570 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39404438795980800 [0;39m <==      Total: 1
2023-05-16 20:10:40.570 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39404438795980800 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 20:10:40.571 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39404438795980800 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:40.578 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39404438795980800 [0;39m <==    Updates: 1
2023-05-16 20:10:40.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404438795980800 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 20:10:40.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404438795980800 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-16 20:10:42.352 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404446291202048 [0;39m ------------- 开始 -------------
2023-05-16 20:10:42.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404446291202048 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:10:42.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404446291202048 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:10:42.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404446291202048 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:42.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404446291202048 [0;39m 请求参数: [1]
2023-05-16 20:10:42.354 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404446291202048 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:10:42.354 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404446291202048 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:42.355 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404446291202048 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:10:42.355 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404446291202048 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:10:42.356 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404446291202048 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:10:42.356 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404446291202048 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:10:42.356 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404446291202048 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:10:42.357 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404446291202048 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:10:42.357 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404446291202048 [0;39m <==      Total: 5
2023-05-16 20:10:42.358 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:42.358 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:42.358 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:42.358 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:42.359 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m <==      Total: 1
2023-05-16 20:10:42.360 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:42.360 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:42.361 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:42.361 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:42.362 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m <==      Total: 1
2023-05-16 20:10:42.362 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:42.363 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:10:42.364 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:42.364 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:10:42.364 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m <==      Total: 1
2023-05-16 20:10:42.364 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:42.365 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:42.365 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:42.365 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:42.366 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m <==      Total: 1
2023-05-16 20:10:42.366 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:42.367 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:42.367 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:42.367 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:42.368 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m <==      Total: 1
2023-05-16 20:10:42.368 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:42.368 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:42.369 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:42.369 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:42.369 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m <==      Total: 1
2023-05-16 20:10:42.369 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:42.370 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:42.370 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:42.370 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:42.371 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m <==      Total: 1
2023-05-16 20:10:42.371 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:42.371 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:42.372 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:42.372 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404446291202048 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:42.372 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404446291202048 [0;39m <==      Total: 1
2023-05-16 20:10:42.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404446291202048 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:10:42.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404446291202048 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-16 20:10:53.172 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39404348064796672 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-16 20:10:53.173 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39404348064796672 [0;39m ------------- LoginInterceptor 结束 耗时：1 ms -------------
2023-05-16 20:10:53.177 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39404348232568832 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-16 20:10:53.178 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39404348232568832 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment/
2023-05-16 20:10:53.178 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39404348232568832 [0;39m 登录校验开始，token：39402521571233792
2023-05-16 20:10:53.181 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39404348232568832 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-16 20:10:53.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404491795206144 [0;39m ------------- 开始 -------------
2023-05-16 20:10:53.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404491795206144 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment/ POST
2023-05-16 20:10:53.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404491795206144 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-16 20:10:53.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404491795206144 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:10:53.203 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404491795206144 [0;39m 请求参数: [{"ebookId":1,"replies":[],"userId":1}]
2023-05-16 20:10:53.204 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404491795206144 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:53.204 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404491795206144 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:10:53.205 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404491795206144 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:10:53.205 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404491795206144 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:10:53.205 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404491795206144 [0;39m <==      Total: 1
2023-05-16 20:10:53.205 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404491795206144 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:10:53.205 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404491795206144 [0;39m ==> Parameters: null
2023-05-16 20:10:53.206 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404491795206144 [0;39m <==      Total: 0
2023-05-16 20:10:53.206 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39404491795206144 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-16 20:10:53.207 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39404491795206144 [0;39m ==> Parameters: 1(Long), 1(Long), null, null, null, 2023-05-16 20:10:53.206(Timestamp), null
2023-05-16 20:10:53.215 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39404491795206144 [0;39m <==    Updates: 1
2023-05-16 20:10:53.217 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39404491795206144 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-16 20:10:53.217 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39404491795206144 [0;39m ==> Parameters: 41(Long)
2023-05-16 20:10:53.218 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39404491795206144 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:10:53.218 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39404491795206144 [0;39m <==        Row: 41, 1, 1, null, null, null, 2023-05-16 20:10:53, null
2023-05-16 20:10:53.218 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39404491795206144 [0;39m <==      Total: 1
2023-05-16 20:10:53.219 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39404491795206144 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:104)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor142.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$e4803e14.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-16 20:10:53.220 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39404491795206144 [0;39m Resolved [java.lang.NullPointerException]
2023-05-16 20:10:54.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:10:56.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:11:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39404520345833472 [0;39m 生成今日电子书快照开始
2023-05-16 20:11:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39404520345833472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:11:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39404520345833472 [0;39m ==> Parameters: 
2023-05-16 20:11:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39404520345833472 [0;39m <==    Updates: 0
2023-05-16 20:11:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39404520345833472 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 20:11:01.817 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:11:02.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:11:03.847 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:11:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39404541292187648 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:11:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404541292187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:11:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404541292187648 [0;39m ==> Parameters: 
2023-05-16 20:11:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404541292187648 [0;39m <==    Updates: 2
2023-05-16 20:11:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39404541292187648 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-16 20:11:05.884 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:11:08.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404555431186432 [0;39m ------------- 开始 -------------
2023-05-16 20:11:08.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404555431186432 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:11:08.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404555431186432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:11:08.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404555431186432 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:11:08.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404555431186432 [0;39m 请求参数: [1]
2023-05-16 20:11:08.374 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404555431186432 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:11:08.375 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404555431186432 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:08.375 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404555431186432 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:11:08.376 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404555431186432 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:11:08.376 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404555431186432 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:11:08.377 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404555431186432 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:11:08.377 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404555431186432 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:11:08.378 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404555431186432 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:11:08.378 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404555431186432 [0;39m <==        Row: 41, 1, 1, null, null, null, 2023-05-16 20:10:53, null
2023-05-16 20:11:08.378 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404555431186432 [0;39m <==      Total: 6
2023-05-16 20:11:08.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:08.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:08.380 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:08.380 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:08.380 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m <==      Total: 1
2023-05-16 20:11:08.380 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:08.381 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:08.381 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:08.381 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:08.382 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m <==      Total: 1
2023-05-16 20:11:08.382 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:08.382 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:11:08.383 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:08.383 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:11:08.383 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m <==      Total: 1
2023-05-16 20:11:08.384 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:08.384 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:08.385 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:08.385 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:08.385 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m <==      Total: 1
2023-05-16 20:11:08.385 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:08.386 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:08.386 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:08.386 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:08.387 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m <==      Total: 1
2023-05-16 20:11:08.387 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:08.387 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:08.388 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:08.388 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:08.388 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m <==      Total: 1
2023-05-16 20:11:08.388 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:08.388 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:08.389 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:08.389 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:08.389 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m <==      Total: 1
2023-05-16 20:11:08.390 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:08.390 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:08.390 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:08.391 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:08.391 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m <==      Total: 1
2023-05-16 20:11:08.391 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:08.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:08.392 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:08.392 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404555431186432 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:08.393 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404555431186432 [0;39m <==      Total: 1
2023-05-16 20:11:08.393 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404555431186432 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"createTime":1684239053000,"ebookId":1,"id":41,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-16 20:11:08.393 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404555431186432 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-16 20:11:13.901 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39404409045782528 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-16 20:11:13.902 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39404409045782528 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment/
2023-05-16 20:11:13.903 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39404409045782528 [0;39m 登录校验开始，token：39402521571233792
2023-05-16 20:11:13.904 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39404409045782528 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-16 20:11:13.905 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404578634076160 [0;39m ------------- 开始 -------------
2023-05-16 20:11:13.905 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404578634076160 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment/ POST
2023-05-16 20:11:13.905 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404578634076160 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-16 20:11:13.905 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404578634076160 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:11:13.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404578634076160 [0;39m 请求参数: [{"ebookId":1,"replies":[],"userId":1}]
2023-05-16 20:11:13.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404578634076160 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:13.907 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404578634076160 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:13.908 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404578634076160 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:13.908 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404578634076160 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:13.908 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404578634076160 [0;39m <==      Total: 1
2023-05-16 20:11:13.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404578634076160 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:13.909 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404578634076160 [0;39m ==> Parameters: null
2023-05-16 20:11:13.910 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404578634076160 [0;39m <==      Total: 0
2023-05-16 20:11:13.910 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39404578634076160 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-16 20:11:13.911 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39404578634076160 [0;39m ==> Parameters: 1(Long), 1(Long), null, null, null, 2023-05-16 20:11:13.91(Timestamp), null
2023-05-16 20:11:13.918 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39404578634076160 [0;39m <==    Updates: 1
2023-05-16 20:11:13.919 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39404578634076160 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-16 20:11:13.920 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39404578634076160 [0;39m ==> Parameters: 42(Long)
2023-05-16 20:11:13.920 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39404578634076160 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:11:13.921 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39404578634076160 [0;39m <==        Row: 42, 1, 1, null, null, null, 2023-05-16 20:11:14, null
2023-05-16 20:11:13.921 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39404578634076160 [0;39m <==      Total: 1
2023-05-16 20:11:13.922 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39404578634076160 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:104)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor142.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$e4803e14.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-16 20:11:13.923 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39404578634076160 [0;39m Resolved [java.lang.NullPointerException]
2023-05-16 20:11:15.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404585126858752 [0;39m ------------- 开始 -------------
2023-05-16 20:11:15.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404585126858752 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:11:15.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404585126858752 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:11:15.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404585126858752 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:11:15.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404585126858752 [0;39m 请求参数: [1]
2023-05-16 20:11:15.455 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404585126858752 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:11:15.455 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404585126858752 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:15.456 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404585126858752 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:11:15.456 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404585126858752 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:11:15.457 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404585126858752 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:11:15.457 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404585126858752 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:11:15.458 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404585126858752 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:11:15.458 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404585126858752 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:11:15.460 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404585126858752 [0;39m <==        Row: 41, 1, 1, null, null, null, 2023-05-16 20:10:53, null
2023-05-16 20:11:15.461 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404585126858752 [0;39m <==        Row: 42, 1, 1, null, null, null, 2023-05-16 20:11:14, null
2023-05-16 20:11:15.461 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404585126858752 [0;39m <==      Total: 7
2023-05-16 20:11:15.461 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:15.462 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:15.462 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:15.463 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:15.463 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m <==      Total: 1
2023-05-16 20:11:15.463 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:15.464 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:15.464 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:15.464 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:15.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m <==      Total: 1
2023-05-16 20:11:15.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:15.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:11:15.466 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:15.466 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:11:15.466 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m <==      Total: 1
2023-05-16 20:11:15.467 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:15.467 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:15.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:15.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:15.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m <==      Total: 1
2023-05-16 20:11:15.469 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:15.469 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:15.469 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:15.469 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:15.470 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m <==      Total: 1
2023-05-16 20:11:15.470 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:15.470 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:15.470 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:15.471 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:15.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m <==      Total: 1
2023-05-16 20:11:15.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:15.471 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:15.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:15.472 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:15.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m <==      Total: 1
2023-05-16 20:11:15.473 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:15.473 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:15.474 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:15.474 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:15.474 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m <==      Total: 1
2023-05-16 20:11:15.474 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:15.475 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:15.475 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:15.475 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:15.476 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m <==      Total: 1
2023-05-16 20:11:15.476 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:11:15.476 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:11:15.477 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:11:15.477 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404585126858752 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:11:15.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404585126858752 [0;39m <==      Total: 1
2023-05-16 20:11:15.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404585126858752 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"createTime":1684239053000,"ebookId":1,"id":41,"name":"test","replies":[],"userId":1},{"createTime":1684239074000,"ebookId":1,"id":42,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-16 20:11:15.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404585126858752 [0;39m ------------- 结束 耗时：25 ms -------------
2023-05-16 20:11:18.143 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:11:20.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:11:31.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:11:32.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:11:33.835 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:11:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39404667175833600 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:11:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404667175833600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:11:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404667175833600 [0;39m ==> Parameters: 
2023-05-16 20:11:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404667175833600 [0;39m <==    Updates: 2
2023-05-16 20:11:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39404667175833600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:11:35.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:11:44.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39404772033433600 [0;39m 生成今日电子书快照开始
2023-05-16 20:12:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39404772033433600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:12:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39404772033433600 [0;39m ==> Parameters: 
2023-05-16 20:12:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39404772033433600 [0;39m <==    Updates: 0
2023-05-16 20:12:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39404772033433600 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 20:12:01.830 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:02.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:03.862 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:04.038 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：ZcruQg1tRP，session id：2！当前连接数：0
2023-05-16 20:12:04.087 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 20:12:04.088 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-16 20:12:04.089 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-16 20:12:04.091 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-16 20:12:04.209 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-16 20:12:04.447 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-16 20:12:04.447 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-16 20:12:10.089 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-16 20:12:10.094 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 6716 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-16 20:12:10.094 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-16 20:12:10.153 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-16 20:12:10.153 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-16 20:12:11.134 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-16 20:12:11.134 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-16 20:12:11.166 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2023-05-16 20:12:11.438 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$d1dcd7a7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:11.454 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:11.977 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:11.983 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$74174ca8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:11.988 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:11.988 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:11.993 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:11.993 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:11.998 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:12.004 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:12.004 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:12.025 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:12.025 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:12.030 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:12.036 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:12.057 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:13.161 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:13.167 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 20:12:13.693 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-16 20:12:13.700 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-16 20:12:13.700 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-16 20:12:13.700 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-16 20:12:13.798 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-16 20:12:13.798 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 3645 ms
2023-05-16 20:12:14.785 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-16 20:12:15.351 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-16 20:12:15.373 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:15.422 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-16 20:12:15.622 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:17.882 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:19.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:19.917 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 20:12:19.917 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-16 20:12:19.925 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-16 20:12:19.935 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-16 20:12:19.966 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 10.34 seconds (JVM running for 12.132)
2023-05-16 20:12:19.971 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-16 20:12:19.971 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-16 20:12:21.960 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:24.006 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39404918783741952 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:12:35.024 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39404918783741952 [0;39m HikariPool-1 - Starting...
2023-05-16 20:12:35.501 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39404918783741952 [0;39m HikariPool-1 - Start completed.
2023-05-16 20:12:35.507 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404918783741952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:12:35.522 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404918783741952 [0;39m ==> Parameters: 
2023-05-16 20:12:35.524 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39404918783741952 [0;39m <==    Updates: 2
2023-05-16 20:12:35.525 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39404918783741952 [0;39m 更新电子书下的文档数据结束，耗时：521毫秒
2023-05-16 20:12:42.548 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-16 20:12:42.549 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-16 20:12:42.549 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2023-05-16 20:12:42.597 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39404950631092224 [0;39m ------------- 开始 -------------
2023-05-16 20:12:42.597 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39404950631092224 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:12:42.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39404950631092224 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:12:42.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39404950631092224 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:12:42.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39404950631092224 [0;39m 请求参数: [1]
2023-05-16 20:12:42.778 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404950631092224 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:12:42.779 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404950631092224 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:12:42.797 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404950631092224 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:12:42.801 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404950631092224 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:12:42.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404950631092224 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:12:42.805 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404950631092224 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:12:42.806 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404950631092224 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:12:42.807 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39404950631092224 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:12:42.807 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39404950631092224 [0;39m <==      Total: 5
2023-05-16 20:12:42.814 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:12:42.815 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:12:42.823 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:12:42.823 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:12:42.823 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m <==      Total: 1
2023-05-16 20:12:42.824 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:12:42.824 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:12:42.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:12:42.825 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:12:42.826 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m <==      Total: 1
2023-05-16 20:12:42.826 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:12:42.827 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:12:42.827 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:12:42.828 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:12:42.828 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m <==      Total: 1
2023-05-16 20:12:42.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:12:42.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:12:42.833 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:12:42.834 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:12:42.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m <==      Total: 1
2023-05-16 20:12:42.836 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:12:42.836 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:12:42.839 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:12:42.839 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:12:42.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m <==      Total: 1
2023-05-16 20:12:42.842 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:12:42.842 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:12:42.843 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:12:42.844 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:12:42.844 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m <==      Total: 1
2023-05-16 20:12:42.845 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:12:42.846 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:12:42.847 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:12:42.847 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:12:42.847 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m <==      Total: 1
2023-05-16 20:12:42.848 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:12:42.848 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:12:42.849 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:12:42.849 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39404950631092224 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:12:42.849 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39404950631092224 [0;39m <==      Total: 1
2023-05-16 20:12:42.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39404950631092224 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:12:42.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39404950631092224 [0;39m ------------- 结束 耗时：287 ms -------------
2023-05-16 20:12:44.835 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:45.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:46.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:12:50.939 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:13:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39405023637147648 [0;39m 生成今日电子书快照开始
2023-05-16 20:13:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39405023637147648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:13:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39405023637147648 [0;39m ==> Parameters: 
2023-05-16 20:13:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39405023637147648 [0;39m <==    Updates: 0
2023-05-16 20:13:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39405023637147648 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-16 20:13:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39405044625444864 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:13:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405044625444864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:13:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405044625444864 [0;39m ==> Parameters: 
2023-05-16 20:13:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405044625444864 [0;39m <==    Updates: 2
2023-05-16 20:13:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39405044625444864 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:13:15.358 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:13:19.098 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:13:21.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39405115190415360 [0;39m ------------- 开始 -------------
2023-05-16 20:13:21.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39405115190415360 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:13:21.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39405115190415360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:13:21.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39405115190415360 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:13:21.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39405115190415360 [0;39m 请求参数: [1]
2023-05-16 20:13:21.832 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39405115190415360 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:13:21.832 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39405115190415360 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:13:21.833 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39405115190415360 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:13:21.834 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39405115190415360 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:13:21.834 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39405115190415360 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:13:21.835 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39405115190415360 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:13:21.836 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39405115190415360 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:13:21.836 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39405115190415360 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:13:21.837 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39405115190415360 [0;39m <==      Total: 5
2023-05-16 20:13:21.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:13:21.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:13:21.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:13:21.838 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:13:21.838 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m <==      Total: 1
2023-05-16 20:13:21.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:13:21.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:13:21.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:13:21.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:13:21.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m <==      Total: 1
2023-05-16 20:13:21.842 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:13:21.842 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:13:21.843 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:13:21.843 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:13:21.843 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m <==      Total: 1
2023-05-16 20:13:21.845 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:13:21.845 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:13:21.846 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:13:21.846 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:13:21.853 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m <==      Total: 1
2023-05-16 20:13:21.854 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:13:21.855 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:13:21.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:13:21.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:13:21.857 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m <==      Total: 1
2023-05-16 20:13:21.858 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:13:21.858 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:13:21.860 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:13:21.860 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:13:21.860 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m <==      Total: 1
2023-05-16 20:13:21.861 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:13:21.861 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:13:21.862 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:13:21.862 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:13:21.862 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m <==      Total: 1
2023-05-16 20:13:21.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:13:21.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:13:21.864 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:13:21.864 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39405115190415360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:13:21.866 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39405115190415360 [0;39m <==      Total: 1
2023-05-16 20:13:21.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39405115190415360 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 20:13:21.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39405115190415360 [0;39m ------------- 结束 耗时：37 ms -------------
2023-05-16 20:13:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39405170471342080 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:13:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405170471342080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:13:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405170471342080 [0;39m ==> Parameters: 
2023-05-16 20:13:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405170471342080 [0;39m <==    Updates: 2
2023-05-16 20:13:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39405170471342080 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 20:13:40.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:13:45.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:13:48.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:14:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39405275299581952 [0;39m 生成今日电子书快照开始
2023-05-16 20:14:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39405275299581952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:14:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39405275299581952 [0;39m ==> Parameters: 
2023-05-16 20:14:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39405275299581952 [0;39m <==    Updates: 0
2023-05-16 20:14:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39405275299581952 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 20:14:04.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:14:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39405296321433600 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:14:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405296321433600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:14:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405296321433600 [0;39m ==> Parameters: 
2023-05-16 20:14:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405296321433600 [0;39m <==    Updates: 2
2023-05-16 20:14:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39405296321433600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 20:14:14.830 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:14:15.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:14:18.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:14:28.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:14:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39405422158942208 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405422158942208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405422158942208 [0;39m ==> Parameters: 
2023-05-16 20:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405422158942208 [0;39m <==    Updates: 2
2023-05-16 20:14:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39405422158942208 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:14:45.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:14:48.940 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:14:53.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:15:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39405526982987776 [0;39m 生成今日电子书快照开始
2023-05-16 20:15:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39405526982987776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:15:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39405526982987776 [0;39m ==> Parameters: 
2023-05-16 20:15:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39405526982987776 [0;39m <==    Updates: 0
2023-05-16 20:15:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39405526982987776 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:15:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39405547992256512 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:15:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405547992256512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:15:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405547992256512 [0;39m ==> Parameters: 
2023-05-16 20:15:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405547992256512 [0;39m <==    Updates: 2
2023-05-16 20:15:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39405547992256512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:15:15.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:15:18.894 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:15:20.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:15:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39405673817182208 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:15:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405673817182208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:15:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405673817182208 [0;39m ==> Parameters: 
2023-05-16 20:15:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405673817182208 [0;39m <==    Updates: 2
2023-05-16 20:15:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39405673817182208 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:15:42.950 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:15:45.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:15:49.031 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:16:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39405778637033472 [0;39m 生成今日电子书快照开始
2023-05-16 20:16:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39405778637033472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:16:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39405778637033472 [0;39m ==> Parameters: 
2023-05-16 20:16:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39405778637033472 [0;39m <==    Updates: 0
2023-05-16 20:16:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39405778637033472 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:16:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39405799633719296 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:16:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405799633719296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:16:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405799633719296 [0;39m ==> Parameters: 
2023-05-16 20:16:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405799633719296 [0;39m <==    Updates: 2
2023-05-16 20:16:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39405799633719296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:16:07.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:16:10.006 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:16:15.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:16:18.857 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:16:32.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:16:34.057 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:16:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39405925458644992 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:16:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405925458644992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:16:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405925458644992 [0;39m ==> Parameters: 
2023-05-16 20:16:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39405925458644992 [0;39m <==    Updates: 2
2023-05-16 20:16:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39405925458644992 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:16:45.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:16:48.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:16:58.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:17:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39406030320439296 [0;39m 生成今日电子书快照开始
2023-05-16 20:17:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39406030320439296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:17:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39406030320439296 [0;39m ==> Parameters: 
2023-05-16 20:17:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39406030320439296 [0;39m <==    Updates: 0
2023-05-16 20:17:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39406030320439296 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:17:05.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39406051312930816 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:17:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406051312930816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:17:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406051312930816 [0;39m ==> Parameters: 
2023-05-16 20:17:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406051312930816 [0;39m <==    Updates: 2
2023-05-16 20:17:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39406051312930816 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:17:15.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:17:18.846 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:17:22.895 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:17:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39406177091719168 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:17:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406177091719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:17:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406177091719168 [0;39m ==> Parameters: 
2023-05-16 20:17:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406177091719168 [0;39m <==    Updates: 2
2023-05-16 20:17:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39406177091719168 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 20:17:45.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:17:48.861 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:17:50.885 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:18:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39406281978679296 [0;39m 生成今日电子书快照开始
2023-05-16 20:18:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39406281978679296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:18:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39406281978679296 [0;39m ==> Parameters: 
2023-05-16 20:18:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39406281978679296 [0;39m <==    Updates: 0
2023-05-16 20:18:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39406281978679296 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:18:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39406302908256256 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:18:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406302908256256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:18:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406302908256256 [0;39m ==> Parameters: 
2023-05-16 20:18:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406302908256256 [0;39m <==    Updates: 2
2023-05-16 20:18:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39406302908256256 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:18:12.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:18:14.935 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:18:15.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:18:21.003 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:18:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39406428758347776 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:18:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406428758347776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:18:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406428758347776 [0;39m ==> Parameters: 
2023-05-16 20:18:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406428758347776 [0;39m <==    Updates: 2
2023-05-16 20:18:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39406428758347776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:18:36.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:18:38.993 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:18:45.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:18:48.855 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:19:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39406533653696512 [0;39m 生成今日电子书快照开始
2023-05-16 20:19:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39406533653696512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:19:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39406533653696512 [0;39m ==> Parameters: 
2023-05-16 20:19:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39406533653696512 [0;39m <==    Updates: 0
2023-05-16 20:19:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39406533653696512 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:19:03.029 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:19:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39406554570690560 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406554570690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406554570690560 [0;39m ==> Parameters: 
2023-05-16 20:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406554570690560 [0;39m <==    Updates: 2
2023-05-16 20:19:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39406554570690560 [0;39m 更新电子书下的文档数据结束，耗时：11毫秒
2023-05-16 20:19:15.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:19:16.839 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:19:18.864 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:19:27.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:19:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39406680416587776 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:19:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406680416587776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:19:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406680416587776 [0;39m ==> Parameters: 
2023-05-16 20:19:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406680416587776 [0;39m <==    Updates: 2
2023-05-16 20:19:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39406680416587776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:19:45.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:19:48.848 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:19:52.904 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:20:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39406785249021952 [0;39m 生成今日电子书快照开始
2023-05-16 20:20:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39406785249021952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:20:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39406785249021952 [0;39m ==> Parameters: 
2023-05-16 20:20:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39406785249021952 [0;39m <==    Updates: 0
2023-05-16 20:20:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39406785249021952 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:20:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39406806258290688 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406806258290688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406806258290688 [0;39m ==> Parameters: 
2023-05-16 20:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406806258290688 [0;39m <==    Updates: 2
2023-05-16 20:20:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39406806258290688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:20:15.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:20:18.868 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:20:20.893 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:20:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39406932066439168 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:20:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406932066439168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:20:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406932066439168 [0;39m ==> Parameters: 
2023-05-16 20:20:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39406932066439168 [0;39m <==    Updates: 2
2023-05-16 20:20:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39406932066439168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:20:44.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:20:45.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:20:50.990 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:21:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39407036970176512 [0;39m 生成今日电子书快照开始
2023-05-16 20:21:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39407036970176512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:21:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39407036970176512 [0;39m ==> Parameters: 
2023-05-16 20:21:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39407036970176512 [0;39m <==    Updates: 0
2023-05-16 20:21:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39407036970176512 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:21:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39407057912336384 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407057912336384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407057912336384 [0;39m ==> Parameters: 
2023-05-16 20:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407057912336384 [0;39m <==    Updates: 2
2023-05-16 20:21:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39407057912336384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:21:08.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:21:14.822 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:21:15.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:21:16.848 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:21:18.872 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:21:33.035 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:21:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39407183754039296 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:21:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407183754039296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:21:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407183754039296 [0;39m ==> Parameters: 
2023-05-16 20:21:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407183754039296 [0;39m <==    Updates: 2
2023-05-16 20:21:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39407183754039296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:21:45.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:21:48.862 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:21:57.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:22:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39407288569696256 [0;39m 生成今日电子书快照开始
2023-05-16 20:22:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39407288569696256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:22:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39407288569696256 [0;39m ==> Parameters: 
2023-05-16 20:22:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39407288569696256 [0;39m <==    Updates: 0
2023-05-16 20:22:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39407288569696256 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:22:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39407309566382080 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:22:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407309566382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:22:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407309566382080 [0;39m ==> Parameters: 
2023-05-16 20:22:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407309566382080 [0;39m <==    Updates: 2
2023-05-16 20:22:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39407309566382080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:22:15.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:22:18.868 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:22:22.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:22:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39407435424862208 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:22:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407435424862208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:22:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407435424862208 [0;39m ==> Parameters: 
2023-05-16 20:22:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407435424862208 [0;39m <==    Updates: 2
2023-05-16 20:22:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39407435424862208 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:22:44.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:22:45.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:22:48.857 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:22:50.882 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:23:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39407540295045120 [0;39m 生成今日电子书快照开始
2023-05-16 20:23:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39407540295045120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:23:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39407540295045120 [0;39m ==> Parameters: 
2023-05-16 20:23:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39407540295045120 [0;39m <==    Updates: 0
2023-05-16 20:23:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39407540295045120 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:23:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39407561224622080 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:23:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407561224622080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:23:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407561224622080 [0;39m ==> Parameters: 
2023-05-16 20:23:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407561224622080 [0;39m <==    Updates: 2
2023-05-16 20:23:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39407561224622080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:23:14.928 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:23:15.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:23:20.961 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:23:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39407687074713600 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407687074713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407687074713600 [0;39m ==> Parameters: 
2023-05-16 20:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407687074713600 [0;39m <==    Updates: 2
2023-05-16 20:23:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39407687074713600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:23:38.959 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:23:45.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:23:48.832 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:24:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39407791902953472 [0;39m 生成今日电子书快照开始
2023-05-16 20:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39407791902953472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39407791902953472 [0;39m ==> Parameters: 
2023-05-16 20:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39407791902953472 [0;39m <==    Updates: 0
2023-05-16 20:24:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39407791902953472 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:24:02.991 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:24:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39407812916416512 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:24:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407812916416512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:24:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407812916416512 [0;39m ==> Parameters: 
2023-05-16 20:24:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407812916416512 [0;39m <==    Updates: 2
2023-05-16 20:24:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39407812916416512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:24:15.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:24:18.870 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:24:27.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:24:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39407938732953600 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:24:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407938732953600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:24:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407938732953600 [0;39m ==> Parameters: 
2023-05-16 20:24:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39407938732953600 [0;39m <==    Updates: 2
2023-05-16 20:24:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39407938732953600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:24:45.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:24:48.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:24:52.880 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:25:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39408043615719424 [0;39m 生成今日电子书快照开始
2023-05-16 20:25:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39408043615719424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:25:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39408043615719424 [0;39m ==> Parameters: 
2023-05-16 20:25:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39408043615719424 [0;39m <==    Updates: 0
2023-05-16 20:25:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39408043615719424 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:25:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39408064545296384 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:25:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39408064545296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:25:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39408064545296384 [0;39m ==> Parameters: 
2023-05-16 20:25:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39408064545296384 [0;39m <==    Updates: 2
2023-05-16 20:25:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39408064545296384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:25:15.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:25:18.843 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:25:20.867 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:25:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39408190370222080 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:25:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39408190370222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:25:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39408190370222080 [0;39m ==> Parameters: 
2023-05-16 20:25:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39408190370222080 [0;39m <==    Updates: 2
2023-05-16 20:25:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39408190370222080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:25:44.901 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:25:45.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:25:50.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:26:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39408295244599296 [0;39m 生成今日电子书快照开始
2023-05-16 20:26:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39408295244599296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:26:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39408295244599296 [0;39m ==> Parameters: 
2023-05-16 20:26:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39408295244599296 [0;39m <==    Updates: 0
2023-05-16 20:26:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39408295244599296 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 20:26:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39408316186759168 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:26:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39408316186759168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:26:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39408316186759168 [0;39m ==> Parameters: 
2023-05-16 20:26:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39408316186759168 [0;39m <==    Updates: 2
2023-05-16 20:26:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39408316186759168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:56:28.846 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=30m52s998ms607µs200ns).
2023-05-16 20:56:31.606 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:33.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:35.214 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:37.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:37.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:39.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:39.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:41.741 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:44.027 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:45.813 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:46.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:47.848 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:48.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:49.868 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:51.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:53.953 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:54.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:55.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:56.258 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:57.982 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39416088127213568 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:56:57.982 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416088127213568 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:56:57.982 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416088127213568 [0;39m ==> Parameters: 
2023-05-16 20:56:57.982 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416088127213568 [0;39m <==    Updates: 2
2023-05-16 20:56:57.982 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39416088127213568 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:56:57.982 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39416088127213569 [0;39m 生成今日电子书快照开始
2023-05-16 20:56:57.982 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416088127213569 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:56:57.982 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416088127213569 [0;39m ==> Parameters: 
2023-05-16 20:56:57.982 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416088127213569 [0;39m <==    Updates: 0
2023-05-16 20:56:57.982 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39416088127213569 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:56:57.998 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:56:58.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39416096641650688 [0;39m 生成今日电子书快照开始
2023-05-16 20:57:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416096641650688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:57:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416096641650688 [0;39m ==> Parameters: 
2023-05-16 20:57:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416096641650688 [0;39m <==    Updates: 0
2023-05-16 20:57:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39416096641650688 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-16 20:57:00.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:00.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:04.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39416117604782080 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:57:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416117604782080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:57:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416117604782080 [0;39m ==> Parameters: 
2023-05-16 20:57:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416117604782080 [0;39m <==    Updates: 2
2023-05-16 20:57:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39416117604782080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:57:06.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:06.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:08.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:09.545 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-16 20:57:09.545 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment/
2023-05-16 20:57:09.545 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：39402521571233792
2023-05-16 20:57:09.671 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-16 20:57:09.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39416137355759616 [0;39m ------------- 开始 -------------
2023-05-16 20:57:09.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39416137355759616 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment/ POST
2023-05-16 20:57:09.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39416137355759616 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-16 20:57:09.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39416137355759616 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:57:09.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39416137355759616 [0;39m 请求参数: [{"ebookId":1,"replies":[],"userId":1}]
2023-05-16 20:57:39.336 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39416261578461184 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:57:39.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:39.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:39.336 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416261578461184 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:57:39.336 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416261578461184 [0;39m ==> Parameters: 
2023-05-16 20:57:39.336 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416261578461184 [0;39m <==    Updates: 2
2023-05-16 20:57:39.336 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39416261578461184 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:57:39.352 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416137355759616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:57:39.352 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416137355759616 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:57:39.352 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416137355759616 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:57:39.352 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416137355759616 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:57:39.352 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416137355759616 [0;39m <==      Total: 1
2023-05-16 20:57:39.663 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416137355759616 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:57:39.663 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416137355759616 [0;39m ==> Parameters: null
2023-05-16 20:57:39.663 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416137355759616 [0;39m <==      Total: 0
2023-05-16 20:57:41.351 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39416137355759616 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-16 20:57:41.351 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39416137355759616 [0;39m ==> Parameters: 1(Long), 1(Long), null, null, null, 2023-05-16 20:57:40.077(Timestamp), null
2023-05-16 20:57:41.367 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39416137355759616 [0;39m <==    Updates: 1
2023-05-16 20:57:41.830 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:41.830 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:41.833 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39416137355759616 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-16 20:57:41.835 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39416137355759616 [0;39m ==> Parameters: 43(Long)
2023-05-16 20:57:41.835 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39416137355759616 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:57:41.835 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39416137355759616 [0;39m <==        Row: 43, 1, 1, null, null, null, 2023-05-16 20:57:40, null
2023-05-16 20:57:41.835 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39416137355759616 [0;39m <==      Total: 1
2023-05-16 20:57:44.599 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:45.904 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39416137355759616 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:104)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$11cd51ab.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-16 20:57:45.904 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39416137355759616 [0;39m Resolved [java.lang.NullPointerException]
2023-05-16 20:57:48.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:48.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:50.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:52.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:52.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:56.798 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:57:58.840 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39416348295696384 [0;39m 生成今日电子书快照开始
2023-05-16 20:58:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416348295696384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:58:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416348295696384 [0;39m ==> Parameters: 
2023-05-16 20:58:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416348295696384 [0;39m <==    Updates: 0
2023-05-16 20:58:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39416348295696384 [0;39m 生成今日电子书快照结束，耗时：15毫秒
2023-05-16 20:58:02.888 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:04.897 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39416369283993600 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:58:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416369283993600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:58:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416369283993600 [0;39m ==> Parameters: 
2023-05-16 20:58:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416369283993600 [0;39m <==    Updates: 2
2023-05-16 20:58:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39416369283993600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:58:06.936 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:06.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:08.967 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:09.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:11.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:13.054 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:13.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:15.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:15.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:17.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:17.156 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:19.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:19.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:21.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:21.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:25.317 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:27.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39416461785174016 [0;39m ------------- 开始 -------------
2023-05-16 20:58:27.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39416461785174016 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 20:58:27.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39416461785174016 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 20:58:27.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39416461785174016 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:58:27.072 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39416461785174016 [0;39m 请求参数: [1]
2023-05-16 20:58:27.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39416461877448704 [0;39m ------------- 开始 -------------
2023-05-16 20:58:27.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39416461877448704 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:58:27.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39416461877448704 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:58:27.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39416461877448704 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:58:27.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39416461877448704 [0;39m 请求参数: [1]
2023-05-16 20:58:27.096 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39416461877448704 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:58:27.096 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39416461877448704 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:27.097 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416461877448704 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:58:27.098 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416461877448704 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:58:27.098 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416461877448704 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:58:27.098 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416461877448704 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:58:27.099 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416461877448704 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:58:27.100 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416461877448704 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:58:27.101 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416461877448704 [0;39m <==        Row: 43, 1, 1, null, null, null, 2023-05-16 20:57:40, null
2023-05-16 20:58:27.101 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39416461877448704 [0;39m <==      Total: 6
2023-05-16 20:58:27.103 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:27.103 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:27.104 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:27.104 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:27.105 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m <==      Total: 1
2023-05-16 20:58:27.105 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:27.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:27.106 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:27.106 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:27.107 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m <==      Total: 1
2023-05-16 20:58:27.107 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:27.107 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:58:27.109 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:27.109 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:58:27.109 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m <==      Total: 1
2023-05-16 20:58:27.110 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:27.110 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:27.111 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:27.111 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:27.111 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m <==      Total: 1
2023-05-16 20:58:27.112 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:27.112 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:27.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:27.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:27.115 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m <==      Total: 1
2023-05-16 20:58:27.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:27.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:27.117 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:27.117 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:27.118 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m <==      Total: 1
2023-05-16 20:58:27.119 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:27.119 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:27.120 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:27.120 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:27.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m <==      Total: 1
2023-05-16 20:58:27.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:27.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:27.122 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:27.122 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:27.122 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m <==      Total: 1
2023-05-16 20:58:27.123 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:27.123 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:27.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:27.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416461877448704 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:27.125 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416461877448704 [0;39m <==      Total: 1
2023-05-16 20:58:27.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39416461877448704 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"createTime":1684241860000,"ebookId":1,"id":43,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-16 20:58:27.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39416461877448704 [0;39m ------------- 结束 耗时：34 ms -------------
2023-05-16 20:58:27.147 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39416461785174016 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 20:58:27.148 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39416461785174016 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:27.149 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416461785174016 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 20:58:27.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416461785174016 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 401, 7
2023-05-16 20:58:27.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416461785174016 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 20:58:27.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416461785174016 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 20:58:27.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416461785174016 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 20:58:27.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416461785174016 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 20:58:27.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416461785174016 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 20:58:27.152 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416461785174016 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 20:58:27.152 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416461785174016 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 20:58:27.153 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39416461785174016 [0;39m <==      Total: 8
2023-05-16 20:58:27.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39416461785174016 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":401,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 20:58:27.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39416461785174016 [0;39m ------------- 结束 耗时：101 ms -------------
2023-05-16 20:58:27.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39416462380765184 [0;39m ------------- 开始 -------------
2023-05-16 20:58:27.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39416462380765184 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 20:58:27.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39416462380765184 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 20:58:27.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39416462380765184 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:58:27.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39416462380765184 [0;39m 请求参数: [1]
2023-05-16 20:58:27.213 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39416462380765184 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 20:58:27.214 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39416462380765184 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:27.217 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39416462380765184 [0;39m <==    Columns: id, content
2023-05-16 20:58:27.217 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39416462380765184 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 20:58:27.217 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39416462380765184 [0;39m <==      Total: 1
2023-05-16 20:58:27.219 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39416462380765184 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 20:58:27.220 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39416462380765184 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:27.223 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39416462380765184 [0;39m <==    Updates: 1
2023-05-16 20:58:27.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39416462380765184 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 20:58:27.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39416462380765184 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 20:58:29.414 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:29.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39416473600528384 [0;39m ------------- 开始 -------------
2023-05-16 20:58:29.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39416473600528384 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 20:58:29.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39416473600528384 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 20:58:29.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39416473600528384 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:58:29.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39416473600528384 [0;39m 请求参数: [1]
2023-05-16 20:58:29.894 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39416473600528384 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 20:58:29.895 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39416473600528384 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:29.896 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416473600528384 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 20:58:29.896 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416473600528384 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 402, 7
2023-05-16 20:58:29.897 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416473600528384 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 20:58:29.897 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416473600528384 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 20:58:29.897 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416473600528384 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 20:58:29.898 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416473600528384 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 20:58:29.898 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416473600528384 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 20:58:29.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39416473650860032 [0;39m ------------- 开始 -------------
2023-05-16 20:58:29.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39416473650860032 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 20:58:29.898 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416473600528384 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 20:58:29.899 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39416473600528384 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 20:58:29.901 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39416473600528384 [0;39m <==      Total: 8
2023-05-16 20:58:29.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39416473600528384 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":402,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 20:58:29.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39416473600528384 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-16 20:58:29.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39416473650860032 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 20:58:29.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39416473650860032 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:58:29.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39416473650860032 [0;39m 请求参数: [1]
2023-05-16 20:58:29.911 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39416473650860032 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 20:58:29.911 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39416473650860032 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:29.912 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416473650860032 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 20:58:29.913 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416473650860032 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 20:58:29.913 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416473650860032 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 20:58:29.914 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416473650860032 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 20:58:29.914 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416473650860032 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 20:58:29.915 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416473650860032 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 20:58:29.915 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39416473650860032 [0;39m <==        Row: 43, 1, 1, null, null, null, 2023-05-16 20:57:40, null
2023-05-16 20:58:29.915 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39416473650860032 [0;39m <==      Total: 6
2023-05-16 20:58:29.916 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:29.916 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:29.917 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:29.917 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:29.917 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m <==      Total: 1
2023-05-16 20:58:29.918 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:29.918 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:29.919 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:29.919 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:29.919 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m <==      Total: 1
2023-05-16 20:58:29.920 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:29.920 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==> Parameters: 2(Long)
2023-05-16 20:58:29.920 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:29.921 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 20:58:29.921 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m <==      Total: 1
2023-05-16 20:58:29.921 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:29.922 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:29.922 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:29.922 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:29.922 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m <==      Total: 1
2023-05-16 20:58:29.923 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:29.923 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:29.924 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:29.924 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:29.924 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m <==      Total: 1
2023-05-16 20:58:29.925 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:29.925 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:29.926 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:29.926 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:29.926 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m <==      Total: 1
2023-05-16 20:58:29.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:29.927 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:29.927 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:29.928 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:29.928 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m <==      Total: 1
2023-05-16 20:58:29.929 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:29.929 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:29.930 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:29.930 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:29.930 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m <==      Total: 1
2023-05-16 20:58:29.938 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 20:58:29.939 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:29.940 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 20:58:29.940 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39416473650860032 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 20:58:29.940 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39416473650860032 [0;39m <==      Total: 1
2023-05-16 20:58:29.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39416473650860032 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"createTime":1684241860000,"ebookId":1,"id":43,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-16 20:58:29.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39416473650860032 [0;39m ------------- 结束 耗时：43 ms -------------
2023-05-16 20:58:29.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39416473940267008 [0;39m ------------- 开始 -------------
2023-05-16 20:58:29.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39416473940267008 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 20:58:29.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39416473940267008 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 20:58:29.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39416473940267008 [0;39m 远程地址: 127.0.0.1
2023-05-16 20:58:29.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39416473940267008 [0;39m 请求参数: [1]
2023-05-16 20:58:29.969 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39416473940267008 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 20:58:29.970 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39416473940267008 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:29.971 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39416473940267008 [0;39m <==    Columns: id, content
2023-05-16 20:58:29.971 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39416473940267008 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 20:58:29.971 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39416473940267008 [0;39m <==      Total: 1
2023-05-16 20:58:29.972 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39416473940267008 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 20:58:29.972 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39416473940267008 [0;39m ==> Parameters: 1(Long)
2023-05-16 20:58:29.974 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39416473940267008 [0;39m <==    Updates: 1
2023-05-16 20:58:29.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39416473940267008 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 20:58:29.975 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39416473940267008 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-16 20:58:31.446 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:31.446 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:33.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39416495092142080 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:58:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416495092142080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:58:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416495092142080 [0;39m ==> Parameters: 
2023-05-16 20:58:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416495092142080 [0;39m <==    Updates: 2
2023-05-16 20:58:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39416495092142080 [0;39m 更新电子书下的文档数据结束，耗时：11毫秒
2023-05-16 20:58:35.520 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:37.557 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:39.593 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:39.593 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:43.662 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:45.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:47.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:47.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:49.779 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:49.794 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:51.821 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:51.853 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:53.861 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:53.892 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:55.892 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:58:55.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39416599953936384 [0;39m 生成今日电子书快照开始
2023-05-16 20:59:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416599953936384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 20:59:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416599953936384 [0;39m ==> Parameters: 
2023-05-16 20:59:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416599953936384 [0;39m <==    Updates: 0
2023-05-16 20:59:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39416599953936384 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-16 20:59:01.982 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:02.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:04.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39416620883513344 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:59:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416620883513344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:59:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416620883513344 [0;39m ==> Parameters: 
2023-05-16 20:59:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416620883513344 [0;39m <==    Updates: 2
2023-05-16 20:59:05.001 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39416620883513344 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:59:06.027 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:08.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:08.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:10.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:14.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:16.233 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:18.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:18.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:24.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39416746762964992 [0;39m 更新电子书下的文档数据开始
2023-05-16 20:59:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416746762964992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 20:59:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416746762964992 [0;39m ==> Parameters: 
2023-05-16 20:59:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416746762964992 [0;39m <==    Updates: 2
2023-05-16 20:59:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39416746762964992 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 20:59:42.675 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:44.726 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:45.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:48.781 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:50.812 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:52.845 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:54.869 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 20:59:58.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39416851582816256 [0;39m 生成今日电子书快照开始
2023-05-16 21:00:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416851582816256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:00:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416851582816256 [0;39m ==> Parameters: 
2023-05-16 21:00:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39416851582816256 [0;39m <==    Updates: 0
2023-05-16 21:00:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39416851582816256 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 21:00:02.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39416872550141952 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:00:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416872550141952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:00:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416872550141952 [0;39m ==> Parameters: 
2023-05-16 21:00:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416872550141952 [0;39m <==    Updates: 2
2023-05-16 21:00:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39416872550141952 [0;39m 更新电子书下的文档数据结束，耗时：15毫秒
2023-05-16 21:00:07.048 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:09.092 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:13.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:15.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:15.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:17.231 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:19.249 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:21.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:25.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:27.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:29.466 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:31.505 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:33.534 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39416998379261952 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:00:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416998379261952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:00:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416998379261952 [0;39m ==> Parameters: 
2023-05-16 21:00:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39416998379261952 [0;39m <==    Updates: 2
2023-05-16 21:00:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39416998379261952 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:00:35.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:37.609 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:39.648 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:41.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:43.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:45.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:45.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:47.786 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:49.830 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:51.879 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:00:53.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39417103249444864 [0;39m 生成今日电子书快照开始
2023-05-16 21:01:00.006 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39417103249444864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:01:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39417103249444864 [0;39m ==> Parameters: 
2023-05-16 21:01:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39417103249444864 [0;39m <==    Updates: 0
2023-05-16 21:01:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39417103249444864 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-16 21:01:02.046 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39417124237742080 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:01:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417124237742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:01:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417124237742080 [0;39m ==> Parameters: 
2023-05-16 21:01:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417124237742080 [0;39m <==    Updates: 2
2023-05-16 21:01:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39417124237742080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-16 21:01:06.137 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:08.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:12.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:14.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:15.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:16.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:18.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:20.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:22.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:26.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:32.617 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:34.668 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39417250054279168 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:01:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417250054279168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:01:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417250054279168 [0;39m ==> Parameters: 
2023-05-16 21:01:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417250054279168 [0;39m <==    Updates: 2
2023-05-16 21:01:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39417250054279168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:01:36.717 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:40.787 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:42.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:44.845 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:45.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:46.879 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:50.940 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:52.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:57.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:01:59.081 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39417354941239296 [0;39m 生成今日电子书快照开始
2023-05-16 21:02:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39417354941239296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:02:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39417354941239296 [0;39m ==> Parameters: 
2023-05-16 21:02:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39417354941239296 [0;39m <==    Updates: 0
2023-05-16 21:02:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39417354941239296 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 21:02:01.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:03.142 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39417375916953600 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:02:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417375916953600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:02:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417375916953600 [0;39m ==> Parameters: 
2023-05-16 21:02:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417375916953600 [0;39m <==    Updates: 2
2023-05-16 21:02:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39417375916953600 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 21:02:05.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:07.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:09.214 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:13.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:15.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:17.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:21.408 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:23.442 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:27.520 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:29.544 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:31.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:33.622 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39417501704130560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:02:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417501704130560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:02:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417501704130560 [0;39m ==> Parameters: 
2023-05-16 21:02:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417501704130560 [0;39m <==    Updates: 2
2023-05-16 21:02:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39417501704130560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:02:35.658 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:37.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:39.729 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:41.777 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:43.809 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:45.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:45.844 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:47.880 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:49.915 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:51.961 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:53.990 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:56.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:02:58.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39417606549147648 [0;39m 生成今日电子书快照开始
2023-05-16 21:03:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39417606549147648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:03:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39417606549147648 [0;39m ==> Parameters: 
2023-05-16 21:03:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39417606549147648 [0;39m <==    Updates: 0
2023-05-16 21:03:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39417606549147648 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-16 21:03:02.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39417627524861952 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:03:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417627524861952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:03:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417627524861952 [0;39m ==> Parameters: 
2023-05-16 21:03:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417627524861952 [0;39m <==    Updates: 2
2023-05-16 21:03:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39417627524861952 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 21:03:06.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:08.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:14.505 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:15.532 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:21.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:23.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:25.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:34.426 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39417753362370560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:03:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417753362370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:03:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417753362370560 [0;39m ==> Parameters: 
2023-05-16 21:03:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417753362370560 [0;39m <==    Updates: 2
2023-05-16 21:03:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39417753362370560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:03:36.824 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:41.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:43.937 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:45.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:48.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:51.156 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:53.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:55.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:03:57.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39417858253524992 [0;39m 生成今日电子书快照开始
2023-05-16 21:04:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39417858253524992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:04:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39417858253524992 [0;39m ==> Parameters: 
2023-05-16 21:04:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39417858253524992 [0;39m <==    Updates: 0
2023-05-16 21:04:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39417858253524992 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 21:04:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39417879191490560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:04:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417879191490560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:04:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417879191490560 [0;39m ==> Parameters: 
2023-05-16 21:04:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39417879191490560 [0;39m <==    Updates: 2
2023-05-16 21:04:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39417879191490560 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 21:04:07.576 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:14.833 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:15.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:17.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:21.576 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:23.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39417958279286784 [0;39m ------------- 开始 -------------
2023-05-16 21:04:23.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39417958279286784 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 21:04:23.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39417958279286784 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:04:23.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39417958279286784 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:04:23.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39417958279286784 [0;39m 请求参数: [1]
2023-05-16 21:04:23.863 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39417958279286784 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:04:23.863 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39417958279286784 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:04:23.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39417958291869696 [0;39m ------------- 开始 -------------
2023-05-16 21:04:23.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39417958279286784 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:04:23.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39417958291869696 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:04:23.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39417958291869696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:04:23.864 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39417958279286784 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 403, 7
2023-05-16 21:04:23.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39417958291869696 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:04:23.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39417958291869696 [0;39m 请求参数: [1]
2023-05-16 21:04:23.865 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39417958279286784 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 21:04:23.865 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39417958291869696 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:04:23.865 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39417958279286784 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 21:04:23.865 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39417958279286784 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 21:04:23.865 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39417958291869696 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:04:23.866 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39417958279286784 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 21:04:23.866 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39417958279286784 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 21:04:23.866 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39417958279286784 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 21:04:23.866 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39417958291869696 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:04:23.866 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39417958279286784 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 21:04:23.867 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39417958291869696 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:04:26.134 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39417958279286784 [0;39m <==      Total: 8
2023-05-16 21:04:26.134 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39417958291869696 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:04:26.135 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39417958291869696 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:04:26.135 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39417958291869696 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:04:26.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39417958279286784 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":403,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 21:04:26.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39417958279286784 [0;39m ------------- 结束 耗时：2275 ms -------------
2023-05-16 21:04:26.137 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39417958291869696 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:04:26.137 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39417958291869696 [0;39m <==        Row: 43, 1, 1, null, null, null, 2023-05-16 20:57:40, null
2023-05-16 21:04:26.138 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39417958291869696 [0;39m <==      Total: 6
2023-05-16 21:04:26.138 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:04:26.139 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:04:26.140 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:04:26.141 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:04:26.141 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m <==      Total: 1
2023-05-16 21:04:26.141 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:04:26.142 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:04:26.142 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:04:26.142 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:04:26.143 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m <==      Total: 1
2023-05-16 21:04:26.143 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:04:26.143 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:04:26.144 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:04:26.144 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:04:26.145 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m <==      Total: 1
2023-05-16 21:04:26.145 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:04:26.145 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:04:26.146 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:04:26.146 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:04:26.147 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m <==      Total: 1
2023-05-16 21:04:26.147 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:04:26.147 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:04:26.148 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:04:26.148 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:04:26.148 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m <==      Total: 1
2023-05-16 21:04:26.149 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:04:26.149 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:04:26.149 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:04:26.150 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:04:26.150 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m <==      Total: 1
2023-05-16 21:04:26.150 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:04:26.150 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:04:26.151 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:04:26.151 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:04:26.151 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m <==      Total: 1
2023-05-16 21:04:26.152 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:04:26.152 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:04:26.153 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:04:26.153 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:04:26.153 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m <==      Total: 1
2023-05-16 21:04:26.153 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:04:26.154 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:04:26.154 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:04:26.155 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39417958291869696 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:04:26.155 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39417958291869696 [0;39m <==      Total: 1
2023-05-16 21:04:26.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39417958291869696 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"createTime":1684241860000,"ebookId":1,"id":43,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-16 21:04:26.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39417958291869696 [0;39m ------------- 结束 耗时：2292 ms -------------
2023-05-16 21:04:26.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:28.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:29.737 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39417982925017088 [0;39m ------------- 开始 -------------
2023-05-16 21:04:29.737 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39417982925017088 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 21:04:29.737 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39417982925017088 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:04:29.737 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39417982925017088 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:04:29.737 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39417982925017088 [0;39m 请求参数: [1]
2023-05-16 21:04:29.738 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39417982925017088 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:04:29.738 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39417982925017088 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:04:29.739 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39417982925017088 [0;39m <==    Columns: id, content
2023-05-16 21:04:29.739 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39417982925017088 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 21:04:29.740 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39417982925017088 [0;39m <==      Total: 1
2023-05-16 21:04:29.741 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39417982925017088 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:04:29.741 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39417982925017088 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:04:29.744 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39417982925017088 [0;39m <==    Updates: 1
2023-05-16 21:04:29.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39417982925017088 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 21:04:31.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:32.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39417982925017088 [0;39m ------------- 结束 耗时：2550 ms -------------
2023-05-16 21:04:34.767 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39418005003833344 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:04:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418005003833344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:04:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418005003833344 [0;39m ==> Parameters: 
2023-05-16 21:04:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418005003833344 [0;39m <==    Updates: 2
2023-05-16 21:04:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39418005003833344 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-16 21:04:39.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:41.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:44.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:45.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:48.580 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:04:57.236 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39418109882404864 [0;39m 生成今日电子书快照开始
2023-05-16 21:05:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39418109882404864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:05:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39418109882404864 [0;39m ==> Parameters: 
2023-05-16 21:05:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39418109882404864 [0;39m <==    Updates: 0
2023-05-16 21:05:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39418109882404864 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-16 21:05:01.659 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:03.922 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39418130887479296 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:05:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418130887479296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:05:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418130887479296 [0;39m ==> Parameters: 
2023-05-16 21:05:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418130887479296 [0;39m <==    Updates: 2
2023-05-16 21:05:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39418130887479296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:05:05.951 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:07.992 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:10.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:14.825 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:15.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:19.417 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:24.099 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:26.504 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:31.006 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39418256708210688 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:05:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418256708210688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:05:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418256708210688 [0;39m ==> Parameters: 
2023-05-16 21:05:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418256708210688 [0;39m <==    Updates: 2
2023-05-16 21:05:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39418256708210688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:05:35.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:37.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:40.624 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:45.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:45.528 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:05:49.903 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:06:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39418361557422080 [0;39m 生成今日电子书快照开始
2023-05-16 21:06:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39418361557422080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:06:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39418361557422080 [0;39m ==> Parameters: 
2023-05-16 21:06:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39418361557422080 [0;39m <==    Updates: 0
2023-05-16 21:06:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39418361557422080 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 21:06:02.530 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:06:05.142 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39418383082590208 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:06:05.143 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418383082590208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:06:05.143 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418383082590208 [0;39m ==> Parameters: 
2023-05-16 21:06:05.145 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418383082590208 [0;39m <==    Updates: 2
2023-05-16 21:06:05.145 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39418383082590208 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:06:15.787 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:06:19.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:06:21.976 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39418453689503744 [0;39m ------------- 开始 -------------
2023-05-16 21:06:21.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39418453689503744 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-16 21:06:21.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39418453689503744 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-16 21:06:21.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39418453689503744 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:06:21.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39418453689503744 [0;39m 请求参数: []
2023-05-16 21:06:21.982 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39418453689503744 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-16 21:06:21.983 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39418453689503744 [0;39m ==> Parameters: 
2023-05-16 21:06:21.984 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39418453689503744 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-16 21:06:21.985 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39418453689503744 [0;39m <==        Row: 2023-05-15, 502, 12, 36, 0
2023-05-16 21:06:21.987 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39418453689503744 [0;39m <==        Row: 2023-05-16, 520, 12, 18, 0
2023-05-16 21:06:21.988 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39418453689503744 [0;39m <==      Total: 2
2023-05-16 21:06:21.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39418453739835392 [0;39m ------------- 开始 -------------
2023-05-16 21:06:21.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39418453739835392 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-16 21:06:21.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39418453739835392 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-16 21:06:21.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39418453739835392 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:06:21.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39418453739835392 [0;39m 请求参数: []
2023-05-16 21:06:21.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39418453689503744 [0;39m 返回结果: {"content":[{"date":1684080000000,"viewCount":502,"viewIncrease":36,"voteCount":12,"voteIncrease":0},{"date":1684166400000,"viewCount":520,"viewIncrease":18,"voteCount":12,"voteIncrease":0}],"success":true}
2023-05-16 21:06:21.990 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39418453739835392 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-16 21:06:21.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39418453689503744 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 21:06:21.990 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39418453739835392 [0;39m ==> Parameters: 
2023-05-16 21:06:21.992 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39418453739835392 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-16 21:06:21.992 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39418453739835392 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-16 21:06:22.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39418453794361344 [0;39m ------------- 开始 -------------
2023-05-16 21:06:22.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39418453794361344 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-16 21:06:22.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39418453794361344 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-16 21:06:22.623 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39418453739835392 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-16 21:06:22.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39418453794361344 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:06:22.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39418453794361344 [0;39m 请求参数: []
2023-05-16 21:06:22.623 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39418453739835392 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-16 21:06:22.623 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39418453739835392 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-16 21:06:22.624 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39418453739835392 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-16 21:06:22.624 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39418453739835392 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-16 21:06:22.625 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39418453739835392 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-16 21:06:22.625 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39418453739835392 [0;39m <==      Total: 7
2023-05-16 21:06:22.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39418453739835392 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-16 21:06:22.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39418453739835392 [0;39m ------------- 结束 耗时：638 ms -------------
2023-05-16 21:06:22.633 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39418453794361344 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-16 21:06:22.633 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39418453794361344 [0;39m ==> Parameters: 
2023-05-16 21:06:22.634 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==    Columns: id, parent, name, sort
2023-05-16 21:06:22.635 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-16 21:06:22.635 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-16 21:06:22.635 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-16 21:06:22.635 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 200, 0, Java, 200
2023-05-16 21:06:22.636 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-16 21:06:22.685 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-16 21:06:22.686 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 300, 0, Python, 300
2023-05-16 21:06:22.686 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-16 21:06:22.686 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-16 21:06:22.687 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-16 21:06:22.687 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-16 21:06:22.687 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-16 21:06:22.688 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-16 21:06:22.688 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-16 21:06:22.688 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39418453794361344 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-16 21:06:22.689 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39418453794361344 [0;39m <==      Total: 15
2023-05-16 21:06:22.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39418453794361344 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-16 21:06:22.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39418453794361344 [0;39m ------------- 结束 耗时：701 ms -------------
2023-05-16 21:06:23.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39418461759344640 [0;39m ------------- 开始 -------------
2023-05-16 21:06:23.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39418461759344640 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-16 21:06:23.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39418461759344640 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-16 21:06:23.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39418461759344640 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:06:23.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39418461759344640 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-16 21:06:24.081 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39418461759344640 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-16 21:06:24.082 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39418461759344640 [0;39m ==> Parameters: 101(Long)
2023-05-16 21:06:24.084 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39418461759344640 [0;39m <==    Columns: count(0)
2023-05-16 21:06:24.084 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39418461759344640 [0;39m <==        Row: 1
2023-05-16 21:06:24.085 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39418461759344640 [0;39m <==      Total: 1
2023-05-16 21:06:24.088 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39418461759344640 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-16 21:06:24.088 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39418461759344640 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-16 21:06:24.089 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39418461759344640 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-16 21:06:24.090 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39418461759344640 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 82, 0
2023-05-16 21:06:24.090 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39418461759344640 [0;39m <==      Total: 1
2023-05-16 21:06:24.092 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39418461759344640 [0;39m 总行数：1
2023-05-16 21:06:24.092 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39418461759344640 [0;39m 总页数：1
2023-05-16 21:06:24.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39418461759344640 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":82,"voteCount":0}],"total":1},"success":true}
2023-05-16 21:06:24.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39418461759344640 [0;39m ------------- 结束 耗时：207 ms -------------
2023-05-16 21:06:25.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39418466717011968 [0;39m ------------- 开始 -------------
2023-05-16 21:06:25.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39418466717011969 [0;39m ------------- 开始 -------------
2023-05-16 21:06:25.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39418466717011968 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:06:25.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39418466717011969 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:06:25.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39418466717011968 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:06:25.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39418466717011969 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:06:25.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39418466717011968 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:06:25.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39418466717011968 [0;39m 请求参数: [2]
2023-05-16 21:06:25.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39418466717011969 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:06:25.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39418466717011969 [0;39m 请求参数: [2]
2023-05-16 21:06:25.084 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39418466717011968 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:06:25.084 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39418466717011968 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:06:25.085 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418466717011968 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:06:25.085 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39418466717011969 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:06:25.085 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418466717011968 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:06:25.085 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39418466717011969 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:06:25.086 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418466717011968 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:06:25.086 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39418466717011969 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:06:25.087 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39418466717011969 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 82, 0
2023-05-16 21:06:25.087 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418466717011968 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:06:25.087 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39418466717011969 [0;39m <==      Total: 1
2023-05-16 21:06:25.087 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39418466717011968 [0;39m <==      Total: 3
2023-05-16 21:06:25.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39418466717011969 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":82,"voteCount":0}],"success":true}
2023-05-16 21:06:25.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39418466717011969 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 21:06:25.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:06:25.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:06:25.088 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418466717011968 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:06:25.089 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418466717011968 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:06:25.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m <==      Total: 1
2023-05-16 21:06:25.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:06:25.115 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:06:25.118 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418466717011968 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:06:25.118 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418466717011968 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:06:25.118 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m <==      Total: 1
2023-05-16 21:06:25.119 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:06:25.119 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:06:25.120 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418466717011968 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:06:25.121 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418466717011968 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:06:25.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m <==      Total: 1
2023-05-16 21:06:25.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:06:25.122 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:06:25.123 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418466717011968 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:06:25.123 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418466717011968 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:06:25.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m <==      Total: 1
2023-05-16 21:06:25.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:06:25.125 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:06:25.126 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418466717011968 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:06:25.126 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418466717011968 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:06:25.126 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418466717011968 [0;39m <==      Total: 1
2023-05-16 21:06:25.127 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39418466717011968 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:06:25.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39418466717011968 [0;39m ------------- 结束 耗时：98 ms -------------
2023-05-16 21:06:25.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39418467488763904 [0;39m ------------- 开始 -------------
2023-05-16 21:06:25.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39418467488763904 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:06:25.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39418467488763904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:06:25.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39418467488763904 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:06:25.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39418467488763904 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:06:25.268 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39418467488763904 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:06:25.268 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39418467488763904 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:06:25.269 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39418467488763904 [0;39m <==    Columns: id, content
2023-05-16 21:06:25.269 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39418467488763904 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:06:25.269 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39418467488763904 [0;39m <==      Total: 1
2023-05-16 21:06:25.270 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39418467488763904 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:06:25.271 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39418467488763904 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:06:25.279 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39418467488763904 [0;39m <==    Updates: 1
2023-05-16 21:06:25.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39418467488763904 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:06:25.280 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39418467488763904 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 21:06:27.094 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:06:28.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39418481598402560 [0;39m ------------- 开始 -------------
2023-05-16 21:06:28.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39418481598402560 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:06:28.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39418481598402560 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:06:28.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39418481598402560 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:06:28.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39418481598402560 [0;39m 请求参数: [2]
2023-05-16 21:06:28.633 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39418481598402560 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:06:28.633 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39418481598402560 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:06:28.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418481598402560 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:06:28.634 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418481598402560 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:06:28.636 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418481598402560 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:06:28.636 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418481598402560 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:06:28.637 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39418481598402560 [0;39m <==      Total: 3
2023-05-16 21:06:28.637 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:06:28.638 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:06:28.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418481598402560 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:06:28.639 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418481598402560 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:06:28.639 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m <==      Total: 1
2023-05-16 21:06:28.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:06:28.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:06:28.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418481598402560 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:06:28.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418481598402560 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:06:28.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m <==      Total: 1
2023-05-16 21:06:28.641 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:06:28.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:06:28.642 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418481598402560 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:06:28.642 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418481598402560 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:06:28.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m <==      Total: 1
2023-05-16 21:06:28.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:06:28.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:06:28.644 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418481598402560 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:06:28.644 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418481598402560 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:06:28.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m <==      Total: 1
2023-05-16 21:06:28.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:06:28.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:06:28.646 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418481598402560 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:06:28.646 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418481598402560 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:06:28.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418481598402560 [0;39m <==      Total: 1
2023-05-16 21:06:28.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39418481598402560 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:06:28.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39418481598402560 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-16 21:06:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39418508353867776 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:06:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418508353867776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:06:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418508353867776 [0;39m ==> Parameters: 
2023-05-16 21:06:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418508353867776 [0;39m <==    Updates: 2
2023-05-16 21:06:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39418508353867776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:06:45.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:06:53.902 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:07:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39418613236633600 [0;39m 生成今日电子书快照开始
2023-05-16 21:07:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39418613236633600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:07:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39418613236633600 [0;39m ==> Parameters: 
2023-05-16 21:07:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39418613236633600 [0;39m <==    Updates: 0
2023-05-16 21:07:00.029 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39418613236633600 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-16 21:07:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39418634212347904 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:07:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418634212347904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:07:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418634212347904 [0;39m ==> Parameters: 
2023-05-16 21:07:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418634212347904 [0;39m <==    Updates: 2
2023-05-16 21:07:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39418634212347904 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 21:07:15.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:07:22.017 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:07:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39418760003719168 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:07:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418760003719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:07:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418760003719168 [0;39m ==> Parameters: 
2023-05-16 21:07:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418760003719168 [0;39m <==    Updates: 2
2023-05-16 21:07:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39418760003719168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:07:45.544 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:07:51.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:08:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39418864861319168 [0;39m 生成今日电子书快照开始
2023-05-16 21:08:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39418864861319168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:08:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39418864861319168 [0;39m ==> Parameters: 
2023-05-16 21:08:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39418864861319168 [0;39m <==    Updates: 0
2023-05-16 21:08:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39418864861319168 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 21:08:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39418885845422080 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:08:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418885845422080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:08:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418885845422080 [0;39m ==> Parameters: 
2023-05-16 21:08:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39418885845422080 [0;39m <==    Updates: 2
2023-05-16 21:08:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39418885845422080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:08:08.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39418898638049280 [0;39m ------------- 开始 -------------
2023-05-16 21:08:08.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39418898638049280 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:08:08.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39418898638049280 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:08:08.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39418898638049280 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:08:08.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39418898638049280 [0;39m 请求参数: [2]
2023-05-16 21:08:08.062 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39418898638049280 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:08:08.062 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39418898638049280 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:08:08.063 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418898638049280 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:08:08.064 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418898638049280 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:08:08.065 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418898638049280 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:08:08.066 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418898638049280 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:08:08.066 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39418898638049280 [0;39m <==      Total: 3
2023-05-16 21:08:08.067 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:08:08.067 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:08:08.068 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418898638049280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:08:08.068 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418898638049280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:08:08.069 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m <==      Total: 1
2023-05-16 21:08:08.069 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:08:08.069 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:08:08.070 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418898638049280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:08:08.070 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418898638049280 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:08:08.070 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m <==      Total: 1
2023-05-16 21:08:08.071 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:08:08.071 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:08:08.072 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418898638049280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:08:08.072 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418898638049280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:08:08.072 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m <==      Total: 1
2023-05-16 21:08:08.073 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:08:08.073 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:08:08.074 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418898638049280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:08:08.074 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418898638049280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:08:08.074 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m <==      Total: 1
2023-05-16 21:08:08.075 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:08:08.075 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:08:08.076 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418898638049280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:08:08.076 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418898638049280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:08:08.076 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418898638049280 [0;39m <==      Total: 1
2023-05-16 21:08:08.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39418898638049280 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:08:08.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39418898638049280 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-16 21:08:11.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:08:15.206 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39418461759344640 [0;39m 有新连接：token：kq2Q3tDIDa，session id：0，当前连接数：1
2023-05-16 21:08:15.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:08:15.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39418929856253952 [0;39m ------------- 开始 -------------
2023-05-16 21:08:15.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39418929856253952 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:08:15.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39418929860448256 [0;39m ------------- 开始 -------------
2023-05-16 21:08:15.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39418929856253952 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:08:15.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39418929860448256 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:08:15.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39418929856253952 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:08:15.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39418929860448256 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:08:15.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39418929856253952 [0;39m 请求参数: [2]
2023-05-16 21:08:15.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39418929860448256 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:08:15.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39418929860448256 [0;39m 请求参数: [2]
2023-05-16 21:08:15.506 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39418929856253952 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:08:15.507 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39418929856253952 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:08:15.507 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39418929860448256 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:08:15.507 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39418929860448256 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:08:15.507 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418929860448256 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:08:15.507 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39418929856253952 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:08:15.508 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39418929856253952 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 83, 0
2023-05-16 21:08:15.508 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418929860448256 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:08:15.508 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39418929856253952 [0;39m <==      Total: 1
2023-05-16 21:08:15.508 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418929860448256 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:08:15.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39418929856253952 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":83,"voteCount":0}],"success":true}
2023-05-16 21:08:15.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39418929856253952 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 21:08:15.508 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39418929860448256 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:08:15.509 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39418929860448256 [0;39m <==      Total: 3
2023-05-16 21:08:15.509 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:08:15.509 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:08:15.511 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418929860448256 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:08:15.512 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418929860448256 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:08:15.513 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m <==      Total: 1
2023-05-16 21:08:15.513 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:08:15.514 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:08:15.514 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418929860448256 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:08:15.515 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418929860448256 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:08:15.515 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m <==      Total: 1
2023-05-16 21:08:15.515 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:08:15.516 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:08:15.516 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418929860448256 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:08:15.516 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418929860448256 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:08:15.517 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m <==      Total: 1
2023-05-16 21:08:15.517 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:08:15.518 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:08:15.519 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418929860448256 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:08:15.519 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418929860448256 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:08:15.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m <==      Total: 1
2023-05-16 21:08:15.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:08:15.521 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:08:15.521 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418929860448256 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:08:15.522 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39418929860448256 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:08:15.522 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39418929860448256 [0;39m <==      Total: 1
2023-05-16 21:08:15.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39418929860448256 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:08:15.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39418929860448256 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-16 21:08:15.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39418930435067904 [0;39m ------------- 开始 -------------
2023-05-16 21:08:15.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39418930435067904 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:08:15.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39418930435067904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:08:15.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39418930435067904 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:08:15.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39418930435067904 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:08:15.644 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39418930435067904 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:08:15.645 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39418930435067904 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:08:15.646 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39418930435067904 [0;39m <==    Columns: id, content
2023-05-16 21:08:15.646 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39418930435067904 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:08:15.647 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39418930435067904 [0;39m <==      Total: 1
2023-05-16 21:08:15.647 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39418930435067904 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:08:15.648 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39418930435067904 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:08:15.657 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39418930435067904 [0;39m <==    Updates: 1
2023-05-16 21:08:15.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39418930435067904 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:08:15.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39418930435067904 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-16 21:08:19.743 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:08:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39419011687124992 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:08:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419011687124992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:08:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419011687124992 [0;39m ==> Parameters: 
2023-05-16 21:08:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419011687124992 [0;39m <==    Updates: 2
2023-05-16 21:08:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39419011687124992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:08:35.827 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:08:45.507 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:08:49.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:08:59.937 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:09:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39419116548919296 [0;39m 生成今日电子书快照开始
2023-05-16 21:09:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39419116548919296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:09:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39419116548919296 [0;39m ==> Parameters: 
2023-05-16 21:09:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39419116548919296 [0;39m <==    Updates: 0
2023-05-16 21:09:00.026 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39419116548919296 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-16 21:09:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39419137499467776 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:09:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419137499467776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:09:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419137499467776 [0;39m ==> Parameters: 
2023-05-16 21:09:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419137499467776 [0;39m <==    Updates: 2
2023-05-16 21:09:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39419137499467776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:09:15.461 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:09:19.832 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:09:24.516 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:09:25.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419225009426432 [0;39m ------------- 开始 -------------
2023-05-16 21:09:25.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419225009426432 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:09:25.873 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419225009426432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:09:25.874 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419225009426432 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:09:25.874 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419225009426432 [0;39m 请求参数: [2]
2023-05-16 21:09:25.875 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419225009426432 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:09:25.876 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419225009426432 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:09:25.876 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419225009426432 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:09:25.877 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419225009426432 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 84, 0
2023-05-16 21:09:25.877 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419225009426432 [0;39m <==      Total: 1
2023-05-16 21:09:25.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419225009426432 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":84,"voteCount":0}],"success":true}
2023-05-16 21:09:25.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419225009426432 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 21:09:25.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419225038786560 [0;39m ------------- 开始 -------------
2023-05-16 21:09:25.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419225038786560 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:09:25.880 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419225038786560 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:09:25.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419225038786560 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:09:25.881 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419225038786560 [0;39m 请求参数: [2]
2023-05-16 21:09:25.881 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419225038786560 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:09:25.882 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419225038786560 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:09:25.883 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419225038786560 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:09:25.884 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419225038786560 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:09:25.885 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419225038786560 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:09:25.885 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419225038786560 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:09:25.885 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419225038786560 [0;39m <==      Total: 3
2023-05-16 21:09:25.885 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:25.885 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:09:25.887 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419225038786560 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:25.888 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419225038786560 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:09:25.888 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m <==      Total: 1
2023-05-16 21:09:25.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:25.889 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:09:25.892 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419225038786560 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:25.892 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419225038786560 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:09:25.892 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m <==      Total: 1
2023-05-16 21:09:25.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:25.893 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:09:25.893 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419225038786560 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:25.894 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419225038786560 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:09:25.894 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m <==      Total: 1
2023-05-16 21:09:25.894 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:25.895 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:09:25.895 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419225038786560 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:25.895 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419225038786560 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:09:25.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m <==      Total: 1
2023-05-16 21:09:25.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:25.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:09:25.897 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419225038786560 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:25.897 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419225038786560 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:09:25.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419225038786560 [0;39m <==      Total: 1
2023-05-16 21:09:25.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419225038786560 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:09:25.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419225038786560 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-16 21:09:26.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419227022692352 [0;39m ------------- 开始 -------------
2023-05-16 21:09:26.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419227022692352 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:09:26.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419227022692352 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:09:26.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419227022692352 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:09:26.354 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419227022692352 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:09:26.354 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419227022692352 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:09:26.355 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419227022692352 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:09:26.356 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419227022692352 [0;39m <==    Columns: id, content
2023-05-16 21:09:26.356 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419227022692352 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:09:26.356 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419227022692352 [0;39m <==      Total: 1
2023-05-16 21:09:26.357 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419227022692352 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:09:26.357 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419227022692352 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:09:26.365 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419227022692352 [0;39m <==    Updates: 1
2023-05-16 21:09:26.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419227022692352 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:09:26.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419227022692352 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 21:09:35.022 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39419263383113728 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:09:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419263383113728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:09:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419263383113728 [0;39m ==> Parameters: 
2023-05-16 21:09:35.041 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419263383113728 [0;39m <==    Updates: 2
2023-05-16 21:09:35.041 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39419263383113728 [0;39m 更新电子书下的文档数据结束，耗时：18毫秒
2023-05-16 21:09:45.584 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:09:49.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419325358149632 [0;39m ------------- 开始 -------------
2023-05-16 21:09:49.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419325358149633 [0;39m ------------- 开始 -------------
2023-05-16 21:09:49.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419325358149632 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:09:49.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419325358149633 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:09:49.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419325358149632 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:09:49.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419325358149633 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:09:49.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419325358149632 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:09:49.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419325358149633 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:09:49.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419325358149633 [0;39m 请求参数: [2]
2023-05-16 21:09:49.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419325358149632 [0;39m 请求参数: [2]
2023-05-16 21:09:49.799 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419325358149632 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:09:49.799 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419325358149632 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:09:49.799 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419325358149633 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:09:49.800 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419325358149633 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:09:49.801 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419325358149633 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:09:49.801 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419325358149632 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:09:49.802 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419325358149633 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 85, 0
2023-05-16 21:09:49.802 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419325358149632 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:09:49.802 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419325358149633 [0;39m <==      Total: 1
2023-05-16 21:09:49.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419325358149633 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":85,"voteCount":0}],"success":true}
2023-05-16 21:09:49.802 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419325358149632 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:09:49.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419325358149633 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-16 21:09:49.803 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419325358149632 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:09:49.803 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419325358149632 [0;39m <==      Total: 3
2023-05-16 21:09:49.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:49.804 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:09:49.804 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419325358149632 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:49.805 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419325358149632 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:09:49.805 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m <==      Total: 1
2023-05-16 21:09:49.805 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:49.806 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:09:49.807 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419325358149632 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:49.807 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419325358149632 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:09:49.807 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m <==      Total: 1
2023-05-16 21:09:49.808 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:49.809 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:09:49.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419325358149632 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:49.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419325358149632 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:09:49.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m <==      Total: 1
2023-05-16 21:09:49.811 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:49.811 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:09:49.812 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419325358149632 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:49.812 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419325358149632 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:09:49.812 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m <==      Total: 1
2023-05-16 21:09:49.813 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:49.813 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:09:49.814 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419325358149632 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:49.814 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419325358149632 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:09:49.814 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419325358149632 [0;39m <==      Total: 1
2023-05-16 21:09:49.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419325358149632 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:09:49.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419325358149632 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-16 21:09:51.320 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419331741880320 [0;39m ------------- 开始 -------------
2023-05-16 21:09:51.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419331741880320 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:09:51.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419331741880320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:09:51.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419331741880320 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:09:51.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419331741880320 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:09:51.324 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419331741880320 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:09:51.324 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419331741880320 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:09:51.325 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419331741880320 [0;39m <==    Columns: id, content
2023-05-16 21:09:51.325 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419331741880320 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:09:51.325 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419331741880320 [0;39m <==      Total: 1
2023-05-16 21:09:51.325 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419331741880320 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:09:51.328 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419331741880320 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:09:51.336 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419331741880320 [0;39m <==    Updates: 1
2023-05-16 21:09:51.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419331741880320 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:09:51.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419331741880320 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-16 21:09:52.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419336129122304 [0;39m ------------- 开始 -------------
2023-05-16 21:09:52.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419336129122304 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:09:52.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419336129122304 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:09:52.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419336129122304 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:09:52.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419336129122304 [0;39m 请求参数: [2]
2023-05-16 21:09:52.370 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419336129122304 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:09:52.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419336150093824 [0;39m ------------- 开始 -------------
2023-05-16 21:09:52.371 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419336129122304 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:09:52.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419336150093824 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:09:52.371 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419336129122304 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:09:52.372 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419336129122304 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 86, 0
2023-05-16 21:09:52.375 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419336129122304 [0;39m <==      Total: 1
2023-05-16 21:09:52.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419336129122304 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":86,"voteCount":0}],"success":true}
2023-05-16 21:09:52.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419336129122304 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 21:09:52.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419336150093824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:09:52.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419336150093824 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:09:52.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419336150093824 [0;39m 请求参数: [2]
2023-05-16 21:09:52.383 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419336150093824 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:09:52.383 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419336150093824 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:09:52.385 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419336150093824 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:09:52.386 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419336150093824 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:09:52.386 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419336150093824 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:09:52.387 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419336150093824 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:09:52.387 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419336150093824 [0;39m <==      Total: 3
2023-05-16 21:09:52.387 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:52.387 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:09:52.391 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419336150093824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:52.391 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419336150093824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:09:52.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m <==      Total: 1
2023-05-16 21:09:52.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:52.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:09:52.394 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419336150093824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:52.394 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419336150093824 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:09:52.394 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m <==      Total: 1
2023-05-16 21:09:52.395 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:52.395 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:09:52.395 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419336150093824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:52.395 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419336150093824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:09:52.396 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m <==      Total: 1
2023-05-16 21:09:52.396 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:52.397 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:09:52.397 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419336150093824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:52.398 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419336150093824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:09:52.398 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m <==      Total: 1
2023-05-16 21:09:52.398 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:09:52.399 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:09:52.399 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419336150093824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:09:52.399 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419336150093824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:09:52.400 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419336150093824 [0;39m <==      Total: 1
2023-05-16 21:09:52.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419336150093824 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:09:52.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419336150093824 [0;39m ------------- 结束 耗时：29 ms -------------
2023-05-16 21:09:52.435 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:09:52.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419337660043264 [0;39m ------------- 开始 -------------
2023-05-16 21:09:52.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419337660043264 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:09:52.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419337660043264 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:09:52.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419337660043264 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:09:52.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419337660043264 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:09:52.733 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419337660043264 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:09:52.735 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419337660043264 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:09:52.736 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419337660043264 [0;39m <==    Columns: id, content
2023-05-16 21:09:52.737 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419337660043264 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:09:52.737 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419337660043264 [0;39m <==      Total: 1
2023-05-16 21:09:52.738 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419337660043264 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:09:52.739 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419337660043264 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:09:52.740 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419337660043264 [0;39m <==    Updates: 1
2023-05-16 21:09:52.741 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419337660043264 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:09:52.741 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419337660043264 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-16 21:10:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39419368173604864 [0;39m 生成今日电子书快照开始
2023-05-16 21:10:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39419368173604864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:10:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39419368173604864 [0;39m ==> Parameters: 
2023-05-16 21:10:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39419368173604864 [0;39m <==    Updates: 0
2023-05-16 21:10:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39419368173604864 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-16 21:10:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39419389153513472 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:10:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419389153513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:10:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419389153513472 [0;39m ==> Parameters: 
2023-05-16 21:10:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419389153513472 [0;39m <==    Updates: 2
2023-05-16 21:10:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39419389153513472 [0;39m 更新电子书下的文档数据结束，耗时：10毫秒
2023-05-16 21:10:08.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419403321872384 [0;39m ------------- 开始 -------------
2023-05-16 21:10:08.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419403321872384 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:10:08.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419403321872384 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:10:08.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419403321872384 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:10:08.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419403321872384 [0;39m 请求参数: [2]
2023-05-16 21:10:08.387 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419403321872384 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:10:08.388 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419403321872384 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:10:08.389 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419403321872384 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:10:08.389 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419403321872384 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:10:08.390 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419403321872384 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:10:08.391 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419403321872384 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:10:08.392 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419403321872384 [0;39m <==      Total: 3
2023-05-16 21:10:08.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:08.392 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:08.394 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419403321872384 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:08.394 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419403321872384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:08.394 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m <==      Total: 1
2023-05-16 21:10:08.395 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:08.395 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:10:08.395 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419403321872384 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:08.396 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419403321872384 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:10:08.396 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m <==      Total: 1
2023-05-16 21:10:08.396 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:08.397 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:08.397 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419403321872384 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:08.398 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419403321872384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:08.398 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m <==      Total: 1
2023-05-16 21:10:08.399 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:08.399 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:08.399 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419403321872384 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:08.400 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419403321872384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:08.400 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m <==      Total: 1
2023-05-16 21:10:08.400 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:08.401 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:08.401 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419403321872384 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:08.401 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419403321872384 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:08.401 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419403321872384 [0;39m <==      Total: 1
2023-05-16 21:10:08.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419403321872384 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:10:08.402 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419403321872384 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-16 21:10:09.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419409206480897 [0;39m ------------- 开始 -------------
2023-05-16 21:10:09.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419409206480897 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:10:09.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419409206480896 [0;39m ------------- 开始 -------------
2023-05-16 21:10:09.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419409206480897 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:10:09.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419409206480896 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:10:09.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419409206480897 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:10:09.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419409206480896 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:10:09.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419409206480896 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:10:09.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419409206480897 [0;39m 请求参数: [2]
2023-05-16 21:10:09.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419409206480896 [0;39m 请求参数: [2]
2023-05-16 21:10:09.791 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419409206480897 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:10:09.791 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419409206480897 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:10:09.792 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419409206480896 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:10:09.793 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419409206480897 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:10:09.793 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419409206480896 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:10:09.793 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419409206480897 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:10:09.793 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419409206480897 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:10:09.793 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419409206480896 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:10:09.794 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419409206480896 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 87, 0
2023-05-16 21:10:09.794 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419409206480897 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:10:09.794 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419409206480897 [0;39m <==      Total: 3
2023-05-16 21:10:09.794 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419409206480896 [0;39m <==      Total: 1
2023-05-16 21:10:09.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419409206480896 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":87,"voteCount":0}],"success":true}
2023-05-16 21:10:09.794 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:09.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419409206480896 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 21:10:09.795 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:09.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419409206480897 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:09.795 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419409206480897 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:09.796 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m <==      Total: 1
2023-05-16 21:10:09.796 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:09.796 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:10:09.797 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419409206480897 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:09.797 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419409206480897 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:10:09.798 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m <==      Total: 1
2023-05-16 21:10:09.798 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:09.798 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:09.799 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419409206480897 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:09.799 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419409206480897 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:09.800 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m <==      Total: 1
2023-05-16 21:10:09.800 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:09.801 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:09.802 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419409206480897 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:09.802 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419409206480897 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:09.802 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m <==      Total: 1
2023-05-16 21:10:09.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:09.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:09.804 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419409206480897 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:09.804 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419409206480897 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:09.805 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419409206480897 [0;39m <==      Total: 1
2023-05-16 21:10:09.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419409206480897 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:10:09.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419409206480897 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-16 21:10:09.913 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419409726574592 [0;39m ------------- 开始 -------------
2023-05-16 21:10:09.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419409726574592 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:10:09.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419409726574592 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:10:09.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419409726574592 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:10:09.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419409726574592 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:10:09.915 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419409726574592 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:10:09.915 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419409726574592 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:10:09.916 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419409726574592 [0;39m <==    Columns: id, content
2023-05-16 21:10:09.916 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419409726574592 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:10:09.916 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419409726574592 [0;39m <==      Total: 1
2023-05-16 21:10:09.917 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419409726574592 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:10:09.917 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419409726574592 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:10:10.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419410343137280 [0;39m ------------- 开始 -------------
2023-05-16 21:10:10.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419410343137280 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:10:10.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419410343137280 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:10:10.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419410343137280 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:10:10.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419410347331584 [0;39m ------------- 开始 -------------
2023-05-16 21:10:10.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419410343137280 [0;39m 请求参数: [2]
2023-05-16 21:10:10.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419410347331584 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:10:10.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419410347331584 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:10:10.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419410347331584 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:10:10.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419410347331584 [0;39m 请求参数: [2]
2023-05-16 21:10:10.061 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419410343137280 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:10:10.065 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419410343137280 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:10:10.065 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419410347331584 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:10:10.065 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419410347331584 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:10:10.066 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419410343137280 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:10:10.066 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419410343137280 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 87, 0
2023-05-16 21:10:10.066 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419410347331584 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:10:10.066 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419410343137280 [0;39m <==      Total: 1
2023-05-16 21:10:10.066 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419410347331584 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:10:10.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419410343137280 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":87,"voteCount":0}],"success":true}
2023-05-16 21:10:10.068 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419410347331584 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:10:10.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419410343137280 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-16 21:10:10.068 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419410347331584 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:10:10.068 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419410347331584 [0;39m <==      Total: 3
2023-05-16 21:10:10.069 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:10.069 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:10.071 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419410347331584 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:10.072 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419410347331584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:10.072 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m <==      Total: 1
2023-05-16 21:10:10.073 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:10.073 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:10:10.074 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419410347331584 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:10.074 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419410347331584 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:10:10.074 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m <==      Total: 1
2023-05-16 21:10:10.075 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:10.075 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:10.075 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419410347331584 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:10.076 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419410347331584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:10.076 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m <==      Total: 1
2023-05-16 21:10:10.076 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:10.077 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:10.077 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419410347331584 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:10.078 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419410347331584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:10.078 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m <==      Total: 1
2023-05-16 21:10:10.079 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:10.079 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:10.079 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419410347331584 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:10.080 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419410347331584 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:10.080 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419410347331584 [0;39m <==      Total: 1
2023-05-16 21:10:10.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419410347331584 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:10:10.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419410347331584 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-16 21:10:10.283 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419409726574592 [0;39m <==    Updates: 1
2023-05-16 21:10:10.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419409726574592 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:10:10.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419409726574592 [0;39m ------------- 结束 耗时：371 ms -------------
2023-05-16 21:10:10.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419411299438592 [0;39m ------------- 开始 -------------
2023-05-16 21:10:10.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419411299438592 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:10:10.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419411299438592 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:10:10.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419411299438592 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:10:10.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419411299438592 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:10:10.290 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419411299438592 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:10:10.291 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419411299438592 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:10:10.294 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419411299438592 [0;39m <==    Columns: id, content
2023-05-16 21:10:10.294 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419411299438592 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:10:10.295 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419411299438592 [0;39m <==      Total: 1
2023-05-16 21:10:10.295 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419411299438592 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:10:10.296 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419411299438592 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:10:10.297 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419411299438592 [0;39m <==    Updates: 1
2023-05-16 21:10:10.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419411299438592 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:10:10.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419411299438592 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-16 21:10:12.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419422443704320 [0;39m ------------- 开始 -------------
2023-05-16 21:10:12.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419422443704320 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:10:12.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419422443704320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:10:12.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419422443704320 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:10:12.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419422443704320 [0;39m 请求参数: [2]
2023-05-16 21:10:12.948 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419422443704320 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:10:12.949 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419422443704320 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:10:12.950 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419422443704320 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:10:12.950 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419422443704320 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:10:12.951 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419422443704320 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:10:12.952 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419422443704320 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:10:12.952 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419422443704320 [0;39m <==      Total: 3
2023-05-16 21:10:12.953 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:12.953 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:12.954 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419422443704320 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:12.954 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419422443704320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:12.955 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m <==      Total: 1
2023-05-16 21:10:12.955 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:12.955 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:10:12.956 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419422443704320 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:12.956 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419422443704320 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:10:12.956 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m <==      Total: 1
2023-05-16 21:10:12.957 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:12.957 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:12.957 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419422443704320 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:12.959 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419422443704320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:12.959 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m <==      Total: 1
2023-05-16 21:10:12.960 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:12.960 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:12.961 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419422443704320 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:12.961 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419422443704320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:12.961 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m <==      Total: 1
2023-05-16 21:10:12.962 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:10:12.962 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:10:12.963 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419422443704320 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:10:12.963 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419422443704320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:10:12.963 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419422443704320 [0;39m <==      Total: 1
2023-05-16 21:10:12.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419422443704320 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:10:12.964 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419422443704320 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-16 21:10:15.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:10:21.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:10:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39419514961661952 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:10:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419514961661952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:10:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419514961661952 [0;39m ==> Parameters: 
2023-05-16 21:10:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419514961661952 [0;39m <==    Updates: 2
2023-05-16 21:10:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39419514961661952 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-16 21:10:41.916 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:10:45.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:10:48.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:11:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39419619857010688 [0;39m 生成今日电子书快照开始
2023-05-16 21:11:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39419619857010688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:11:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39419619857010688 [0;39m ==> Parameters: 
2023-05-16 21:11:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39419619857010688 [0;39m <==    Updates: 0
2023-05-16 21:11:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39419619857010688 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-16 21:11:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39419640836919296 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:11:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419640836919296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:11:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419640836919296 [0;39m ==> Parameters: 
2023-05-16 21:11:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419640836919296 [0;39m <==    Updates: 2
2023-05-16 21:11:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39419640836919296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:11:06.307 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:11:15.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:11:19.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:11:30.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:11:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39419766649262080 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:11:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419766649262080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:11:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419766649262080 [0;39m ==> Parameters: 
2023-05-16 21:11:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419766649262080 [0;39m <==    Updates: 2
2023-05-16 21:11:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39419766649262080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:11:38.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419780117172224 [0;39m ------------- 开始 -------------
2023-05-16 21:11:38.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419780117172224 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:11:38.226 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419780117172224 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:11:38.226 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419780117172224 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:11:38.226 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419780117172224 [0;39m 请求参数: [2]
2023-05-16 21:11:38.233 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419780117172224 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:11:38.233 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419780117172224 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:11:38.234 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419780117172224 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:11:38.235 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419780117172224 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 89, 0
2023-05-16 21:11:38.235 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419780117172224 [0;39m <==      Total: 1
2023-05-16 21:11:38.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419780117172224 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":89,"voteCount":0}],"success":true}
2023-05-16 21:11:38.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419780117172224 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-16 21:11:38.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419780196864000 [0;39m ------------- 开始 -------------
2023-05-16 21:11:38.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419780196864000 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:11:38.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419780196864000 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:11:38.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419780196864000 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:11:38.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419780196864000 [0;39m 请求参数: [2]
2023-05-16 21:11:38.243 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419780196864000 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:11:38.244 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419780196864000 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:11:38.245 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419780196864000 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:11:38.245 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419780196864000 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:11:38.246 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419780196864000 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:11:38.246 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419780196864000 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:11:38.246 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419780196864000 [0;39m <==      Total: 3
2023-05-16 21:11:38.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:38.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:11:38.250 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419780196864000 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:38.250 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419780196864000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:11:38.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m <==      Total: 1
2023-05-16 21:11:38.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:38.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:11:38.253 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419780196864000 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:38.253 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419780196864000 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:11:38.254 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m <==      Total: 1
2023-05-16 21:11:38.256 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:38.256 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:11:38.257 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419780196864000 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:38.257 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419780196864000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:11:38.257 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m <==      Total: 1
2023-05-16 21:11:38.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:38.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:11:38.259 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419780196864000 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:38.259 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419780196864000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:11:38.260 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m <==      Total: 1
2023-05-16 21:11:38.263 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:38.263 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:11:38.265 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419780196864000 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:38.265 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419780196864000 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:11:38.266 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419780196864000 [0;39m <==      Total: 1
2023-05-16 21:11:38.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419780196864000 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:11:38.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419780196864000 [0;39m ------------- 结束 耗时：27 ms -------------
2023-05-16 21:11:38.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419780767289344 [0;39m ------------- 开始 -------------
2023-05-16 21:11:38.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419780767289344 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:11:38.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419780767289344 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:11:38.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419780767289344 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:11:38.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419780767289344 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:11:38.382 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419780767289344 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:11:38.383 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419780767289344 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:11:38.384 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419780767289344 [0;39m <==    Columns: id, content
2023-05-16 21:11:38.384 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419780767289344 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:11:38.385 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419780767289344 [0;39m <==      Total: 1
2023-05-16 21:11:38.386 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419780767289344 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:11:38.386 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419780767289344 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:11:38.470 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419780767289344 [0;39m <==    Updates: 1
2023-05-16 21:11:38.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419780767289344 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:11:38.472 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419780767289344 [0;39m ------------- 结束 耗时：96 ms -------------
2023-05-16 21:11:38.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419781228662784 [0;39m ------------- 开始 -------------
2023-05-16 21:11:38.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419781228662784 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:11:38.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419781228662784 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:11:38.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419781228662784 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:11:38.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419781228662784 [0;39m 请求参数: [2]
2023-05-16 21:11:38.491 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419781228662784 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:11:38.492 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419781228662784 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:11:38.493 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419781258022912 [0;39m ------------- 开始 -------------
2023-05-16 21:11:38.493 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419781228662784 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:11:38.493 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419781228662784 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 90, 0
2023-05-16 21:11:38.495 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419781228662784 [0;39m <==      Total: 1
2023-05-16 21:11:38.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419781228662784 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":90,"voteCount":0}],"success":true}
2023-05-16 21:11:38.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419781228662784 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-16 21:11:38.493 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419781258022912 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:11:38.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419781258022912 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:11:38.504 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419781258022912 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:11:38.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419781258022912 [0;39m 请求参数: [2]
2023-05-16 21:11:38.508 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419781258022912 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:11:38.509 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419781258022912 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:11:38.509 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419781258022912 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:11:38.510 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419781258022912 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:11:38.514 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419781258022912 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:11:38.514 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419781258022912 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:11:38.514 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419781258022912 [0;39m <==      Total: 3
2023-05-16 21:11:38.515 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:38.515 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:11:38.519 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419781258022912 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:38.520 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419781258022912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:11:38.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m <==      Total: 1
2023-05-16 21:11:38.521 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:38.521 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:11:38.522 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419781258022912 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:38.523 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419781258022912 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:11:38.524 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m <==      Total: 1
2023-05-16 21:11:38.524 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:38.525 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:11:38.525 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419781258022912 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:38.525 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419781258022912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:11:38.527 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m <==      Total: 1
2023-05-16 21:11:38.528 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:38.528 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:11:38.529 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419781258022912 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:38.529 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419781258022912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:11:38.529 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m <==      Total: 1
2023-05-16 21:11:38.530 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:38.530 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:11:38.530 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419781258022912 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:38.531 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419781258022912 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:11:38.531 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419781258022912 [0;39m <==      Total: 1
2023-05-16 21:11:38.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419781258022912 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:11:38.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419781258022912 [0;39m ------------- 结束 耗时：39 ms -------------
2023-05-16 21:11:38.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419781501292544 [0;39m ------------- 开始 -------------
2023-05-16 21:11:38.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419781501292544 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:11:38.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419781501292544 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:11:38.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419781501292544 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:11:38.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419781501292544 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:11:38.553 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419781501292544 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:11:38.555 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419781501292544 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:11:38.556 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419781501292544 [0;39m <==    Columns: id, content
2023-05-16 21:11:38.556 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419781501292544 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:11:38.557 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419781501292544 [0;39m <==      Total: 1
2023-05-16 21:11:38.558 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419781501292544 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:11:38.559 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419781501292544 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:11:38.621 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419781501292544 [0;39m <==    Updates: 1
2023-05-16 21:11:38.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419781501292544 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:11:38.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419781501292544 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-16 21:11:45.226 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:11:47.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419820059529216 [0;39m ------------- 开始 -------------
2023-05-16 21:11:47.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419820059529216 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:11:47.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419820059529216 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:11:47.745 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419820059529216 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:11:47.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419820059529216 [0;39m 请求参数: [2]
2023-05-16 21:11:47.747 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419820059529216 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:11:47.747 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419820059529216 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:11:47.748 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419820059529216 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:11:47.749 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419820059529216 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:11:47.749 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419820059529216 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:11:47.750 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419820059529216 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:11:47.750 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419820059529216 [0;39m <==      Total: 3
2023-05-16 21:11:47.750 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:47.751 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:11:47.751 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419820059529216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:47.751 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419820059529216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:11:47.752 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m <==      Total: 1
2023-05-16 21:11:47.752 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:47.753 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:11:47.754 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419820059529216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:47.755 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419820059529216 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:11:47.755 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m <==      Total: 1
2023-05-16 21:11:47.755 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:47.756 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:11:47.756 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419820059529216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:48.204 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419820059529216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:11:48.205 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m <==      Total: 1
2023-05-16 21:11:48.205 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:48.205 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:11:48.206 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419820059529216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:48.207 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419820059529216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:11:48.207 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m <==      Total: 1
2023-05-16 21:11:48.208 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:11:48.208 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:11:48.209 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419820059529216 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:11:48.209 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419820059529216 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:11:48.209 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419820059529216 [0;39m <==      Total: 1
2023-05-16 21:11:48.209 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419820059529216 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:11:48.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419820059529216 [0;39m ------------- 结束 耗时：466 ms -------------
2023-05-16 21:11:49.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:11:55.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:12:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39419871532027904 [0;39m 生成今日电子书快照开始
2023-05-16 21:12:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39419871532027904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:12:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39419871532027904 [0;39m ==> Parameters: 
2023-05-16 21:12:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39419871532027904 [0;39m <==    Updates: 0
2023-05-16 21:12:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39419871532027904 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 21:12:05.030 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39419892562268160 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:12:05.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419892562268160 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:12:05.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419892562268160 [0;39m ==> Parameters: 
2023-05-16 21:12:05.043 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39419892562268160 [0;39m <==    Updates: 2
2023-05-16 21:12:05.043 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39419892562268160 [0;39m 更新电子书下的文档数据结束，耗时：13毫秒
2023-05-16 21:12:15.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:12:21.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:12:26.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419981515067392 [0;39m ------------- 开始 -------------
2023-05-16 21:12:26.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419981515067392 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:12:26.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419981515067392 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:12:26.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419981515067392 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:12:26.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419981515067392 [0;39m 请求参数: [2]
2023-05-16 21:12:26.241 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419981515067392 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:12:26.241 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419981515067392 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:12:26.242 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419981515067392 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:12:26.242 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39419981515067392 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 91, 0
2023-05-16 21:12:26.242 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39419981515067392 [0;39m <==      Total: 1
2023-05-16 21:12:26.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419981515067392 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":91,"voteCount":0}],"success":true}
2023-05-16 21:12:26.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419981515067392 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 21:12:26.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419981548621824 [0;39m ------------- 开始 -------------
2023-05-16 21:12:26.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419981548621824 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:12:26.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419981548621824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:12:26.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419981548621824 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:12:26.247 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419981548621824 [0;39m 请求参数: [2]
2023-05-16 21:12:26.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419981548621824 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:12:26.247 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419981548621824 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:12:26.248 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419981548621824 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:12:26.249 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419981548621824 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:12:26.250 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419981548621824 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:12:26.250 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39419981548621824 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:12:26.250 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39419981548621824 [0;39m <==      Total: 3
2023-05-16 21:12:26.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:12:26.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:12:26.255 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419981548621824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:12:26.256 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419981548621824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:12:26.257 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m <==      Total: 1
2023-05-16 21:12:26.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:12:26.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:12:26.262 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419981548621824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:12:26.262 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419981548621824 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:12:26.263 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m <==      Total: 1
2023-05-16 21:12:26.263 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:12:26.264 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:12:26.264 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419981548621824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:12:26.265 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419981548621824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:12:26.265 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m <==      Total: 1
2023-05-16 21:12:26.265 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:12:26.266 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:12:26.267 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419981548621824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:12:26.267 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419981548621824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:12:26.268 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m <==      Total: 1
2023-05-16 21:12:26.268 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:12:26.268 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:12:26.269 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419981548621824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:12:26.269 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39419981548621824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:12:26.269 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39419981548621824 [0;39m <==      Total: 1
2023-05-16 21:12:26.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419981548621824 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:12:26.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419981548621824 [0;39m ------------- 结束 耗时：25 ms -------------
2023-05-16 21:12:26.351 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39419981989023744 [0;39m ------------- 开始 -------------
2023-05-16 21:12:26.352 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39419981989023744 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:12:26.352 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39419981989023744 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:12:26.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39419981989023744 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:12:26.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39419981989023744 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:12:26.353 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419981989023744 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:12:26.354 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419981989023744 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:12:26.354 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419981989023744 [0;39m <==    Columns: id, content
2023-05-16 21:12:26.355 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39419981989023744 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:12:26.355 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39419981989023744 [0;39m <==      Total: 1
2023-05-16 21:12:26.355 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419981989023744 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:12:26.355 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419981989023744 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:12:26.364 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39419981989023744 [0;39m <==    Updates: 1
2023-05-16 21:12:26.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39419981989023744 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:12:26.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39419981989023744 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 21:12:31.825 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420004948643840 [0;39m ------------- 开始 -------------
2023-05-16 21:12:31.826 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420004948643840 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:12:31.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420004948643840 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:12:31.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420004948643840 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:12:31.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420004948643840 [0;39m 请求参数: [2]
2023-05-16 21:12:31.827 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420004948643840 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:12:31.828 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420004948643840 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:12:31.828 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420004948643840 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:12:31.828 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420004948643840 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:12:31.829 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420004948643840 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:12:31.829 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420004948643840 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:12:31.830 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420004948643840 [0;39m <==      Total: 3
2023-05-16 21:12:31.830 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:12:31.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:12:31.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420004948643840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:12:31.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420004948643840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:12:31.833 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m <==      Total: 1
2023-05-16 21:12:31.833 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:12:31.834 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:12:31.835 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420004948643840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:12:31.835 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420004948643840 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:12:31.835 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m <==      Total: 1
2023-05-16 21:12:31.836 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:12:31.836 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:12:31.837 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420004948643840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:12:31.837 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420004948643840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:12:31.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m <==      Total: 1
2023-05-16 21:12:31.837 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:12:31.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:12:31.839 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420004948643840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:12:31.839 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420004948643840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:12:31.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m <==      Total: 1
2023-05-16 21:12:31.839 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:12:31.840 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:12:31.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420004948643840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:12:31.840 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420004948643840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:12:31.841 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420004948643840 [0;39m <==      Total: 1
2023-05-16 21:12:31.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420004948643840 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:12:31.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420004948643840 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-16 21:12:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39420018320084992 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420018320084992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420018320084992 [0;39m ==> Parameters: 
2023-05-16 21:12:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420018320084992 [0;39m <==    Updates: 2
2023-05-16 21:12:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39420018320084992 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-16 21:12:45.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:12:49.387 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:13:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39420123148324864 [0;39m 生成今日电子书快照开始
2023-05-16 21:13:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39420123148324864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:13:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39420123148324864 [0;39m ==> Parameters: 
2023-05-16 21:13:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39420123148324864 [0;39m <==    Updates: 0
2023-05-16 21:13:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39420123148324864 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-16 21:13:04.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420142962216960 [0;39m ------------- 开始 -------------
2023-05-16 21:13:04.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420142962216961 [0;39m ------------- 开始 -------------
2023-05-16 21:13:04.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420142962216960 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:13:04.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420142962216961 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:13:04.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420142962216960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:13:04.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420142962216961 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:13:04.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420142962216961 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:13:04.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420142962216960 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:13:04.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420142962216961 [0;39m 请求参数: [2]
2023-05-16 21:13:04.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420142962216960 [0;39m 请求参数: [2]
2023-05-16 21:13:04.731 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420142962216960 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:13:04.732 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420142962216960 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:13:04.732 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39420142962216961 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:13:04.732 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39420142962216961 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:13:04.733 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420142962216960 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:13:04.733 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420142962216960 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:13:04.733 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39420142962216961 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:13:04.733 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39420142962216961 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 92, 0
2023-05-16 21:13:04.734 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420142962216960 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:13:04.734 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39420142962216961 [0;39m <==      Total: 1
2023-05-16 21:13:04.734 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420142962216960 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:13:04.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420142962216961 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":92,"voteCount":0}],"success":true}
2023-05-16 21:13:04.734 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420142962216960 [0;39m <==      Total: 3
2023-05-16 21:13:04.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420142962216961 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 21:13:04.735 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:04.735 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:04.736 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420142962216960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:04.736 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420142962216960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:04.736 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m <==      Total: 1
2023-05-16 21:13:04.736 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:04.736 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:13:04.737 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420142962216960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:04.737 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420142962216960 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:13:04.737 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m <==      Total: 1
2023-05-16 21:13:04.738 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:04.738 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:04.739 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420142962216960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:04.739 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420142962216960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:04.739 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m <==      Total: 1
2023-05-16 21:13:04.739 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:04.740 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:04.741 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420142962216960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:04.741 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420142962216960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:04.741 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m <==      Total: 1
2023-05-16 21:13:04.741 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:04.742 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:04.742 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420142962216960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:04.742 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420142962216960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:04.743 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420142962216960 [0;39m <==      Total: 1
2023-05-16 21:13:04.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420142962216960 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:13:04.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420142962216960 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 21:13:04.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420143377453056 [0;39m ------------- 开始 -------------
2023-05-16 21:13:04.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420143377453056 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:13:04.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420143377453056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:13:04.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420143377453056 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:13:04.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420143377453056 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:13:04.832 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39420143377453056 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:13:04.832 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39420143377453056 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:13:04.833 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39420143377453056 [0;39m <==    Columns: id, content
2023-05-16 21:13:04.833 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39420143377453056 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:13:04.833 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39420143377453056 [0;39m <==      Total: 1
2023-05-16 21:13:04.834 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39420143377453056 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:13:04.834 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39420143377453056 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:13:04.841 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39420143377453056 [0;39m <==    Updates: 1
2023-05-16 21:13:04.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420143377453056 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:13:04.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420143377453056 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 21:13:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39420144149204992 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:13:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420144149204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:13:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420144149204992 [0;39m ==> Parameters: 
2023-05-16 21:13:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420144149204992 [0;39m <==    Updates: 2
2023-05-16 21:13:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39420144149204992 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-16 21:13:09.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420164713877504 [0;39m ------------- 开始 -------------
2023-05-16 21:13:09.916 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420164713877504 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:13:09.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420164713877504 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:13:09.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420164713877504 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:13:09.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420164713877504 [0;39m 请求参数: [2]
2023-05-16 21:13:09.919 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420164713877504 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:13:09.920 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420164713877504 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:13:09.921 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420164713877504 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:13:09.921 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420164713877504 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:13:09.921 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420164713877504 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:13:09.922 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420164713877504 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:13:09.922 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420164713877504 [0;39m <==      Total: 3
2023-05-16 21:13:09.922 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:09.922 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:09.923 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420164713877504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:09.923 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420164713877504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:09.923 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m <==      Total: 1
2023-05-16 21:13:09.924 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:09.924 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:13:09.924 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420164713877504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:09.925 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420164713877504 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:13:09.925 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m <==      Total: 1
2023-05-16 21:13:09.926 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:09.926 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:09.927 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420164713877504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:10.741 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:13:12.251 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420164713877504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:12.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m <==      Total: 1
2023-05-16 21:13:12.253 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:12.254 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:12.255 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420164713877504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:12.255 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420164713877504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:12.256 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m <==      Total: 1
2023-05-16 21:13:12.256 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:12.256 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:12.257 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420164713877504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:12.257 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420164713877504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:12.257 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420164713877504 [0;39m <==      Total: 1
2023-05-16 21:13:12.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420164713877504 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:13:12.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420164713877504 [0;39m ------------- 结束 耗时：2342 ms -------------
2023-05-16 21:13:15.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:13:19.533 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:13:33.401 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39419781501292544 [0;39m 连接关闭，token：kq2Q3tDIDa，session id：0！当前连接数：0
2023-05-16 21:13:34.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:13:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39420269936381952 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:13:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420269936381952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:13:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420269936381952 [0;39m ==> Parameters: 
2023-05-16 21:13:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420269936381952 [0;39m <==    Updates: 2
2023-05-16 21:13:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39420269936381952 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:13:40.262 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39419820059529216 [0;39m 有新连接：token：YrRdohlT6I，session id：1，当前连接数：1
2023-05-16 21:13:40.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420293747445760 [0;39m ------------- 开始 -------------
2023-05-16 21:13:40.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420293747445761 [0;39m ------------- 开始 -------------
2023-05-16 21:13:40.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420293747445760 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:13:40.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420293747445761 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:13:40.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420293747445760 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:13:40.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420293747445761 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:13:40.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420293747445760 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:13:40.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420293747445761 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:13:40.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420293747445760 [0;39m 请求参数: [2]
2023-05-16 21:13:40.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420293747445761 [0;39m 请求参数: [2]
2023-05-16 21:13:40.682 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420293747445760 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:13:40.684 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39420293747445761 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:13:40.684 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420293747445760 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:13:40.684 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39420293747445761 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:13:40.685 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420293747445760 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:13:40.685 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39420293747445761 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:13:40.685 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420293747445760 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:13:40.685 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39420293747445761 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 93, 0
2023-05-16 21:13:40.686 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39420293747445761 [0;39m <==      Total: 1
2023-05-16 21:13:40.686 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420293747445760 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:13:40.686 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420293747445760 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:13:40.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420293747445761 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":93,"voteCount":0}],"success":true}
2023-05-16 21:13:40.686 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420293747445760 [0;39m <==      Total: 3
2023-05-16 21:13:40.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420293747445761 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-16 21:13:40.686 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:40.687 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:40.687 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420293747445760 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:40.688 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420293747445760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:40.688 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m <==      Total: 1
2023-05-16 21:13:40.688 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:40.689 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:13:40.689 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420293747445760 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:40.689 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420293747445760 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:13:40.690 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m <==      Total: 1
2023-05-16 21:13:40.690 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:40.691 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:40.691 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420293747445760 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:40.691 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420293747445760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:40.691 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m <==      Total: 1
2023-05-16 21:13:40.691 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:40.692 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:40.692 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420293747445760 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:40.692 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420293747445760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:40.693 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m <==      Total: 1
2023-05-16 21:13:40.693 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:40.693 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:40.695 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420293747445760 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:40.695 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420293747445760 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:40.695 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420293747445760 [0;39m <==      Total: 1
2023-05-16 21:13:40.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420293747445760 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:13:40.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420293747445760 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-16 21:13:40.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420294930239488 [0;39m ------------- 开始 -------------
2023-05-16 21:13:40.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420294930239488 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:13:40.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420294930239488 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:13:40.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420294930239488 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:13:40.963 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420294930239488 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:13:40.964 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39420294930239488 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:13:40.964 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39420294930239488 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:13:40.965 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39420294930239488 [0;39m <==    Columns: id, content
2023-05-16 21:13:40.965 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39420294930239488 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:13:40.966 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39420294930239488 [0;39m <==      Total: 1
2023-05-16 21:13:40.966 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39420294930239488 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:13:40.966 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39420294930239488 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:13:40.997 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39420294930239488 [0;39m <==    Updates: 1
2023-05-16 21:13:40.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420294930239488 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:13:40.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420294930239488 [0;39m ------------- 结束 耗时：36 ms -------------
2023-05-16 21:13:45.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420313255153664 [0;39m ------------- 开始 -------------
2023-05-16 21:13:45.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420313255153664 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:13:45.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420313255153664 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:13:45.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420313255153664 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:13:45.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420313255153664 [0;39m 请求参数: [2]
2023-05-16 21:13:45.333 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420313255153664 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:13:45.333 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420313255153664 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:13:45.335 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420313255153664 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:13:45.335 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420313255153664 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:13:45.336 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420313255153664 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:13:45.336 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420313255153664 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:13:45.336 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420313255153664 [0;39m <==      Total: 3
2023-05-16 21:13:45.336 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:45.337 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:45.337 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420313255153664 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:45.338 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420313255153664 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:45.338 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m <==      Total: 1
2023-05-16 21:13:45.338 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:45.339 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:13:45.339 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420313255153664 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:45.339 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420313255153664 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:13:45.340 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m <==      Total: 1
2023-05-16 21:13:45.340 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:45.340 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:45.341 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420313255153664 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:45.341 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420313255153664 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:45.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m <==      Total: 1
2023-05-16 21:13:45.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:45.342 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:45.344 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420313255153664 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:45.344 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420313255153664 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:45.344 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m <==      Total: 1
2023-05-16 21:13:45.345 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:13:45.345 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:13:45.346 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420313255153664 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:13:45.346 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420313255153664 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:13:45.346 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420313255153664 [0;39m <==      Total: 1
2023-05-16 21:13:45.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420313255153664 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:13:45.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420313255153664 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-16 21:13:45.362 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:13:50.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:13:58.905 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:14:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39420374840119296 [0;39m 生成今日电子书快照开始
2023-05-16 21:14:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39420374840119296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:14:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39420374840119296 [0;39m ==> Parameters: 
2023-05-16 21:14:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39420374840119296 [0;39m <==    Updates: 0
2023-05-16 21:14:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39420374840119296 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 21:14:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39420395820027904 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:14:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420395820027904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:14:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420395820027904 [0;39m ==> Parameters: 
2023-05-16 21:14:05.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420395820027904 [0;39m <==    Updates: 2
2023-05-16 21:14:05.086 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39420395820027904 [0;39m 更新电子书下的文档数据结束，耗时：69毫秒
2023-05-16 21:14:15.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:14:23.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:14:30.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420501608763392 [0;39m ------------- 开始 -------------
2023-05-16 21:14:30.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420501608763392 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:14:30.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420501608763392 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:14:30.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420501608763392 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:14:30.240 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420501608763392 [0;39m 请求参数: [2]
2023-05-16 21:14:30.241 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420501608763392 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:14:30.241 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420501608763392 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:14:30.242 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420501608763392 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:14:30.242 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420501608763392 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:14:30.242 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420501608763392 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:14:30.243 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420501608763392 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:14:30.243 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420501608763392 [0;39m <==      Total: 3
2023-05-16 21:14:30.244 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:14:30.245 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:14:30.245 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420501608763392 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:14:30.246 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420501608763392 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:14:30.246 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m <==      Total: 1
2023-05-16 21:14:30.246 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:14:30.246 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:14:30.247 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420501608763392 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:14:30.247 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420501608763392 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:14:30.247 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m <==      Total: 1
2023-05-16 21:14:30.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:14:30.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:14:30.248 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420501608763392 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:14:30.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420501608763392 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:14:30.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m <==      Total: 1
2023-05-16 21:14:30.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:14:30.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:14:30.250 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420501608763392 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:14:30.250 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420501608763392 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:14:30.250 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m <==      Total: 1
2023-05-16 21:14:30.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:14:30.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:14:30.251 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420501608763392 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:14:30.252 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420501608763392 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:14:30.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420501608763392 [0;39m <==      Total: 1
2023-05-16 21:14:30.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420501608763392 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:14:30.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420501608763392 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 21:14:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39420521586233344 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:14:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420521586233344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:14:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420521586233344 [0;39m ==> Parameters: 
2023-05-16 21:14:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420521586233344 [0;39m <==    Updates: 2
2023-05-16 21:14:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39420521586233344 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:14:45.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:14:49.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:15:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39420626464804864 [0;39m 生成今日电子书快照开始
2023-05-16 21:15:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39420626464804864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:15:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39420626464804864 [0;39m ==> Parameters: 
2023-05-16 21:15:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39420626464804864 [0;39m <==    Updates: 0
2023-05-16 21:15:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39420626464804864 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-16 21:15:01.952 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420634626920448 [0;39m ------------- 开始 -------------
2023-05-16 21:15:01.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420634626920448 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:15:01.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420634626920448 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:15:01.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420634626920448 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:15:01.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420634626920448 [0;39m 请求参数: [2]
2023-05-16 21:15:01.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420634635309056 [0;39m ------------- 开始 -------------
2023-05-16 21:15:01.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420634635309056 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:15:01.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420634635309056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:15:01.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420634635309056 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:15:01.955 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420634635309056 [0;39m 请求参数: [2]
2023-05-16 21:15:01.955 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420634635309056 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:15:01.956 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420634635309056 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:15:01.956 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39420634626920448 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:15:01.956 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420634635309056 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:15:01.957 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39420634626920448 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:15:01.957 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420634635309056 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:15:01.957 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39420634626920448 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:15:01.957 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420634635309056 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:15:01.957 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39420634626920448 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 94, 0
2023-05-16 21:15:01.958 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420634635309056 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:15:01.958 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39420634626920448 [0;39m <==      Total: 1
2023-05-16 21:15:01.958 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420634635309056 [0;39m <==      Total: 3
2023-05-16 21:15:01.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420634626920448 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":94,"voteCount":0}],"success":true}
2023-05-16 21:15:01.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420634626920448 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-16 21:15:01.958 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:15:01.959 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:15:01.959 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420634635309056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:15:01.960 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420634635309056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:15:01.960 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m <==      Total: 1
2023-05-16 21:15:01.960 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:15:01.960 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:15:01.960 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420634635309056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:15:01.962 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420634635309056 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:15:01.962 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m <==      Total: 1
2023-05-16 21:15:01.962 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:15:01.962 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:15:01.963 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420634635309056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:15:01.963 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420634635309056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:15:01.963 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m <==      Total: 1
2023-05-16 21:15:01.964 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:15:01.964 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:15:01.964 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420634635309056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:15:01.965 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420634635309056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:15:01.965 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m <==      Total: 1
2023-05-16 21:15:01.965 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:15:01.966 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:15:01.966 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420634635309056 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:15:01.966 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420634635309056 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:15:01.966 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420634635309056 [0;39m <==      Total: 1
2023-05-16 21:15:01.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420634635309056 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:15:01.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420634635309056 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 21:15:02.676 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420637663596544 [0;39m ------------- 开始 -------------
2023-05-16 21:15:02.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420637663596544 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:15:02.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420637663596544 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:15:02.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420637663596544 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:15:02.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420637663596544 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:15:02.678 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39420637663596544 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:15:02.679 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39420637663596544 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:15:02.679 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39420637663596544 [0;39m <==    Columns: id, content
2023-05-16 21:15:02.680 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39420637663596544 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:15:02.681 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39420637663596544 [0;39m <==      Total: 1
2023-05-16 21:15:02.682 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39420637663596544 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:15:02.682 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39420637663596544 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:15:02.691 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39420637663596544 [0;39m <==    Updates: 1
2023-05-16 21:15:02.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420637663596544 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:15:02.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420637663596544 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-16 21:15:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39420647448907776 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:15:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420647448907776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:15:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420647448907776 [0;39m ==> Parameters: 
2023-05-16 21:15:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420647448907776 [0;39m <==    Updates: 2
2023-05-16 21:15:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39420647448907776 [0;39m 更新电子书下的文档数据结束，耗时：13毫秒
2023-05-16 21:15:15.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:15:19.250 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:15:24.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420727220375552 [0;39m ------------- 开始 -------------
2023-05-16 21:15:24.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420727220375552 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:15:24.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420727220375552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:15:24.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420727220375552 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:15:24.029 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420727220375552 [0;39m 请求参数: [2]
2023-05-16 21:15:24.030 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420727220375552 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:15:24.030 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420727220375552 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:15:24.031 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420727220375552 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:15:24.031 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420727220375552 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:15:24.031 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420727220375552 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:15:24.032 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420727220375552 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:15:24.032 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420727220375552 [0;39m <==      Total: 3
2023-05-16 21:15:24.033 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:15:24.033 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:15:24.035 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420727220375552 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:15:24.035 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420727220375552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:15:24.035 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m <==      Total: 1
2023-05-16 21:15:24.036 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:15:24.036 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:15:24.038 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420727220375552 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:15:24.038 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420727220375552 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:15:24.038 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m <==      Total: 1
2023-05-16 21:15:24.039 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:15:24.039 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:15:24.040 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420727220375552 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:15:24.477 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420727220375552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:15:24.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m <==      Total: 1
2023-05-16 21:15:24.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:15:24.480 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:15:24.482 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420727220375552 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:15:24.482 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420727220375552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:15:24.483 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m <==      Total: 1
2023-05-16 21:15:24.483 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:15:24.483 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:15:24.484 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420727220375552 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:15:24.484 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420727220375552 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:15:24.484 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420727220375552 [0;39m <==      Total: 1
2023-05-16 21:15:24.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420727220375552 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:15:24.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420727220375552 [0;39m ------------- 结束 耗时：457 ms -------------
2023-05-16 21:15:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39420773294804992 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:15:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420773294804992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:15:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420773294804992 [0;39m ==> Parameters: 
2023-05-16 21:15:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420773294804992 [0;39m <==    Updates: 2
2023-05-16 21:15:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39420773294804992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:15:37.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:15:45.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:15:48.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:16:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39420878106267648 [0;39m 生成今日电子书快照开始
2023-05-16 21:16:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39420878106267648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:16:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39420878106267648 [0;39m ==> Parameters: 
2023-05-16 21:16:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39420878106267648 [0;39m <==    Updates: 0
2023-05-16 21:16:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39420878106267648 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-16 21:16:01.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:16:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39420899098759168 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:16:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420899098759168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:16:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420899098759168 [0;39m ==> Parameters: 
2023-05-16 21:16:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39420899098759168 [0;39m <==    Updates: 2
2023-05-16 21:16:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39420899098759168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:16:12.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420932166651905 [0;39m ------------- 开始 -------------
2023-05-16 21:16:12.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420932166651904 [0;39m ------------- 开始 -------------
2023-05-16 21:16:12.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420932166651905 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:16:12.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420932166651904 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:16:12.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420932166651905 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:16:12.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420932166651904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:16:12.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420932166651905 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:16:12.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420932166651904 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:16:12.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420932166651904 [0;39m 请求参数: [2]
2023-05-16 21:16:12.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420932166651905 [0;39m 请求参数: [2]
2023-05-16 21:16:12.893 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420932166651904 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:16:12.893 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420932166651904 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:16:12.895 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39420932166651905 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:16:12.895 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39420932166651905 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:16:12.895 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420932166651904 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:16:12.895 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420932166651904 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:16:12.895 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39420932166651905 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:16:12.896 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420932166651904 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:16:12.896 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39420932166651905 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 95, 0
2023-05-16 21:16:12.896 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420932166651904 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:16:12.896 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39420932166651905 [0;39m <==      Total: 1
2023-05-16 21:16:12.896 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420932166651904 [0;39m <==      Total: 3
2023-05-16 21:16:12.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420932166651905 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":95,"voteCount":0}],"success":true}
2023-05-16 21:16:12.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420932166651905 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 21:16:12.896 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:12.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:12.897 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420932166651904 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:12.897 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420932166651904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:12.897 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m <==      Total: 1
2023-05-16 21:16:12.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:12.898 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:16:12.898 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420932166651904 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:12.899 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420932166651904 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:16:12.899 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m <==      Total: 1
2023-05-16 21:16:12.899 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:12.899 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:12.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420932166651904 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:12.900 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420932166651904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:12.901 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m <==      Total: 1
2023-05-16 21:16:12.902 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:12.902 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:12.902 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420932166651904 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:12.903 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420932166651904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:12.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m <==      Total: 1
2023-05-16 21:16:12.903 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:12.904 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:12.904 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420932166651904 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:12.904 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420932166651904 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:12.904 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420932166651904 [0;39m <==      Total: 1
2023-05-16 21:16:12.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420932166651904 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:16:12.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420932166651904 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-16 21:16:13.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420933991174144 [0;39m ------------- 开始 -------------
2023-05-16 21:16:13.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420933991174144 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:16:13.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420933991174144 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:16:13.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420933991174144 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:16:13.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420933991174144 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:16:13.331 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39420933991174144 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:16:13.333 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39420933991174144 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:16:13.334 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39420933991174144 [0;39m <==    Columns: id, content
2023-05-16 21:16:13.334 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39420933991174144 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:16:13.335 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39420933991174144 [0;39m <==      Total: 1
2023-05-16 21:16:13.335 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39420933991174144 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:16:13.337 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39420933991174144 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:16:13.348 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39420933991174144 [0;39m <==    Updates: 1
2023-05-16 21:16:13.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420933991174144 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:16:13.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420933991174144 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-16 21:16:15.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39420941431869440 [0;39m ------------- 开始 -------------
2023-05-16 21:16:15.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39420941431869440 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:16:15.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39420941431869440 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:16:15.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39420941431869440 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:16:15.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39420941431869440 [0;39m 请求参数: [2]
2023-05-16 21:16:15.102 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420941431869440 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:16:15.102 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420941431869440 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:16:15.103 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420941431869440 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:16:15.103 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420941431869440 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:16:15.104 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420941431869440 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:16:15.104 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39420941431869440 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:16:15.104 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39420941431869440 [0;39m <==      Total: 3
2023-05-16 21:16:15.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:15.106 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:15.107 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420941431869440 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:15.107 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420941431869440 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:15.107 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m <==      Total: 1
2023-05-16 21:16:15.108 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:15.108 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:16:15.109 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420941431869440 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:15.109 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420941431869440 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:16:15.110 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m <==      Total: 1
2023-05-16 21:16:15.110 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:15.110 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:15.111 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420941431869440 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:15.111 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420941431869440 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:15.111 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m <==      Total: 1
2023-05-16 21:16:15.112 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:15.112 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:15.112 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420941431869440 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:15.114 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420941431869440 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:15.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m <==      Total: 1
2023-05-16 21:16:15.115 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:15.115 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:15.116 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420941431869440 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:15.116 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39420941431869440 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:15.117 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39420941431869440 [0;39m <==      Total: 1
2023-05-16 21:16:15.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39420941431869440 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:16:15.117 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39420941431869440 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-16 21:16:15.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:16:17.092 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:16:19.133 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:16:25.637 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:16:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39421024944656384 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:16:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421024944656384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:16:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421024944656384 [0;39m ==> Parameters: 
2023-05-16 21:16:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421024944656384 [0;39m <==    Updates: 2
2023-05-16 21:16:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39421024944656384 [0;39m 更新电子书下的文档数据结束，耗时：10毫秒
2023-05-16 21:16:44.929 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:16:45.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39421069995675648 [0;39m ------------- 开始 -------------
2023-05-16 21:16:45.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39421069995675648 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:16:45.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39421069995675648 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:16:45.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39421069995675648 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:16:45.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39421069995675648 [0;39m 请求参数: [2]
2023-05-16 21:16:45.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:16:45.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39421070016647168 [0;39m ------------- 开始 -------------
2023-05-16 21:16:45.757 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39421070016647168 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:16:45.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39421070016647168 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:16:45.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39421070016647168 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:16:45.758 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39421070016647168 [0;39m 请求参数: [2]
2023-05-16 21:16:45.759 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39421070016647168 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:16:45.759 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39421070016647168 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:16:45.761 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421070016647168 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:16:45.761 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421070016647168 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:16:45.762 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421070016647168 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:16:45.762 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421070016647168 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:16:45.762 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39421070016647168 [0;39m <==      Total: 3
2023-05-16 21:16:45.763 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:45.763 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:45.763 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39421069995675648 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:16:45.763 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421070016647168 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:45.764 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421070016647168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:45.764 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39421069995675648 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:16:45.764 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m <==      Total: 1
2023-05-16 21:16:45.764 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:45.764 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39421069995675648 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:16:45.764 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:16:45.766 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421070016647168 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:45.766 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421070016647168 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:16:45.766 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m <==      Total: 1
2023-05-16 21:16:45.766 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:45.768 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:45.769 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421070016647168 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:45.769 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421070016647168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:45.769 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m <==      Total: 1
2023-05-16 21:16:45.770 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:45.770 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:45.771 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421070016647168 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:45.771 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421070016647168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:45.771 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m <==      Total: 1
2023-05-16 21:16:45.771 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:45.772 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:45.772 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39421069995675648 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 96, 0
2023-05-16 21:16:45.772 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421070016647168 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:45.772 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421070016647168 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:45.773 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421070016647168 [0;39m <==      Total: 1
2023-05-16 21:16:45.773 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39421069995675648 [0;39m <==      Total: 1
2023-05-16 21:16:45.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39421070016647168 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:16:45.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39421070016647168 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-16 21:16:45.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39421069995675648 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":96,"voteCount":0}],"success":true}
2023-05-16 21:16:45.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39421069995675648 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-16 21:16:45.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39421070276694016 [0;39m ------------- 开始 -------------
2023-05-16 21:16:45.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39421070276694016 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:16:45.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39421070276694016 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:16:45.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39421070276694016 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:16:45.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39421070276694016 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:16:45.822 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39421070276694016 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:16:45.824 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39421070276694016 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:16:45.825 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39421070276694016 [0;39m <==    Columns: id, content
2023-05-16 21:16:45.825 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39421070276694016 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:16:45.825 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39421070276694016 [0;39m <==      Total: 1
2023-05-16 21:16:45.826 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39421070276694016 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:16:45.826 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39421070276694016 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:16:45.849 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39421070276694016 [0;39m <==    Updates: 1
2023-05-16 21:16:45.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39421070276694016 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:16:45.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39421070276694016 [0;39m ------------- 结束 耗时：30 ms -------------
2023-05-16 21:16:47.139 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39421075813175296 [0;39m ------------- 开始 -------------
2023-05-16 21:16:47.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39421075813175296 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:16:47.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39421075813175296 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:16:47.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39421075813175296 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:16:47.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39421075813175296 [0;39m 请求参数: [2]
2023-05-16 21:16:47.141 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39421075813175296 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:16:47.141 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39421075813175296 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:16:47.142 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421075813175296 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:16:47.143 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421075813175296 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:16:47.144 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421075813175296 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:16:47.144 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421075813175296 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:16:47.144 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39421075813175296 [0;39m <==      Total: 3
2023-05-16 21:16:47.145 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:47.145 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:47.146 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421075813175296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:47.146 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421075813175296 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:47.146 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m <==      Total: 1
2023-05-16 21:16:47.147 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:47.147 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:16:47.147 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421075813175296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:47.147 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421075813175296 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:16:47.148 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m <==      Total: 1
2023-05-16 21:16:47.148 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:47.149 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:47.150 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421075813175296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:47.150 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421075813175296 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:47.150 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m <==      Total: 1
2023-05-16 21:16:47.151 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:47.151 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:47.151 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421075813175296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:47.152 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421075813175296 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:47.152 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m <==      Total: 1
2023-05-16 21:16:47.152 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:16:47.153 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:16:47.153 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421075813175296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:16:47.153 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421075813175296 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:16:47.153 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421075813175296 [0;39m <==      Total: 1
2023-05-16 21:16:47.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39421075813175296 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:16:47.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39421075813175296 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-16 21:16:50.927 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:16:53.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:17:00.049 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39421129961639936 [0;39m 生成今日电子书快照开始
2023-05-16 21:17:00.050 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39421129961639936 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:17:00.056 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39421129961639936 [0;39m ==> Parameters: 
2023-05-16 21:17:00.440 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39421129961639936 [0;39m <==    Updates: 0
2023-05-16 21:17:00.441 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39421129961639936 [0;39m 生成今日电子书快照结束，耗时：391毫秒
2023-05-16 21:17:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39421150744416256 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:17:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421150744416256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:17:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421150744416256 [0;39m ==> Parameters: 
2023-05-16 21:17:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421150744416256 [0;39m <==    Updates: 2
2023-05-16 21:17:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39421150744416256 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 21:17:09.200 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：YrRdohlT6I，session id：1！当前连接数：0
2023-05-16 21:17:09.292 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 21:17:09.298 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-16 21:17:09.301 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-16 21:17:09.305 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-16 21:17:09.409 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-16 21:17:09.690 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-16 21:17:09.691 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-16 21:17:26.834 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 10804 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-16 21:17:26.919 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-16 21:17:26.827 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-16 21:17:27.066 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-16 21:17:27.067 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-16 21:17:30.361 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-16 21:17:30.368 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-16 21:17:30.527 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 93 ms. Found 0 Redis repository interfaces.
2023-05-16 21:17:31.825 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$d718a948] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:31.869 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:32.881 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:32.885 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$79531e49] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:32.888 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:32.893 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:32.899 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:32.900 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:32.915 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:32.924 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:32.931 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:32.993 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:32.997 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:33.004 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:33.026 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:33.061 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:36.386 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:36.388 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:17:37.645 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-16 21:17:37.701 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-16 21:17:37.702 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-16 21:17:37.702 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-16 21:17:37.984 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-16 21:17:37.984 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 10916 ms
2023-05-16 21:17:38.853 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:17:39.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:17:40.879 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-16 21:17:42.707 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-16 21:17:42.861 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-16 21:17:48.759 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 21:17:48.769 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-16 21:17:48.773 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:17:48.879 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-16 21:17:48.904 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-16 21:17:48.940 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 23.848 seconds (JVM running for 27.161)
2023-05-16 21:17:48.945 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-16 21:17:48.946 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-16 21:17:51.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:17:53.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:18:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39421381460496384 [0;39m 生成今日电子书快照开始
2023-05-16 21:18:00.064 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39421381460496384 [0;39m HikariPool-1 - Starting...
2023-05-16 21:18:02.692 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39421381460496384 [0;39m HikariPool-1 - Start completed.
2023-05-16 21:18:02.707 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39421381460496384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:18:02.746 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39421381460496384 [0;39m ==> Parameters: 
2023-05-16 21:18:02.769 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39421381460496384 [0;39m <==    Updates: 0
2023-05-16 21:18:02.772 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39421381460496384 [0;39m 生成今日电子书快照结束，耗时：2761毫秒
2023-05-16 21:18:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39421402436210688 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:18:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421402436210688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:18:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421402436210688 [0;39m ==> Parameters: 
2023-05-16 21:18:05.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421402436210688 [0;39m <==    Updates: 2
2023-05-16 21:18:05.028 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39421402436210688 [0;39m 更新电子书下的文档数据结束，耗时：16毫秒
2023-05-16 21:18:09.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:18:11.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:18:18.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:18:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39421528244359168 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:18:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421528244359168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:18:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421528244359168 [0;39m ==> Parameters: 
2023-05-16 21:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421528244359168 [0;39m <==    Updates: 2
2023-05-16 21:18:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39421528244359168 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 21:18:37.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:18:38.718 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:18:41.705 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:18:45.909 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:18:51.462 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 21:18:51.465 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-16 21:18:51.467 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-16 21:18:51.468 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-16 21:18:51.494 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-16 21:18:51.540 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-16 21:18:51.541 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-16 21:19:02.263 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 15464 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-16 21:19:02.264 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-16 21:19:02.267 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-16 21:19:02.344 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-16 21:19:02.345 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-16 21:19:04.607 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-16 21:19:04.628 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-16 21:19:04.673 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2023-05-16 21:19:05.167 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$3fdeddbe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:05.186 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.314 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.317 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$e21952bf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.318 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.321 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.326 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.326 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.328 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.331 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.332 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.359 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.359 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.364 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.385 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:06.427 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:10.033 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:10.035 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:19:11.205 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-16 21:19:11.224 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-16 21:19:11.226 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-16 21:19:11.226 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-16 21:19:11.381 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-16 21:19:11.381 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 9034 ms
2023-05-16 21:19:12.478 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:19:12.838 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:19:13.682 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-16 21:19:15.038 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-16 21:19:15.165 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-16 21:19:20.654 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:19:20.667 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 21:19:20.668 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-16 21:19:20.748 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-16 21:19:20.762 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-16 21:19:20.798 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 19.486 seconds (JVM running for 21.728)
2023-05-16 21:19:20.803 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-16 21:19:20.803 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-16 21:19:22.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:19:24.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:19:35.086 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39421780233949184 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:19:35.155 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39421780233949184 [0;39m HikariPool-1 - Starting...
2023-05-16 21:19:37.291 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39421780233949184 [0;39m HikariPool-1 - Start completed.
2023-05-16 21:19:37.299 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421780233949184 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:19:37.328 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421780233949184 [0;39m ==> Parameters: 
2023-05-16 21:19:37.330 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421780233949184 [0;39m <==    Updates: 2
2023-05-16 21:19:37.332 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39421780233949184 [0;39m 更新电子书下的文档数据结束，耗时：2245毫秒
2023-05-16 21:19:37.386 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-16 21:19:37.386 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-16 21:19:37.388 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-05-16 21:19:37.650 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：khpxVlqgLn，session id：0，当前连接数：1
2023-05-16 21:19:37.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39421791659233281 [0;39m ------------- 开始 -------------
2023-05-16 21:19:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39421791659233280 [0;39m ------------- 开始 -------------
2023-05-16 21:19:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39421791659233280 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:19:37.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39421791659233280 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:19:37.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39421791659233280 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:19:37.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39421791659233281 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:19:37.822 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39421791659233281 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:19:37.822 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39421791659233281 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:19:38.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39421791659233281 [0;39m 请求参数: [2]
2023-05-16 21:19:38.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39421791659233280 [0;39m 请求参数: [2]
2023-05-16 21:19:38.126 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39421791659233280 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:19:38.128 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39421791659233280 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:19:38.332 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421791659233280 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:19:38.336 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421791659233280 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:19:38.337 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39421791659233281 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:19:38.338 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39421791659233281 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:19:38.339 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421791659233280 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:19:38.340 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39421791659233281 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:19:38.339 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421791659233280 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:19:38.340 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39421791659233281 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 97, 0
2023-05-16 21:19:38.342 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39421791659233281 [0;39m <==      Total: 1
2023-05-16 21:19:38.342 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39421791659233280 [0;39m <==      Total: 3
2023-05-16 21:19:38.348 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:19:38.348 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:19:38.350 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421791659233280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:19:38.350 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421791659233280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:19:38.351 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m <==      Total: 1
2023-05-16 21:19:38.351 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:19:38.352 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:19:38.354 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421791659233280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:19:38.354 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421791659233280 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:19:38.354 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m <==      Total: 1
2023-05-16 21:19:38.355 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:19:38.355 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:19:38.362 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421791659233280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:19:38.369 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421791659233280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:19:38.371 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m <==      Total: 1
2023-05-16 21:19:38.372 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:19:38.373 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:19:38.375 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421791659233280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:19:38.376 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421791659233280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:19:38.377 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m <==      Total: 1
2023-05-16 21:19:38.379 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:19:38.380 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:19:38.384 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421791659233280 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:19:38.385 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421791659233280 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:19:38.386 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421791659233280 [0;39m <==      Total: 1
2023-05-16 21:19:38.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39421791659233281 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":97,"voteCount":0}],"success":true}
2023-05-16 21:19:38.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39421791659233281 [0;39m ------------- 结束 耗时：598 ms -------------
2023-05-16 21:19:38.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39421791659233280 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:19:38.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39421791659233280 [0;39m ------------- 结束 耗时：598 ms -------------
2023-05-16 21:19:38.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39421794578468864 [0;39m ------------- 开始 -------------
2023-05-16 21:19:38.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39421794578468864 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:19:38.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39421794578468864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:19:38.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39421794578468864 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:19:38.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39421794578468864 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:19:38.510 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39421794578468864 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:19:38.510 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39421794578468864 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:19:38.513 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39421794578468864 [0;39m <==    Columns: id, content
2023-05-16 21:19:38.514 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39421794578468864 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:19:38.515 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39421794578468864 [0;39m <==      Total: 1
2023-05-16 21:19:38.516 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39421794578468864 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:19:38.516 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39421794578468864 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:19:38.528 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39421794578468864 [0;39m <==    Updates: 1
2023-05-16 21:19:38.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39421794578468864 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:19:38.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39421794578468864 [0;39m ------------- 结束 耗时：23 ms -------------
2023-05-16 21:19:40.885 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:19:42.099 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:19:44.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:19:47.022 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:19:49.081 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:19:56.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39421869769756672 [0;39m ------------- 开始 -------------
2023-05-16 21:19:56.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39421869769756672 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:19:56.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39421869769756672 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:19:56.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39421869769756672 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:19:56.434 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39421869769756672 [0;39m 请求参数: [2]
2023-05-16 21:19:56.434 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39421869769756672 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:19:56.434 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39421869769756672 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:19:56.435 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421869769756672 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:19:56.436 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421869769756672 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:19:56.438 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421869769756672 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:19:56.438 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39421869769756672 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:19:56.439 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39421869769756672 [0;39m <==      Total: 3
2023-05-16 21:19:56.439 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:19:56.440 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:19:56.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421869769756672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:19:56.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421869769756672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:19:56.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m <==      Total: 1
2023-05-16 21:19:56.442 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:19:56.442 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:19:56.444 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421869769756672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:19:56.444 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421869769756672 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:19:56.445 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m <==      Total: 1
2023-05-16 21:19:56.446 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:19:56.446 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:19:56.446 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421869769756672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:19:56.446 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421869769756672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:19:56.447 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m <==      Total: 1
2023-05-16 21:19:56.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:19:56.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:19:56.449 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421869769756672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:19:56.449 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421869769756672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:19:56.450 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m <==      Total: 1
2023-05-16 21:19:56.450 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:19:56.451 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:19:56.452 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421869769756672 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:19:56.453 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39421869769756672 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:19:56.453 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39421869769756672 [0;39m <==      Total: 1
2023-05-16 21:19:56.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39421869769756672 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:19:56.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39421869769756672 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-16 21:20:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39421884751810560 [0;39m 生成今日电子书快照开始
2023-05-16 21:20:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39421884751810560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:20:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39421884751810560 [0;39m ==> Parameters: 
2023-05-16 21:20:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39421884751810560 [0;39m <==    Updates: 0
2023-05-16 21:20:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39421884751810560 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-16 21:20:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39421905706553344 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:20:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421905706553344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:20:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421905706553344 [0;39m ==> Parameters: 
2023-05-16 21:20:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39421905706553344 [0;39m <==    Updates: 2
2023-05-16 21:20:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39421905706553344 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-16 21:20:12.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:20:15.142 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:20:17.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:20:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39422031577616384 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:20:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422031577616384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:20:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422031577616384 [0;39m ==> Parameters: 
2023-05-16 21:20:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422031577616384 [0;39m <==    Updates: 2
2023-05-16 21:20:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39422031577616384 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 21:20:39.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:20:41.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:20:42.110 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:20:47.446 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:21:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39422136393273344 [0;39m 生成今日电子书快照开始
2023-05-16 21:21:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39422136393273344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:21:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39422136393273344 [0;39m ==> Parameters: 
2023-05-16 21:21:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39422136393273344 [0;39m <==    Updates: 0
2023-05-16 21:21:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39422136393273344 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-16 21:21:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39422157402542080 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422157402542080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422157402542080 [0;39m ==> Parameters: 
2023-05-16 21:21:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422157402542080 [0;39m <==    Updates: 2
2023-05-16 21:21:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39422157402542080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:21:05.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:21:10.872 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:21:12.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:21:14.965 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:21:27.477 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:21:29.862 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:21:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39422283231662080 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:21:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422283231662080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:21:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422283231662080 [0;39m ==> Parameters: 
2023-05-16 21:21:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422283231662080 [0;39m <==    Updates: 2
2023-05-16 21:21:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39422283231662080 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-16 21:21:42.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:21:45.431 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:21:52.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:21:54.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:22:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39422388106039296 [0;39m 生成今日电子书快照开始
2023-05-16 21:22:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39422388106039296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:22:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39422388106039296 [0;39m ==> Parameters: 
2023-05-16 21:22:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39422388106039296 [0;39m <==    Updates: 0
2023-05-16 21:22:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39422388106039296 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-16 21:22:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39422409039810560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:22:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422409039810560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:22:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422409039810560 [0;39m ==> Parameters: 
2023-05-16 21:22:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422409039810560 [0;39m <==    Updates: 2
2023-05-16 21:22:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39422409039810560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:22:11.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:22:12.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:22:15.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:22:19.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:22:33.364 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：khpxVlqgLn，session id：0！当前连接数：0
2023-05-16 21:22:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39422534856347648 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:22:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422534856347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:22:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422534856347648 [0;39m ==> Parameters: 
2023-05-16 21:22:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422534856347648 [0;39m <==    Updates: 2
2023-05-16 21:22:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39422534856347648 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:22:41.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:22:41.757 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：Nreuq4f4ZW，session id：1，当前连接数：1
2023-05-16 21:22:42.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39422564556214272 [0;39m ------------- 开始 -------------
2023-05-16 21:22:42.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39422564556214272 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:22:42.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39422564556214272 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:22:42.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39422564556214272 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:22:42.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39422564556214272 [0;39m 请求参数: [2]
2023-05-16 21:22:42.088 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39422564556214272 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:22:42.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39422564564602880 [0;39m ------------- 开始 -------------
2023-05-16 21:22:42.089 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39422564556214272 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:22:42.090 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39422564556214272 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:22:42.091 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39422564556214272 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 98, 0
2023-05-16 21:22:42.091 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39422564556214272 [0;39m <==      Total: 1
2023-05-16 21:22:42.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39422564556214272 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":98,"voteCount":0}],"success":true}
2023-05-16 21:22:42.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39422564556214272 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-16 21:22:42.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39422564564602880 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:22:42.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39422564564602880 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:22:42.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39422564564602880 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:22:42.099 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39422564564602880 [0;39m 请求参数: [2]
2023-05-16 21:22:42.099 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39422564564602880 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:22:42.101 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39422564564602880 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:22:42.104 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39422564564602880 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:22:42.105 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39422564564602880 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:22:42.106 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39422564564602880 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:22:42.107 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39422564564602880 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:22:42.107 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39422564564602880 [0;39m <==      Total: 3
2023-05-16 21:22:42.108 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:22:42.109 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:22:42.110 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422564564602880 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:22:42.110 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422564564602880 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:22:42.110 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m <==      Total: 1
2023-05-16 21:22:42.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:22:42.115 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:22:42.116 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422564564602880 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:22:42.116 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422564564602880 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:22:42.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m <==      Total: 1
2023-05-16 21:22:42.117 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:22:42.117 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:22:42.118 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422564564602880 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:22:42.119 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422564564602880 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:22:42.119 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m <==      Total: 1
2023-05-16 21:22:42.120 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:22:42.120 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:22:42.121 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422564564602880 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:22:42.121 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422564564602880 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:22:42.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m <==      Total: 1
2023-05-16 21:22:42.122 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:22:42.122 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:22:42.123 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422564564602880 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:22:42.124 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422564564602880 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:22:42.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422564564602880 [0;39m <==      Total: 1
2023-05-16 21:22:42.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39422564564602880 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:22:42.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39422564564602880 [0;39m ------------- 结束 耗时：41 ms -------------
2023-05-16 21:22:42.302 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39422565474766848 [0;39m ------------- 开始 -------------
2023-05-16 21:22:42.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39422565474766848 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:22:42.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39422565474766848 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:22:42.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39422565474766848 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:22:42.306 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39422565474766848 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:22:42.307 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39422565474766848 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:22:42.308 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39422565474766848 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:22:42.309 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39422565474766848 [0;39m <==    Columns: id, content
2023-05-16 21:22:42.309 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39422565474766848 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:22:42.310 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39422565474766848 [0;39m <==      Total: 1
2023-05-16 21:22:42.310 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39422565474766848 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:22:42.311 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39422565474766848 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:22:42.315 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39422565474766848 [0;39m <==    Updates: 1
2023-05-16 21:22:42.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39422565474766848 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:22:42.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39422565474766848 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 21:22:42.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:22:45.933 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:22:49.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39422594881032192 [0;39m ------------- 开始 -------------
2023-05-16 21:22:49.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39422594881032192 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:22:49.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39422594881032192 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:22:49.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39422594881032192 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:22:49.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39422594881032192 [0;39m 请求参数: [2]
2023-05-16 21:22:49.314 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39422594881032192 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:22:49.315 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39422594881032192 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:22:49.316 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39422594881032192 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:22:49.316 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39422594881032192 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:22:49.317 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39422594881032192 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:22:49.318 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39422594881032192 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:22:49.318 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39422594881032192 [0;39m <==      Total: 3
2023-05-16 21:22:49.318 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:22:49.319 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:22:49.320 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422594881032192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:22:49.320 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422594881032192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:22:49.322 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m <==      Total: 1
2023-05-16 21:22:49.323 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:22:49.323 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:22:49.324 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422594881032192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:22:49.324 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422594881032192 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:22:49.325 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m <==      Total: 1
2023-05-16 21:22:49.325 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:22:49.325 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:22:49.326 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422594881032192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:22:49.326 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422594881032192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:22:49.326 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m <==      Total: 1
2023-05-16 21:22:49.327 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:22:49.327 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:22:49.328 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422594881032192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:22:49.328 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422594881032192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:22:49.328 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m <==      Total: 1
2023-05-16 21:22:49.329 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:22:49.329 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:22:49.330 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422594881032192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:22:49.330 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39422594881032192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:22:49.331 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39422594881032192 [0;39m <==      Total: 1
2023-05-16 21:22:49.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39422594881032192 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:22:49.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39422594881032192 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-16 21:23:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39422639768473600 [0;39m 生成今日电子书快照开始
2023-05-16 21:23:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39422639768473600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:23:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39422639768473600 [0;39m ==> Parameters: 
2023-05-16 21:23:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39422639768473600 [0;39m <==    Updates: 0
2023-05-16 21:23:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39422639768473600 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 21:23:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39422660727410688 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:23:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422660727410688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:23:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422660727410688 [0;39m ==> Parameters: 
2023-05-16 21:23:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422660727410688 [0;39m <==    Updates: 2
2023-05-16 21:23:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39422660727410688 [0;39m 更新电子书下的文档数据结束，耗时：10毫秒
2023-05-16 21:23:10.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:23:12.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:23:12.163 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:23:14.726 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:23:16.786 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:23:32.165 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:23:34.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:23:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39422786556530688 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:23:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422786556530688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:23:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422786556530688 [0;39m ==> Parameters: 
2023-05-16 21:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422786556530688 [0;39m <==    Updates: 2
2023-05-16 21:23:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39422786556530688 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:23:42.110 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:23:42.947 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:23:44.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:23:58.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:24:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39422891397353472 [0;39m 生成今日电子书快照开始
2023-05-16 21:24:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39422891397353472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:24:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39422891397353472 [0;39m ==> Parameters: 
2023-05-16 21:24:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39422891397353472 [0;39m <==    Updates: 0
2023-05-16 21:24:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39422891397353472 [0;39m 生成今日电子书快照结束，耗时：16毫秒
2023-05-16 21:24:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39422912368873472 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:24:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422912368873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:24:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422912368873472 [0;39m ==> Parameters: 
2023-05-16 21:24:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39422912368873472 [0;39m <==    Updates: 2
2023-05-16 21:24:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39422912368873472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:24:10.938 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:24:12.106 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:24:15.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:24:20.402 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:24:22.434 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:24:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39423038197993472 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:24:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423038197993472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:24:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423038197993472 [0;39m ==> Parameters: 
2023-05-16 21:24:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423038197993472 [0;39m <==    Updates: 2
2023-05-16 21:24:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39423038197993472 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-16 21:24:42.307 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:24:43.493 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:24:45.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:24:47.609 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:25:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39423143084953600 [0;39m 生成今日电子书快照开始
2023-05-16 21:25:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39423143084953600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:25:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39423143084953600 [0;39m ==> Parameters: 
2023-05-16 21:25:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39423143084953600 [0;39m <==    Updates: 0
2023-05-16 21:25:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39423143084953600 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 21:25:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39423164014530560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:25:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423164014530560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:25:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423164014530560 [0;39m ==> Parameters: 
2023-05-16 21:25:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423164014530560 [0;39m <==    Updates: 2
2023-05-16 21:25:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39423164014530560 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-16 21:25:11.877 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:25:12.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:25:16.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:25:18.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:25:34.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:25:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39423289847844864 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:25:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423289847844864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:25:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423289847844864 [0;39m ==> Parameters: 
2023-05-16 21:25:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423289847844864 [0;39m <==    Updates: 2
2023-05-16 21:25:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39423289847844864 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-16 21:25:36.407 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:25:40.491 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：Nreuq4f4ZW，session id：1！当前连接数：0
2023-05-16 21:25:41.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:25:42.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:25:46.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:25:55.311 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：e9tdFI98Ao，session id：2，当前连接数：1
2023-05-16 21:25:56.816 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39423381325615104 [0;39m ------------- 开始 -------------
2023-05-16 21:25:56.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39423381325615104 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:25:56.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39423381325615104 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:25:56.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39423381325615104 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:25:56.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39423381325615104 [0;39m 请求参数: [2]
2023-05-16 21:25:56.820 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39423381325615104 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:25:56.820 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39423381325615104 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:25:56.821 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39423381325615104 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:25:56.822 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39423381325615104 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 99, 0
2023-05-16 21:25:56.823 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39423381325615104 [0;39m <==      Total: 1
2023-05-16 21:25:56.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39423381325615104 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":99,"voteCount":0}],"success":true}
2023-05-16 21:25:56.824 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39423381325615104 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-16 21:25:56.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39423381556301824 [0;39m ------------- 开始 -------------
2023-05-16 21:25:56.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39423381556301824 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:25:56.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39423381556301824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:25:56.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39423381556301824 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:25:56.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39423381556301824 [0;39m 请求参数: [2]
2023-05-16 21:25:56.872 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39423381556301824 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:25:56.873 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39423381556301824 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:25:56.874 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39423381556301824 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:25:56.874 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39423381556301824 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:25:56.875 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39423381556301824 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:25:56.875 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39423381556301824 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:25:56.876 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39423381556301824 [0;39m <==      Total: 3
2023-05-16 21:25:56.876 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:25:56.877 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:25:56.878 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423381556301824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:25:56.878 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423381556301824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:25:56.879 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m <==      Total: 1
2023-05-16 21:25:56.880 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:25:56.880 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:25:56.881 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423381556301824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:25:56.881 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423381556301824 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:25:56.882 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m <==      Total: 1
2023-05-16 21:25:56.882 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:25:56.882 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:25:56.883 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423381556301824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:25:56.883 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423381556301824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:25:56.884 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m <==      Total: 1
2023-05-16 21:25:56.885 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:25:56.885 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:25:56.886 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423381556301824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:25:56.886 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423381556301824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:25:56.886 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m <==      Total: 1
2023-05-16 21:25:56.887 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:25:56.887 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:25:56.888 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423381556301824 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:25:56.888 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423381556301824 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:25:56.888 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423381556301824 [0;39m <==      Total: 1
2023-05-16 21:25:56.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39423381556301824 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:25:56.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39423381556301824 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-16 21:25:57.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39423385742217216 [0;39m ------------- 开始 -------------
2023-05-16 21:25:57.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39423385742217216 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:25:57.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39423385742217216 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:25:57.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39423385742217216 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:25:57.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39423385742217216 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:25:57.873 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39423385742217216 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:25:57.874 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39423385742217216 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:25:57.877 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39423385742217216 [0;39m <==    Columns: id, content
2023-05-16 21:25:57.877 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39423385742217216 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:25:57.877 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39423385742217216 [0;39m <==      Total: 1
2023-05-16 21:25:57.879 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39423385742217216 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:25:57.880 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39423385742217216 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:25:57.888 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39423385742217216 [0;39m <==    Updates: 1
2023-05-16 21:25:57.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39423385742217216 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:25:57.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39423385742217216 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-16 21:26:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39423394730610688 [0;39m 生成今日电子书快照开始
2023-05-16 21:26:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39423394730610688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:26:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39423394730610688 [0;39m ==> Parameters: 
2023-05-16 21:26:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39423394730610688 [0;39m <==    Updates: 0
2023-05-16 21:26:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39423394730610688 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 21:26:00.906 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:26:01.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39423399310790656 [0;39m ------------- 开始 -------------
2023-05-16 21:26:01.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39423399310790656 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:26:01.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39423399310790656 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:26:01.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39423399310790656 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:26:01.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39423399310790656 [0;39m 请求参数: [2]
2023-05-16 21:26:01.106 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39423399310790656 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:26:01.106 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39423399310790656 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:26:01.108 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39423399310790656 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:26:01.109 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39423399310790656 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:26:01.111 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39423399310790656 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:26:01.111 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39423399310790656 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:26:01.111 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39423399310790656 [0;39m <==      Total: 3
2023-05-16 21:26:01.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:26:01.114 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:26:01.116 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423399310790656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:26:01.116 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423399310790656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:26:01.116 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m <==      Total: 1
2023-05-16 21:26:01.117 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:26:01.117 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:26:01.118 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423399310790656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:26:01.118 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423399310790656 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:26:01.119 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m <==      Total: 1
2023-05-16 21:26:01.119 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:26:01.119 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:26:01.120 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423399310790656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:26:01.121 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423399310790656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:26:01.121 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m <==      Total: 1
2023-05-16 21:26:01.122 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:26:01.122 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:26:01.123 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423399310790656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:26:01.123 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423399310790656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:26:01.124 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m <==      Total: 1
2023-05-16 21:26:01.125 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:26:01.126 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:26:01.127 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423399310790656 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:26:01.128 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39423399310790656 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:26:01.128 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39423399310790656 [0;39m <==      Total: 1
2023-05-16 21:26:01.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39423399310790656 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:26:01.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39423399310790656 [0;39m ------------- 结束 耗时：25 ms -------------
2023-05-16 21:26:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39423415702130688 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:26:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423415702130688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:26:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423415702130688 [0;39m ==> Parameters: 
2023-05-16 21:26:05.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423415702130688 [0;39m <==    Updates: 2
2023-05-16 21:26:05.032 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39423415702130688 [0;39m 更新电子书下的文档数据结束，耗时：20毫秒
2023-05-16 21:26:12.104 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:26:14.962 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:26:23.009 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:26:25.054 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:26:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39423541539639296 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:26:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423541539639296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:26:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423541539639296 [0;39m ==> Parameters: 
2023-05-16 21:26:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423541539639296 [0;39m <==    Updates: 2
2023-05-16 21:26:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39423541539639296 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 21:26:42.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:26:44.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:26:49.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:27:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39423646355296256 [0;39m 生成今日电子书快照开始
2023-05-16 21:27:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39423646355296256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:27:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39423646355296256 [0;39m ==> Parameters: 
2023-05-16 21:27:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39423646355296256 [0;39m <==    Updates: 0
2023-05-16 21:27:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39423646355296256 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-16 21:27:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39423667331010560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:27:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423667331010560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:27:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423667331010560 [0;39m ==> Parameters: 
2023-05-16 21:27:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423667331010560 [0;39m <==    Updates: 2
2023-05-16 21:27:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39423667331010560 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:27:10.892 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:27:12.074 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:27:15.162 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:27:17.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:27:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39423793185296384 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:27:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423793185296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:27:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423793185296384 [0;39m ==> Parameters: 
2023-05-16 21:27:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423793185296384 [0;39m <==    Updates: 2
2023-05-16 21:27:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39423793185296384 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:27:41.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:27:42.099 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:27:47.664 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:28:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39423898026119168 [0;39m 生成今日电子书快照开始
2023-05-16 21:28:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39423898026119168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:28:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39423898026119168 [0;39m ==> Parameters: 
2023-05-16 21:28:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39423898026119168 [0;39m <==    Updates: 0
2023-05-16 21:28:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39423898026119168 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 21:28:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39423919026999296 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:28:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423919026999296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:28:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423919026999296 [0;39m ==> Parameters: 
2023-05-16 21:28:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39423919026999296 [0;39m <==    Updates: 2
2023-05-16 21:28:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39423919026999296 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:28:05.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:28:10.893 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:28:12.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:28:12.951 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:28:14.987 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:28:27.468 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:28:29.511 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:28:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39424044818370560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:28:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424044818370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:28:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424044818370560 [0;39m ==> Parameters: 
2023-05-16 21:28:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424044818370560 [0;39m <==    Updates: 2
2023-05-16 21:28:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39424044818370560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:28:42.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:28:42.935 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:28:44.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:28:53.610 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:29:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39424149663387648 [0;39m 生成今日电子书快照开始
2023-05-16 21:29:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39424149663387648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:29:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39424149663387648 [0;39m ==> Parameters: 
2023-05-16 21:29:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39424149663387648 [0;39m <==    Updates: 0
2023-05-16 21:29:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39424149663387648 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 21:29:05.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39424170710405120 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:29:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424170710405120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:29:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424170710405120 [0;39m ==> Parameters: 
2023-05-16 21:29:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424170710405120 [0;39m <==    Updates: 2
2023-05-16 21:29:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39424170710405120 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:29:10.891 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:29:12.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:29:14.994 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:29:19.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:29:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39424296514359296 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:29:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424296514359296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:29:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424296514359296 [0;39m ==> Parameters: 
2023-05-16 21:29:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424296514359296 [0;39m <==    Updates: 2
2023-05-16 21:29:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39424296514359296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:29:40.875 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:29:42.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:29:42.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:29:44.957 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:29:47.008 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:30:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39424401346793472 [0;39m 生成今日电子书快照开始
2023-05-16 21:30:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39424401346793472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:30:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39424401346793472 [0;39m ==> Parameters: 
2023-05-16 21:30:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39424401346793472 [0;39m <==    Updates: 0
2023-05-16 21:30:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39424401346793472 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 21:30:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39424422305730560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:30:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424422305730560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:30:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424422305730560 [0;39m ==> Parameters: 
2023-05-16 21:30:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424422305730560 [0;39m <==    Updates: 2
2023-05-16 21:30:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39424422305730560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:30:12.307 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:30:15.725 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:30:34.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:30:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39424548155822080 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:30:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424548155822080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:30:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424548155822080 [0;39m ==> Parameters: 
2023-05-16 21:30:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424548155822080 [0;39m <==    Updates: 2
2023-05-16 21:30:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39424548155822080 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:30:36.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:30:42.088 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:30:44.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:31:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39424653030199296 [0;39m 生成今日电子书快照开始
2023-05-16 21:31:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39424653030199296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:31:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39424653030199296 [0;39m ==> Parameters: 
2023-05-16 21:31:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39424653030199296 [0;39m <==    Updates: 0
2023-05-16 21:31:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39424653030199296 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 21:31:00.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:31:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39424673993330688 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:31:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424673993330688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:31:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424673993330688 [0;39m ==> Parameters: 
2023-05-16 21:31:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424673993330688 [0;39m <==    Updates: 2
2023-05-16 21:31:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39424673993330688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:31:12.094 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:31:14.990 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:31:24.525 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:31:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39424799830839296 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:31:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424799830839296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:31:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424799830839296 [0;39m ==> Parameters: 
2023-05-16 21:31:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424799830839296 [0;39m <==    Updates: 2
2023-05-16 21:31:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39424799830839296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:31:40.878 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:31:42.089 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:31:44.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:31:47.009 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:31:49.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:32:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39424904654884864 [0;39m 生成今日电子书快照开始
2023-05-16 21:32:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39424904654884864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:32:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39424904654884864 [0;39m ==> Parameters: 
2023-05-16 21:32:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39424904654884864 [0;39m <==    Updates: 0
2023-05-16 21:32:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39424904654884864 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 21:32:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39424925668347904 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:32:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424925668347904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:32:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424925668347904 [0;39m ==> Parameters: 
2023-05-16 21:32:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39424925668347904 [0;39m <==    Updates: 2
2023-05-16 21:32:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39424925668347904 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:32:06.263 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39424930894450688 [0;39m ------------- 开始 -------------
2023-05-16 21:32:06.263 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39424930894450688 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:32:06.263 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39424930894450688 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:32:06.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39424930894450688 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:06.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39424930894450688 [0;39m 请求参数: [2]
2023-05-16 21:32:06.266 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39424930894450688 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:32:06.266 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39424930894450688 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:32:06.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39424930911227904 [0;39m ------------- 开始 -------------
2023-05-16 21:32:06.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39424930911227904 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:32:06.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39424930911227904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:32:06.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39424930911227904 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:06.266 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424930894450688 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:32:06.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39424930911227904 [0;39m 请求参数: [2]
2023-05-16 21:32:06.268 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424930894450688 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:32:06.268 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424930894450688 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:32:06.269 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424930894450688 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:32:06.269 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39424930894450688 [0;39m <==      Total: 3
2023-05-16 21:32:06.269 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39424930911227904 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:32:06.269 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:06.269 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39424930911227904 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:32:06.270 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:06.270 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424930894450688 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:06.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39424930911227904 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:32:06.270 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424930894450688 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:06.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39424930911227904 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 100, 0
2023-05-16 21:32:06.271 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m <==      Total: 1
2023-05-16 21:32:06.271 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39424930911227904 [0;39m <==      Total: 1
2023-05-16 21:32:06.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39424930911227904 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":100,"voteCount":0}],"success":true}
2023-05-16 21:32:06.271 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:06.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39424930911227904 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 21:32:06.271 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:32:06.273 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424930894450688 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:06.273 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424930894450688 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:32:06.273 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m <==      Total: 1
2023-05-16 21:32:06.274 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:06.274 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:06.275 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424930894450688 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:06.275 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424930894450688 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:06.276 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m <==      Total: 1
2023-05-16 21:32:06.277 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:06.277 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:06.277 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424930894450688 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:06.277 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424930894450688 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:06.277 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m <==      Total: 1
2023-05-16 21:32:06.278 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:06.278 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:06.278 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424930894450688 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:06.279 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424930894450688 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:06.279 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424930894450688 [0;39m <==      Total: 1
2023-05-16 21:32:06.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39424930894450688 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:32:06.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39424930894450688 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-16 21:32:06.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39424931502624768 [0;39m ------------- 开始 -------------
2023-05-16 21:32:06.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39424931502624768 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:32:06.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39424931502624768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:32:06.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39424931502624768 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:06.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39424931502624768 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:32:06.408 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39424931502624768 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:32:06.408 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39424931502624768 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:32:06.409 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39424931502624768 [0;39m <==    Columns: id, content
2023-05-16 21:32:06.409 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39424931502624768 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:32:06.410 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39424931502624768 [0;39m <==      Total: 1
2023-05-16 21:32:06.410 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39424931502624768 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:32:06.410 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39424931502624768 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:32:06.412 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39424931502624768 [0;39m <==    Updates: 1
2023-05-16 21:32:06.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39424931502624768 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:32:06.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39424931502624768 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 21:32:09.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39424946295934976 [0;39m ------------- 开始 -------------
2023-05-16 21:32:09.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39424946295934976 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:32:09.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39424946295934976 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:32:09.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39424946295934976 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:09.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39424946295934976 [0;39m 请求参数: [2]
2023-05-16 21:32:09.938 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39424946295934976 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:32:09.939 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39424946295934976 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:32:09.940 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424946295934976 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:32:09.940 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424946295934976 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:32:09.941 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424946295934976 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:32:09.941 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424946295934976 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:32:09.942 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39424946295934976 [0;39m <==      Total: 3
2023-05-16 21:32:09.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:09.942 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:09.943 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424946295934976 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:09.944 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424946295934976 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:09.944 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m <==      Total: 1
2023-05-16 21:32:09.945 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:09.945 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:32:09.946 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424946295934976 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:09.946 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424946295934976 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:32:09.946 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m <==      Total: 1
2023-05-16 21:32:09.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:09.947 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:09.948 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424946295934976 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:09.948 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424946295934976 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:09.948 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m <==      Total: 1
2023-05-16 21:32:09.948 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:09.949 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:09.949 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424946295934976 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:09.949 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424946295934976 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:09.950 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m <==      Total: 1
2023-05-16 21:32:09.950 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:09.951 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:09.952 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424946295934976 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:09.952 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424946295934976 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:09.953 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424946295934976 [0;39m <==      Total: 1
2023-05-16 21:32:09.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39424946295934976 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:32:09.953 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39424946295934976 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-16 21:32:10.885 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:32:12.496 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:32:12.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:32:14.989 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:32:17.028 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:32:19.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39424986468978688 [0;39m ------------- 开始 -------------
2023-05-16 21:32:19.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39424986468978688 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-16 21:32:19.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39424986468978688 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-16 21:32:19.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39424986468978688 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:19.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39424986468978688 [0;39m 请求参数: []
2023-05-16 21:32:19.524 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39424986468978688 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-16 21:32:19.525 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39424986468978688 [0;39m ==> Parameters: 
2023-05-16 21:32:19.527 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39424986468978688 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-16 21:32:19.527 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39424986468978688 [0;39m <==        Row: 2023-05-15, 502, 12, 36, 0
2023-05-16 21:32:19.529 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39424986468978688 [0;39m <==        Row: 2023-05-16, 538, 12, 36, 0
2023-05-16 21:32:19.529 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39424986468978688 [0;39m <==      Total: 2
2023-05-16 21:32:19.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39424986544476160 [0;39m ------------- 开始 -------------
2023-05-16 21:32:19.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39424986544476160 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-16 21:32:19.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39424986544476160 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-16 21:32:19.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39424986544476160 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:19.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39424986544476160 [0;39m 请求参数: []
2023-05-16 21:32:19.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39424986468978688 [0;39m 返回结果: {"content":[{"date":1684080000000,"viewCount":502,"viewIncrease":36,"voteCount":12,"voteIncrease":0},{"date":1684166400000,"viewCount":538,"viewIncrease":36,"voteCount":12,"voteIncrease":0}],"success":true}
2023-05-16 21:32:19.531 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39424986544476160 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-16 21:32:19.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39424986468978688 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-16 21:32:19.532 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39424986544476160 [0;39m ==> Parameters: 
2023-05-16 21:32:19.533 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39424986544476160 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-16 21:32:19.534 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39424986544476160 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-16 21:32:19.534 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39424986544476160 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-16 21:32:19.535 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39424986544476160 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-16 21:32:19.535 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39424986544476160 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-16 21:32:19.536 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39424986544476160 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-16 21:32:19.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39424986569641984 [0;39m ------------- 开始 -------------
2023-05-16 21:32:19.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39424986569641984 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-16 21:32:19.536 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39424986544476160 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-16 21:32:19.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39424986569641984 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-16 21:32:19.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39424986569641984 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:19.537 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39424986544476160 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-16 21:32:19.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39424986569641984 [0;39m 请求参数: []
2023-05-16 21:32:19.537 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39424986544476160 [0;39m <==      Total: 7
2023-05-16 21:32:19.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39424986544476160 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-16 21:32:19.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39424986544476160 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-16 21:32:19.542 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39424986569641984 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-16 21:32:19.543 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39424986569641984 [0;39m ==> Parameters: 
2023-05-16 21:32:19.544 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==    Columns: id, parent, name, sort
2023-05-16 21:32:19.544 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-16 21:32:19.545 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-16 21:32:19.545 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-16 21:32:19.546 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 200, 0, Java, 200
2023-05-16 21:32:19.546 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-16 21:32:19.546 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-16 21:32:19.548 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 300, 0, Python, 300
2023-05-16 21:32:19.548 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-16 21:32:19.549 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-16 21:32:19.549 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-16 21:32:19.549 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-16 21:32:19.550 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-16 21:32:19.550 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-16 21:32:19.550 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-16 21:32:19.550 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39424986569641984 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-16 21:32:19.551 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39424986569641984 [0;39m <==      Total: 15
2023-05-16 21:32:19.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39424986569641984 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-16 21:32:19.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39424986569641984 [0;39m ------------- 结束 耗时：24 ms -------------
2023-05-16 21:32:21.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39424993578323968 [0;39m ------------- 开始 -------------
2023-05-16 21:32:21.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39424993578323968 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-16 21:32:21.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39424993578323968 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-16 21:32:21.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39424993578323968 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:21.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39424993578323968 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-16 21:32:21.296 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39424993578323968 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-16 21:32:21.296 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39424993578323968 [0;39m ==> Parameters: 202(Long)
2023-05-16 21:32:21.297 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39424993578323968 [0;39m <==    Columns: count(0)
2023-05-16 21:32:21.297 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39424993578323968 [0;39m <==        Row: 1
2023-05-16 21:32:21.298 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39424993578323968 [0;39m <==      Total: 1
2023-05-16 21:32:21.299 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39424993578323968 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-16 21:32:21.301 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39424993578323968 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-16 21:32:21.301 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39424993578323968 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-16 21:32:21.302 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39424993578323968 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 438, 12
2023-05-16 21:32:21.302 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39424993578323968 [0;39m <==      Total: 1
2023-05-16 21:32:21.304 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39424993578323968 [0;39m 总行数：1
2023-05-16 21:32:21.305 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39424993578323968 [0;39m 总页数：1
2023-05-16 21:32:21.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39424993578323968 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":438,"voteCount":12}],"total":1},"success":true}
2023-05-16 21:32:21.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39424993578323968 [0;39m ------------- 结束 耗时：108 ms -------------
2023-05-16 21:32:21.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39424996229124096 [0;39m ------------- 开始 -------------
2023-05-16 21:32:21.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39424996229124096 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 21:32:21.839 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39424996229124097 [0;39m ------------- 开始 -------------
2023-05-16 21:32:21.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39424996229124096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:32:21.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39424996229124097 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:32:21.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39424996229124096 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:21.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39424996229124097 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:32:21.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39424996229124097 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:21.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39424996229124096 [0;39m 请求参数: [1]
2023-05-16 21:32:21.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39424996229124097 [0;39m 请求参数: [1]
2023-05-16 21:32:21.841 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39424996229124097 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:32:21.842 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39424996229124097 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:21.842 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39424996229124096 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:32:21.843 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424996229124097 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:32:21.844 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424996229124097 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:32:21.844 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424996229124097 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:32:21.845 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39424996229124096 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:21.845 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424996229124097 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:32:21.845 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424996229124097 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:32:21.846 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39424996229124096 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:32:21.846 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39424996229124097 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:32:21.846 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39424996229124096 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 404, 7
2023-05-16 21:32:21.846 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39424996229124097 [0;39m <==      Total: 5
2023-05-16 21:32:21.846 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39424996229124096 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 21:32:21.846 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39424996229124096 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 21:32:21.847 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:21.847 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39424996229124096 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 21:32:21.847 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:21.847 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39424996229124096 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 21:32:21.847 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39424996229124096 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 21:32:21.848 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39424996229124096 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 21:32:21.848 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:21.848 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39424996229124096 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 21:32:21.848 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:21.848 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39424996229124096 [0;39m <==      Total: 8
2023-05-16 21:32:21.851 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39424996229124096 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":404,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 21:32:21.852 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39424996229124096 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 21:32:21.851 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m <==      Total: 1
2023-05-16 21:32:21.853 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:21.853 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:21.854 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:21.855 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:21.855 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m <==      Total: 1
2023-05-16 21:32:21.855 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:21.856 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:32:21.856 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:21.857 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:32:21.857 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m <==      Total: 1
2023-05-16 21:32:21.857 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:21.858 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:21.858 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:21.859 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:21.859 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m <==      Total: 1
2023-05-16 21:32:21.859 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:21.860 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:21.860 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:21.861 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:21.861 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m <==      Total: 1
2023-05-16 21:32:21.861 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:21.861 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:21.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:21.863 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:21.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m <==      Total: 1
2023-05-16 21:32:21.863 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:21.864 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:21.864 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:21.865 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:21.865 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m <==      Total: 1
2023-05-16 21:32:21.865 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:21.866 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:21.866 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:21.866 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39424996229124097 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:21.867 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39424996229124097 [0;39m <==      Total: 1
2023-05-16 21:32:21.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39424996229124097 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:32:21.867 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39424996229124097 [0;39m ------------- 结束 耗时：28 ms -------------
2023-05-16 21:32:21.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39424996652748800 [0;39m ------------- 开始 -------------
2023-05-16 21:32:21.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39424996652748800 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 21:32:21.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39424996652748800 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:32:21.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39424996652748800 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:21.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39424996652748800 [0;39m 请求参数: [1]
2023-05-16 21:32:21.941 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39424996652748800 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:32:21.941 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39424996652748800 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:21.943 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39424996652748800 [0;39m <==    Columns: id, content
2023-05-16 21:32:21.943 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39424996652748800 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 21:32:21.943 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39424996652748800 [0;39m <==      Total: 1
2023-05-16 21:32:21.944 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39424996652748800 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:32:21.944 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39424996652748800 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:21.946 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39424996652748800 [0;39m <==    Updates: 1
2023-05-16 21:32:21.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39424996652748800 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 21:32:21.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39424996652748800 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-16 21:32:23.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39425003111976960 [0;39m ------------- 开始 -------------
2023-05-16 21:32:23.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39425003111976960 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:32:23.480 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39425003111976960 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:32:23.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39425003111976960 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:23.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39425003111976960 [0;39m 请求参数: [1]
2023-05-16 21:32:23.482 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39425003111976960 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:32:23.482 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39425003111976960 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:23.483 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39425003111976960 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:32:23.483 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39425003111976960 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:32:23.484 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39425003111976960 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:32:23.484 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39425003111976960 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:32:23.484 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39425003111976960 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:32:23.484 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39425003111976960 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:32:23.485 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39425003111976960 [0;39m <==      Total: 5
2023-05-16 21:32:23.485 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:23.485 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:23.486 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:23.486 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:23.486 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m <==      Total: 1
2023-05-16 21:32:23.487 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:23.487 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:23.487 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:23.488 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:23.488 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m <==      Total: 1
2023-05-16 21:32:23.488 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:23.488 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:32:23.490 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:23.490 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:32:23.490 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m <==      Total: 1
2023-05-16 21:32:23.491 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:23.491 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:23.492 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:23.492 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:23.492 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m <==      Total: 1
2023-05-16 21:32:23.492 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:23.493 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:23.493 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:23.493 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:23.494 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m <==      Total: 1
2023-05-16 21:32:23.494 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:23.495 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:23.495 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:23.495 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:23.495 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m <==      Total: 1
2023-05-16 21:32:23.496 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:23.496 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:23.497 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:23.497 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:23.497 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m <==      Total: 1
2023-05-16 21:32:23.497 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:32:23.498 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:32:23.498 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:32:23.498 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39425003111976960 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:32:23.499 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39425003111976960 [0;39m <==      Total: 1
2023-05-16 21:32:23.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39425003111976960 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:32:23.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39425003111976960 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-16 21:32:29.310 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39424946295934976 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-16 21:32:29.310 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39424946295934976 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-16 21:32:29.312 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39423381556301824 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-16 21:32:29.313 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39423381556301824 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-16 21:32:29.313 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39423381556301824 [0;39m 登录校验开始，token：39402521571233792
2023-05-16 21:32:29.543 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39423381556301824 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-16 21:32:29.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39425028722397184 [0;39m ------------- 开始 -------------
2023-05-16 21:32:29.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39425028722397184 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-16 21:32:29.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39425028722397184 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-16 21:32:29.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39425028722397184 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:32:29.597 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39425028722397184 [0;39m 请求参数: [{"content":"","parentId":1,"replies":[],"replytouserId":1}]
2023-05-16 21:32:29.601 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m39425028722397184 [0;39m 业务异常：评论为空，无法提交，请重新输入
2023-05-16 21:32:29.603 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39425028722397184 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 评论为空，无法提交，请重新输入]
2023-05-16 21:32:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39425051451330560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:32:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425051451330560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:32:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425051451330560 [0;39m ==> Parameters: 
2023-05-16 21:32:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425051451330560 [0;39m <==    Updates: 2
2023-05-16 21:32:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39425051451330560 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-16 21:32:39.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:32:41.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:32:42.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:32:43.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:32:45.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:32:47.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:33:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39425156313124864 [0;39m 生成今日电子书快照开始
2023-05-16 21:33:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39425156313124864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:33:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39425156313124864 [0;39m ==> Parameters: 
2023-05-16 21:33:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39425156313124864 [0;39m <==    Updates: 0
2023-05-16 21:33:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39425156313124864 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-16 21:33:03.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:33:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39425177301422080 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:33:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425177301422080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:33:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425177301422080 [0;39m ==> Parameters: 
2023-05-16 21:33:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425177301422080 [0;39m <==    Updates: 2
2023-05-16 21:33:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39425177301422080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:33:05.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:33:10.892 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:33:12.088 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:33:12.930 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:33:14.948 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:33:27.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:33:29.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:33:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39425303092793344 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:33:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425303092793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:33:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425303092793344 [0;39m ==> Parameters: 
2023-05-16 21:33:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425303092793344 [0;39m <==    Updates: 2
2023-05-16 21:33:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39425303092793344 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:33:42.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:33:42.930 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:33:44.988 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:33:53.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:34:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39425407992336384 [0;39m 生成今日电子书快照开始
2023-05-16 21:34:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39425407992336384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:34:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39425407992336384 [0;39m ==> Parameters: 
2023-05-16 21:34:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39425407992336384 [0;39m <==    Updates: 0
2023-05-16 21:34:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39425407992336384 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 21:34:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39425428951273472 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:34:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425428951273472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:34:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425428951273472 [0;39m ==> Parameters: 
2023-05-16 21:34:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425428951273472 [0;39m <==    Updates: 2
2023-05-16 21:34:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39425428951273472 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 21:34:12.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:34:12.955 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:34:14.989 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:34:17.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:34:19.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:34:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39425554784587776 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:34:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425554784587776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:34:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425554784587776 [0;39m ==> Parameters: 
2023-05-16 21:34:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425554784587776 [0;39m <==    Updates: 2
2023-05-16 21:34:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39425554784587776 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 21:34:42.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:34:42.955 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:34:45.008 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:34:47.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:35:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39425659654770688 [0;39m 生成今日电子书快照开始
2023-05-16 21:35:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39425659654770688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:35:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39425659654770688 [0;39m ==> Parameters: 
2023-05-16 21:35:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39425659654770688 [0;39m <==    Updates: 0
2023-05-16 21:35:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39425659654770688 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 21:35:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39425680626290688 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:35:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425680626290688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:35:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425680626290688 [0;39m ==> Parameters: 
2023-05-16 21:35:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425680626290688 [0;39m <==    Updates: 2
2023-05-16 21:35:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39425680626290688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:35:09.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:35:11.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:35:12.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:35:13.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:35:17.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:35:33.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:35:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39425806455410688 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:35:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425806455410688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:35:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425806455410688 [0;39m ==> Parameters: 
2023-05-16 21:35:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425806455410688 [0;39m <==    Updates: 2
2023-05-16 21:35:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39425806455410688 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 21:35:35.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:35:42.098 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:35:42.929 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:35:44.956 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:35:57.360 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:35:59.408 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:36:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39425911292039168 [0;39m 生成今日电子书快照开始
2023-05-16 21:36:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39425911292039168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:36:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39425911292039168 [0;39m ==> Parameters: 
2023-05-16 21:36:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39425911292039168 [0;39m <==    Updates: 0
2023-05-16 21:36:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39425911292039168 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 21:36:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39425932288724992 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:36:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425932288724992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:36:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425932288724992 [0;39m ==> Parameters: 
2023-05-16 21:36:05.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39425932288724992 [0;39m <==    Updates: 2
2023-05-16 21:36:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39425932288724992 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-16 21:36:10.878 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:36:12.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:36:12.926 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:36:14.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:36:23.546 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:36:25.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39426018225819648 [0;39m ------------- 开始 -------------
2023-05-16 21:36:25.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39426018225819648 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:36:25.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39426018225819648 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:36:25.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39426018225819648 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:36:25.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39426018225819648 [0;39m 请求参数: [1]
2023-05-16 21:36:25.503 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426018225819648 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:36:25.503 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426018225819648 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:36:25.504 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426018225819648 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:36:25.505 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426018225819648 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:36:25.505 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426018225819648 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:36:25.506 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426018225819648 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:36:25.506 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426018225819648 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:36:25.506 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426018225819648 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:36:25.507 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426018225819648 [0;39m <==      Total: 5
2023-05-16 21:36:25.508 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:36:25.508 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:36:25.509 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:36:25.509 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:36:25.509 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m <==      Total: 1
2023-05-16 21:36:25.510 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:36:25.511 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:36:25.511 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:36:25.511 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:36:25.512 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m <==      Total: 1
2023-05-16 21:36:25.513 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:36:25.513 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:36:25.514 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:36:25.514 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:36:25.514 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m <==      Total: 1
2023-05-16 21:36:25.515 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:36:25.515 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:36:25.515 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:36:25.515 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:36:25.516 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m <==      Total: 1
2023-05-16 21:36:25.516 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:36:25.516 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:36:25.517 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:36:25.517 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:36:25.518 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m <==      Total: 1
2023-05-16 21:36:25.518 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:36:25.518 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:36:25.519 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:36:25.519 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:36:25.519 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m <==      Total: 1
2023-05-16 21:36:25.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:36:25.520 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:36:25.521 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:36:25.521 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:36:25.522 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m <==      Total: 1
2023-05-16 21:36:25.522 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:36:25.522 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:36:25.523 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:36:25.523 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426018225819648 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:36:25.523 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426018225819648 [0;39m <==      Total: 1
2023-05-16 21:36:25.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39426018225819648 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:36:25.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39426018225819648 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-16 21:36:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39426058075901952 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:36:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426058075901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:36:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426058075901952 [0;39m ==> Parameters: 
2023-05-16 21:36:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426058075901952 [0;39m <==    Updates: 2
2023-05-16 21:36:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39426058075901952 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:36:40.880 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:36:42.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:36:42.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:36:44.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:36:49.235 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:37:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39426162920919040 [0;39m 生成今日电子书快照开始
2023-05-16 21:37:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39426162920919040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:37:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39426162920919040 [0;39m ==> Parameters: 
2023-05-16 21:37:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39426162920919040 [0;39m <==    Updates: 0
2023-05-16 21:37:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39426162920919040 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-16 21:37:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39426183921799168 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:37:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426183921799168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:37:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426183921799168 [0;39m ==> Parameters: 
2023-05-16 21:37:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426183921799168 [0;39m <==    Updates: 2
2023-05-16 21:37:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39426183921799168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:37:10.885 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:37:12.086 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:37:14.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:37:17.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:37:21.669 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39424996229124096 [0;39m 连接关闭，token：e9tdFI98Ao，session id：2！当前连接数：0
2023-05-16 21:37:25.252 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39424996229124097 [0;39m 有新连接：token：WeelURXvSN，session id：3，当前连接数：1
2023-05-16 21:37:25.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39426270068609024 [0;39m ------------- 开始 -------------
2023-05-16 21:37:25.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39426270068609025 [0;39m ------------- 开始 -------------
2023-05-16 21:37:25.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39426270068609025 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 21:37:25.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39426270068609024 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:37:25.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39426270068609025 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:37:25.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39426270068609024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:37:25.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39426270068609025 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:37:25.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39426270068609024 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:37:25.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39426270068609025 [0;39m 请求参数: [1]
2023-05-16 21:37:25.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39426270068609024 [0;39m 请求参数: [1]
2023-05-16 21:37:25.548 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426270068609024 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:37:25.548 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39426270068609025 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:37:25.548 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426270068609024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:25.548 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39426270068609025 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:25.549 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426270068609024 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:37:25.549 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426270068609025 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:37:25.549 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426270068609024 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:37:25.549 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426270068609025 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 405, 7
2023-05-16 21:37:25.549 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426270068609025 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 21:37:25.549 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426270068609024 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:37:25.549 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426270068609025 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 21:37:25.550 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426270068609025 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 21:37:25.550 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426270068609024 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:37:25.550 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426270068609024 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:37:25.550 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426270068609024 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:37:25.551 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426270068609024 [0;39m <==      Total: 5
2023-05-16 21:37:25.551 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:25.551 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426270068609025 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 21:37:25.551 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:25.552 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426270068609025 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 21:37:25.552 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426270068609025 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 21:37:25.552 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426270068609025 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 21:37:25.552 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:25.552 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39426270068609025 [0;39m <==      Total: 8
2023-05-16 21:37:25.552 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:25.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m <==      Total: 1
2023-05-16 21:37:25.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:25.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:25.554 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:25.554 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:25.554 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m <==      Total: 1
2023-05-16 21:37:25.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39426270068609025 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":405,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 21:37:25.555 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:25.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39426270068609025 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-16 21:37:25.556 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:37:25.556 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:25.556 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:37:25.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m <==      Total: 1
2023-05-16 21:37:25.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:25.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:25.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:25.558 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:25.558 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m <==      Total: 1
2023-05-16 21:37:25.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:25.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:25.560 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:25.560 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:25.560 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m <==      Total: 1
2023-05-16 21:37:25.560 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:25.561 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:25.561 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:25.561 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:25.562 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m <==      Total: 1
2023-05-16 21:37:25.562 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:25.562 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:25.563 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:25.563 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:25.563 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m <==      Total: 1
2023-05-16 21:37:25.564 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:25.564 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:25.565 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:25.565 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426270068609024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:25.565 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426270068609024 [0;39m <==      Total: 1
2023-05-16 21:37:25.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39426270068609024 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:37:25.566 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39426270068609024 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-16 21:37:25.774 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39426271024910336 [0;39m ------------- 开始 -------------
2023-05-16 21:37:25.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39426271024910336 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 21:37:25.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39426271024910336 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:37:25.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39426271024910336 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:37:25.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39426271024910336 [0;39m 请求参数: [1]
2023-05-16 21:37:25.776 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39426271024910336 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:37:25.776 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39426271024910336 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:25.777 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39426271024910336 [0;39m <==    Columns: id, content
2023-05-16 21:37:25.778 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39426271024910336 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 21:37:25.778 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39426271024910336 [0;39m <==      Total: 1
2023-05-16 21:37:25.778 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39426271024910336 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:37:25.779 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39426271024910336 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:25.788 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39426271024910336 [0;39m <==    Updates: 1
2023-05-16 21:37:25.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39426271024910336 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 21:37:25.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39426271024910336 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-16 21:37:28.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39426283024814080 [0;39m ------------- 开始 -------------
2023-05-16 21:37:28.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39426283024814080 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:37:28.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39426283024814080 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:37:28.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39426283024814080 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:37:28.636 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39426283024814080 [0;39m 请求参数: [1]
2023-05-16 21:37:28.636 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426283024814080 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:37:28.637 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426283024814080 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:28.638 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426283024814080 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:37:28.638 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426283024814080 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:37:28.639 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426283024814080 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:37:28.639 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426283024814080 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:37:28.639 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426283024814080 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:37:28.640 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426283024814080 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:37:28.640 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426283024814080 [0;39m <==      Total: 5
2023-05-16 21:37:28.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:28.640 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:28.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:28.641 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:28.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m <==      Total: 1
2023-05-16 21:37:28.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:28.642 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:28.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:28.643 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:28.643 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m <==      Total: 1
2023-05-16 21:37:28.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:28.644 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:37:28.644 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:28.645 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:37:28.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m <==      Total: 1
2023-05-16 21:37:28.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:28.645 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:28.646 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:28.646 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:28.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m <==      Total: 1
2023-05-16 21:37:28.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:28.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:28.647 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:28.647 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:28.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m <==      Total: 1
2023-05-16 21:37:28.648 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:28.648 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:28.649 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:28.649 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:28.649 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m <==      Total: 1
2023-05-16 21:37:28.650 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:28.650 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:28.651 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:28.651 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:28.651 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m <==      Total: 1
2023-05-16 21:37:28.651 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:37:28.652 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:37:28.652 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:37:28.652 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426283024814080 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:37:28.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426283024814080 [0;39m <==      Total: 1
2023-05-16 21:37:28.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39426283024814080 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:37:28.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39426283024814080 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-16 21:37:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39426309755113472 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:37:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426309755113472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:37:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426309755113472 [0;39m ==> Parameters: 
2023-05-16 21:37:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426309755113472 [0;39m <==    Updates: 2
2023-05-16 21:37:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39426309755113472 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-16 21:37:39.065 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:37:41.090 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:37:42.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:37:45.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:37:47.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:38:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39426414646267904 [0;39m 生成今日电子书快照开始
2023-05-16 21:38:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39426414646267904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:38:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39426414646267904 [0;39m ==> Parameters: 
2023-05-16 21:38:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39426414646267904 [0;39m <==    Updates: 0
2023-05-16 21:38:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39426414646267904 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 21:38:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39426435563261952 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:38:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426435563261952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:38:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426435563261952 [0;39m ==> Parameters: 
2023-05-16 21:38:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426435563261952 [0;39m <==    Updates: 2
2023-05-16 21:38:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39426435563261952 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:38:05.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:38:10.861 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:38:12.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:38:14.938 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:38:27.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:38:29.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:38:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39426561430130688 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:38:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426561430130688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:38:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426561430130688 [0;39m ==> Parameters: 
2023-05-16 21:38:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426561430130688 [0;39m <==    Updates: 2
2023-05-16 21:38:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39426561430130688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:38:40.872 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:38:42.086 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:38:42.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:38:44.943 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:38:51.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:38:53.360 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:39:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39426666245787648 [0;39m 生成今日电子书快照开始
2023-05-16 21:39:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39426666245787648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:39:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39426666245787648 [0;39m ==> Parameters: 
2023-05-16 21:39:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39426666245787648 [0;39m <==    Updates: 0
2023-05-16 21:39:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39426666245787648 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 21:39:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39426687217307648 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:39:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426687217307648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:39:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426687217307648 [0;39m ==> Parameters: 
2023-05-16 21:39:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426687217307648 [0;39m <==    Updates: 2
2023-05-16 21:39:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39426687217307648 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:39:10.882 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:39:12.092 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:39:12.932 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:39:14.991 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:39:17.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:39:19.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:39:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39426813067399168 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:39:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426813067399168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:39:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426813067399168 [0;39m ==> Parameters: 
2023-05-16 21:39:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426813067399168 [0;39m <==    Updates: 2
2023-05-16 21:39:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39426813067399168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:39:41.147 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39423385742217216 [0;39m 连接关闭，token：WeelURXvSN，session id：3！当前连接数：0
2023-05-16 21:39:42.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:39:42.914 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:39:43.995 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39426018225819648 [0;39m 有新连接：token：cUUEsG77yT，session id：4，当前连接数：1
2023-05-16 21:39:44.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39426851441086464 [0;39m ------------- 开始 -------------
2023-05-16 21:39:44.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39426851441086464 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 21:39:44.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39426851441086464 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:39:44.160 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39426851441086464 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:39:44.160 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39426851441086464 [0;39m 请求参数: [1]
2023-05-16 21:39:44.161 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39426851441086464 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:39:44.161 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39426851441086464 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:44.162 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426851441086464 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:39:44.162 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426851441086464 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 406, 7
2023-05-16 21:39:44.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426851441086464 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 21:39:44.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426851441086464 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 21:39:44.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426851441086464 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 21:39:44.164 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426851441086464 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 21:39:44.164 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426851441086464 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 21:39:44.164 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426851441086464 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 21:39:44.164 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39426851441086464 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 21:39:44.164 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39426851441086464 [0;39m <==      Total: 8
2023-05-16 21:39:44.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39426851441086464 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":406,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 21:39:44.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39426851441086464 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-16 21:39:44.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39426851504001024 [0;39m ------------- 开始 -------------
2023-05-16 21:39:44.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39426851504001024 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:39:44.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39426851504001024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:39:44.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39426851504001024 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:39:44.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39426851504001024 [0;39m 请求参数: [1]
2023-05-16 21:39:44.173 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426851504001024 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:39:44.173 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426851504001024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:44.174 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426851504001024 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:39:44.174 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426851504001024 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:39:44.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426851504001024 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:39:44.175 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426851504001024 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:39:44.176 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426851504001024 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:39:44.176 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426851504001024 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:39:44.176 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426851504001024 [0;39m <==      Total: 5
2023-05-16 21:39:44.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:44.177 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:44.178 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:44.178 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:44.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m <==      Total: 1
2023-05-16 21:39:44.178 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:44.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:44.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:44.179 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:44.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m <==      Total: 1
2023-05-16 21:39:44.179 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:44.180 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:39:44.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:44.180 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:39:44.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m <==      Total: 1
2023-05-16 21:39:44.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:44.181 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:44.182 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:44.182 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:44.182 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m <==      Total: 1
2023-05-16 21:39:44.182 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:44.182 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:44.183 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:44.183 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:44.183 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m <==      Total: 1
2023-05-16 21:39:44.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:44.184 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:44.185 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:44.185 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:44.185 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m <==      Total: 1
2023-05-16 21:39:44.186 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:44.186 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:44.186 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:44.187 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:44.187 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m <==      Total: 1
2023-05-16 21:39:44.187 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:44.187 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:44.188 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:44.188 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426851504001024 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:44.188 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426851504001024 [0;39m <==      Total: 1
2023-05-16 21:39:44.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39426851504001024 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:39:44.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39426851504001024 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-16 21:39:44.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39426851906654208 [0;39m ------------- 开始 -------------
2023-05-16 21:39:44.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39426851906654208 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 21:39:44.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39426851906654208 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:39:44.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39426851906654208 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:39:44.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39426851906654208 [0;39m 请求参数: [1]
2023-05-16 21:39:44.268 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39426851906654208 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:39:44.268 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39426851906654208 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:44.269 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39426851906654208 [0;39m <==    Columns: id, content
2023-05-16 21:39:44.269 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39426851906654208 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 21:39:44.269 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39426851906654208 [0;39m <==      Total: 1
2023-05-16 21:39:44.270 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39426851906654208 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:39:44.270 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39426851906654208 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:44.279 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39426851906654208 [0;39m <==    Updates: 1
2023-05-16 21:39:44.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39426851906654208 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 21:39:44.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39426851906654208 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 21:39:44.940 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:39:46.965 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:39:47.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39426865911435264 [0;39m ------------- 开始 -------------
2023-05-16 21:39:47.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39426865911435264 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:39:47.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39426865911435264 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:39:47.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39426865911435264 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:39:47.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39426865911435264 [0;39m 请求参数: [1]
2023-05-16 21:39:47.608 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426865911435264 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:39:47.608 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426865911435264 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:47.609 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426865911435264 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:39:47.609 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426865911435264 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:39:47.610 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426865911435264 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:39:47.610 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426865911435264 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:39:47.610 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426865911435264 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:39:47.611 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39426865911435264 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:39:47.611 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39426865911435264 [0;39m <==      Total: 5
2023-05-16 21:39:47.612 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:47.612 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:47.612 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:47.612 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:47.613 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m <==      Total: 1
2023-05-16 21:39:47.613 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:47.614 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:47.614 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:47.615 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:47.615 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m <==      Total: 1
2023-05-16 21:39:47.615 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:47.616 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:39:47.616 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:47.617 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:39:47.617 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m <==      Total: 1
2023-05-16 21:39:47.618 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:47.618 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:47.619 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:47.619 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:47.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m <==      Total: 1
2023-05-16 21:39:47.619 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:47.621 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:47.622 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:47.623 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:47.623 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m <==      Total: 1
2023-05-16 21:39:47.623 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:47.623 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:47.624 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:47.624 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:47.625 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m <==      Total: 1
2023-05-16 21:39:47.625 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:47.625 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:47.626 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:47.626 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:47.626 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m <==      Total: 1
2023-05-16 21:39:47.627 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:39:47.627 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:39:47.628 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:39:47.628 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39426865911435264 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:39:47.628 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39426865911435264 [0;39m <==      Total: 1
2023-05-16 21:39:47.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39426865911435264 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:39:47.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39426865911435264 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-16 21:40:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39426917899833344 [0;39m 生成今日电子书快照开始
2023-05-16 21:40:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39426917899833344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:40:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39426917899833344 [0;39m ==> Parameters: 
2023-05-16 21:40:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39426917899833344 [0;39m <==    Updates: 0
2023-05-16 21:40:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39426917899833344 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 21:40:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39426938925879296 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:40:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426938925879296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:40:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426938925879296 [0;39m ==> Parameters: 
2023-05-16 21:40:05.048 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39426938925879296 [0;39m <==    Updates: 2
2023-05-16 21:40:05.049 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39426938925879296 [0;39m 更新电子书下的文档数据结束，耗时：34毫秒
2023-05-16 21:40:11.661 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:40:12.083 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:40:13.793 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:40:17.877 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:40:19.623 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39426271024910336 [0;39m 连接关闭，token：cUUEsG77yT，session id：4！当前连接数：0
2023-05-16 21:40:22.127 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39426283024814080 [0;39m 有新连接：token：AA3nZ0FHN4，session id：5，当前连接数：1
2023-05-16 21:40:22.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39427012040986624 [0;39m ------------- 开始 -------------
2023-05-16 21:40:22.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39427012040986624 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 21:40:22.447 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39427012040986624 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:40:22.447 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39427012040986624 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:40:22.447 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39427012040986624 [0;39m 请求参数: [1]
2023-05-16 21:40:22.448 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39427012040986624 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:40:22.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39427012057763840 [0;39m ------------- 开始 -------------
2023-05-16 21:40:22.450 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39427012040986624 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:22.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39427012057763840 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:40:22.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39427012057763840 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:40:22.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39427012057763840 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:40:22.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39427012057763840 [0;39m 请求参数: [1]
2023-05-16 21:40:22.451 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39427012057763840 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:40:22.451 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39427012057763840 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:22.452 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427012057763840 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:40:22.452 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427012040986624 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:40:22.453 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427012057763840 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:40:22.453 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427012040986624 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 407, 7
2023-05-16 21:40:22.453 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427012040986624 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 21:40:22.453 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427012057763840 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:40:22.453 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427012040986624 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 21:40:22.453 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427012057763840 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:40:22.454 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427012057763840 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:40:22.454 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427012040986624 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 21:40:22.454 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427012057763840 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:40:22.454 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39427012057763840 [0;39m <==      Total: 5
2023-05-16 21:40:22.454 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427012040986624 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 21:40:22.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:22.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:22.457 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:22.457 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:22.457 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m <==      Total: 1
2023-05-16 21:40:22.457 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427012040986624 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 21:40:22.458 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:22.458 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:22.458 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427012040986624 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 21:40:22.459 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:22.459 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427012040986624 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 21:40:22.459 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:22.459 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39427012040986624 [0;39m <==      Total: 8
2023-05-16 21:40:22.459 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m <==      Total: 1
2023-05-16 21:40:22.459 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:22.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39427012040986624 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":407,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 21:40:22.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39427012040986624 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 21:40:22.460 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:40:22.460 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:22.461 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:40:22.461 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m <==      Total: 1
2023-05-16 21:40:22.462 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:22.462 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:22.462 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:22.463 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:22.463 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m <==      Total: 1
2023-05-16 21:40:22.463 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:22.464 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:22.464 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:22.465 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:22.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m <==      Total: 1
2023-05-16 21:40:22.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:22.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:22.466 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:22.466 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:22.466 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m <==      Total: 1
2023-05-16 21:40:22.467 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:22.467 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:22.467 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:22.468 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:22.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m <==      Total: 1
2023-05-16 21:40:22.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:22.468 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:22.469 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:22.469 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427012057763840 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:22.469 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427012057763840 [0;39m <==      Total: 1
2023-05-16 21:40:22.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39427012057763840 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:40:22.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39427012057763840 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-16 21:40:22.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39427012733046784 [0;39m ------------- 开始 -------------
2023-05-16 21:40:22.612 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39427012733046784 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 21:40:22.612 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39427012733046784 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:40:22.612 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39427012733046784 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:40:22.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39427012733046784 [0;39m 请求参数: [1]
2023-05-16 21:40:22.613 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39427012733046784 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:40:22.613 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39427012733046784 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:22.614 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39427012733046784 [0;39m <==    Columns: id, content
2023-05-16 21:40:22.614 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39427012733046784 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 21:40:22.615 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39427012733046784 [0;39m <==      Total: 1
2023-05-16 21:40:22.615 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39427012733046784 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:40:22.615 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39427012733046784 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:22.622 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39427012733046784 [0;39m <==    Updates: 1
2023-05-16 21:40:22.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39427012733046784 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 21:40:22.623 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39427012733046784 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 21:40:23.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39427017774600192 [0;39m ------------- 开始 -------------
2023-05-16 21:40:23.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39427017774600192 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:40:23.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39427017774600192 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:40:23.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39427017774600192 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:40:23.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39427017774600192 [0;39m 请求参数: [1]
2023-05-16 21:40:23.815 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39427017774600192 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:40:23.815 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39427017774600192 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:23.816 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427017774600192 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:40:23.816 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427017774600192 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:40:23.816 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427017774600192 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:40:23.817 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427017774600192 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:40:23.817 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427017774600192 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:40:23.817 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427017774600192 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:40:23.818 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39427017774600192 [0;39m <==      Total: 5
2023-05-16 21:40:23.818 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:23.818 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:23.819 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:23.819 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:23.820 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m <==      Total: 1
2023-05-16 21:40:23.820 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:23.820 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:23.821 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:23.821 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:23.822 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m <==      Total: 1
2023-05-16 21:40:23.822 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:23.822 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:40:23.823 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:23.823 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:40:23.823 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m <==      Total: 1
2023-05-16 21:40:23.823 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:23.824 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:23.824 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:23.824 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:23.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m <==      Total: 1
2023-05-16 21:40:23.826 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:23.826 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:23.827 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:23.827 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:23.828 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m <==      Total: 1
2023-05-16 21:40:23.828 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:23.828 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:23.829 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:23.829 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:23.829 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m <==      Total: 1
2023-05-16 21:40:23.830 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:23.830 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:23.830 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:23.831 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:23.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m <==      Total: 1
2023-05-16 21:40:23.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:23.831 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:23.833 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:23.833 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427017774600192 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:23.833 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427017774600192 [0;39m <==      Total: 1
2023-05-16 21:40:23.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39427017774600192 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:40:23.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39427017774600192 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-16 21:40:28.273 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39426851441086464 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-16 21:40:28.273 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39426851441086464 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-16 21:40:28.273 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39426851441086464 [0;39m 登录校验开始，token：39402521571233792
2023-05-16 21:40:28.322 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39426851441086464 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-16 21:40:28.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39427036690911232 [0;39m ------------- 开始 -------------
2023-05-16 21:40:28.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39427036690911232 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-16 21:40:28.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39427036690911232 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-16 21:40:28.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39427036690911232 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:40:28.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39427036690911232 [0;39m 请求参数: [{"content":"ww","parentId":1,"replies":[],"replytouserId":1}]
2023-05-16 21:40:28.324 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427036690911232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:28.325 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427036690911232 [0;39m ==> Parameters: null
2023-05-16 21:40:28.325 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427036690911232 [0;39m <==      Total: 0
2023-05-16 21:40:28.326 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427036690911232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:40:28.326 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427036690911232 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:40:28.326 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427036690911232 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:40:28.327 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427036690911232 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:40:28.327 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427036690911232 [0;39m <==      Total: 1
2023-05-16 21:40:28.327 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39427036690911232 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-16 21:40:28.329 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39427036690911232 [0;39m ==> Parameters: null, null, 1(Long), 1(Long), ww(String), 2023-05-16 21:40:28.327(Timestamp), null
2023-05-16 21:40:28.333 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39427036690911232 [0;39m <==    Updates: 1
2023-05-16 21:40:28.335 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39427036690911232 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-16 21:40:28.336 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39427036690911232 [0;39m ==> Parameters: 44(Long)
2023-05-16 21:40:28.336 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39427036690911232 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:40:28.337 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39427036690911232 [0;39m <==        Row: 44, null, null, 1, 1, ww, 2023-05-16 21:40:28, null
2023-05-16 21:40:28.337 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39427036690911232 [0;39m <==      Total: 1
2023-05-16 21:40:28.339 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39427036690911232 [0;39m 系统异常：
java.lang.NullPointerException: null
	at com.jiawa.wiki.service.CommentService.saveReply(CommentService.java:103)
	at com.jiawa.wiki.controller.DocController.handleReplyComment(DocController.java:42)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor118.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$d7a00636.handleReplyComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-16 21:40:28.340 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39427036690911232 [0;39m Resolved [java.lang.NullPointerException]
2023-05-16 21:40:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39427064734027776 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:40:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427064734027776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:40:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427064734027776 [0;39m ==> Parameters: 
2023-05-16 21:40:35.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427064734027776 [0;39m <==    Updates: 2
2023-05-16 21:40:35.030 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39427064734027776 [0;39m 更新电子书下的文档数据结束，耗时：21毫秒
2023-05-16 21:40:35.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:40:42.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:40:42.940 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:40:44.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:40:51.142 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：AA3nZ0FHN4，session id：5！当前连接数：0
2023-05-16 21:40:51.201 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 21:40:51.205 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-16 21:40:51.212 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-16 21:40:51.213 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-16 21:40:51.225 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-16 21:40:51.432 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-16 21:40:51.432 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-16 21:41:03.494 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 9412 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-16 21:41:03.498 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-16 21:41:03.690 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-16 21:41:03.690 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-16 21:41:03.774 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-16 21:41:05.249 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-16 21:41:05.254 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-16 21:41:05.290 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2023-05-16 21:41:05.695 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$1614943c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:05.728 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.536 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.540 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$b84f093d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.541 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.543 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.549 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.550 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.554 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.557 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.558 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.584 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.585 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.589 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.594 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:06.623 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:08.560 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:08.562 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:41:09.328 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-16 21:41:09.343 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-16 21:41:09.344 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-16 21:41:09.344 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-16 21:41:09.500 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-16 21:41:09.504 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 5813 ms
2023-05-16 21:41:10.954 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:41:11.111 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-16 21:41:11.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:41:11.663 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-16 21:41:11.740 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-16 21:41:16.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:41:16.385 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 21:41:16.385 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-16 21:41:16.396 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-16 21:41:16.423 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-16 21:41:16.467 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 14.069 seconds (JVM running for 17.165)
2023-05-16 21:41:16.469 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-16 21:41:16.470 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-16 21:41:20.465 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:41:33.351 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-16 21:41:33.351 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-16 21:41:33.353 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-16 21:41:33.468 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：oeeqVITGHq，session id：0，当前连接数：1
2023-05-16 21:41:33.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39427310998392832 [0;39m ------------- 开始 -------------
2023-05-16 21:41:33.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39427310998392833 [0;39m ------------- 开始 -------------
2023-05-16 21:41:33.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39427310998392832 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:41:33.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39427310998392832 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:41:33.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39427310998392833 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 21:41:33.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39427310998392832 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:41:33.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39427310998392833 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:41:33.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39427310998392833 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:41:33.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39427310998392832 [0;39m 请求参数: [1]
2023-05-16 21:41:33.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39427310998392833 [0;39m 请求参数: [1]
2023-05-16 21:41:33.921 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39427310998392832 [0;39m HikariPool-1 - Starting...
2023-05-16 21:41:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39427316413239296 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:41:35.704 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39427310998392832 [0;39m HikariPool-1 - Start completed.
2023-05-16 21:41:35.725 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427316413239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:41:35.735 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39427310998392832 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:41:35.762 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39427310998392832 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:41:35.763 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427316413239296 [0;39m ==> Parameters: 
2023-05-16 21:41:35.765 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39427310998392833 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:41:35.766 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39427310998392833 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:41:35.770 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427316413239296 [0;39m <==    Updates: 2
2023-05-16 21:41:35.772 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39427316413239296 [0;39m 更新电子书下的文档数据结束，耗时：758毫秒
2023-05-16 21:41:35.793 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427310998392833 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:41:35.793 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427310998392832 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:41:35.794 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427310998392833 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 408, 7
2023-05-16 21:41:35.795 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427310998392832 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:41:35.795 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427310998392833 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 21:41:35.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427310998392833 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 21:41:35.796 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427310998392833 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 21:41:35.797 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427310998392832 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:41:35.797 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427310998392833 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 21:41:35.798 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427310998392833 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 21:41:35.797 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427310998392832 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:41:35.798 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427310998392833 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 21:41:35.798 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427310998392832 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:41:35.799 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39427310998392833 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 21:41:35.799 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39427310998392832 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:41:35.799 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39427310998392833 [0;39m <==      Total: 8
2023-05-16 21:41:35.799 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39427310998392832 [0;39m <==      Total: 5
2023-05-16 21:41:35.805 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:41:35.805 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:41:35.807 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:41:35.807 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:41:35.808 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m <==      Total: 1
2023-05-16 21:41:35.808 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:41:35.809 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:41:35.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:41:35.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:41:35.810 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m <==      Total: 1
2023-05-16 21:41:35.811 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:41:35.811 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:41:35.812 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:41:35.812 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:41:35.813 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m <==      Total: 1
2023-05-16 21:41:35.814 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:41:35.814 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:41:35.815 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:41:35.815 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:41:35.815 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m <==      Total: 1
2023-05-16 21:41:35.816 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:41:35.816 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:41:35.817 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:41:35.817 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:41:35.817 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m <==      Total: 1
2023-05-16 21:41:35.818 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:41:35.818 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:41:35.820 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:41:35.820 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:41:35.821 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m <==      Total: 1
2023-05-16 21:41:35.821 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:41:35.821 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:41:35.824 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:41:35.824 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:41:35.824 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m <==      Total: 1
2023-05-16 21:41:35.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:41:35.825 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:41:35.826 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:41:35.826 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39427310998392832 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:41:35.827 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39427310998392832 [0;39m <==      Total: 1
2023-05-16 21:41:35.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39427310998392833 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":408,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 21:41:35.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39427310998392833 [0;39m ------------- 结束 耗时：2138 ms -------------
2023-05-16 21:41:35.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39427310998392832 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:41:35.866 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39427310998392832 [0;39m ------------- 结束 耗时：2143 ms -------------
2023-05-16 21:41:36.135 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39427321115054080 [0;39m ------------- 开始 -------------
2023-05-16 21:41:36.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39427321115054080 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 21:41:36.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39427321115054080 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:41:36.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39427321115054080 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:41:36.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39427321115054080 [0;39m 请求参数: [1]
2023-05-16 21:41:36.137 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39427321115054080 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:41:36.138 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39427321115054080 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:41:36.141 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39427321115054080 [0;39m <==    Columns: id, content
2023-05-16 21:41:36.141 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39427321115054080 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 21:41:36.141 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39427321115054080 [0;39m <==      Total: 1
2023-05-16 21:41:36.144 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39427321115054080 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:41:36.144 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39427321115054080 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:41:36.147 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39427321115054080 [0;39m <==    Updates: 1
2023-05-16 21:41:36.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39427321115054080 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 21:41:36.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39427321115054080 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 21:41:39.824 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:41:40.613 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:41:41.872 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:41:43.927 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:41:45.959 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:42:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39427421275033600 [0;39m 生成今日电子书快照开始
2023-05-16 21:42:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39427421275033600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:42:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39427421275033600 [0;39m ==> Parameters: 
2023-05-16 21:42:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39427421275033600 [0;39m <==    Updates: 0
2023-05-16 21:42:00.030 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39427421275033600 [0;39m 生成今日电子书快照结束，耗时：13毫秒
2023-05-16 21:42:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39427442204610560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:42:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427442204610560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:42:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427442204610560 [0;39m ==> Parameters: 
2023-05-16 21:42:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427442204610560 [0;39m <==    Updates: 2
2023-05-16 21:42:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39427442204610560 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-16 21:42:08.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:42:10.089 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:42:11.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:42:16.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:42:34.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:42:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39427568054702080 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:42:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427568054702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:42:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427568054702080 [0;39m ==> Parameters: 
2023-05-16 21:42:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427568054702080 [0;39m <==    Updates: 2
2023-05-16 21:42:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39427568054702080 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 21:42:40.637 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:42:41.891 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:42:43.927 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:42:56.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:42:58.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:43:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39427672895524864 [0;39m 生成今日电子书快照开始
2023-05-16 21:43:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39427672895524864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:43:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39427672895524864 [0;39m ==> Parameters: 
2023-05-16 21:43:00.119 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39427672895524864 [0;39m <==    Updates: 0
2023-05-16 21:43:00.120 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39427672895524864 [0;39m 生成今日电子书快照结束，耗时：113毫秒
2023-05-16 21:43:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39427693879627776 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:43:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427693879627776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:43:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427693879627776 [0;39m ==> Parameters: 
2023-05-16 21:43:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427693879627776 [0;39m <==    Updates: 2
2023-05-16 21:43:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39427693879627776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:43:09.829 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:43:10.612 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:43:13.887 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:43:22.593 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:43:35.028 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39427819788439552 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:43:35.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427819788439552 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:43:35.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427819788439552 [0;39m ==> Parameters: 
2023-05-16 21:43:35.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427819788439552 [0;39m <==    Updates: 2
2023-05-16 21:43:35.037 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39427819788439552 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-16 21:43:39.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:43:40.632 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:43:43.903 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:43:45.938 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:43:47.989 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:44:00.031 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39427924658622464 [0;39m 生成今日电子书快照开始
2023-05-16 21:44:00.074 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39427924658622464 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:44:00.077 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39427924658622464 [0;39m ==> Parameters: 
2023-05-16 21:44:00.079 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39427924658622464 [0;39m <==    Updates: 0
2023-05-16 21:44:00.080 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39427924658622464 [0;39m 生成今日电子书快照结束，耗时：49毫秒
2023-05-16 21:44:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39427945504313344 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:44:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427945504313344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:44:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427945504313344 [0;39m ==> Parameters: 
2023-05-16 21:44:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39427945504313344 [0;39m <==    Updates: 2
2023-05-16 21:44:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39427945504313344 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:44:10.765 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:44:13.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:44:15.985 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:44:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39428071337627648 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:44:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428071337627648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:44:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428071337627648 [0;39m ==> Parameters: 
2023-05-16 21:44:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428071337627648 [0;39m <==    Updates: 2
2023-05-16 21:44:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39428071337627648 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:44:40.098 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:44:40.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:44:42.142 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:44:46.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:45:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39428176270725120 [0;39m 生成今日电子书快照开始
2023-05-16 21:45:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39428176270725120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:45:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39428176270725120 [0;39m ==> Parameters: 
2023-05-16 21:45:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39428176270725120 [0;39m <==    Updates: 0
2023-05-16 21:45:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39428176270725120 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 21:45:02.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:45:04.235 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:45:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39428197200302080 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:45:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428197200302080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:45:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428197200302080 [0;39m ==> Parameters: 
2023-05-16 21:45:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428197200302080 [0;39m <==    Updates: 2
2023-05-16 21:45:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39428197200302080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:45:10.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:45:13.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:45:28.313 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:45:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39428323037810688 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:45:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428323037810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:45:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428323037810688 [0;39m ==> Parameters: 
2023-05-16 21:45:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428323037810688 [0;39m <==    Updates: 2
2023-05-16 21:45:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39428323037810688 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 21:45:39.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:45:40.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:45:43.917 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:45:52.382 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:45:56.527 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：oeeqVITGHq，session id：0！当前连接数：0
2023-05-16 21:45:58.974 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：2Gcy7xgK9d，session id：1，当前连接数：1
2023-05-16 21:45:59.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39428424518995968 [0;39m ------------- 开始 -------------
2023-05-16 21:45:59.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39428424518995968 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 21:45:59.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39428424518995968 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:45:59.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39428424518995968 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:45:59.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39428424518995968 [0;39m 请求参数: [1]
2023-05-16 21:45:59.210 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39428424518995968 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:45:59.210 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39428424518995968 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:45:59.211 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428424518995968 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:45:59.212 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428424518995968 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 409, 7
2023-05-16 21:45:59.213 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428424518995968 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 21:45:59.213 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428424518995968 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 21:45:59.213 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428424518995968 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 21:45:59.213 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428424518995968 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 21:45:59.213 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428424518995968 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 21:45:59.215 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428424518995968 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 21:45:59.215 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428424518995968 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 21:45:59.217 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39428424518995968 [0;39m <==      Total: 8
2023-05-16 21:45:59.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39428424518995968 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":409,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 21:45:59.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39428424518995968 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 21:45:59.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39428424607076352 [0;39m ------------- 开始 -------------
2023-05-16 21:45:59.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39428424607076352 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:45:59.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39428424607076352 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:45:59.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39428424607076352 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:45:59.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39428424607076352 [0;39m 请求参数: [1]
2023-05-16 21:45:59.229 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428424607076352 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:45:59.230 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428424607076352 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:45:59.231 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428424607076352 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:45:59.231 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428424607076352 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:45:59.232 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428424607076352 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:45:59.233 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428424607076352 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:45:59.233 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428424607076352 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:45:59.234 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428424607076352 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:45:59.234 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428424607076352 [0;39m <==      Total: 5
2023-05-16 21:45:59.235 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:45:59.235 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:45:59.236 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:45:59.236 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:45:59.236 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m <==      Total: 1
2023-05-16 21:45:59.237 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:45:59.237 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:45:59.239 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:45:59.240 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:45:59.240 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m <==      Total: 1
2023-05-16 21:45:59.241 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:45:59.241 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:45:59.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:45:59.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:45:59.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m <==      Total: 1
2023-05-16 21:45:59.244 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:45:59.244 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:45:59.245 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:45:59.245 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:45:59.245 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m <==      Total: 1
2023-05-16 21:45:59.247 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:45:59.247 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:45:59.248 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:45:59.248 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:45:59.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m <==      Total: 1
2023-05-16 21:45:59.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:45:59.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:45:59.250 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:45:59.250 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:45:59.250 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m <==      Total: 1
2023-05-16 21:45:59.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:45:59.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:45:59.252 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:45:59.252 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:45:59.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m <==      Total: 1
2023-05-16 21:45:59.253 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:45:59.254 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:45:59.255 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:45:59.255 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428424607076352 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:45:59.256 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428424607076352 [0;39m <==      Total: 1
2023-05-16 21:45:59.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39428424607076352 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:45:59.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39428424607076352 [0;39m ------------- 结束 耗时：29 ms -------------
2023-05-16 21:45:59.342 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39428425085227008 [0;39m ------------- 开始 -------------
2023-05-16 21:45:59.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39428425085227008 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 21:45:59.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39428425085227008 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:45:59.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39428425085227008 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:45:59.343 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39428425085227008 [0;39m 请求参数: [1]
2023-05-16 21:45:59.343 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39428425085227008 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:45:59.344 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39428425085227008 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:45:59.345 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39428425085227008 [0;39m <==    Columns: id, content
2023-05-16 21:45:59.345 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39428425085227008 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 21:45:59.346 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39428425085227008 [0;39m <==      Total: 1
2023-05-16 21:45:59.346 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39428425085227008 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:45:59.346 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39428425085227008 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:45:59.355 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39428425085227008 [0;39m <==    Updates: 1
2023-05-16 21:45:59.356 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39428425085227008 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 21:45:59.356 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39428425085227008 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 21:46:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39428427920576512 [0;39m 生成今日电子书快照开始
2023-05-16 21:46:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39428427920576512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:46:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39428427920576512 [0;39m ==> Parameters: 
2023-05-16 21:46:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39428427920576512 [0;39m <==    Updates: 0
2023-05-16 21:46:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39428427920576512 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 21:46:02.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39428438699937792 [0;39m ------------- 开始 -------------
2023-05-16 21:46:02.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39428438699937792 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:46:02.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39428438699937792 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:46:02.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39428438699937792 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:46:02.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39428438699937792 [0;39m 请求参数: [1]
2023-05-16 21:46:02.591 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428438699937792 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:46:02.591 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428438699937792 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:02.592 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428438699937792 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:46:02.593 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428438699937792 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:46:02.593 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428438699937792 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:46:02.594 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428438699937792 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:46:02.594 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428438699937792 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:46:02.594 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428438699937792 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:46:02.596 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428438699937792 [0;39m <==      Total: 5
2023-05-16 21:46:02.596 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:02.597 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:02.598 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:02.598 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:02.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m <==      Total: 1
2023-05-16 21:46:02.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:02.599 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:02.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:02.600 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:02.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m <==      Total: 1
2023-05-16 21:46:02.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:02.601 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:46:02.602 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:02.603 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:46:02.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m <==      Total: 1
2023-05-16 21:46:02.603 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:02.604 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:02.605 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:02.605 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:02.605 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m <==      Total: 1
2023-05-16 21:46:02.605 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:02.605 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:02.606 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:02.606 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:02.606 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m <==      Total: 1
2023-05-16 21:46:02.607 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:02.607 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:02.608 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:02.608 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:02.609 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m <==      Total: 1
2023-05-16 21:46:02.609 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:02.609 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:02.610 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:02.610 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:02.610 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m <==      Total: 1
2023-05-16 21:46:02.611 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:02.611 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:02.612 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:02.612 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428438699937792 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:02.612 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428438699937792 [0;39m <==      Total: 1
2023-05-16 21:46:02.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39428438699937792 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:46:02.613 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39428438699937792 [0;39m ------------- 结束 耗时：25 ms -------------
2023-05-16 21:46:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39428448871124992 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:46:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428448871124992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:46:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428448871124992 [0;39m ==> Parameters: 
2023-05-16 21:46:05.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428448871124992 [0;39m <==    Updates: 2
2023-05-16 21:46:05.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39428448871124992 [0;39m 更新电子书下的文档数据结束，耗时：13毫秒
2023-05-16 21:46:10.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:46:11.867 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:46:13.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39428484090695680 [0;39m ------------- 开始 -------------
2023-05-16 21:46:13.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39428484090695680 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:46:13.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39428484090695680 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:46:13.415 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39428484090695680 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:46:13.416 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39428484090695680 [0;39m 请求参数: [1]
2023-05-16 21:46:13.418 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428484090695680 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:46:13.418 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428484090695680 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:13.419 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428484090695680 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:46:13.420 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428484090695680 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:46:13.422 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428484090695680 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:46:13.423 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428484090695680 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:46:13.424 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428484090695680 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:46:13.425 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428484090695680 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:46:13.426 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428484090695680 [0;39m <==      Total: 5
2023-05-16 21:46:13.428 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:13.428 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:13.430 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:13.430 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:13.430 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m <==      Total: 1
2023-05-16 21:46:13.430 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:13.431 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:13.431 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:13.432 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:13.432 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m <==      Total: 1
2023-05-16 21:46:13.432 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:13.432 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:46:13.434 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:13.434 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:46:13.434 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m <==      Total: 1
2023-05-16 21:46:13.436 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:13.436 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:13.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:13.437 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:13.437 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m <==      Total: 1
2023-05-16 21:46:13.438 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:13.438 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:13.439 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:13.439 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:13.439 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m <==      Total: 1
2023-05-16 21:46:13.439 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:13.440 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:13.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:13.441 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:13.441 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m <==      Total: 1
2023-05-16 21:46:13.442 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:13.442 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:13.442 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:13.443 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:13.443 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m <==      Total: 1
2023-05-16 21:46:13.443 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:46:13.444 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:46:13.444 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:46:13.444 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428484090695680 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:46:13.444 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428484090695680 [0;39m <==      Total: 1
2023-05-16 21:46:13.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39428484090695680 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:46:13.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39428484090695680 [0;39m ------------- 结束 耗时：35 ms -------------
2023-05-16 21:46:13.882 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:46:17.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:46:32.573 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：2Gcy7xgK9d，session id：1！当前连接数：0
2023-05-16 21:46:32.629 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 21:46:32.631 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-16 21:46:32.632 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-16 21:46:32.634 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-16 21:46:32.651 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-16 21:46:32.677 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-16 21:46:32.678 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-16 21:46:38.888 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 4208 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-16 21:46:38.888 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-16 21:46:38.891 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-16 21:46:38.951 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-16 21:46:38.952 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-16 21:46:39.972 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-16 21:46:39.973 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-16 21:46:40.020 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2023-05-16 21:46:40.451 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$9d3185c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:40.470 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.478 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.480 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$3f6bfac1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.482 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.485 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.493 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.494 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.502 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.510 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.511 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.549 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.556 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.570 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.578 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:41.640 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:47.375 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:47.377 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-16 21:46:48.584 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-16 21:46:48.612 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-16 21:46:48.616 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-16 21:46:48.619 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-16 21:46:48.870 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-16 21:46:48.870 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 9917 ms
2023-05-16 21:46:49.821 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:46:49.821 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:46:51.327 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-16 21:46:52.200 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-16 21:46:52.298 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-16 21:46:55.491 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:46:57.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:46:57.537 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-16 21:46:57.544 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-16 21:46:57.555 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-16 21:46:57.564 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-16 21:46:57.583 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 19.362 seconds (JVM running for 21.208)
2023-05-16 21:46:57.586 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-16 21:46:57.588 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-16 21:47:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39428679553650688 [0;39m 生成今日电子书快照开始
2023-05-16 21:47:00.039 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39428679553650688 [0;39m HikariPool-1 - Starting...
2023-05-16 21:47:01.615 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:47:02.860 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39428679553650688 [0;39m HikariPool-1 - Start completed.
2023-05-16 21:47:02.867 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39428679553650688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:47:02.914 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39428679553650688 [0;39m ==> Parameters: 
2023-05-16 21:47:03.355 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-16 21:47:03.355 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-16 21:47:03.357 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-05-16 21:47:03.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39428694246297600 [0;39m ------------- 开始 -------------
2023-05-16 21:47:03.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39428694246297600 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:47:03.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39428694246297600 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:47:03.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39428694246297600 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:47:03.586 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39428679553650688 [0;39m <==    Updates: 0
2023-05-16 21:47:03.588 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39428679553650688 [0;39m 生成今日电子书快照结束，耗时：3575毫秒
2023-05-16 21:47:03.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39428694246297600 [0;39m 请求参数: [1]
2023-05-16 21:47:03.615 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428694246297600 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:47:03.616 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428694246297600 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:03.636 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428694246297600 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:47:03.638 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428694246297600 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:47:03.640 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428694246297600 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:47:03.642 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428694246297600 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:47:03.644 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428694246297600 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:47:03.645 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428694246297600 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:47:03.646 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428694246297600 [0;39m <==      Total: 5
2023-05-16 21:47:03.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:03.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:03.654 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:03.655 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:03.655 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m <==      Total: 1
2023-05-16 21:47:03.656 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:03.657 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:03.658 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:03.658 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:03.658 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m <==      Total: 1
2023-05-16 21:47:03.659 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:03.659 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:47:03.660 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:03.660 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:47:03.661 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m <==      Total: 1
2023-05-16 21:47:03.661 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:03.661 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:03.663 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:03.664 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:03.665 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m <==      Total: 1
2023-05-16 21:47:03.665 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:03.665 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:03.666 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:03.667 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:03.667 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m <==      Total: 1
2023-05-16 21:47:03.668 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:03.668 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:03.670 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:03.670 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:03.670 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m <==      Total: 1
2023-05-16 21:47:03.671 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:03.672 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:03.673 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:03.673 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:03.674 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m <==      Total: 1
2023-05-16 21:47:03.674 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:03.675 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:03.675 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:03.676 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428694246297600 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:03.676 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428694246297600 [0;39m <==      Total: 1
2023-05-16 21:47:03.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39428694246297600 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:47:03.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39428694246297600 [0;39m ------------- 结束 耗时：411 ms -------------
2023-05-16 21:47:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39428700529364992 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:47:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428700529364992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:47:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428700529364992 [0;39m ==> Parameters: 
2023-05-16 21:47:05.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428700529364992 [0;39m <==    Updates: 2
2023-05-16 21:47:05.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39428700529364992 [0;39m 更新电子书下的文档数据结束，耗时：14毫秒
2023-05-16 21:47:12.497 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：7k7kZaJVni，session id：0，当前连接数：1
2023-05-16 21:47:13.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39428736680071168 [0;39m ------------- 开始 -------------
2023-05-16 21:47:13.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39428736680071168 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 21:47:13.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39428736680071168 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:47:13.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39428736680071168 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:47:13.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39428736688459776 [0;39m ------------- 开始 -------------
2023-05-16 21:47:13.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39428736688459776 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:47:13.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39428736688459776 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:47:13.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39428736680071168 [0;39m 请求参数: [1]
2023-05-16 21:47:13.636 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39428736688459776 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:47:13.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39428736688459776 [0;39m 请求参数: [1]
2023-05-16 21:47:13.640 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428736688459776 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:47:13.640 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428736688459776 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:13.641 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428736688459776 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:47:13.642 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428736688459776 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:47:13.643 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428736688459776 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:47:13.643 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428736688459776 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:47:13.644 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428736688459776 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:47:13.644 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428736688459776 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:47:13.645 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428736688459776 [0;39m <==      Total: 5
2023-05-16 21:47:13.646 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:13.647 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:13.649 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:13.649 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:13.650 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m <==      Total: 1
2023-05-16 21:47:13.650 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:13.651 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:13.652 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:13.653 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:13.653 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m <==      Total: 1
2023-05-16 21:47:13.655 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:13.655 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:47:13.656 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:13.657 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:47:13.658 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m <==      Total: 1
2023-05-16 21:47:13.658 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:13.660 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:13.662 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:13.662 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:13.665 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m <==      Total: 1
2023-05-16 21:47:13.666 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:13.747 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39428736680071168 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:47:13.748 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:13.748 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39428736680071168 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:13.749 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:13.749 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:13.749 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428736680071168 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:47:13.749 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m <==      Total: 1
2023-05-16 21:47:13.750 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428736680071168 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 410, 7
2023-05-16 21:47:13.750 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:13.750 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428736680071168 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 21:47:13.750 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:13.750 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428736680071168 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 21:47:13.751 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428736680071168 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 21:47:13.751 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:13.751 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428736680071168 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 21:47:13.751 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:13.751 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428736680071168 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 21:47:13.752 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m <==      Total: 1
2023-05-16 21:47:13.752 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428736680071168 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 21:47:13.752 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39428736680071168 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 21:47:13.752 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:13.752 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39428736680071168 [0;39m <==      Total: 8
2023-05-16 21:47:13.753 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:13.755 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:13.755 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:13.756 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m <==      Total: 1
2023-05-16 21:47:13.756 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:13.757 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:13.766 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39428736680071168 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":410,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 21:47:13.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39428736680071168 [0;39m ------------- 结束 耗时：159 ms -------------
2023-05-16 21:47:13.792 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:13.792 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428736688459776 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:13.793 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428736688459776 [0;39m <==      Total: 1
2023-05-16 21:47:13.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39428736688459776 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:47:13.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39428736688459776 [0;39m ------------- 结束 耗时：162 ms -------------
2023-05-16 21:47:13.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39428738076774400 [0;39m ------------- 开始 -------------
2023-05-16 21:47:13.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39428738076774400 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 21:47:13.967 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39428738076774400 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:47:13.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39428738076774400 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:47:13.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39428738076774400 [0;39m 请求参数: [1]
2023-05-16 21:47:13.971 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39428738076774400 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:47:13.971 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39428738076774400 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:13.975 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39428738076774400 [0;39m <==    Columns: id, content
2023-05-16 21:47:13.975 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39428738076774400 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 21:47:13.976 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39428738076774400 [0;39m <==      Total: 1
2023-05-16 21:47:13.978 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39428738076774400 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:47:13.979 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39428738076774400 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:13.986 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39428738076774400 [0;39m <==    Updates: 1
2023-05-16 21:47:13.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39428738076774400 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 21:47:13.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39428738076774400 [0;39m ------------- 结束 耗时：25 ms -------------
2023-05-16 21:47:17.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39428753033662464 [0;39m ------------- 开始 -------------
2023-05-16 21:47:17.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39428753033662464 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:47:17.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39428753033662464 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:47:17.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39428753033662464 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:47:17.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39428753033662464 [0;39m 请求参数: [1]
2023-05-16 21:47:17.534 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428753033662464 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:47:17.534 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428753033662464 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:17.535 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428753033662464 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:47:17.536 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428753033662464 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:47:17.536 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428753033662464 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:47:17.538 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428753033662464 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:47:17.538 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428753033662464 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:47:17.539 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39428753033662464 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:47:17.539 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39428753033662464 [0;39m <==      Total: 5
2023-05-16 21:47:17.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:17.540 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:17.540 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:17.540 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:17.542 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m <==      Total: 1
2023-05-16 21:47:17.542 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:17.542 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:17.544 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:17.544 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:17.544 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m <==      Total: 1
2023-05-16 21:47:17.546 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:17.546 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:47:17.547 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:17.548 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:47:17.548 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m <==      Total: 1
2023-05-16 21:47:17.548 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:17.549 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:17.549 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:17.550 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:17.550 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m <==      Total: 1
2023-05-16 21:47:17.551 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:17.552 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:17.553 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:17.553 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:17.553 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m <==      Total: 1
2023-05-16 21:47:17.554 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:17.554 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:17.555 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:17.555 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:17.556 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m <==      Total: 1
2023-05-16 21:47:17.557 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:17.558 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:17.560 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:17.560 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:17.560 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m <==      Total: 1
2023-05-16 21:47:17.561 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:47:17.562 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:47:17.562 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:47:17.563 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39428753033662464 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:47:17.563 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39428753033662464 [0;39m <==      Total: 1
2023-05-16 21:47:17.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39428753033662464 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:47:17.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39428753033662464 [0;39m ------------- 结束 耗时：33 ms -------------
2023-05-16 21:47:19.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:47:21.033 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:47:25.803 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:47:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39428826316541952 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:47:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428826316541952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:47:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428826316541952 [0;39m ==> Parameters: 
2023-05-16 21:47:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428826316541952 [0;39m <==    Updates: 2
2023-05-16 21:47:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39428826316541952 [0;39m 更新电子书下的文档数据结束，耗时：15毫秒
2023-05-16 21:47:49.559 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:47:51.624 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:47:53.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-16 21:48:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39428931186724864 [0;39m 生成今日电子书快照开始
2023-05-16 21:48:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39428931186724864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:48:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39428931186724864 [0;39m ==> Parameters: 
2023-05-16 21:48:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39428931186724864 [0;39m <==    Updates: 0
2023-05-16 21:48:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39428931186724864 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-16 21:48:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39428952179216384 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:48:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428952179216384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:48:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428952179216384 [0;39m ==> Parameters: 
2023-05-16 21:48:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39428952179216384 [0;39m <==    Updates: 2
2023-05-16 21:48:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39428952179216384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:48:14.490 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：7k7kZaJVni，session id：0！当前连接数：0
2023-05-16 21:48:18.680 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：0kyNKgvkcD，session id：1，当前连接数：1
2023-05-16 21:48:19.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429011046273024 [0;39m ------------- 开始 -------------
2023-05-16 21:48:19.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429011046273024 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 21:48:19.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429011046273024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:48:19.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429011046273024 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:19.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429011046273024 [0;39m 请求参数: [1]
2023-05-16 21:48:19.051 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429011046273024 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:48:19.052 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429011046273024 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:19.053 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429011046273024 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:48:19.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429011046273024 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 411, 7
2023-05-16 21:48:19.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429011046273024 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 21:48:19.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429011046273024 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 21:48:19.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429011046273024 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 21:48:19.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429011046273024 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 21:48:19.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429011046273024 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 21:48:19.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429011046273024 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 21:48:19.057 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429011046273024 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 21:48:19.058 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429011046273024 [0;39m <==      Total: 8
2023-05-16 21:48:19.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429011046273024 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":411,"voteCount":7},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 21:48:19.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429011046273024 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-16 21:48:19.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429011188879360 [0;39m ------------- 开始 -------------
2023-05-16 21:48:19.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429011188879360 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:48:19.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429011188879360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:48:19.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429011188879360 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:19.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429011188879360 [0;39m 请求参数: [1]
2023-05-16 21:48:19.082 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429011188879360 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:48:19.082 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429011188879360 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:19.084 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429011188879360 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:48:19.084 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429011188879360 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:48:19.086 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429011188879360 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:48:19.086 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429011188879360 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:48:19.087 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429011188879360 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:48:19.087 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429011188879360 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:48:19.088 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429011188879360 [0;39m <==      Total: 5
2023-05-16 21:48:19.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:19.088 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:19.089 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:19.089 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:19.089 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m <==      Total: 1
2023-05-16 21:48:19.090 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:19.090 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:19.091 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:19.091 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:19.091 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m <==      Total: 1
2023-05-16 21:48:19.092 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:19.092 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:48:19.092 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:19.092 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:48:19.094 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m <==      Total: 1
2023-05-16 21:48:19.096 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:19.096 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:19.098 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:19.098 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:19.098 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m <==      Total: 1
2023-05-16 21:48:19.099 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:19.099 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:19.100 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:19.100 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:19.101 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m <==      Total: 1
2023-05-16 21:48:19.101 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:19.101 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:19.102 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:19.102 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:19.103 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m <==      Total: 1
2023-05-16 21:48:19.103 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:19.103 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:19.104 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:19.104 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:19.104 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m <==      Total: 1
2023-05-16 21:48:19.105 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:19.105 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:19.106 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:19.106 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429011188879360 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:19.107 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429011188879360 [0;39m <==      Total: 1
2023-05-16 21:48:19.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429011188879360 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:48:19.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429011188879360 [0;39m ------------- 结束 耗时：27 ms -------------
2023-05-16 21:48:19.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429012526862336 [0;39m ------------- 开始 -------------
2023-05-16 21:48:19.399 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429012526862336 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 21:48:19.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429012526862336 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:48:19.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429012526862336 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:19.401 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429012526862336 [0;39m 请求参数: [1]
2023-05-16 21:48:19.401 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429012526862336 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:48:19.401 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429012526862336 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:19.403 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429012526862336 [0;39m <==    Columns: id, content
2023-05-16 21:48:19.405 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429012526862336 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 21:48:19.405 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429012526862336 [0;39m <==      Total: 1
2023-05-16 21:48:19.406 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429012526862336 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:48:19.406 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429012526862336 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:19.419 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429012526862336 [0;39m <==    Updates: 1
2023-05-16 21:48:19.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429012526862336 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 21:48:19.420 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429012526862336 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-16 21:48:21.362 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429020760281088 [0;39m ------------- 开始 -------------
2023-05-16 21:48:21.362 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429020760281088 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/1 GET
2023-05-16 21:48:21.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429020760281088 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-16 21:48:21.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429020760281088 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:21.363 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429020760281088 [0;39m 请求参数: [1]
2023-05-16 21:48:22.050 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m39429020760281088 [0;39m key不存在，放入：DOC_VOTE_1_127.0.0.1，过期 5000 秒
2023-05-16 21:48:22.056 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39429020760281088 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-16 21:48:22.057 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39429020760281088 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:22.059 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39429020760281088 [0;39m <==    Updates: 1
2023-05-16 21:48:22.060 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39429020760281088 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-16 21:48:22.061 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39429020760281088 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:22.063 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m39429020760281088 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:48:22.063 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m39429020760281088 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 412, 8
2023-05-16 21:48:22.063 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39429020760281088 [0;39m <==      Total: 1
2023-05-16 21:48:22.210 ERROR org.apache.rocketmq.spring.core.RocketMQTemplate  :153  [32m39429020760281088 [0;39m syncSend failed. destination:VOTE_TOPIC, message:GenericMessage [payload=【文档1】被点赞！, headers={contentType=text/plain, id=656e4898-cc30-2c17-957d-546e8a662490, timestamp=1684244902068}] 
2023-05-16 21:48:22.214 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39429020760281088 [0;39m 系统异常：
org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:154)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:123)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:111)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:459)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:50)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at com.jiawa.wiki.service.DocService.vote(DocService.java:167)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$7564c90e.vote(<generated>)
	at com.jiawa.wiki.controller.DocController.vote(DocController.java:96)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$d70baf2d.vote(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:656)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1279)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:301)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:148)
	... 88 common frames omitted
2023-05-16 21:48:22.216 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39429020760281088 [0;39m Resolved [org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.]
2023-05-16 21:48:24.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429032961511424 [0;39m ------------- 开始 -------------
2023-05-16 21:48:24.271 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429032961511424 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/1 GET
2023-05-16 21:48:24.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429032961511424 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-16 21:48:24.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429032961511424 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:24.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429032961511424 [0;39m 请求参数: [1]
2023-05-16 21:48:24.285 INFO  com.jiawa.wiki.util.RedisUtil                     :28   [32m39429032961511424 [0;39m key已存在：DOC_VOTE_1_127.0.0.1
2023-05-16 21:48:24.289 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m39429032961511424 [0;39m 业务异常：您已点赞过
2023-05-16 21:48:24.291 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39429032961511424 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 您已点赞过]
2023-05-16 21:48:26.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429043573100544 [0;39m ------------- 开始 -------------
2023-05-16 21:48:26.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429043573100544 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/1 GET
2023-05-16 21:48:26.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429043573100544 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-16 21:48:26.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429043573100544 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:26.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429043573100544 [0;39m 请求参数: [1]
2023-05-16 21:48:26.811 INFO  com.jiawa.wiki.util.RedisUtil                     :28   [32m39429043573100544 [0;39m key已存在：DOC_VOTE_1_127.0.0.1
2023-05-16 21:48:26.812 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m39429043573100544 [0;39m 业务异常：您已点赞过
2023-05-16 21:48:26.816 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39429043573100544 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 您已点赞过]
2023-05-16 21:48:28.498 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：0kyNKgvkcD，session id：1！当前连接数：0
2023-05-16 21:48:33.133 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：m9HggOUlW0，session id：2，当前连接数：1
2023-05-16 21:48:33.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429072366997504 [0;39m ------------- 开始 -------------
2023-05-16 21:48:33.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429072366997504 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:48:33.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429072366997504 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:48:33.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429072366997504 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:33.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429072366997504 [0;39m 请求参数: [1]
2023-05-16 21:48:33.668 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429072366997504 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:48:33.668 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429072366997504 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:33.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429072375386112 [0;39m ------------- 开始 -------------
2023-05-16 21:48:33.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429072375386112 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 21:48:33.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429072375386112 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:48:33.669 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429072366997504 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:48:33.670 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429072366997504 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:48:33.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429072375386112 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:33.670 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429072366997504 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:48:33.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429072375386112 [0;39m 请求参数: [1]
2023-05-16 21:48:33.671 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429072366997504 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:48:33.672 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429072366997504 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:48:33.673 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429072366997504 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:48:33.673 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429072366997504 [0;39m <==      Total: 5
2023-05-16 21:48:33.674 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:33.674 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429072375386112 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:48:33.674 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:33.674 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429072375386112 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:33.674 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:33.675 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:33.675 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m <==      Total: 1
2023-05-16 21:48:33.675 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429072375386112 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:48:33.675 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429072375386112 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 412, 8
2023-05-16 21:48:33.675 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:33.676 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:33.677 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:33.677 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:33.677 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m <==      Total: 1
2023-05-16 21:48:33.677 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429072375386112 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 9, 2
2023-05-16 21:48:33.677 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429072375386112 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 21:48:33.678 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:33.678 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429072375386112 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 21:48:33.678 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:48:33.678 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429072375386112 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 21:48:33.678 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429072375386112 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 21:48:33.678 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:33.679 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429072375386112 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 3, 0
2023-05-16 21:48:33.679 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:48:33.679 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m <==      Total: 1
2023-05-16 21:48:33.679 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429072375386112 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 21:48:33.679 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:33.679 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429072375386112 [0;39m <==      Total: 8
2023-05-16 21:48:33.680 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:33.680 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:33.680 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:33.680 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m <==      Total: 1
2023-05-16 21:48:33.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429072375386112 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":412,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":9,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":3,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 21:48:33.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429072375386112 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 21:48:33.681 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:33.681 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:33.682 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:33.682 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:33.683 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m <==      Total: 1
2023-05-16 21:48:33.684 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:33.684 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:33.684 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:33.686 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:33.686 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m <==      Total: 1
2023-05-16 21:48:33.686 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:33.687 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:33.688 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:33.688 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:33.688 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m <==      Total: 1
2023-05-16 21:48:33.689 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:33.689 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:33.690 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:33.690 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429072366997504 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:33.690 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429072366997504 [0;39m <==      Total: 1
2023-05-16 21:48:33.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429072366997504 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:48:33.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429072366997504 [0;39m ------------- 结束 耗时：25 ms -------------
2023-05-16 21:48:34.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429074329931776 [0;39m ------------- 开始 -------------
2023-05-16 21:48:34.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429074329931776 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 21:48:34.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429074329931776 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:48:34.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429074329931776 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:34.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429074329931776 [0;39m 请求参数: [1]
2023-05-16 21:48:34.135 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429074329931776 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:48:34.135 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429074329931776 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:34.136 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429074329931776 [0;39m <==    Columns: id, content
2023-05-16 21:48:34.136 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429074329931776 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 21:48:34.136 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429074329931776 [0;39m <==      Total: 1
2023-05-16 21:48:34.137 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429074329931776 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:48:34.138 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429074329931776 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:34.146 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429074329931776 [0;39m <==    Updates: 1
2023-05-16 21:48:34.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429074329931776 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 21:48:34.147 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429074329931776 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 21:48:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39429078004142080 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:48:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429078004142080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:48:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429078004142080 [0;39m ==> Parameters: 
2023-05-16 21:48:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429078004142080 [0;39m <==    Updates: 2
2023-05-16 21:48:35.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39429078004142080 [0;39m 更新电子书下的文档数据结束，耗时：15毫秒
2023-05-16 21:48:36.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429083662258176 [0;39m ------------- 开始 -------------
2023-05-16 21:48:36.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429083662258176 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-16 21:48:36.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429083662258176 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:48:36.361 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429083662258176 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:36.362 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429083662258176 [0;39m 请求参数: [2]
2023-05-16 21:48:36.364 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429083662258176 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:48:36.364 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429083662258176 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:48:36.365 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429083662258176 [0;39m <==      Total: 0
2023-05-16 21:48:36.366 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429083662258176 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:48:36.367 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429083662258176 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:48:36.443 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429083662258176 [0;39m <==    Updates: 1
2023-05-16 21:48:36.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429083662258176 [0;39m 返回结果: {"content":"","success":true}
2023-05-16 21:48:36.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429083662258176 [0;39m ------------- 结束 耗时：85 ms -------------
2023-05-16 21:48:37.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429087084810240 [0;39m ------------- 开始 -------------
2023-05-16 21:48:37.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429087084810240 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/2 GET
2023-05-16 21:48:37.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429087084810240 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-16 21:48:37.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429087084810240 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:37.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429087084810240 [0;39m 请求参数: [2]
2023-05-16 21:48:37.180 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m39429087084810240 [0;39m key不存在，放入：DOC_VOTE_2_127.0.0.1，过期 5000 秒
2023-05-16 21:48:37.183 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39429087084810240 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-16 21:48:37.183 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39429087084810240 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:48:37.186 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39429087084810240 [0;39m <==    Updates: 1
2023-05-16 21:48:37.187 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39429087084810240 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-16 21:48:37.187 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39429087084810240 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:48:37.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m39429087084810240 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:48:37.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m39429087084810240 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-16 21:48:37.189 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39429087084810240 [0;39m <==      Total: 1
2023-05-16 21:48:37.206 ERROR org.apache.rocketmq.spring.core.RocketMQTemplate  :153  [32m39429087084810240 [0;39m syncSend failed. destination:VOTE_TOPIC, message:GenericMessage [payload=【文档1.1】被点赞！, headers={contentType=text/plain, id=cc93453f-ac8a-1330-ad99-18ca3cada188, timestamp=1684244917189}] 
2023-05-16 21:48:37.207 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39429087084810240 [0;39m 系统异常：
org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:154)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:123)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:111)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:459)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:50)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at com.jiawa.wiki.service.DocService.vote(DocService.java:167)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$7564c90e.vote(<generated>)
	at com.jiawa.wiki.controller.DocController.vote(DocController.java:96)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$d70baf2d.vote(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:656)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1279)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:301)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:148)
	... 88 common frames omitted
2023-05-16 21:48:37.210 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39429087084810240 [0;39m Resolved [org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.]
2023-05-16 21:48:38.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429094299013120 [0;39m ------------- 开始 -------------
2023-05-16 21:48:38.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429094299013120 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/3 GET
2023-05-16 21:48:38.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429094299013120 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:48:38.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429094299013120 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:38.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429094299013120 [0;39m 请求参数: [3]
2023-05-16 21:48:38.897 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429094299013120 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:48:38.897 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429094299013120 [0;39m ==> Parameters: 3(Long)
2023-05-16 21:48:38.898 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429094299013120 [0;39m <==      Total: 0
2023-05-16 21:48:38.899 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429094299013120 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:48:38.900 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429094299013120 [0;39m ==> Parameters: 3(Long)
2023-05-16 21:48:38.932 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429094299013120 [0;39m <==    Updates: 1
2023-05-16 21:48:38.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429094299013120 [0;39m 返回结果: {"content":"","success":true}
2023-05-16 21:48:38.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429094299013120 [0;39m ------------- 结束 耗时：38 ms -------------
2023-05-16 21:48:39.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429097688010752 [0;39m ------------- 开始 -------------
2023-05-16 21:48:39.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429097688010752 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/3 GET
2023-05-16 21:48:39.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429097688010752 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-16 21:48:39.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429097688010752 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:39.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429097688010752 [0;39m 请求参数: [3]
2023-05-16 21:48:39.705 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m39429097688010752 [0;39m key不存在，放入：DOC_VOTE_3_127.0.0.1，过期 5000 秒
2023-05-16 21:48:39.710 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39429097688010752 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-16 21:48:39.710 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39429097688010752 [0;39m ==> Parameters: 3(Long)
2023-05-16 21:48:39.725 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39429097688010752 [0;39m <==    Updates: 1
2023-05-16 21:48:39.726 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39429097688010752 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-16 21:48:39.727 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39429097688010752 [0;39m ==> Parameters: 3(Long)
2023-05-16 21:48:39.729 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m39429097688010752 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:48:39.729 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m39429097688010752 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-16 21:48:39.730 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39429097688010752 [0;39m <==      Total: 1
2023-05-16 21:48:39.760 ERROR org.apache.rocketmq.spring.core.RocketMQTemplate  :153  [32m39429097688010752 [0;39m syncSend failed. destination:VOTE_TOPIC, message:GenericMessage [payload=【文档2】被点赞！, headers={contentType=text/plain, id=21c32319-1e79-6134-df70-7bb56b148ba6, timestamp=1684244919730}] 
2023-05-16 21:48:39.761 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39429097688010752 [0;39m 系统异常：
org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:154)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:123)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:111)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:459)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:50)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at com.jiawa.wiki.service.DocService.vote(DocService.java:167)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$7564c90e.vote(<generated>)
	at com.jiawa.wiki.controller.DocController.vote(DocController.java:96)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor143.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$d70baf2d.vote(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:656)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1279)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:301)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:148)
	... 87 common frames omitted
2023-05-16 21:48:39.763 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39429097688010752 [0;39m Resolved [org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.]
2023-05-16 21:48:41.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429105783017472 [0;39m ------------- 开始 -------------
2023-05-16 21:48:41.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429105783017472 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 21:48:41.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429105783017472 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:48:41.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429105783017472 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:41.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429105783017472 [0;39m 请求参数: [1]
2023-05-16 21:48:41.636 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429105783017472 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:48:41.636 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429105783017472 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:41.638 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429105783017472 [0;39m <==    Columns: id, content
2023-05-16 21:48:41.638 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429105783017472 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 21:48:41.638 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429105783017472 [0;39m <==      Total: 1
2023-05-16 21:48:41.639 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429105783017472 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:48:41.640 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429105783017472 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:41.642 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429105783017472 [0;39m <==    Updates: 1
2023-05-16 21:48:41.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429105783017472 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 21:48:41.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429105783017472 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-16 21:48:42.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429109264289792 [0;39m ------------- 开始 -------------
2023-05-16 21:48:42.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429109264289792 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-16 21:48:42.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429109264289792 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-16 21:48:42.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429109264289792 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:42.464 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429109264289792 [0;39m 请求参数: []
2023-05-16 21:48:42.470 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39429109264289792 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-16 21:48:42.470 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39429109264289792 [0;39m ==> Parameters: 
2023-05-16 21:48:42.472 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==    Columns: id, parent, name, sort
2023-05-16 21:48:42.472 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-16 21:48:42.473 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-16 21:48:42.473 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-16 21:48:42.473 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 200, 0, Java, 200
2023-05-16 21:48:42.474 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-16 21:48:42.474 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-16 21:48:42.474 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 300, 0, Python, 300
2023-05-16 21:48:42.474 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-16 21:48:42.475 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-16 21:48:42.475 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-16 21:48:42.476 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-16 21:48:42.476 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-16 21:48:42.476 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-16 21:48:42.476 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-16 21:48:42.477 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429109264289792 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-16 21:48:42.477 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39429109264289792 [0;39m <==      Total: 15
2023-05-16 21:48:42.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429109264289792 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-16 21:48:42.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429109264289792 [0;39m ------------- 结束 耗时：23 ms -------------
2023-05-16 21:48:42.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429109419479040 [0;39m ------------- 开始 -------------
2023-05-16 21:48:42.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429109423673344 [0;39m ------------- 开始 -------------
2023-05-16 21:48:42.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429109419479040 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-16 21:48:42.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429109423673344 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-16 21:48:42.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429109419479040 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-16 21:48:42.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429109423673344 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-16 21:48:42.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429109423673344 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:42.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429109419479040 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:42.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429109423673344 [0;39m 请求参数: []
2023-05-16 21:48:42.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429109419479040 [0;39m 请求参数: []
2023-05-16 21:48:42.509 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39429109423673344 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-16 21:48:42.510 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39429109423673344 [0;39m ==> Parameters: 
2023-05-16 21:48:42.513 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429109423673344 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-16 21:48:42.513 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429109423673344 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-16 21:48:42.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429109423673344 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-16 21:48:42.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429109423673344 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-16 21:48:42.516 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39429109419479040 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-16 21:48:42.516 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429109423673344 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-16 21:48:42.516 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39429109419479040 [0;39m ==> Parameters: 
2023-05-16 21:48:42.517 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429109423673344 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-16 21:48:42.517 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429109423673344 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-16 21:48:42.517 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429109423673344 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-16 21:48:42.517 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39429109423673344 [0;39m <==      Total: 7
2023-05-16 21:48:42.518 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39429109419479040 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-16 21:48:42.518 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39429109419479040 [0;39m <==        Row: 2023-05-15, 502, 12, 36, 0
2023-05-16 21:48:42.518 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39429109419479040 [0;39m <==        Row: 2023-05-16, 546, 12, 44, 0
2023-05-16 21:48:42.518 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39429109419479040 [0;39m <==      Total: 2
2023-05-16 21:48:42.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429109419479040 [0;39m 返回结果: {"content":[{"date":1684080000000,"viewCount":502,"viewIncrease":36,"voteCount":12,"voteIncrease":0},{"date":1684166400000,"viewCount":546,"viewIncrease":44,"voteCount":12,"voteIncrease":0}],"success":true}
2023-05-16 21:48:42.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429109419479040 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-16 21:48:42.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429109423673344 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-16 21:48:42.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429109423673344 [0;39m ------------- 结束 耗时：24 ms -------------
2023-05-16 21:48:43.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429115614466048 [0;39m ------------- 开始 -------------
2023-05-16 21:48:43.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429115614466048 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-16 21:48:43.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429115614466048 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-16 21:48:43.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429115614466048 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:43.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429115614466048 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-16 21:48:44.023 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39429115614466048 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-16 21:48:44.023 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39429115614466048 [0;39m ==> Parameters: 201(Long)
2023-05-16 21:48:44.024 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39429115614466048 [0;39m <==    Columns: count(0)
2023-05-16 21:48:44.024 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39429115614466048 [0;39m <==        Row: 0
2023-05-16 21:48:44.024 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39429115614466048 [0;39m <==      Total: 1
2023-05-16 21:48:44.028 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39429115614466048 [0;39m 总行数：0
2023-05-16 21:48:44.028 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39429115614466048 [0;39m 总页数：0
2023-05-16 21:48:44.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429115614466048 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-16 21:48:44.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429115614466048 [0;39m ------------- 结束 耗时：53 ms -------------
2023-05-16 21:48:44.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429118156214272 [0;39m ------------- 开始 -------------
2023-05-16 21:48:44.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429118156214272 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-16 21:48:44.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429118156214272 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-16 21:48:44.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429118156214272 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:44.584 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429118156214272 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-16 21:48:44.590 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39429118156214272 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-16 21:48:44.590 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39429118156214272 [0;39m ==> Parameters: 202(Long)
2023-05-16 21:48:44.591 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39429118156214272 [0;39m <==    Columns: count(0)
2023-05-16 21:48:44.591 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39429118156214272 [0;39m <==        Row: 1
2023-05-16 21:48:44.592 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39429118156214272 [0;39m <==      Total: 1
2023-05-16 21:48:44.594 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39429118156214272 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-16 21:48:44.594 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39429118156214272 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-16 21:48:44.595 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39429118156214272 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-16 21:48:44.595 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39429118156214272 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 447, 13
2023-05-16 21:48:44.596 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39429118156214272 [0;39m <==      Total: 1
2023-05-16 21:48:44.596 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39429118156214272 [0;39m 总行数：1
2023-05-16 21:48:44.596 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39429118156214272 [0;39m 总页数：1
2023-05-16 21:48:44.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429118156214272 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":447,"voteCount":13}],"total":1},"success":true}
2023-05-16 21:48:44.606 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429118156214272 [0;39m ------------- 结束 耗时：23 ms -------------
2023-05-16 21:48:45.440 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429121750732801 [0;39m ------------- 开始 -------------
2023-05-16 21:48:45.440 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429121750732800 [0;39m ------------- 开始 -------------
2023-05-16 21:48:45.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429121750732800 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-16 21:48:45.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429121750732801 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/1 GET
2023-05-16 21:48:45.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429121750732800 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:48:45.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429121750732801 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:48:45.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429121750732801 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:45.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429121750732800 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:45.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429121750732801 [0;39m 请求参数: [1]
2023-05-16 21:48:45.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429121750732800 [0;39m 请求参数: [1]
2023-05-16 21:48:45.442 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429121750732801 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:48:45.443 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429121750732801 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:45.444 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429121750732801 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:48:45.442 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429121750732800 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:48:45.444 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429121750732801 [0;39m <==        Row: 1, 1, 1, null, null, good, 2023-05-13 03:33:45, null
2023-05-16 21:48:45.445 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429121750732800 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:45.445 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429121750732801 [0;39m <==        Row: 2, 1, 1, null, null, Springboot的自动化配置很清晰！, 2023-05-13 17:20:27, null
2023-05-16 21:48:45.445 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429121750732801 [0;39m <==        Row: 37, 2, 1, 2, 1, springmvc, 2023-05-14 21:06:13, null
2023-05-16 21:48:45.446 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429121750732801 [0;39m <==        Row: 38, 1, 1, 2, 1, kk, 2023-05-15 00:20:36, null
2023-05-16 21:48:45.446 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429121750732801 [0;39m <==        Row: 39, 1, 1, 37, 1, 11, 2023-05-15 00:20:36, null
2023-05-16 21:48:45.447 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429121750732801 [0;39m <==      Total: 5
2023-05-16 21:48:45.447 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:45.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429121750732800 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:48:45.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429121750732800 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 414, 8
2023-05-16 21:48:45.448 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:45.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429121750732800 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 10, 3
2023-05-16 21:48:45.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429121750732800 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 6, 1
2023-05-16 21:48:45.448 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:45.449 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:45.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429121750732800 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 5, 1
2023-05-16 21:48:45.449 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m <==      Total: 1
2023-05-16 21:48:45.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429121750732800 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 3, 0
2023-05-16 21:48:45.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429121750732800 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 3, 0
2023-05-16 21:48:45.449 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:45.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429121750732800 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 4, 1
2023-05-16 21:48:45.449 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:45.451 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429121750732800 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 5, 1
2023-05-16 21:48:45.451 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:45.451 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429121750732800 [0;39m <==      Total: 8
2023-05-16 21:48:45.451 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:45.452 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m <==      Total: 1
2023-05-16 21:48:45.452 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:45.452 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:48:45.453 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:45.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429121750732800 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":414,"voteCount":8},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":10,"voteCount":3},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":6,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":3,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":4,"voteCount":1},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":5,"voteCount":1}],"success":true}
2023-05-16 21:48:45.453 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:48:45.454 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m <==      Total: 1
2023-05-16 21:48:45.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429121750732800 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-16 21:48:45.454 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:45.455 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:45.455 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:45.456 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:45.456 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m <==      Total: 1
2023-05-16 21:48:45.456 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:45.458 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:45.459 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:45.459 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:45.460 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m <==      Total: 1
2023-05-16 21:48:45.460 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:45.461 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:45.461 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:45.462 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:45.463 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m <==      Total: 1
2023-05-16 21:48:45.463 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:45.464 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:45.465 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:45.465 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:45.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m <==      Total: 1
2023-05-16 21:48:45.466 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:45.466 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:45.467 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:45.467 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429121750732801 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:45.467 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429121750732801 [0;39m <==      Total: 1
2023-05-16 21:48:45.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429121750732801 [0;39m 返回结果: {"content":[{"content":"good","createTime":1683920025000,"ebookId":1,"id":1,"name":"test","replies":[],"userId":1},{"content":"Springboot的自动化配置很清晰！","createTime":1683969627000,"ebookId":1,"id":2,"name":"test","replies":[{"content":"springmvc","createTime":1684069573000,"ebookId":1,"id":37,"name":"demo","parentId":2,"replies":[{"content":"11","createTime":1684081236000,"ebookId":1,"id":39,"name":"test","parentId":37,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2},{"content":"kk","createTime":1684081236000,"ebookId":1,"id":38,"name":"test","parentId":2,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:48:45.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429121750732801 [0;39m ------------- 结束 耗时：28 ms -------------
2023-05-16 21:48:45.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429122270826496 [0;39m ------------- 开始 -------------
2023-05-16 21:48:45.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429122270826496 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-16 21:48:45.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429122270826496 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:48:45.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429122270826496 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:45.565 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429122270826496 [0;39m 请求参数: [1]
2023-05-16 21:48:45.566 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429122270826496 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:48:45.571 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429122270826496 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:45.573 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429122270826496 [0;39m <==    Columns: id, content
2023-05-16 21:48:45.573 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429122270826496 [0;39m <==        Row: 1, <<BLOB>>
2023-05-16 21:48:45.573 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429122270826496 [0;39m <==      Total: 1
2023-05-16 21:48:45.574 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429122270826496 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:48:45.574 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429122270826496 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:45.585 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429122270826496 [0;39m <==    Updates: 1
2023-05-16 21:48:45.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429122270826496 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-16 21:48:45.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429122270826496 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-16 21:48:46.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429126330912768 [0;39m ------------- 开始 -------------
2023-05-16 21:48:46.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429126330912768 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/1 GET
2023-05-16 21:48:46.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429126330912768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-16 21:48:46.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429126330912768 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:46.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429126330912768 [0;39m 请求参数: [1]
2023-05-16 21:48:46.535 INFO  com.jiawa.wiki.util.RedisUtil                     :28   [32m39429126330912768 [0;39m key已存在：DOC_VOTE_1_127.0.0.1
2023-05-16 21:48:46.535 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m39429126330912768 [0;39m 业务异常：您已点赞过
2023-05-16 21:48:46.536 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39429126330912768 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 您已点赞过]
2023-05-16 21:48:49.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429137370320896 [0;39m ------------- 开始 -------------
2023-05-16 21:48:49.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429137374515200 [0;39m ------------- 开始 -------------
2023-05-16 21:48:49.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429137374515200 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-16 21:48:49.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429137374515200 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-16 21:48:49.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429137374515200 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:49.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429137374515200 [0;39m 请求参数: []
2023-05-16 21:48:49.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429137370320896 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-16 21:48:49.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429137370320896 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-16 21:48:49.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429137370320896 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:49.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429137370320896 [0;39m 请求参数: []
2023-05-16 21:48:49.167 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39429137374515200 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-16 21:48:49.167 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39429137370320896 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-16 21:48:49.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429137378709504 [0;39m ------------- 开始 -------------
2023-05-16 21:48:49.167 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39429137374515200 [0;39m ==> Parameters: 
2023-05-16 21:48:49.168 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39429137370320896 [0;39m ==> Parameters: 
2023-05-16 21:48:49.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429137378709504 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-16 21:48:49.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429137378709504 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-16 21:48:49.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429137378709504 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:49.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429137378709504 [0;39m 请求参数: []
2023-05-16 21:48:49.169 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429137374515200 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-16 21:48:49.169 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429137374515200 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-16 21:48:49.169 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39429137370320896 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-16 21:48:49.169 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429137374515200 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-16 21:48:49.170 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429137374515200 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-16 21:48:49.170 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39429137370320896 [0;39m <==        Row: 2023-05-15, 502, 12, 36, 0
2023-05-16 21:48:49.171 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429137374515200 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-16 21:48:49.171 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429137374515200 [0;39m <==        Row: 2023-05-13, 146, 2
2023-05-16 21:48:49.171 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m39429137370320896 [0;39m <==        Row: 2023-05-16, 546, 12, 44, 0
2023-05-16 21:48:49.171 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429137374515200 [0;39m <==        Row: 2023-05-14, 252, 0
2023-05-16 21:48:49.172 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39429137378709504 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-16 21:48:49.172 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39429137378709504 [0;39m ==> Parameters: 
2023-05-16 21:48:49.173 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m39429137374515200 [0;39m <==        Row: 2023-05-15, 36, 0
2023-05-16 21:48:49.173 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m39429137374515200 [0;39m <==      Total: 7
2023-05-16 21:48:49.173 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m39429137370320896 [0;39m <==      Total: 2
2023-05-16 21:48:49.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429137370320896 [0;39m 返回结果: {"content":[{"date":1684080000000,"viewCount":502,"viewIncrease":36,"voteCount":12,"voteIncrease":0},{"date":1684166400000,"viewCount":546,"viewIncrease":44,"voteCount":12,"voteIncrease":0}],"success":true}
2023-05-16 21:48:49.173 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==    Columns: id, parent, name, sort
2023-05-16 21:48:49.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429137374515200 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3},{"date":1683907200000,"viewCount":0,"viewIncrease":146,"voteCount":0,"voteIncrease":2},{"date":1683993600000,"viewCount":0,"viewIncrease":252,"voteCount":0,"voteIncrease":0},{"date":1684080000000,"viewCount":0,"viewIncrease":36,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-16 21:48:49.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429137370320896 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-16 21:48:49.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429137374515200 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-16 21:48:49.173 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-16 21:48:49.174 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-16 21:48:49.174 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-16 21:48:49.174 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 200, 0, Java, 200
2023-05-16 21:48:49.175 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-16 21:48:49.175 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-16 21:48:49.175 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 300, 0, Python, 300
2023-05-16 21:48:49.175 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-16 21:48:49.176 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-16 21:48:49.176 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-16 21:48:49.176 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-16 21:48:49.176 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-16 21:48:49.177 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-16 21:48:49.177 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-16 21:48:49.177 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m39429137378709504 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-16 21:48:49.177 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m39429137378709504 [0;39m <==      Total: 15
2023-05-16 21:48:49.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429137378709504 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-16 21:48:49.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429137378709504 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-16 21:48:50.294 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429142109884416 [0;39m ------------- 开始 -------------
2023-05-16 21:48:50.295 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429142109884416 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-16 21:48:50.295 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429142109884416 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-16 21:48:50.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429142109884416 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:50.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429142109884416 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-16 21:48:50.298 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39429142109884416 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-16 21:48:50.299 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39429142109884416 [0;39m ==> Parameters: 101(Long)
2023-05-16 21:48:50.300 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39429142109884416 [0;39m <==    Columns: count(0)
2023-05-16 21:48:50.300 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m39429142109884416 [0;39m <==        Row: 1
2023-05-16 21:48:50.300 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m39429142109884416 [0;39m <==      Total: 1
2023-05-16 21:48:50.301 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39429142109884416 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-16 21:48:50.301 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39429142109884416 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-16 21:48:50.302 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39429142109884416 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-16 21:48:50.302 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m39429142109884416 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 101, 0
2023-05-16 21:48:50.302 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m39429142109884416 [0;39m <==      Total: 1
2023-05-16 21:48:50.303 INFO  com.jiawa.wiki.service.EbookService               :48   [32m39429142109884416 [0;39m 总行数：1
2023-05-16 21:48:50.303 INFO  com.jiawa.wiki.service.EbookService               :49   [32m39429142109884416 [0;39m 总页数：1
2023-05-16 21:48:50.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429142109884416 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":1,"id":2,"name":"Vue 入门教程","viewCount":101,"voteCount":0}],"total":1},"success":true}
2023-05-16 21:48:50.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429142109884416 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-16 21:48:50.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429144202842112 [0;39m ------------- 开始 -------------
2023-05-16 21:48:50.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429144202842112 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:48:50.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429144202842112 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:48:50.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429144202842112 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:50.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429144202842112 [0;39m 请求参数: [2]
2023-05-16 21:48:50.794 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429144202842112 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:48:50.795 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429144202842112 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:48:50.798 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429144202842112 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:48:50.798 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429144202842112 [0;39m <==        Row: 25, 1, 2, null, null, Vue简介, 2023-05-14 16:35:46, null
2023-05-16 21:48:50.799 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429144202842112 [0;39m <==        Row: 36, 2, 2, 25, 1, vue简介, 2023-05-14 21:02:45, null
2023-05-16 21:48:50.799 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429144202842112 [0;39m <==        Row: 40, 1, 2, 36, 1, 11, 2023-05-15 21:02:45, null
2023-05-16 21:48:50.800 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429144202842112 [0;39m <==      Total: 3
2023-05-16 21:48:50.800 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:50.800 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:50.801 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429144202842112 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:50.801 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429144202842112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:50.802 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m <==      Total: 1
2023-05-16 21:48:50.802 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:50.802 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:48:50.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429144202842112 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:50.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429144202842112 [0;39m <==        Row: 2, 1, demo, b9b237df8bd22c295180ea0109cb7e67
2023-05-16 21:48:50.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m <==      Total: 1
2023-05-16 21:48:50.804 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:50.804 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:50.804 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429144202842112 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:50.804 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429144202842112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:50.806 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m <==      Total: 1
2023-05-16 21:48:50.806 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:50.806 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:50.807 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429144202842112 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:50.807 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429144202842112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:50.807 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m <==      Total: 1
2023-05-16 21:48:50.808 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:48:50.808 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:48:50.809 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429144202842112 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:48:50.809 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429144202842112 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:48:50.809 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429144202842112 [0;39m <==      Total: 1
2023-05-16 21:48:50.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429144202842112 [0;39m 返回结果: {"content":[{"content":"Vue简介","createTime":1684053346000,"ebookId":2,"id":25,"name":"test","replies":[{"content":"vue简介","createTime":1684069365000,"ebookId":2,"id":36,"name":"demo","parentId":25,"replies":[{"content":"11","createTime":1684155765000,"ebookId":2,"id":40,"name":"test","parentId":36,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":2}],"userId":1}],"success":true}
2023-05-16 21:48:50.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429144202842112 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-16 21:48:50.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429144500637696 [0;39m ------------- 开始 -------------
2023-05-16 21:48:50.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429144500637696 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:48:50.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429144500637696 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:48:50.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429144500637696 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:50.865 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429144500637696 [0;39m 请求参数: [2]
2023-05-16 21:48:50.866 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429144500637696 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:48:50.866 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429144500637696 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:48:50.868 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429144500637696 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:48:50.868 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429144500637696 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 101, 0
2023-05-16 21:48:50.869 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429144500637696 [0;39m <==      Total: 1
2023-05-16 21:48:50.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429144500637696 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":101,"voteCount":0}],"success":true}
2023-05-16 21:48:50.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429144500637696 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 21:48:50.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429144597106688 [0;39m ------------- 开始 -------------
2023-05-16 21:48:50.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429144597106688 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:48:50.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429144597106688 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:48:50.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429144597106688 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:50.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429144597106688 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:48:50.890 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429144597106688 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:48:50.892 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429144597106688 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:48:50.894 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429144597106688 [0;39m <==    Columns: id, content
2023-05-16 21:48:50.894 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429144597106688 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:48:50.894 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429144597106688 [0;39m <==      Total: 1
2023-05-16 21:48:50.895 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429144597106688 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:48:50.895 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429144597106688 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:48:50.898 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429144597106688 [0;39m <==    Updates: 1
2023-05-16 21:48:50.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429144597106688 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:48:50.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429144597106688 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 21:48:51.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429148405534720 [0;39m ------------- 开始 -------------
2023-05-16 21:48:51.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429148405534720 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/38625501966897152 GET
2023-05-16 21:48:51.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429148405534720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-16 21:48:51.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429148405534720 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:48:51.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429148405534720 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:48:51.798 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m39429148405534720 [0;39m key不存在，放入：DOC_VOTE_38625501966897152_127.0.0.1，过期 5000 秒
2023-05-16 21:48:51.801 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39429148405534720 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-16 21:48:51.801 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39429148405534720 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:48:51.820 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m39429148405534720 [0;39m <==    Updates: 1
2023-05-16 21:48:51.821 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39429148405534720 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-16 21:48:51.822 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39429148405534720 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:48:51.823 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m39429148405534720 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:48:51.823 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m39429148405534720 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 102, 1
2023-05-16 21:48:51.824 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m39429148405534720 [0;39m <==      Total: 1
2023-05-16 21:48:51.835 ERROR org.apache.rocketmq.spring.core.RocketMQTemplate  :153  [32m39429148405534720 [0;39m syncSend failed. destination:VOTE_TOPIC, message:GenericMessage [payload=【初识Vue】被点赞！, headers={contentType=text/plain, id=36c99d15-50d4-31fd-25ab-a8d12b91fdd6, timestamp=1684244931824}] 
2023-05-16 21:48:51.836 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m39429148405534720 [0;39m 系统异常：
org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:154)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:123)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:111)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:459)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:50)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at com.jiawa.wiki.service.DocService.vote(DocService.java:167)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$7564c90e.vote(<generated>)
	at com.jiawa.wiki.controller.DocController.vote(DocController.java:96)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor143.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$d70baf2d.vote(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:656)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1279)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:301)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:148)
	... 87 common frames omitted
2023-05-16 21:48:51.837 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m39429148405534720 [0;39m Resolved [org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.]
2023-05-16 21:49:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39429182878519296 [0;39m 生成今日电子书快照开始
2023-05-16 21:49:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39429182878519296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:49:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39429182878519296 [0;39m ==> Parameters: 
2023-05-16 21:49:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39429182878519296 [0;39m <==    Updates: 0
2023-05-16 21:49:00.027 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39429182878519296 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-16 21:49:04.096 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39429126330912768 [0;39m 连接关闭，token：m9HggOUlW0，session id：2！当前连接数：0
2023-05-16 21:49:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39429203824873472 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429203824873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429203824873472 [0;39m ==> Parameters: 
2023-05-16 21:49:05.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429203824873472 [0;39m <==    Updates: 2
2023-05-16 21:49:05.028 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39429203824873472 [0;39m 更新电子书下的文档数据结束，耗时：20毫秒
2023-05-16 21:49:06.424 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39429137374515200 [0;39m 有新连接：token：e1k6YUoUBY，session id：3，当前连接数：1
2023-05-16 21:49:06.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429210758057984 [0;39m ------------- 开始 -------------
2023-05-16 21:49:06.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429210758057984 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:49:06.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429210758057984 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:49:06.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429210758057984 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:49:06.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429210758057984 [0;39m 请求参数: [2]
2023-05-16 21:49:06.668 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429210758057984 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:49:06.669 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429210758057984 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:49:06.670 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429210758057984 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:49:06.670 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429210758057984 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 102, 1
2023-05-16 21:49:06.671 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429210758057984 [0;39m <==      Total: 1
2023-05-16 21:49:06.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429210758057984 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":102,"voteCount":1}],"success":true}
2023-05-16 21:49:06.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429210758057984 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-16 21:49:06.675 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429210816778240 [0;39m ------------- 开始 -------------
2023-05-16 21:49:06.675 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429210816778240 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:49:06.675 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429210816778240 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:49:06.675 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429210816778240 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:49:06.676 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429210816778240 [0;39m 请求参数: [2]
2023-05-16 21:49:06.676 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429210816778240 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:49:06.676 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429210816778240 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:49:06.683 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429210816778240 [0;39m <==      Total: 0
2023-05-16 21:49:06.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429210816778240 [0;39m 返回结果: {"content":[],"success":true}
2023-05-16 21:49:06.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429210816778240 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-16 21:49:06.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429211139739648 [0;39m ------------- 开始 -------------
2023-05-16 21:49:06.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429211139739648 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:49:06.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429211139739648 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:49:06.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429211139739648 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:49:06.753 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429211139739648 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:49:06.753 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429211139739648 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:49:06.753 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429211139739648 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:49:06.754 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429211139739648 [0;39m <==    Columns: id, content
2023-05-16 21:49:06.754 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429211139739648 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:49:06.754 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429211139739648 [0;39m <==      Total: 1
2023-05-16 21:49:06.755 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429211139739648 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:49:06.755 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429211139739648 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:49:06.771 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429211139739648 [0;39m <==    Updates: 1
2023-05-16 21:49:06.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429211139739648 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:49:06.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429211139739648 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-16 21:49:08.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429218953728000 [0;39m ------------- 开始 -------------
2023-05-16 21:49:08.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429218953728000 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:49:08.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429218953728000 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:49:08.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429218953728000 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:49:08.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429218953728000 [0;39m 请求参数: [2]
2023-05-16 21:49:08.618 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429218953728000 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:49:08.618 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429218953728000 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:49:08.619 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429218953728000 [0;39m <==      Total: 0
2023-05-16 21:49:08.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429218953728000 [0;39m 返回结果: {"content":[],"success":true}
2023-05-16 21:49:08.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429218953728000 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-16 21:49:10.189 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39429144500637696 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-16 21:49:10.190 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39429144500637696 [0;39m ------------- LoginInterceptor 结束 耗时：1 ms -------------
2023-05-16 21:49:10.192 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39429144597106688 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-16 21:49:10.194 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39429144597106688 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-16 21:49:10.194 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39429144597106688 [0;39m 登录校验开始，token：39402521571233792
2023-05-16 21:49:10.198 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39429144597106688 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-16 21:49:10.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429225891106816 [0;39m ------------- 开始 -------------
2023-05-16 21:49:10.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429225891106816 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-16 21:49:10.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429225891106816 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-16 21:49:10.270 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429225891106816 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:49:10.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429225891106816 [0;39m 请求参数: [{"content":"w","ebookId":2,"userId":1}]
2023-05-16 21:49:10.274 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429225891106816 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:10.275 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429225891106816 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:10.275 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429225891106816 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:10.276 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429225891106816 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:10.276 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429225891106816 [0;39m <==      Total: 1
2023-05-16 21:49:10.276 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39429225891106816 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-16 21:49:10.277 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39429225891106816 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:49:10.278 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39429225891106816 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-16 21:49:10.278 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39429225891106816 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 102, 1
2023-05-16 21:49:10.278 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39429225891106816 [0;39m <==      Total: 1
2023-05-16 21:49:10.279 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39429225891106816 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-16 21:49:10.280 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39429225891106816 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, w(String), 2023-05-16 21:49:10.279(Timestamp), null
2023-05-16 21:49:10.288 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39429225891106816 [0;39m <==    Updates: 1
2023-05-16 21:49:10.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429225891106816 [0;39m 返回结果: {"success":true}
2023-05-16 21:49:10.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429225891106816 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-16 21:49:10.289 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39429225891106816 [0;39m ------------- LoginInterceptor 结束 耗时：95 ms -------------
2023-05-16 21:49:10.295 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429226000158720 [0;39m ------------- 开始 -------------
2023-05-16 21:49:10.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429226000158720 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:49:10.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429226000158720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:49:10.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429226000158720 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:49:10.296 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429226000158720 [0;39m 请求参数: [2]
2023-05-16 21:49:10.298 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429226000158720 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:49:10.298 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429226000158720 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:49:10.299 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429226000158720 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:49:10.299 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429226000158720 [0;39m <==        Row: 1, 1, 2, null, null, w, 2023-05-16 21:49:10, null
2023-05-16 21:49:10.299 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429226000158720 [0;39m <==      Total: 1
2023-05-16 21:49:10.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429226000158720 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:10.300 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429226000158720 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:10.301 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429226000158720 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:10.301 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429226000158720 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:10.301 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429226000158720 [0;39m <==      Total: 1
2023-05-16 21:49:10.302 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429226000158720 [0;39m 返回结果: {"content":[{"content":"w","createTime":1684244950000,"ebookId":2,"id":1,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-16 21:49:10.302 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429226000158720 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-16 21:49:14.388 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39429148405534720 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-16 21:49:14.389 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39429148405534720 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-16 21:49:14.389 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39429148405534720 [0;39m 登录校验开始，token：39402521571233792
2023-05-16 21:49:14.390 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39429148405534720 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-16 21:49:14.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429243251331072 [0;39m ------------- 开始 -------------
2023-05-16 21:49:14.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429243251331072 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-16 21:49:14.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429243251331072 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-16 21:49:14.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429243251331072 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:49:14.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429243251331072 [0;39m 请求参数: [{"content":"w","ebookId":2,"parentId":1,"replies":[],"replytouserId":1,"userId":1}]
2023-05-16 21:49:14.409 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243251331072 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:14.410 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243251331072 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:14.410 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429243251331072 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:14.410 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429243251331072 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:14.410 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243251331072 [0;39m <==      Total: 1
2023-05-16 21:49:14.411 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243251331072 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:14.411 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243251331072 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:14.411 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429243251331072 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:14.412 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429243251331072 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:14.412 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243251331072 [0;39m <==      Total: 1
2023-05-16 21:49:14.412 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39429243251331072 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-16 21:49:14.413 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39429243251331072 [0;39m ==> Parameters: 1(Long), 2(Long), 1(Long), 1(Long), w(String), 2023-05-16 21:49:14.412(Timestamp), null
2023-05-16 21:49:14.420 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39429243251331072 [0;39m <==    Updates: 1
2023-05-16 21:49:14.425 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39429243251331072 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-16 21:49:14.425 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39429243251331072 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:49:14.427 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39429243251331072 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:49:14.427 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39429243251331072 [0;39m <==        Row: 2, 1, 2, 1, 1, w, 2023-05-16 21:49:14, null
2023-05-16 21:49:14.428 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39429243251331072 [0;39m <==      Total: 1
2023-05-16 21:49:14.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429243251331072 [0;39m 返回结果: {"content":{"content":"w","createTime":1684244954000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-16 21:49:14.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429243251331072 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-16 21:49:14.429 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39429243251331072 [0;39m ------------- LoginInterceptor 结束 耗时：40 ms -------------
2023-05-16 21:49:14.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429243511377920 [0;39m ------------- 开始 -------------
2023-05-16 21:49:14.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429243511377920 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:49:14.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429243511377920 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:49:14.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429243511377920 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:49:14.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429243511377920 [0;39m 请求参数: [2]
2023-05-16 21:49:14.472 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429243511377920 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:49:14.472 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429243511377920 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:49:14.473 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429243511377920 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:49:14.473 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429243511377920 [0;39m <==        Row: 1, 1, 2, null, null, w, 2023-05-16 21:49:10, null
2023-05-16 21:49:14.474 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429243511377920 [0;39m <==        Row: 2, 1, 2, 1, 1, w, 2023-05-16 21:49:14, null
2023-05-16 21:49:14.474 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429243511377920 [0;39m <==      Total: 2
2023-05-16 21:49:14.474 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243511377920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:14.474 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243511377920 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:14.475 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429243511377920 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:14.475 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429243511377920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:14.475 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243511377920 [0;39m <==      Total: 1
2023-05-16 21:49:14.475 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243511377920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:14.476 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243511377920 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:14.476 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429243511377920 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:14.476 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429243511377920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:14.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243511377920 [0;39m <==      Total: 1
2023-05-16 21:49:14.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243511377920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:14.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243511377920 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:14.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429243511377920 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:14.479 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429243511377920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:14.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429243511377920 [0;39m <==      Total: 1
2023-05-16 21:49:14.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429243511377920 [0;39m 返回结果: {"content":[{"content":"w","createTime":1684244950000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"w","createTime":1684244954000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:49:14.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429243511377920 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-16 21:49:32.682 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39429137374515200 [0;39m 连接关闭，token：e1k6YUoUBY，session id：3！当前连接数：0
2023-05-16 21:49:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39429329633021952 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:49:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429329633021952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:49:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429329633021952 [0;39m ==> Parameters: 
2023-05-16 21:49:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429329633021952 [0;39m <==    Updates: 2
2023-05-16 21:49:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39429329633021952 [0;39m 更新电子书下的文档数据结束，耗时：16毫秒
2023-05-16 21:49:35.182 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39429210758057984 [0;39m 有新连接：token：VoA1gZABiM，session id：4，当前连接数：1
2023-05-16 21:49:35.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429331512070144 [0;39m ------------- 开始 -------------
2023-05-16 21:49:35.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429331512070144 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:49:35.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429331512070144 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:49:35.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429331512070144 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:49:35.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429331512070144 [0;39m 请求参数: [2]
2023-05-16 21:49:35.454 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429331512070144 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:49:35.455 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429331512070144 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:49:35.455 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429331512070144 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:49:35.457 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429331512070144 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 103, 1
2023-05-16 21:49:35.457 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429331512070144 [0;39m <==      Total: 1
2023-05-16 21:49:35.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429331512070144 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":103,"voteCount":1}],"success":true}
2023-05-16 21:49:35.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429331512070144 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-16 21:49:35.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429331541430272 [0;39m ------------- 开始 -------------
2023-05-16 21:49:35.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429331541430272 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:49:35.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429331541430272 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:49:35.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429331541430272 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:49:35.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429331541430272 [0;39m 请求参数: [2]
2023-05-16 21:49:35.459 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429331541430272 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:49:35.460 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429331541430272 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:49:35.461 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429331541430272 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:49:35.461 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429331541430272 [0;39m <==        Row: 1, 1, 2, null, null, w, 2023-05-16 21:49:10, null
2023-05-16 21:49:35.461 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429331541430272 [0;39m <==        Row: 2, 1, 2, 1, 1, w, 2023-05-16 21:49:14, null
2023-05-16 21:49:35.462 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429331541430272 [0;39m <==      Total: 2
2023-05-16 21:49:35.462 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429331541430272 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:35.463 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429331541430272 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:35.463 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429331541430272 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:35.464 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429331541430272 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:35.464 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429331541430272 [0;39m <==      Total: 1
2023-05-16 21:49:35.464 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429331541430272 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:35.465 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429331541430272 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:35.465 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429331541430272 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:35.465 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429331541430272 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:35.466 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429331541430272 [0;39m <==      Total: 1
2023-05-16 21:49:35.466 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429331541430272 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:35.466 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429331541430272 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:35.466 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429331541430272 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:35.467 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429331541430272 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:35.467 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429331541430272 [0;39m <==      Total: 1
2023-05-16 21:49:35.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429331541430272 [0;39m 返回结果: {"content":[{"content":"w","createTime":1684244950000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"w","createTime":1684244954000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:49:35.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429331541430272 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-16 21:49:35.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429332271239168 [0;39m ------------- 开始 -------------
2023-05-16 21:49:35.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429332271239168 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:49:35.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429332271239168 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:49:35.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429332271239168 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:49:35.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429332271239168 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:49:35.633 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429332271239168 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:49:35.633 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429332271239168 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:49:35.634 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429332271239168 [0;39m <==    Columns: id, content
2023-05-16 21:49:35.634 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429332271239168 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:49:35.635 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429332271239168 [0;39m <==      Total: 1
2023-05-16 21:49:35.635 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429332271239168 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:49:35.635 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429332271239168 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:49:35.694 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429332271239168 [0;39m <==    Updates: 1
2023-05-16 21:49:35.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429332271239168 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:49:35.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429332271239168 [0;39m ------------- 结束 耗时：63 ms -------------
2023-05-16 21:49:38.768 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429345424576512 [0;39m ------------- 开始 -------------
2023-05-16 21:49:38.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429345424576512 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:49:38.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429345424576512 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:49:38.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429345424576512 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:49:38.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429345424576512 [0;39m 请求参数: [2]
2023-05-16 21:49:38.770 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429345424576512 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:49:38.770 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429345424576512 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:49:38.771 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429345424576512 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:49:38.772 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429345424576512 [0;39m <==        Row: 1, 1, 2, null, null, w, 2023-05-16 21:49:10, null
2023-05-16 21:49:38.772 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429345424576512 [0;39m <==        Row: 2, 1, 2, 1, 1, w, 2023-05-16 21:49:14, null
2023-05-16 21:49:38.772 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429345424576512 [0;39m <==      Total: 2
2023-05-16 21:49:38.773 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429345424576512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:38.773 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429345424576512 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:38.774 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429345424576512 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:38.774 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429345424576512 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:38.774 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429345424576512 [0;39m <==      Total: 1
2023-05-16 21:49:38.774 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429345424576512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:38.774 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429345424576512 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:38.775 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429345424576512 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:38.775 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429345424576512 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:38.775 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429345424576512 [0;39m <==      Total: 1
2023-05-16 21:49:38.776 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429345424576512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:49:38.776 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429345424576512 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:49:38.776 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429345424576512 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:49:38.776 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429345424576512 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:49:38.776 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429345424576512 [0;39m <==      Total: 1
2023-05-16 21:49:38.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429345424576512 [0;39m 返回结果: {"content":[{"content":"w","createTime":1684244950000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"w","createTime":1684244954000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:49:38.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429345424576512 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-16 21:50:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39429434519982080 [0;39m 生成今日电子书快照开始
2023-05-16 21:50:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39429434519982080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:50:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39429434519982080 [0;39m ==> Parameters: 
2023-05-16 21:50:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39429434519982080 [0;39m <==    Updates: 0
2023-05-16 21:50:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39429434519982080 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-16 21:50:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39429455487307776 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:50:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429455487307776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:50:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429455487307776 [0;39m ==> Parameters: 
2023-05-16 21:50:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429455487307776 [0;39m <==    Updates: 2
2023-05-16 21:50:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39429455487307776 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-16 21:50:26.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429546872803328 [0;39m ------------- 开始 -------------
2023-05-16 21:50:26.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429546872803328 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:50:26.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429546872803328 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:50:26.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429546872803328 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:50:26.797 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429546872803328 [0;39m 请求参数: [2]
2023-05-16 21:50:26.798 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429546872803328 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:50:26.799 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429546872803328 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:50:26.799 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429546872803328 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:50:26.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429546872803328 [0;39m <==        Row: 1, 1, 2, null, null, w, 2023-05-16 21:49:10, null
2023-05-16 21:50:26.800 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429546872803328 [0;39m <==        Row: 2, 1, 2, 1, 1, w, 2023-05-16 21:49:14, null
2023-05-16 21:50:26.800 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429546872803328 [0;39m <==      Total: 2
2023-05-16 21:50:26.802 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429546872803328 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:26.802 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429546872803328 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:26.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429546872803328 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:26.803 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429546872803328 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:26.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429546872803328 [0;39m <==      Total: 1
2023-05-16 21:50:26.803 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429546872803328 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:26.804 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429546872803328 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:26.804 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429546872803328 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:26.804 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429546872803328 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:26.804 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429546872803328 [0;39m <==      Total: 1
2023-05-16 21:50:26.808 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429546872803328 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:26.808 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429546872803328 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:26.810 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429546872803328 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:26.811 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429546872803328 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:26.811 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429546872803328 [0;39m <==      Total: 1
2023-05-16 21:50:26.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429546872803328 [0;39m 返回结果: {"content":[{"content":"w","createTime":1684244950000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"w","createTime":1684244954000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:50:26.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429546872803328 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-16 21:50:32.393 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39429243251331072 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-16 21:50:32.395 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39429243251331072 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-16 21:50:32.395 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39429243251331072 [0;39m 登录校验开始，token：39402521571233792
2023-05-16 21:50:32.404 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39429243251331072 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-16 21:50:32.405 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429570394460160 [0;39m ------------- 开始 -------------
2023-05-16 21:50:32.405 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429570394460160 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-16 21:50:32.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429570394460160 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-16 21:50:32.408 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429570394460160 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:50:32.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429570394460160 [0;39m 请求参数: [{"content":"ww","ebookId":2,"userId":1}]
2023-05-16 21:50:32.409 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570394460160 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:32.410 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570394460160 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:32.411 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429570394460160 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:32.411 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429570394460160 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:32.411 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570394460160 [0;39m <==      Total: 1
2023-05-16 21:50:32.412 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39429570394460160 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-16 21:50:32.413 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39429570394460160 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:50:32.414 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39429570394460160 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-16 21:50:32.414 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m39429570394460160 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 1, 104, 1
2023-05-16 21:50:32.414 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m39429570394460160 [0;39m <==      Total: 1
2023-05-16 21:50:32.415 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39429570394460160 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time) values (?, ?, ?, ?, ?, ?, ?, ?)
2023-05-16 21:50:32.420 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39429570394460160 [0;39m ==> Parameters: null, 1(Long), 2(Long), null, null, ww(String), 2023-05-16 21:50:32.415(Timestamp), null
2023-05-16 21:50:32.426 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m39429570394460160 [0;39m <==    Updates: 1
2023-05-16 21:50:32.427 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429570394460160 [0;39m 返回结果: {"success":true}
2023-05-16 21:50:32.427 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429570394460160 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-16 21:50:32.428 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39429570394460160 [0;39m ------------- LoginInterceptor 结束 耗时：33 ms -------------
2023-05-16 21:50:32.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429570654507008 [0;39m ------------- 开始 -------------
2023-05-16 21:50:32.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429570654507008 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:50:32.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429570654507008 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:50:32.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429570654507008 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:50:32.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429570654507008 [0;39m 请求参数: [2]
2023-05-16 21:50:32.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429570654507008 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:50:32.468 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429570654507008 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:50:32.470 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429570654507008 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:50:32.470 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429570654507008 [0;39m <==        Row: 1, 1, 2, null, null, w, 2023-05-16 21:49:10, null
2023-05-16 21:50:32.471 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429570654507008 [0;39m <==        Row: 2, 1, 2, 1, 1, w, 2023-05-16 21:49:14, null
2023-05-16 21:50:32.471 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429570654507008 [0;39m <==        Row: 3, 1, 2, null, null, ww, 2023-05-16 21:50:32, null
2023-05-16 21:50:32.472 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429570654507008 [0;39m <==      Total: 3
2023-05-16 21:50:32.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570654507008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:32.472 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570654507008 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:32.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429570654507008 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:32.473 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429570654507008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:32.473 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570654507008 [0;39m <==      Total: 1
2023-05-16 21:50:32.474 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570654507008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:32.474 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570654507008 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:32.475 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429570654507008 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:32.475 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429570654507008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:32.475 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570654507008 [0;39m <==      Total: 1
2023-05-16 21:50:32.476 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570654507008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:32.476 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570654507008 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:32.477 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429570654507008 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:32.477 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429570654507008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:32.477 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570654507008 [0;39m <==      Total: 1
2023-05-16 21:50:32.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570654507008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:32.478 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570654507008 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:32.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429570654507008 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:32.478 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429570654507008 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:32.479 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429570654507008 [0;39m <==      Total: 1
2023-05-16 21:50:32.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429570654507008 [0;39m 返回结果: {"content":[{"content":"w","createTime":1684244950000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"w","createTime":1684244954000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"ww","createTime":1684245032000,"ebookId":2,"id":3,"name":"test","replies":[],"userId":1}],"success":true}
2023-05-16 21:50:32.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429570654507008 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 21:50:34.540 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m39429137374515200 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-16 21:50:34.541 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m39429137374515200 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/handleReplyComment
2023-05-16 21:50:34.541 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m39429137374515200 [0;39m 登录校验开始，token：39402521571233792
2023-05-16 21:50:34.545 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m39429137374515200 [0;39m 已登录：{"id":1,"loginName":"test","name":"test","token":"39402521571233792"}
2023-05-16 21:50:34.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429579378659328 [0;39m ------------- 开始 -------------
2023-05-16 21:50:34.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429579378659328 [0;39m 请求地址: http://127.0.0.1:8880/doc/handleReplyComment POST
2023-05-16 21:50:34.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429579378659328 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.handleReplyComment
2023-05-16 21:50:34.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429579378659328 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:50:34.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429579378659328 [0;39m 请求参数: [{"content":"e","ebookId":2,"parentId":3,"replies":[],"replytouserId":1,"userId":1}]
2023-05-16 21:50:34.559 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579378659328 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:34.560 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579378659328 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:34.561 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579378659328 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:34.561 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579378659328 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:34.561 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579378659328 [0;39m <==      Total: 1
2023-05-16 21:50:34.562 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579378659328 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:34.562 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579378659328 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:34.563 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579378659328 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:34.563 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579378659328 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:34.563 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579378659328 [0;39m <==      Total: 1
2023-05-16 21:50:34.563 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39429579378659328 [0;39m ==>  Preparing: insert into comment(user_id,ebook_id,parent_id,replyToUser_id,content,create_time,update_time) VALUES (?, ?, ?, ?, ?, ?, ?)
2023-05-16 21:50:34.565 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39429579378659328 [0;39m ==> Parameters: 1(Long), 2(Long), 3(Long), 1(Long), e(String), 2023-05-16 21:50:34.563(Timestamp), null
2023-05-16 21:50:34.588 DEBUG c.j.wiki.mapper.CommentMapper.insertCommentResp   :137  [32m39429579378659328 [0;39m <==    Updates: 1
2023-05-16 21:50:34.589 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39429579378659328 [0;39m ==>  Preparing: select * from comment where id=?
2023-05-16 21:50:34.589 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39429579378659328 [0;39m ==> Parameters: 4(Long)
2023-05-16 21:50:34.590 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39429579378659328 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:50:34.591 TRACE c.j.w.mapper.CommentMapper.selectByCommentRespId  :143  [32m39429579378659328 [0;39m <==        Row: 4, 1, 2, 3, 1, e, 2023-05-16 21:50:35, null
2023-05-16 21:50:34.591 DEBUG c.j.w.mapper.CommentMapper.selectByCommentRespId  :137  [32m39429579378659328 [0;39m <==      Total: 1
2023-05-16 21:50:34.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429579378659328 [0;39m 返回结果: {"content":{"content":"e","createTime":1684245035000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[],"replyname":"test","replytouserId":1,"userId":1},"success":true}
2023-05-16 21:50:34.592 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429579378659328 [0;39m ------------- 结束 耗时：45 ms -------------
2023-05-16 21:50:34.594 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m39429579378659328 [0;39m ------------- LoginInterceptor 结束 耗时：53 ms -------------
2023-05-16 21:50:34.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429579999416320 [0;39m ------------- 开始 -------------
2023-05-16 21:50:34.695 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429579999416320 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:50:34.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429579999416320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:50:34.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429579999416320 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:50:34.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429579999416320 [0;39m 请求参数: [2]
2023-05-16 21:50:34.700 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429579999416320 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:50:34.701 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429579999416320 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:50:34.702 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429579999416320 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:50:34.703 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429579999416320 [0;39m <==        Row: 1, 1, 2, null, null, w, 2023-05-16 21:49:10, null
2023-05-16 21:50:34.704 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429579999416320 [0;39m <==        Row: 2, 1, 2, 1, 1, w, 2023-05-16 21:49:14, null
2023-05-16 21:50:34.704 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429579999416320 [0;39m <==        Row: 3, 1, 2, null, null, ww, 2023-05-16 21:50:32, null
2023-05-16 21:50:34.705 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429579999416320 [0;39m <==        Row: 4, 1, 2, 3, 1, e, 2023-05-16 21:50:35, null
2023-05-16 21:50:34.705 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429579999416320 [0;39m <==      Total: 4
2023-05-16 21:50:34.706 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:34.706 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:34.707 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579999416320 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:34.707 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579999416320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:34.707 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m <==      Total: 1
2023-05-16 21:50:34.709 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:34.709 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:34.709 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579999416320 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:34.709 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579999416320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:34.710 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m <==      Total: 1
2023-05-16 21:50:34.710 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:34.711 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:34.712 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579999416320 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:34.712 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579999416320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:34.713 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m <==      Total: 1
2023-05-16 21:50:34.713 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:34.714 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:34.714 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579999416320 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:34.714 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579999416320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:34.715 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m <==      Total: 1
2023-05-16 21:50:34.715 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:34.715 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:34.716 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579999416320 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:34.716 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579999416320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:34.716 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m <==      Total: 1
2023-05-16 21:50:34.717 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:50:34.717 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:50:34.718 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579999416320 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:50:34.718 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429579999416320 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:50:34.719 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429579999416320 [0;39m <==      Total: 1
2023-05-16 21:50:34.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429579999416320 [0;39m 返回结果: {"content":[{"content":"w","createTime":1684244950000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"w","createTime":1684244954000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"ww","createTime":1684245032000,"ebookId":2,"id":3,"name":"test","replies":[{"content":"e","createTime":1684245035000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:50:34.721 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429579999416320 [0;39m ------------- 结束 耗时：26 ms -------------
2023-05-16 21:50:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39429581299650560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:50:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429581299650560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:50:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429581299650560 [0;39m ==> Parameters: 
2023-05-16 21:50:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429581299650560 [0;39m <==    Updates: 2
2023-05-16 21:50:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39429581299650560 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-16 21:51:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39429686199193600 [0;39m 生成今日电子书快照开始
2023-05-16 21:51:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39429686199193600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:51:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39429686199193600 [0;39m ==> Parameters: 
2023-05-16 21:51:00.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39429686199193600 [0;39m <==    Updates: 0
2023-05-16 21:51:00.034 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39429686199193600 [0;39m 生成今日电子书快照结束，耗时：16毫秒
2023-05-16 21:51:04.211 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m39429331541430272 [0;39m 连接关闭，token：VoA1gZABiM，session id：4！当前连接数：0
2023-05-16 21:51:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39429707124576256 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:51:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429707124576256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:51:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429707124576256 [0;39m ==> Parameters: 
2023-05-16 21:51:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429707124576256 [0;39m <==    Updates: 2
2023-05-16 21:51:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39429707124576256 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:51:06.979 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m39429332271239168 [0;39m 有新连接：token：WEaIbVUtOj，session id：5，当前连接数：1
2023-05-16 21:51:07.234 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429716477874176 [0;39m ------------- 开始 -------------
2023-05-16 21:51:07.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429716477874176 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-16 21:51:07.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429716477874176 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-16 21:51:07.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429716477874176 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:51:07.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429716477874176 [0;39m 请求参数: [2]
2023-05-16 21:51:07.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429716486262784 [0;39m ------------- 开始 -------------
2023-05-16 21:51:07.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429716486262784 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:51:07.237 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429716486262784 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:51:07.237 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429716477874176 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-16 21:51:07.237 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429716486262784 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:51:07.237 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429716486262784 [0;39m 请求参数: [2]
2023-05-16 21:51:07.237 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429716477874176 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:51:07.237 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429716486262784 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:51:07.238 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429716486262784 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:51:07.238 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429716477874176 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-16 21:51:07.238 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m39429716477874176 [0;39m <==        Row: 38625501966897152, 2, 0, 初识Vue, 1, 104, 1
2023-05-16 21:51:07.238 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429716486262784 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:51:07.239 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m39429716477874176 [0;39m <==      Total: 1
2023-05-16 21:51:07.239 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429716486262784 [0;39m <==        Row: 1, 1, 2, null, null, w, 2023-05-16 21:49:10, null
2023-05-16 21:51:07.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429716477874176 [0;39m 返回结果: {"content":[{"ebookId":2,"id":38625501966897152,"name":"初识Vue","parent":0,"sort":1,"viewCount":104,"voteCount":1}],"success":true}
2023-05-16 21:51:07.239 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429716486262784 [0;39m <==        Row: 2, 1, 2, 1, 1, w, 2023-05-16 21:49:14, null
2023-05-16 21:51:07.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429716477874176 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-16 21:51:07.239 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429716486262784 [0;39m <==        Row: 3, 1, 2, null, null, ww, 2023-05-16 21:50:32, null
2023-05-16 21:51:07.240 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429716486262784 [0;39m <==        Row: 4, 1, 2, 3, 1, e, 2023-05-16 21:50:35, null
2023-05-16 21:51:07.240 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429716486262784 [0;39m <==        Row: 5, 1, 2, 4, 1, 2, 2023-05-16 21:50:35, null
2023-05-16 21:51:07.240 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429716486262784 [0;39m <==      Total: 5
2023-05-16 21:51:07.241 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:07.241 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:07.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:07.242 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:07.242 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m <==      Total: 1
2023-05-16 21:51:07.243 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:07.244 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:07.245 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:07.245 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:07.245 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m <==      Total: 1
2023-05-16 21:51:07.246 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:07.246 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:07.247 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:07.248 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:07.248 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m <==      Total: 1
2023-05-16 21:51:07.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:07.249 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:07.249 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:07.250 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:07.250 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m <==      Total: 1
2023-05-16 21:51:07.250 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:07.251 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:07.251 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:07.252 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:07.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m <==      Total: 1
2023-05-16 21:51:07.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:07.252 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:07.254 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:07.254 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:07.254 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m <==      Total: 1
2023-05-16 21:51:07.255 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:07.255 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:07.256 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:07.256 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:07.258 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m <==      Total: 1
2023-05-16 21:51:07.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:07.259 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:07.260 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:07.260 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429716486262784 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:07.261 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429716486262784 [0;39m <==      Total: 1
2023-05-16 21:51:07.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429716486262784 [0;39m 返回结果: {"content":[{"content":"w","createTime":1684244950000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"w","createTime":1684244954000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"ww","createTime":1684245032000,"ebookId":2,"id":3,"name":"test","replies":[{"content":"e","createTime":1684245035000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"2","createTime":1684245035000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:51:07.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429716486262784 [0;39m ------------- 结束 耗时：25 ms -------------
2023-05-16 21:51:07.356 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429716989579264 [0;39m ------------- 开始 -------------
2023-05-16 21:51:07.356 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429716989579264 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/38625501966897152 GET
2023-05-16 21:51:07.356 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429716989579264 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-16 21:51:07.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429716989579264 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:51:07.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429716989579264 [0;39m 请求参数: [38625501966897152]
2023-05-16 21:51:07.357 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429716989579264 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-16 21:51:07.358 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429716989579264 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:51:07.359 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429716989579264 [0;39m <==    Columns: id, content
2023-05-16 21:51:07.359 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m39429716989579264 [0;39m <==        Row: 38625501966897152, <<BLOB>>
2023-05-16 21:51:07.360 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m39429716989579264 [0;39m <==      Total: 1
2023-05-16 21:51:07.360 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429716989579264 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-16 21:51:07.360 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429716989579264 [0;39m ==> Parameters: 38625501966897152(Long)
2023-05-16 21:51:07.367 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m39429716989579264 [0;39m <==    Updates: 1
2023-05-16 21:51:07.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429716989579264 [0;39m 返回结果: {"content":"<p>如果说是JQuery是手工作坊，那么Vue.js就像是一座工厂，虽然Vue.js做的任何事情JQuery都可以做，但无论是代码量还是流程规范性都是前者较优。</p><p>Vue.js的<a href=\"https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F\" target=\"_blank\">官方中文教程</a>其实也是一个不错的教程，不过相比于一次性把所有概念掌握，我更倾向于先会用，之后再在实际应用中把未涉及到的知识点逐步补全。</p><p>就像开车，不是非要知道发动机的工作原理才能上路的，甚至你可能一辈子也不用知道。</p><p>好了，开始吧</p><p><br></p><p>\n\n\n\n\n\n\n\n\n<br><br>作者：景行1023<br>链接：https://www.jianshu.com/p/5d0d913d2453<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>","success":true}
2023-05-16 21:51:07.368 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429716989579264 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-16 21:51:08.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39429722710609920 [0;39m ------------- 开始 -------------
2023-05-16 21:51:08.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39429722710609920 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:51:08.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39429722710609920 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:51:08.721 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39429722710609920 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:51:08.721 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39429722710609920 [0;39m 请求参数: [2]
2023-05-16 21:51:08.721 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429722710609920 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:51:08.722 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429722710609920 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:51:08.722 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429722710609920 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:51:08.723 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429722710609920 [0;39m <==        Row: 1, 1, 2, null, null, w, 2023-05-16 21:49:10, null
2023-05-16 21:51:08.723 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429722710609920 [0;39m <==        Row: 2, 1, 2, 1, 1, w, 2023-05-16 21:49:14, null
2023-05-16 21:51:08.723 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429722710609920 [0;39m <==        Row: 3, 1, 2, null, null, ww, 2023-05-16 21:50:32, null
2023-05-16 21:51:08.724 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429722710609920 [0;39m <==        Row: 4, 1, 2, 3, 1, e, 2023-05-16 21:50:35, null
2023-05-16 21:51:08.724 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39429722710609920 [0;39m <==        Row: 5, 1, 2, 4, 1, 2, 2023-05-16 21:50:35, null
2023-05-16 21:51:08.724 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39429722710609920 [0;39m <==      Total: 5
2023-05-16 21:51:08.724 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:08.724 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:08.726 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:08.726 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:08.726 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m <==      Total: 1
2023-05-16 21:51:08.727 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:08.727 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:08.728 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:08.728 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:08.728 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m <==      Total: 1
2023-05-16 21:51:08.728 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:08.729 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:08.729 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:08.729 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:08.730 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m <==      Total: 1
2023-05-16 21:51:08.730 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:08.730 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:08.731 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:08.731 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:08.731 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m <==      Total: 1
2023-05-16 21:51:08.731 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:08.732 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:08.732 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:08.732 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:08.733 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m <==      Total: 1
2023-05-16 21:51:08.733 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:08.733 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:08.734 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:08.734 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:08.734 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m <==      Total: 1
2023-05-16 21:51:08.734 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:08.735 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:08.735 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:08.735 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:08.735 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m <==      Total: 1
2023-05-16 21:51:08.737 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:51:08.737 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:51:08.739 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:51:08.740 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39429722710609920 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:51:08.740 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39429722710609920 [0;39m <==      Total: 1
2023-05-16 21:51:08.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39429722710609920 [0;39m 返回结果: {"content":[{"content":"w","createTime":1684244950000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"w","createTime":1684244954000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"ww","createTime":1684245032000,"ebookId":2,"id":3,"name":"test","replies":[{"content":"e","createTime":1684245035000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"2","createTime":1684245035000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:51:08.741 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39429722710609920 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-16 21:51:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39429832957890560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:51:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429832957890560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:51:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429832957890560 [0;39m ==> Parameters: 
2023-05-16 21:51:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429832957890560 [0;39m <==    Updates: 2
2023-05-16 21:51:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39429832957890560 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:52:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39429937840656384 [0;39m 生成今日电子书快照开始
2023-05-16 21:52:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39429937840656384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:52:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39429937840656384 [0;39m ==> Parameters: 
2023-05-16 21:52:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39429937840656384 [0;39m <==    Updates: 0
2023-05-16 21:52:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39429937840656384 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-16 21:52:05.027 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39429958875090944 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:52:05.028 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429958875090944 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:52:05.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429958875090944 [0;39m ==> Parameters: 
2023-05-16 21:52:05.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39429958875090944 [0;39m <==    Updates: 2
2023-05-16 21:52:05.031 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39429958875090944 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:52:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39430084616130560 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:52:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430084616130560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:52:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430084616130560 [0;39m ==> Parameters: 
2023-05-16 21:52:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430084616130560 [0;39m <==    Updates: 2
2023-05-16 21:52:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39430084616130560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:53:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39430189473730560 [0;39m 生成今日电子书快照开始
2023-05-16 21:53:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39430189473730560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:53:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39430189473730560 [0;39m ==> Parameters: 
2023-05-16 21:53:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39430189473730560 [0;39m <==    Updates: 0
2023-05-16 21:53:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39430189473730560 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 21:53:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39430210470416384 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:53:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430210470416384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:53:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430210470416384 [0;39m ==> Parameters: 
2023-05-16 21:53:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430210470416384 [0;39m <==    Updates: 2
2023-05-16 21:53:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39430210470416384 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:53:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39430336286953472 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:53:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430336286953472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:53:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430336286953472 [0;39m ==> Parameters: 
2023-05-16 21:53:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430336286953472 [0;39m <==    Updates: 2
2023-05-16 21:53:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39430336286953472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-16 21:54:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39430441119387648 [0;39m 生成今日电子书快照开始
2023-05-16 21:54:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39430441119387648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:54:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39430441119387648 [0;39m ==> Parameters: 
2023-05-16 21:54:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39430441119387648 [0;39m <==    Updates: 0
2023-05-16 21:54:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39430441119387648 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-16 21:54:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39430462137044992 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:54:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430462137044992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:54:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430462137044992 [0;39m ==> Parameters: 
2023-05-16 21:54:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430462137044992 [0;39m <==    Updates: 2
2023-05-16 21:54:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39430462137044992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:54:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39430587949387776 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:54:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430587949387776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:54:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430587949387776 [0;39m ==> Parameters: 
2023-05-16 21:54:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430587949387776 [0;39m <==    Updates: 2
2023-05-16 21:54:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39430587949387776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-16 21:54:41.139 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m39430613660471296 [0;39m ------------- 开始 -------------
2023-05-16 21:54:41.139 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m39430613660471296 [0;39m 请求地址: http://127.0.0.1:8880/doc/comments/2 GET
2023-05-16 21:54:41.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m39430613660471296 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.CommentResp
2023-05-16 21:54:41.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m39430613660471296 [0;39m 远程地址: 127.0.0.1
2023-05-16 21:54:41.140 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m39430613660471296 [0;39m 请求参数: [2]
2023-05-16 21:54:41.141 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39430613660471296 [0;39m ==>  Preparing: select * from comment where ebook_id = ?
2023-05-16 21:54:41.141 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39430613660471296 [0;39m ==> Parameters: 2(Long)
2023-05-16 21:54:41.142 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39430613660471296 [0;39m <==    Columns: id, user_id, ebook_id, parent_id, replyToUser_id, content, create_time, update_time
2023-05-16 21:54:41.143 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39430613660471296 [0;39m <==        Row: 1, 1, 2, null, null, w, 2023-05-16 21:49:10, null
2023-05-16 21:54:41.143 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39430613660471296 [0;39m <==        Row: 2, 1, 2, 1, 1, w, 2023-05-16 21:49:14, null
2023-05-16 21:54:41.144 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39430613660471296 [0;39m <==        Row: 3, 1, 2, null, null, ww, 2023-05-16 21:50:32, null
2023-05-16 21:54:41.144 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39430613660471296 [0;39m <==        Row: 4, 1, 2, 3, 1, e, 2023-05-16 21:50:35, null
2023-05-16 21:54:41.144 TRACE c.j.wiki.mapper.CommentMapper.selectListByEbookId :143  [32m39430613660471296 [0;39m <==        Row: 5, 1, 2, 4, 1, 2, 2023-05-16 21:50:35, null
2023-05-16 21:54:41.145 DEBUG c.j.wiki.mapper.CommentMapper.selectListByEbookId :137  [32m39430613660471296 [0;39m <==      Total: 5
2023-05-16 21:54:41.145 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:54:41.146 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:54:41.146 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:54:41.148 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:54:41.148 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m <==      Total: 1
2023-05-16 21:54:41.148 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:54:41.149 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:54:41.149 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:54:41.150 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:54:41.150 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m <==      Total: 1
2023-05-16 21:54:41.150 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:54:41.151 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:54:41.151 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:54:41.151 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:54:41.157 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m <==      Total: 1
2023-05-16 21:54:41.157 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:54:41.159 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:54:41.160 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:54:41.160 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:54:41.160 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m <==      Total: 1
2023-05-16 21:54:41.160 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:54:41.161 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:54:41.161 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:54:41.161 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:54:41.162 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m <==      Total: 1
2023-05-16 21:54:41.162 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:54:41.163 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:54:41.163 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:54:41.164 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:54:41.164 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m <==      Total: 1
2023-05-16 21:54:41.164 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:54:41.164 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:54:41.165 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:54:41.165 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:54:41.165 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m <==      Total: 1
2023-05-16 21:54:41.166 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-16 21:54:41.166 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m ==> Parameters: 1(Long)
2023-05-16 21:54:41.166 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==    Columns: id, login_name, name, password
2023-05-16 21:54:41.167 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m39430613660471296 [0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2023-05-16 21:54:41.167 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m39430613660471296 [0;39m <==      Total: 1
2023-05-16 21:54:41.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m39430613660471296 [0;39m 返回结果: {"content":[{"content":"w","createTime":1684244950000,"ebookId":2,"id":1,"name":"test","replies":[{"content":"w","createTime":1684244954000,"ebookId":2,"id":2,"name":"test","parentId":1,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"userId":1},{"content":"ww","createTime":1684245032000,"ebookId":2,"id":3,"name":"test","replies":[{"content":"e","createTime":1684245035000,"ebookId":2,"id":4,"name":"test","parentId":3,"replies":[{"content":"2","createTime":1684245035000,"ebookId":2,"id":5,"name":"test","parentId":4,"replies":[],"replyname":"test","replytouserId":1,"userId":1}],"replyname":"test","replytouserId":1,"userId":1}],"userId":1}],"success":true}
2023-05-16 21:54:41.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m39430613660471296 [0;39m ------------- 结束 耗时：29 ms -------------
2023-05-16 21:55:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m39430692832153600 [0;39m 生成今日电子书快照开始
2023-05-16 21:55:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39430692832153600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-16 21:55:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39430692832153600 [0;39m ==> Parameters: 
2023-05-16 21:55:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m39430692832153600 [0;39m <==    Updates: 0
2023-05-16 21:55:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m39430692832153600 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-16 21:55:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m39430713765924864 [0;39m 更新电子书下的文档数据开始
2023-05-16 21:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430713765924864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-16 21:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430713765924864 [0;39m ==> Parameters: 
2023-05-16 21:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m39430713765924864 [0;39m <==    Updates: 2
2023-05-16 21:55:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m39430713765924864 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
