2023-05-13 00:00:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38012598607810560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:00:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012598607810560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:00:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012598607810560 [0;39m ==> Parameters: 
2023-05-13 00:00:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012598607810560 [0;39m <==    Updates: 5
2023-05-13 00:00:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38012598607810560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 00:00:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38012619579330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:00:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012619579330560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:00:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012619579330560 [0;39m ==> Parameters: 
2023-05-13 00:00:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012619579330560 [0;39m <==    Updates: 1
2023-05-13 00:00:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38012619579330560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:00:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38012745442004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012745442004992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012745442004992 [0;39m ==> Parameters: 
2023-05-13 00:00:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012745442004992 [0;39m <==    Updates: 1
2023-05-13 00:00:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38012745442004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:01:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38012850253467648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:01:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012850253467648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:01:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012850253467648 [0;39m ==> Parameters: 
2023-05-13 00:01:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012850253467648 [0;39m <==    Updates: 0
2023-05-13 00:01:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38012850253467648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:01:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38012871224987648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:01:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012871224987648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:01:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012871224987648 [0;39m ==> Parameters: 
2023-05-13 00:01:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012871224987648 [0;39m <==    Updates: 1
2023-05-13 00:01:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38012871224987648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:01:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38012997091856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:01:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012997091856384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:01:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012997091856384 [0;39m ==> Parameters: 
2023-05-13 00:01:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012997091856384 [0;39m <==    Updates: 1
2023-05-13 00:01:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38012997091856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:02:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38013101932679168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013101932679168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013101932679168 [0;39m ==> Parameters: 
2023-05-13 00:02:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013101932679168 [0;39m <==    Updates: 0
2023-05-13 00:02:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38013101932679168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:02:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013122904199168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:02:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013122904199168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:02:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013122904199168 [0;39m ==> Parameters: 
2023-05-13 00:02:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013122904199168 [0;39m <==    Updates: 1
2023-05-13 00:02:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013122904199168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:02:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013248737513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:02:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013248737513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:02:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013248737513472 [0;39m ==> Parameters: 
2023-05-13 00:02:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013248737513472 [0;39m <==    Updates: 1
2023-05-13 00:02:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013248737513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 00:03:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38013353574141952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:03:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013353574141952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:03:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013353574141952 [0;39m ==> Parameters: 
2023-05-13 00:03:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013353574141952 [0;39m <==    Updates: 0
2023-05-13 00:03:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38013353574141952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 00:03:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013374566633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013374566633472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013374566633472 [0;39m ==> Parameters: 
2023-05-13 00:03:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013374566633472 [0;39m <==    Updates: 1
2023-05-13 00:03:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013374566633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 00:03:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013500374781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013500374781952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013500374781952 [0;39m ==> Parameters: 
2023-05-13 00:03:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013500374781952 [0;39m <==    Updates: 1
2023-05-13 00:03:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013500374781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:04:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38013605278519296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:04:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013605278519296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:04:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013605278519296 [0;39m ==> Parameters: 
2023-05-13 00:04:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013605278519296 [0;39m <==    Updates: 0
2023-05-13 00:04:00.026 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38013605278519296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 00:04:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013626203901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013626203901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013626203901952 [0;39m ==> Parameters: 
2023-05-13 00:04:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013626203901952 [0;39m <==    Updates: 1
2023-05-13 00:04:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013626203901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:04:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013752028827648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:04:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013752028827648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:04:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013752028827648 [0;39m ==> Parameters: 
2023-05-13 00:04:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013752028827648 [0;39m <==    Updates: 1
2023-05-13 00:04:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013752028827648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:05:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38013856911593472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:05:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013856911593472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:05:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013856911593472 [0;39m ==> Parameters: 
2023-05-13 00:05:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38013856911593472 [0;39m <==    Updates: 0
2023-05-13 00:05:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38013856911593472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:05:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38013877878919168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:05:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013877878919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013877878919168 [0;39m ==> Parameters: 
2023-05-13 00:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38013877878919168 [0;39m <==    Updates: 1
2023-05-13 00:05:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38013877878919168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:05:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014003712233472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:05:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014003712233472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:05:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014003712233472 [0;39m ==> Parameters: 
2023-05-13 00:05:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014003712233472 [0;39m <==    Updates: 1
2023-05-13 00:05:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014003712233472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:06:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38014108599193600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:06:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014108599193600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:06:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014108599193600 [0;39m ==> Parameters: 
2023-05-13 00:06:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014108599193600 [0;39m <==    Updates: 0
2023-05-13 00:06:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38014108599193600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:06:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014129516187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:06:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014129516187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:06:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014129516187648 [0;39m ==> Parameters: 
2023-05-13 00:06:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014129516187648 [0;39m <==    Updates: 1
2023-05-13 00:06:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014129516187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:06:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014255391444992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:06:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014255391444992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:06:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014255391444992 [0;39m ==> Parameters: 
2023-05-13 00:06:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014255391444992 [0;39m <==    Updates: 1
2023-05-13 00:06:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014255391444992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:07:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38014360215490560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:07:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014360215490560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:07:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014360215490560 [0;39m ==> Parameters: 
2023-05-13 00:07:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014360215490560 [0;39m <==    Updates: 0
2023-05-13 00:07:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38014360215490560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:07:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014381182816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:07:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014381182816256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:07:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014381182816256 [0;39m ==> Parameters: 
2023-05-13 00:07:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014381182816256 [0;39m <==    Updates: 1
2023-05-13 00:07:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014381182816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:07:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014507062267904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:07:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014507062267904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:07:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014507062267904 [0;39m ==> Parameters: 
2023-05-13 00:07:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014507062267904 [0;39m <==    Updates: 1
2023-05-13 00:07:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014507062267904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:08:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38014611861147648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:08:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014611861147648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:08:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014611861147648 [0;39m ==> Parameters: 
2023-05-13 00:08:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014611861147648 [0;39m <==    Updates: 0
2023-05-13 00:08:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38014611861147648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:08:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014632866222080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:08:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014632866222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:08:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014632866222080 [0;39m ==> Parameters: 
2023-05-13 00:08:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014632866222080 [0;39m <==    Updates: 1
2023-05-13 00:08:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014632866222080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:08:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014758695342080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:08:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014758695342080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:08:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014758695342080 [0;39m ==> Parameters: 
2023-05-13 00:08:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014758695342080 [0;39m <==    Updates: 1
2023-05-13 00:08:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014758695342080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:09:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38014863519387648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:09:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014863519387648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:09:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014863519387648 [0;39m ==> Parameters: 
2023-05-13 00:09:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38014863519387648 [0;39m <==    Updates: 0
2023-05-13 00:09:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38014863519387648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:09:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38014884541239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:09:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014884541239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:09:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014884541239296 [0;39m ==> Parameters: 
2023-05-13 00:09:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38014884541239296 [0;39m <==    Updates: 1
2023-05-13 00:09:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38014884541239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:09:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015010324221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:09:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015010324221952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:09:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015010324221952 [0;39m ==> Parameters: 
2023-05-13 00:09:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015010324221952 [0;39m <==    Updates: 1
2023-05-13 00:09:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015010324221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:10:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38015115177627648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:10:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015115177627648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:10:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015115177627648 [0;39m ==> Parameters: 
2023-05-13 00:10:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015115177627648 [0;39m <==    Updates: 0
2023-05-13 00:10:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38015115177627648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:10:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015136149147648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:10:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015136149147648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:10:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015136149147648 [0;39m ==> Parameters: 
2023-05-13 00:10:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015136149147648 [0;39m <==    Updates: 1
2023-05-13 00:10:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015136149147648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:10:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015262011822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:10:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015262011822080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:10:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015262011822080 [0;39m ==> Parameters: 
2023-05-13 00:10:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015262011822080 [0;39m <==    Updates: 1
2023-05-13 00:10:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015262011822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:11:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38015366856839168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:11:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015366856839168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:11:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015366856839168 [0;39m ==> Parameters: 
2023-05-13 00:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015366856839168 [0;39m <==    Updates: 0
2023-05-13 00:11:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38015366856839168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:11:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015387811581952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:11:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015387811581952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:11:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015387811581952 [0;39m ==> Parameters: 
2023-05-13 00:11:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015387811581952 [0;39m <==    Updates: 1
2023-05-13 00:11:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015387811581952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:11:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015513678450688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:11:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015513678450688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:11:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015513678450688 [0;39m ==> Parameters: 
2023-05-13 00:11:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015513678450688 [0;39m <==    Updates: 1
2023-05-13 00:11:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015513678450688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:12:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38015618544439296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015618544439296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015618544439296 [0;39m ==> Parameters: 
2023-05-13 00:12:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015618544439296 [0;39m <==    Updates: 0
2023-05-13 00:12:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38015618544439296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:12:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015639465627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:12:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015639465627648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:12:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015639465627648 [0;39m ==> Parameters: 
2023-05-13 00:12:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015639465627648 [0;39m <==    Updates: 1
2023-05-13 00:12:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015639465627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:12:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015765319913472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:12:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015765319913472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:12:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015765319913472 [0;39m ==> Parameters: 
2023-05-13 00:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015765319913472 [0;39m <==    Updates: 1
2023-05-13 00:12:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015765319913472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:13:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38015870194290688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:13:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015870194290688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:13:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015870194290688 [0;39m ==> Parameters: 
2023-05-13 00:13:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38015870194290688 [0;39m <==    Updates: 0
2023-05-13 00:13:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38015870194290688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:13:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38015891182587904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:13:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015891182587904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:13:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015891182587904 [0;39m ==> Parameters: 
2023-05-13 00:13:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38015891182587904 [0;39m <==    Updates: 1
2023-05-13 00:13:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38015891182587904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:13:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016016957181952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:13:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016016957181952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:13:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016016957181952 [0;39m ==> Parameters: 
2023-05-13 00:13:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016016957181952 [0;39m <==    Updates: 1
2023-05-13 00:13:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016016957181952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:14:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38016121844142080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:14:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016121844142080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:14:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016121844142080 [0;39m ==> Parameters: 
2023-05-13 00:14:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016121844142080 [0;39m <==    Updates: 0
2023-05-13 00:14:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38016121844142080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:14:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016142845022208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:14:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016142845022208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:14:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016142845022208 [0;39m ==> Parameters: 
2023-05-13 00:14:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016142845022208 [0;39m <==    Updates: 1
2023-05-13 00:14:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016142845022208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:14:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016268657364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:14:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016268657364992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:14:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016268657364992 [0;39m ==> Parameters: 
2023-05-13 00:14:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016268657364992 [0;39m <==    Updates: 1
2023-05-13 00:14:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016268657364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:15:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38016373493993472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:15:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016373493993472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:15:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016373493993472 [0;39m ==> Parameters: 
2023-05-13 00:15:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016373493993472 [0;39m <==    Updates: 0
2023-05-13 00:15:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38016373493993472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:15:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016394440347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:15:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016394440347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:15:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016394440347648 [0;39m ==> Parameters: 
2023-05-13 00:15:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016394440347648 [0;39m <==    Updates: 1
2023-05-13 00:15:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016394440347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:15:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016520290439168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:15:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016520290439168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:15:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016520290439168 [0;39m ==> Parameters: 
2023-05-13 00:15:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016520290439168 [0;39m <==    Updates: 1
2023-05-13 00:15:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016520290439168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:16:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38016625173204992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:16:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016625173204992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:16:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016625173204992 [0;39m ==> Parameters: 
2023-05-13 00:16:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016625173204992 [0;39m <==    Updates: 0
2023-05-13 00:16:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38016625173204992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:16:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016646136336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:16:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016646136336384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:16:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016646136336384 [0;39m ==> Parameters: 
2023-05-13 00:16:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016646136336384 [0;39m <==    Updates: 1
2023-05-13 00:16:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016646136336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:16:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016771936096256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:16:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016771936096256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:16:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016771936096256 [0;39m ==> Parameters: 
2023-05-13 00:16:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016771936096256 [0;39m <==    Updates: 1
2023-05-13 00:16:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016771936096256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:17:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38016876810473472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:17:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016876810473472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:17:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016876810473472 [0;39m ==> Parameters: 
2023-05-13 00:17:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38016876810473472 [0;39m <==    Updates: 0
2023-05-13 00:17:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38016876810473472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:17:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38016897807159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016897807159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016897807159296 [0;39m ==> Parameters: 
2023-05-13 00:17:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38016897807159296 [0;39m <==    Updates: 1
2023-05-13 00:17:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38016897807159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:17:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017023585947648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:17:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017023585947648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:17:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017023585947648 [0;39m ==> Parameters: 
2023-05-13 00:17:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017023585947648 [0;39m <==    Updates: 1
2023-05-13 00:17:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017023585947648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:18:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38017128477102080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:18:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017128477102080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:18:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017128477102080 [0;39m ==> Parameters: 
2023-05-13 00:18:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017128477102080 [0;39m <==    Updates: 0
2023-05-13 00:18:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38017128477102080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:18:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017149465399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:18:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017149465399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:18:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017149465399296 [0;39m ==> Parameters: 
2023-05-13 00:18:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017149465399296 [0;39m <==    Updates: 1
2023-05-13 00:18:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017149465399296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:18:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017275281936384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:18:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017275281936384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:18:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017275281936384 [0;39m ==> Parameters: 
2023-05-13 00:18:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017275281936384 [0;39m <==    Updates: 1
2023-05-13 00:18:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017275281936384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:19:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38017380097593344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:19:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017380097593344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:19:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017380097593344 [0;39m ==> Parameters: 
2023-05-13 00:19:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017380097593344 [0;39m <==    Updates: 0
2023-05-13 00:19:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38017380097593344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:19:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017401085890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:19:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017401085890560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:19:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017401085890560 [0;39m ==> Parameters: 
2023-05-13 00:19:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017401085890560 [0;39m <==    Updates: 1
2023-05-13 00:19:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017401085890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:19:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017526902427648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:19:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017526902427648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:19:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017526902427648 [0;39m ==> Parameters: 
2023-05-13 00:19:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017526902427648 [0;39m <==    Updates: 1
2023-05-13 00:19:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017526902427648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:20:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38017631818747904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:20:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017631818747904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:20:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017631818747904 [0;39m ==> Parameters: 
2023-05-13 00:20:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017631818747904 [0;39m <==    Updates: 0
2023-05-13 00:20:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38017631818747904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:20:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017652752519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:20:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017652752519168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:20:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017652752519168 [0;39m ==> Parameters: 
2023-05-13 00:20:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017652752519168 [0;39m <==    Updates: 1
2023-05-13 00:20:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017652752519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:20:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017778615193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:20:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017778615193600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:20:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017778615193600 [0;39m ==> Parameters: 
2023-05-13 00:20:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017778615193600 [0;39m <==    Updates: 1
2023-05-13 00:20:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017778615193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:21:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38017883456016384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:21:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017883456016384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:21:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017883456016384 [0;39m ==> Parameters: 
2023-05-13 00:21:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38017883456016384 [0;39m <==    Updates: 0
2023-05-13 00:21:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38017883456016384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:21:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38017904419147776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:21:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017904419147776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:21:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017904419147776 [0;39m ==> Parameters: 
2023-05-13 00:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38017904419147776 [0;39m <==    Updates: 1
2023-05-13 00:21:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38017904419147776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:21:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018030260850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:21:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018030260850688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:21:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018030260850688 [0;39m ==> Parameters: 
2023-05-13 00:21:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018030260850688 [0;39m <==    Updates: 1
2023-05-13 00:21:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018030260850688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 00:22:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38018135105867776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:22:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018135105867776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:22:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018135105867776 [0;39m ==> Parameters: 
2023-05-13 00:22:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018135105867776 [0;39m <==    Updates: 0
2023-05-13 00:22:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38018135105867776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:22:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018156094164992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:22:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018156094164992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:22:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018156094164992 [0;39m ==> Parameters: 
2023-05-13 00:22:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018156094164992 [0;39m <==    Updates: 1
2023-05-13 00:22:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018156094164992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:22:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018281893924864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018281893924864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018281893924864 [0;39m ==> Parameters: 
2023-05-13 00:22:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018281893924864 [0;39m <==    Updates: 1
2023-05-13 00:22:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018281893924864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:23:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38018386793467904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:23:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018386793467904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:23:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018386793467904 [0;39m ==> Parameters: 
2023-05-13 00:23:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018386793467904 [0;39m <==    Updates: 0
2023-05-13 00:23:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38018386793467904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:23:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018407702073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:23:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018407702073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:23:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018407702073344 [0;39m ==> Parameters: 
2023-05-13 00:23:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018407702073344 [0;39m <==    Updates: 1
2023-05-13 00:23:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018407702073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:23:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018533560553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:23:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018533560553472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:23:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018533560553472 [0;39m ==> Parameters: 
2023-05-13 00:23:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018533560553472 [0;39m <==    Updates: 1
2023-05-13 00:23:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018533560553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:24:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38018638413959168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018638413959168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018638413959168 [0;39m ==> Parameters: 
2023-05-13 00:24:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018638413959168 [0;39m <==    Updates: 0
2023-05-13 00:24:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38018638413959168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:24:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018659389673472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:24:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018659389673472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:24:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018659389673472 [0;39m ==> Parameters: 
2023-05-13 00:24:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018659389673472 [0;39m <==    Updates: 1
2023-05-13 00:24:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018659389673472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:24:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018785227182080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:24:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018785227182080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:24:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018785227182080 [0;39m ==> Parameters: 
2023-05-13 00:24:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018785227182080 [0;39m <==    Updates: 1
2023-05-13 00:24:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018785227182080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:25:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38018890051227648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:25:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018890051227648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:25:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018890051227648 [0;39m ==> Parameters: 
2023-05-13 00:25:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38018890051227648 [0;39m <==    Updates: 0
2023-05-13 00:25:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38018890051227648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:25:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38018911060496384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018911060496384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:25:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018911060496384 [0;39m ==> Parameters: 
2023-05-13 00:25:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38018911060496384 [0;39m <==    Updates: 1
2023-05-13 00:25:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38018911060496384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:25:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019036902199296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:25:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019036902199296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:25:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019036902199296 [0;39m ==> Parameters: 
2023-05-13 00:25:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019036902199296 [0;39m <==    Updates: 1
2023-05-13 00:25:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019036902199296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:26:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38019141743022080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:26:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019141743022080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:26:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019141743022080 [0;39m ==> Parameters: 
2023-05-13 00:26:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019141743022080 [0;39m <==    Updates: 0
2023-05-13 00:26:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38019141743022080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:26:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019162710347776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:26:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019162710347776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:26:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019162710347776 [0;39m ==> Parameters: 
2023-05-13 00:26:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019162710347776 [0;39m <==    Updates: 1
2023-05-13 00:26:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019162710347776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:26:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019288543662080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:26:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019288543662080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:26:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019288543662080 [0;39m ==> Parameters: 
2023-05-13 00:26:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019288543662080 [0;39m <==    Updates: 1
2023-05-13 00:26:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019288543662080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:27:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38019393359319040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:27:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019393359319040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:27:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019393359319040 [0;39m ==> Parameters: 
2023-05-13 00:27:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019393359319040 [0;39m <==    Updates: 0
2023-05-13 00:27:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38019393359319040 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:27:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019414393753600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:27:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019414393753600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:27:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019414393753600 [0;39m ==> Parameters: 
2023-05-13 00:27:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019414393753600 [0;39m <==    Updates: 1
2023-05-13 00:27:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019414393753600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:27:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019540193513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:27:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019540193513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:27:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019540193513472 [0;39m ==> Parameters: 
2023-05-13 00:27:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019540193513472 [0;39m <==    Updates: 1
2023-05-13 00:27:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019540193513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:28:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38019645063696384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:28:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019645063696384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:28:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019645063696384 [0;39m ==> Parameters: 
2023-05-13 00:28:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019645063696384 [0;39m <==    Updates: 0
2023-05-13 00:28:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38019645063696384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:28:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019666005856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:28:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019666005856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:28:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019666005856256 [0;39m ==> Parameters: 
2023-05-13 00:28:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019666005856256 [0;39m <==    Updates: 1
2023-05-13 00:28:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019666005856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:28:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019791826587648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:28:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019791826587648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:28:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019791826587648 [0;39m ==> Parameters: 
2023-05-13 00:28:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019791826587648 [0;39m <==    Updates: 1
2023-05-13 00:28:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019791826587648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:29:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38019896713547776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:29:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019896713547776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:29:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019896713547776 [0;39m ==> Parameters: 
2023-05-13 00:29:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38019896713547776 [0;39m <==    Updates: 0
2023-05-13 00:29:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38019896713547776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:29:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38019917672484864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:29:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019917672484864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:29:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019917672484864 [0;39m ==> Parameters: 
2023-05-13 00:29:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38019917672484864 [0;39m <==    Updates: 1
2023-05-13 00:29:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38019917672484864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:29:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020043535159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:29:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020043535159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:29:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020043535159296 [0;39m ==> Parameters: 
2023-05-13 00:29:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020043535159296 [0;39m <==    Updates: 1
2023-05-13 00:29:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020043535159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:30:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38020148367593472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:30:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020148367593472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:30:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020148367593472 [0;39m ==> Parameters: 
2023-05-13 00:30:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020148367593472 [0;39m <==    Updates: 0
2023-05-13 00:30:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38020148367593472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:30:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020169309753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:30:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020169309753344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:30:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020169309753344 [0;39m ==> Parameters: 
2023-05-13 00:30:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020169309753344 [0;39m <==    Updates: 1
2023-05-13 00:30:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020169309753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:30:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020295189204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:30:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020295189204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:30:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020295189204992 [0;39m ==> Parameters: 
2023-05-13 00:30:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020295189204992 [0;39m <==    Updates: 1
2023-05-13 00:30:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020295189204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:31:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38020399996473344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:31:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020399996473344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:31:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020399996473344 [0;39m ==> Parameters: 
2023-05-13 00:31:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020399996473344 [0;39m <==    Updates: 0
2023-05-13 00:31:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38020399996473344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:31:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020421005742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:31:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020421005742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:31:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020421005742080 [0;39m ==> Parameters: 
2023-05-13 00:31:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020421005742080 [0;39m <==    Updates: 1
2023-05-13 00:31:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020421005742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:31:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020546801307648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:31:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020546801307648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:31:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020546801307648 [0;39m ==> Parameters: 
2023-05-13 00:31:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020546801307648 [0;39m <==    Updates: 1
2023-05-13 00:31:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020546801307648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:32:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38020651658907648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:32:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020651658907648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:32:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020651658907648 [0;39m ==> Parameters: 
2023-05-13 00:32:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020651658907648 [0;39m <==    Updates: 0
2023-05-13 00:32:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38020651658907648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 00:32:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020672680759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:32:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020672680759296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:32:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020672680759296 [0;39m ==> Parameters: 
2023-05-13 00:32:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020672680759296 [0;39m <==    Updates: 1
2023-05-13 00:32:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020672680759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:32:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020798463741952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:32:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020798463741952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:32:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020798463741952 [0;39m ==> Parameters: 
2023-05-13 00:32:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020798463741952 [0;39m <==    Updates: 1
2023-05-13 00:32:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020798463741952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 00:33:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38020903375867904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:33:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020903375867904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:33:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020903375867904 [0;39m ==> Parameters: 
2023-05-13 00:33:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38020903375867904 [0;39m <==    Updates: 0
2023-05-13 00:33:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38020903375867904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:33:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38020924347387904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:33:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020924347387904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:33:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020924347387904 [0;39m ==> Parameters: 
2023-05-13 00:33:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38020924347387904 [0;39m <==    Updates: 1
2023-05-13 00:33:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38020924347387904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:33:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021050159730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:33:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021050159730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:33:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021050159730688 [0;39m ==> Parameters: 
2023-05-13 00:33:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021050159730688 [0;39m <==    Updates: 1
2023-05-13 00:33:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021050159730688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:33:36.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021056157585408 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:33:36.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021056157585408 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:33:36.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021056157585408 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:33:36.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021056157585408 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:33:36.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021056157585408 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:33:36.446 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021056157585408 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:33:36.446 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021056157585408 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:33:36.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:33:36.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 43, 5
2023-05-13 00:33:36.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:33:36.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:33:36.448 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:33:36.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:33:36.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:33:36.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:33:36.449 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021056157585408 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:33:36.450 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021056157585408 [0;39m <==      Total: 8
2023-05-13 00:33:36.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021056157585408 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":43,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:33:36.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021056157585408 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 00:33:36.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021056451186688 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:33:36.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021056451186688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:33:36.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021056451186688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:33:36.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021056451186688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:33:36.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021056451186688 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:33:36.514 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021056451186688 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:33:36.514 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021056451186688 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:33:36.515 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021056451186688 [0;39m <==    Columns: id, content
2023-05-13 00:33:36.515 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021056451186688 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:33:36.516 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021056451186688 [0;39m <==      Total: 1
2023-05-13 00:33:36.516 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021056451186688 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:33:36.516 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021056451186688 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:33:36.520 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021056451186688 [0;39m <==    Updates: 1
2023-05-13 00:33:36.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021056451186688 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:33:36.521 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021056451186688 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 00:34:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38021154992164864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:34:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021154992164864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:34:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021154992164864 [0;39m ==> Parameters: 
2023-05-13 00:34:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021154992164864 [0;39m <==    Updates: 0
2023-05-13 00:34:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38021154992164864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:34:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021175997239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:34:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021175997239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:34:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021175997239296 [0;39m ==> Parameters: 
2023-05-13 00:34:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021175997239296 [0;39m <==    Updates: 1
2023-05-13 00:34:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021175997239296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 00:34:17.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021226609905664 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:17.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021226609905664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:34:17.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021226609905664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:34:17.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021226609905664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:17.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021226609905664 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:17.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021226609905664 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:34:17.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021226609905664 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:17.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:34:17.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 44, 5
2023-05-13 00:34:17.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:34:17.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:34:17.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:34:17.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:34:17.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:34:17.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:34:17.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021226609905664 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:34:17.085 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021226609905664 [0;39m <==      Total: 8
2023-05-13 00:34:17.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021226609905664 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":44,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:34:17.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021226609905664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 00:34:17.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021226681208832 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:17.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021226681208832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:34:17.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021226681208832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:34:17.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021226681208832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:17.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021226681208832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:17.098 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021226681208832 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:34:17.099 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021226681208832 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:17.099 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021226681208832 [0;39m <==    Columns: id, content
2023-05-13 00:34:17.099 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021226681208832 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:34:17.099 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021226681208832 [0;39m <==      Total: 1
2023-05-13 00:34:17.099 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021226681208832 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:34:17.100 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021226681208832 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:17.101 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021226681208832 [0;39m <==    Updates: 1
2023-05-13 00:34:17.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021226681208832 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:34:17.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021226681208832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3 ms -------------
2023-05-13 00:34:26.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021268078989312 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:26.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021268078989312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:34:26.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021268078989312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:34:26.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021268078989312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:26.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021268078989312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:26.970 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021268078989312 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:34:26.970 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021268078989312 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:26.971 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:34:26.971 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 45, 5
2023-05-13 00:34:26.971 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:34:26.972 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:34:26.972 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:34:26.972 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:34:26.972 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:34:26.973 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:34:26.973 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021268078989312 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:34:26.973 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021268078989312 [0;39m <==      Total: 8
2023-05-13 00:34:26.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021268078989312 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":45,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:34:26.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021268078989312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 00:34:27.088 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021268582305792 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:27.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021268582305792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:34:27.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021268582305792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:34:27.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021268582305792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:27.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021268582305792 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:27.089 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021268582305792 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:34:27.090 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021268582305792 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:27.092 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021268582305792 [0;39m <==    Columns: id, content
2023-05-13 00:34:27.092 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021268582305792 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:34:27.092 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021268582305792 [0;39m <==      Total: 1
2023-05-13 00:34:27.093 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021268582305792 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:34:27.093 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021268582305792 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:27.094 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021268582305792 [0;39m <==    Updates: 1
2023-05-13 00:34:27.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021268582305792 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:34:27.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021268582305792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 00:34:33.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021294545047552 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:33.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021294545047552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:34:33.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021294545047552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:34:33.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021294545047552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:33.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021294545047552 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:33.280 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021294545047552 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:34:33.280 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021294545047552 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:33.281 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:34:33.281 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 46, 5
2023-05-13 00:34:33.281 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:34:33.281 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:34:33.282 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:34:33.282 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:34:33.282 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:34:33.282 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:34:33.283 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021294545047552 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:34:33.283 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021294545047552 [0;39m <==      Total: 8
2023-05-13 00:34:33.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021294545047552 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":46,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:34:33.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021294545047552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 00:34:33.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021294809288704 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:33.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021294809288704 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:34:33.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021294809288704 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:34:33.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021294809288704 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:33.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021294809288704 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:33.342 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021294809288704 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:34:33.343 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021294809288704 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:33.344 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021294809288704 [0;39m <==    Columns: id, content
2023-05-13 00:34:33.344 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021294809288704 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:34:33.344 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021294809288704 [0;39m <==      Total: 1
2023-05-13 00:34:33.345 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021294809288704 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:34:33.345 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021294809288704 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:33.347 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021294809288704 [0;39m <==    Updates: 1
2023-05-13 00:34:33.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021294809288704 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:34:33.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021294809288704 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 00:34:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021301813776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:34:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021301813776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:34:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021301813776384 [0;39m ==> Parameters: 
2023-05-13 00:34:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021301813776384 [0;39m <==    Updates: 1
2023-05-13 00:34:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021301813776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 00:34:42.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021331538808832 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:42.099 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021331538808832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:34:42.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021331538808832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:34:42.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021331538808832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:42.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021331538808832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:42.102 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021331538808832 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:34:42.102 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021331538808832 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 47, 5
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:34:42.103 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:34:42.104 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021331538808832 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:34:42.104 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021331538808832 [0;39m <==      Total: 8
2023-05-13 00:34:42.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021331538808832 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":47,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:34:42.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021331538808832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 00:34:42.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021331685609472 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:42.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021331685609472 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:34:42.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021331685609472 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:34:42.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021331685609472 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:42.134 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021331685609472 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:42.134 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021331685609472 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:34:42.134 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021331685609472 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:42.135 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021331685609472 [0;39m <==    Columns: id, content
2023-05-13 00:34:42.136 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021331685609472 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:34:42.136 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021331685609472 [0;39m <==      Total: 1
2023-05-13 00:34:42.136 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021331685609472 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:34:42.137 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021331685609472 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:42.138 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021331685609472 [0;39m <==    Updates: 1
2023-05-13 00:34:42.139 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021331685609472 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:34:42.139 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021331685609472 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 00:34:44.864 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38021056157585408 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š2vHmlPXmjRï¼Œsession idï¼š3ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 00:34:45.501 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38021056451186688 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šsrePAdnsLuï¼Œsession idï¼š4ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 00:34:45.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021346021740544 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:45.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021346021740544 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:34:45.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021346021740544 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:34:45.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021346021740544 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:45.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021346021740544 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:45.553 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021346021740544 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:34:45.553 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021346021740544 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:45.553 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 48, 5
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:34:45.554 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:34:45.555 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021346021740544 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:34:45.555 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021346021740544 [0;39m <==      Total: 8
2023-05-13 00:34:45.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021346021740544 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":48,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:34:45.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021346021740544 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 00:34:45.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021346256621568 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:45.607 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021346256621568 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:34:45.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021346256621568 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:34:45.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021346256621568 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:45.608 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021346256621568 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:45.609 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021346256621568 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:34:45.609 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021346256621568 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:45.610 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021346256621568 [0;39m <==    Columns: id, content
2023-05-13 00:34:45.611 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021346256621568 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:34:45.611 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021346256621568 [0;39m <==      Total: 1
2023-05-13 00:34:45.612 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021346256621568 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:34:45.612 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021346256621568 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:45.615 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021346256621568 [0;39m <==    Updates: 1
2023-05-13 00:34:45.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021346256621568 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:34:45.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021346256621568 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 00:34:48.461 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38021268078989312 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šsrePAdnsLuï¼Œsession idï¼š4ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 00:34:49.007 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38021268582305792 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šPZHClsx1gxï¼Œsession idï¼š5ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 00:34:49.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021360676638720 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:49.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021360676638720 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:34:49.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021360676638720 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:34:49.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021360676638720 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:49.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021360676638720 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:49.046 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021360676638720 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:34:49.046 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021360676638720 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:49.048 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:34:49.048 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 49, 5
2023-05-13 00:34:49.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:34:49.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:34:49.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:34:49.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:34:49.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:34:49.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:34:49.050 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38021360676638720 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:34:49.050 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38021360676638720 [0;39m <==      Total: 8
2023-05-13 00:34:49.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021360676638720 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":49,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:34:49.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021360676638720 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 00:34:49.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38021360894742528 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:34:49.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38021360894742528 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:34:49.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38021360894742528 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:34:49.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38021360894742528 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:34:49.098 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38021360894742528 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:34:49.099 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021360894742528 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:34:49.099 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021360894742528 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:49.100 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021360894742528 [0;39m <==    Columns: id, content
2023-05-13 00:34:49.100 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38021360894742528 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:34:49.100 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38021360894742528 [0;39m <==      Total: 1
2023-05-13 00:34:49.101 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021360894742528 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:34:49.101 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021360894742528 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:34:49.102 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38021360894742528 [0;39m <==    Updates: 1
2023-05-13 00:34:49.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38021360894742528 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:34:49.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38021360894742528 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 00:35:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38021406671376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:35:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021406671376384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:35:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021406671376384 [0;39m ==> Parameters: 
2023-05-13 00:35:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021406671376384 [0;39m <==    Updates: 0
2023-05-13 00:35:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38021406671376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 00:35:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021427626119168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:35:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021427626119168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:35:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021427626119168 [0;39m ==> Parameters: 
2023-05-13 00:35:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021427626119168 [0;39m <==    Updates: 1
2023-05-13 00:35:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021427626119168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 00:35:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021553434267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:35:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021553434267648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:35:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021553434267648 [0;39m ==> Parameters: 
2023-05-13 00:35:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021553434267648 [0;39m <==    Updates: 1
2023-05-13 00:35:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021553434267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:36:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38021658329616384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:36:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021658329616384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:36:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021658329616384 [0;39m ==> Parameters: 
2023-05-13 00:36:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021658329616384 [0;39m <==    Updates: 0
2023-05-13 00:36:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38021658329616384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-13 00:36:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021679296942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:36:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021679296942080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:36:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021679296942080 [0;39m ==> Parameters: 
2023-05-13 00:36:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021679296942080 [0;39m <==    Updates: 1
2023-05-13 00:36:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021679296942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:36:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021805096701952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:36:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021805096701952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:36:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021805096701952 [0;39m ==> Parameters: 
2023-05-13 00:36:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021805096701952 [0;39m <==    Updates: 1
2023-05-13 00:36:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021805096701952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:37:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38021909992050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:37:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021909992050688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:37:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021909992050688 [0;39m ==> Parameters: 
2023-05-13 00:37:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38021909992050688 [0;39m <==    Updates: 0
2023-05-13 00:37:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38021909992050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:37:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38021930917433344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:37:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021930917433344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:37:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021930917433344 [0;39m ==> Parameters: 
2023-05-13 00:37:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38021930917433344 [0;39m <==    Updates: 1
2023-05-13 00:37:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38021930917433344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:37:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022056784302080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:37:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022056784302080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:37:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022056784302080 [0;39m ==> Parameters: 
2023-05-13 00:37:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022056784302080 [0;39m <==    Updates: 1
2023-05-13 00:37:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022056784302080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:38:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38022161633513472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:38:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022161633513472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:38:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022161633513472 [0;39m ==> Parameters: 
2023-05-13 00:38:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022161633513472 [0;39m <==    Updates: 0
2023-05-13 00:38:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38022161633513472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:38:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022182575673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:38:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022182575673344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:38:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022182575673344 [0;39m ==> Parameters: 
2023-05-13 00:38:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022182575673344 [0;39m <==    Updates: 1
2023-05-13 00:38:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022182575673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:38:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022308404793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:38:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022308404793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:38:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022308404793344 [0;39m ==> Parameters: 
2023-05-13 00:38:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022308404793344 [0;39m <==    Updates: 1
2023-05-13 00:38:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022308404793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:39:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38022413262393344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:39:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022413262393344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:39:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022413262393344 [0;39m ==> Parameters: 
2023-05-13 00:39:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022413262393344 [0;39m <==    Updates: 0
2023-05-13 00:39:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38022413262393344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:39:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022434242301952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:39:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022434242301952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:39:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022434242301952 [0;39m ==> Parameters: 
2023-05-13 00:39:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022434242301952 [0;39m <==    Updates: 1
2023-05-13 00:39:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022434242301952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:39:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022560067227648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:39:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022560067227648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:39:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022560067227648 [0;39m ==> Parameters: 
2023-05-13 00:39:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022560067227648 [0;39m <==    Updates: 1
2023-05-13 00:39:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022560067227648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:40:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38022664937410560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:40:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022664937410560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:40:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022664937410560 [0;39m ==> Parameters: 
2023-05-13 00:40:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022664937410560 [0;39m <==    Updates: 0
2023-05-13 00:40:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38022664937410560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:40:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022685904736256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:40:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022685904736256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:40:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022685904736256 [0;39m ==> Parameters: 
2023-05-13 00:40:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022685904736256 [0;39m <==    Updates: 1
2023-05-13 00:40:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022685904736256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:40:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022811738050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:40:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022811738050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:40:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022811738050560 [0;39m ==> Parameters: 
2023-05-13 00:40:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022811738050560 [0;39m <==    Updates: 1
2023-05-13 00:40:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022811738050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:41:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38022916625010688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:41:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022916625010688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:41:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022916625010688 [0;39m ==> Parameters: 
2023-05-13 00:41:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38022916625010688 [0;39m <==    Updates: 0
2023-05-13 00:41:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38022916625010688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:41:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38022937596530688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:41:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022937596530688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:41:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022937596530688 [0;39m ==> Parameters: 
2023-05-13 00:41:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38022937596530688 [0;39m <==    Updates: 1
2023-05-13 00:41:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38022937596530688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:41:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023063434039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:41:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023063434039296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:41:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023063434039296 [0;39m ==> Parameters: 
2023-05-13 00:41:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023063434039296 [0;39m <==    Updates: 1
2023-05-13 00:41:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023063434039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:42:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38023168270667776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:42:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023168270667776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:42:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023168270667776 [0;39m ==> Parameters: 
2023-05-13 00:42:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023168270667776 [0;39m <==    Updates: 0
2023-05-13 00:42:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38023168270667776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:42:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023189250576384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:42:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023189250576384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:42:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023189250576384 [0;39m ==> Parameters: 
2023-05-13 00:42:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023189250576384 [0;39m <==    Updates: 1
2023-05-13 00:42:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023189250576384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:42:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023315037753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:42:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023315037753344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023315037753344 [0;39m ==> Parameters: 
2023-05-13 00:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023315037753344 [0;39m <==    Updates: 1
2023-05-13 00:42:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023315037753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:43:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38023419941490688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:43:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023419941490688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:43:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023419941490688 [0;39m ==> Parameters: 
2023-05-13 00:43:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023419941490688 [0;39m <==    Updates: 0
2023-05-13 00:43:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38023419941490688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:43:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023440900427776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:43:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023440900427776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:43:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023440900427776 [0;39m ==> Parameters: 
2023-05-13 00:43:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023440900427776 [0;39m <==    Updates: 1
2023-05-13 00:43:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023440900427776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:43:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023566733742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023566733742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:43:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023566733742080 [0;39m ==> Parameters: 
2023-05-13 00:43:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023566733742080 [0;39m <==    Updates: 1
2023-05-13 00:43:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023566733742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:44:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38023671616507904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:44:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023671616507904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:44:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023671616507904 [0;39m ==> Parameters: 
2023-05-13 00:44:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023671616507904 [0;39m <==    Updates: 0
2023-05-13 00:44:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38023671616507904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:44:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023692537696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:44:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023692537696256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:44:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023692537696256 [0;39m ==> Parameters: 
2023-05-13 00:44:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023692537696256 [0;39m <==    Updates: 1
2023-05-13 00:44:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023692537696256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:44:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023818366816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:44:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023818366816256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:44:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023818366816256 [0;39m ==> Parameters: 
2023-05-13 00:44:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023818366816256 [0;39m <==    Updates: 1
2023-05-13 00:44:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023818366816256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:45:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38023923262164992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:45:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023923262164992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:45:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023923262164992 [0;39m ==> Parameters: 
2023-05-13 00:45:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38023923262164992 [0;39m <==    Updates: 0
2023-05-13 00:45:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38023923262164992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:45:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38023944237879296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:45:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023944237879296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:45:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023944237879296 [0;39m ==> Parameters: 
2023-05-13 00:45:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38023944237879296 [0;39m <==    Updates: 1
2023-05-13 00:45:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38023944237879296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:45:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024070020861952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:45:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024070020861952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:45:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024070020861952 [0;39m ==> Parameters: 
2023-05-13 00:45:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024070020861952 [0;39m <==    Updates: 1
2023-05-13 00:45:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024070020861952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:46:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38024174878461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:46:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024174878461952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:46:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024174878461952 [0;39m ==> Parameters: 
2023-05-13 00:46:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024174878461952 [0;39m <==    Updates: 0
2023-05-13 00:46:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38024174878461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:46:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024195858370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:46:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024195858370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:46:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024195858370560 [0;39m ==> Parameters: 
2023-05-13 00:46:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024195858370560 [0;39m <==    Updates: 1
2023-05-13 00:46:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024195858370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:46:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024321679101952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:46:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024321679101952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:46:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024321679101952 [0;39m ==> Parameters: 
2023-05-13 00:46:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024321679101952 [0;39m <==    Updates: 1
2023-05-13 00:46:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024321679101952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:47:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38024426528313344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:47:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024426528313344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:47:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024426528313344 [0;39m ==> Parameters: 
2023-05-13 00:47:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024426528313344 [0;39m <==    Updates: 0
2023-05-13 00:47:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38024426528313344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:47:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024447554359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:47:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024447554359296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:47:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024447554359296 [0;39m ==> Parameters: 
2023-05-13 00:47:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024447554359296 [0;39m <==    Updates: 1
2023-05-13 00:47:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024447554359296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:47:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024573375090688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:47:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024573375090688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:47:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024573375090688 [0;39m ==> Parameters: 
2023-05-13 00:47:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024573375090688 [0;39m <==    Updates: 1
2023-05-13 00:47:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024573375090688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:48:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38024678232690688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:48:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024678232690688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:48:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024678232690688 [0;39m ==> Parameters: 
2023-05-13 00:48:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024678232690688 [0;39m <==    Updates: 0
2023-05-13 00:48:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38024678232690688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:48:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024699170656256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:48:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024699170656256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:48:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024699170656256 [0;39m ==> Parameters: 
2023-05-13 00:48:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024699170656256 [0;39m <==    Updates: 1
2023-05-13 00:48:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024699170656256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:48:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024825024942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:48:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024825024942080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:48:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024825024942080 [0;39m ==> Parameters: 
2023-05-13 00:48:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024825024942080 [0;39m <==    Updates: 1
2023-05-13 00:48:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024825024942080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:49:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38024929848987648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:49:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024929848987648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:49:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024929848987648 [0;39m ==> Parameters: 
2023-05-13 00:49:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38024929848987648 [0;39m <==    Updates: 0
2023-05-13 00:49:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38024929848987648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:49:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38024950875033600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:49:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024950875033600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:49:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024950875033600 [0;39m ==> Parameters: 
2023-05-13 00:49:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38024950875033600 [0;39m <==    Updates: 1
2023-05-13 00:49:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38024950875033600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:49:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025076712542208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:49:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025076712542208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:49:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025076712542208 [0;39m ==> Parameters: 
2023-05-13 00:49:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025076712542208 [0;39m <==    Updates: 1
2023-05-13 00:49:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025076712542208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:50:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38025181540782080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:50:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025181540782080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:50:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025181540782080 [0;39m ==> Parameters: 
2023-05-13 00:50:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025181540782080 [0;39m <==    Updates: 0
2023-05-13 00:50:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38025181540782080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:50:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025202537467904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:50:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025202537467904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:50:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025202537467904 [0;39m ==> Parameters: 
2023-05-13 00:50:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025202537467904 [0;39m <==    Updates: 1
2023-05-13 00:50:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025202537467904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:50:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025328354004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:50:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025328354004992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:50:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025328354004992 [0;39m ==> Parameters: 
2023-05-13 00:50:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025328354004992 [0;39m <==    Updates: 1
2023-05-13 00:50:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025328354004992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:51:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38025433178050560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:51:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025433178050560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:51:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025433178050560 [0;39m ==> Parameters: 
2023-05-13 00:51:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025433178050560 [0;39m <==    Updates: 0
2023-05-13 00:51:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38025433178050560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:51:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025454174736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:51:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025454174736384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:51:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025454174736384 [0;39m ==> Parameters: 
2023-05-13 00:51:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025454174736384 [0;39m <==    Updates: 1
2023-05-13 00:51:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025454174736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:51:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025579961913344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:51:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025579961913344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:51:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025579961913344 [0;39m ==> Parameters: 
2023-05-13 00:51:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025579961913344 [0;39m <==    Updates: 1
2023-05-13 00:51:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025579961913344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:52:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38025684823707648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:52:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025684823707648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:52:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025684823707648 [0;39m ==> Parameters: 
2023-05-13 00:52:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025684823707648 [0;39m <==    Updates: 0
2023-05-13 00:52:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38025684823707648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 00:52:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025705795227648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:52:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025705795227648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:52:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025705795227648 [0;39m ==> Parameters: 
2023-05-13 00:52:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025705795227648 [0;39m <==    Updates: 1
2023-05-13 00:52:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025705795227648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:52:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025831624347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:52:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025831624347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:52:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025831624347648 [0;39m ==> Parameters: 
2023-05-13 00:52:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025831624347648 [0;39m <==    Updates: 1
2023-05-13 00:52:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025831624347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:53:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38025936477753344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:53:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025936477753344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:53:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025936477753344 [0;39m ==> Parameters: 
2023-05-13 00:53:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38025936477753344 [0;39m <==    Updates: 0
2023-05-13 00:53:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38025936477753344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:53:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38025957512187904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:53:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025957512187904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:53:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025957512187904 [0;39m ==> Parameters: 
2023-05-13 00:53:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38025957512187904 [0;39m <==    Updates: 1
2023-05-13 00:53:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38025957512187904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:53:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026083286781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:53:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026083286781952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:53:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026083286781952 [0;39m ==> Parameters: 
2023-05-13 00:53:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026083286781952 [0;39m <==    Updates: 1
2023-05-13 00:53:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026083286781952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:54:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38026188190519296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:54:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026188190519296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:54:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026188190519296 [0;39m ==> Parameters: 
2023-05-13 00:54:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026188190519296 [0;39m <==    Updates: 0
2023-05-13 00:54:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38026188190519296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:54:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026209107513344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:54:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026209107513344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:54:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026209107513344 [0;39m ==> Parameters: 
2023-05-13 00:54:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026209107513344 [0;39m <==    Updates: 1
2023-05-13 00:54:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026209107513344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:54:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026334945021952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:54:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026334945021952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:54:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026334945021952 [0;39m ==> Parameters: 
2023-05-13 00:54:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026334945021952 [0;39m <==    Updates: 1
2023-05-13 00:54:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026334945021952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:55:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38026439861342208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:55:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026439861342208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:55:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026439861342208 [0;39m ==> Parameters: 
2023-05-13 00:55:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026439861342208 [0;39m <==    Updates: 0
2023-05-13 00:55:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38026439861342208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:55:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026460795113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:55:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026460795113472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:55:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026460795113472 [0;39m ==> Parameters: 
2023-05-13 00:55:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026460795113472 [0;39m <==    Updates: 1
2023-05-13 00:55:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026460795113472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:55:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026586615844864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:55:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026586615844864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:55:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026586615844864 [0;39m ==> Parameters: 
2023-05-13 00:55:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026586615844864 [0;39m <==    Updates: 1
2023-05-13 00:55:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026586615844864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:56:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38026691490222080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:56:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026691490222080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:56:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026691490222080 [0;39m ==> Parameters: 
2023-05-13 00:56:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026691490222080 [0;39m <==    Updates: 0
2023-05-13 00:56:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38026691490222080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 00:56:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026712461742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:56:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026712461742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:56:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026712461742080 [0;39m ==> Parameters: 
2023-05-13 00:56:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026712461742080 [0;39m <==    Updates: 1
2023-05-13 00:56:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026712461742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:56:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026838320222208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:56:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026838320222208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:56:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026838320222208 [0;39m ==> Parameters: 
2023-05-13 00:56:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026838320222208 [0;39m <==    Updates: 1
2023-05-13 00:56:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026838320222208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 00:57:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38026943144267776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:57:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026943144267776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:57:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026943144267776 [0;39m ==> Parameters: 
2023-05-13 00:57:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38026943144267776 [0;39m <==    Updates: 0
2023-05-13 00:57:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38026943144267776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:57:05.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38026964157730816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:57:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026964157730816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:57:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026964157730816 [0;39m ==> Parameters: 
2023-05-13 00:57:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38026964157730816 [0;39m <==    Updates: 1
2023-05-13 00:57:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38026964157730816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 00:57:23.924 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027043451047936 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:23.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027043451047936 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:57:23.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027043451047936 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:57:23.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027043451047936 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:23.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027043451047936 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:23.925 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027043451047936 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:57:23.926 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027043451047936 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:23.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:57:23.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 50, 5
2023-05-13 00:57:23.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:57:23.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:57:23.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:57:23.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:57:23.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:57:23.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:57:23.929 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027043451047936 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:57:23.929 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027043451047936 [0;39m <==      Total: 8
2023-05-13 00:57:23.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027043451047936 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":50,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:57:23.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027043451047936 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 00:57:24.210 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027044650618880 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:24.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027044650618880 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:57:24.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027044650618880 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:57:24.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027044650618880 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:24.211 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027044650618880 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:24.211 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027044650618880 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:57:24.212 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027044650618880 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:24.213 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027044650618880 [0;39m <==    Columns: id, content
2023-05-13 00:57:24.213 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027044650618880 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:57:24.214 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027044650618880 [0;39m <==      Total: 1
2023-05-13 00:57:24.214 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027044650618880 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:57:24.214 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027044650618880 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:24.215 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027044650618880 [0;39m <==    Updates: 1
2023-05-13 00:57:24.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027044650618880 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:57:24.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027044650618880 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 00:57:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027089970073600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:57:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027089970073600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:57:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027089970073600 [0;39m ==> Parameters: 
2023-05-13 00:57:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027089970073600 [0;39m <==    Updates: 1
2023-05-13 00:57:35.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027089970073600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 00:57:42.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027119485390848 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:42.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027119485390848 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:57:42.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027119485390848 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:57:42.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027119485390848 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:42.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027119485390848 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:42.053 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027119485390848 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:57:42.054 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027119485390848 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:42.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:57:42.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 51, 5
2023-05-13 00:57:42.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:57:42.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:57:42.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:57:42.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:57:42.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:57:42.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:57:42.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027119485390848 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:57:42.056 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027119485390848 [0;39m <==      Total: 8
2023-05-13 00:57:42.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027119485390848 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":51,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:57:42.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027119485390848 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 00:57:42.131 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027119816740864 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:42.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027119816740864 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:57:42.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027119816740864 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:57:42.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027119816740864 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:42.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027119816740864 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:42.132 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027119816740864 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:57:42.133 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027119816740864 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:42.133 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027119816740864 [0;39m <==    Columns: id, content
2023-05-13 00:57:42.133 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027119816740864 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:57:42.134 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027119816740864 [0;39m <==      Total: 1
2023-05-13 00:57:42.134 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027119816740864 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:57:42.134 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027119816740864 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:42.136 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027119816740864 [0;39m <==    Updates: 1
2023-05-13 00:57:42.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027119816740864 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:57:42.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027119816740864 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 00:57:46.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027140142338048 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:46.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027140142338048 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:57:46.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027140142338048 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:57:46.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027140142338048 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:46.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027140142338048 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:46.979 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027140142338048 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:57:46.979 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027140142338048 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:46.983 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:57:46.983 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 52, 5
2023-05-13 00:57:46.983 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:57:46.984 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:57:46.984 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:57:46.984 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:57:46.984 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:57:46.985 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:57:46.985 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027140142338048 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:57:46.985 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027140142338048 [0;39m <==      Total: 8
2023-05-13 00:57:46.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027140142338048 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":52,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:57:46.986 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027140142338048 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 00:57:47.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027140289138688 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:47.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027140289138688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:57:47.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027140289138688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:57:47.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027140289138688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:47.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027140289138688 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:47.013 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027140289138688 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:57:47.014 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027140289138688 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:47.015 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027140289138688 [0;39m <==    Columns: id, content
2023-05-13 00:57:47.015 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027140289138688 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:57:47.015 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027140289138688 [0;39m <==      Total: 1
2023-05-13 00:57:47.016 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027140289138688 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:57:47.017 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027140289138688 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:47.023 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027140289138688 [0;39m <==    Updates: 1
2023-05-13 00:57:47.023 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027140289138688 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:57:47.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027140289138688 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 00:57:53.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027167237541888 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:53.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027167237541888 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:57:53.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027167237541888 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:57:53.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027167237541888 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:53.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027167237541888 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:53.439 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027167237541888 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:57:53.439 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027167237541888 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:53.441 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:57:53.441 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 53, 5
2023-05-13 00:57:53.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:57:53.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:57:53.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:57:53.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:57:53.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:57:53.443 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:57:53.443 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027167237541888 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:57:53.443 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027167237541888 [0;39m <==      Total: 8
2023-05-13 00:57:53.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027167237541888 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":53,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:57:53.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027167237541888 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 00:57:53.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027167401119744 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:57:53.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027167401119744 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:57:53.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027167401119744 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:57:53.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027167401119744 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:57:53.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027167401119744 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:57:53.479 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027167401119744 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:57:53.479 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027167401119744 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:53.480 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027167401119744 [0;39m <==    Columns: id, content
2023-05-13 00:57:53.480 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027167401119744 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:57:53.481 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027167401119744 [0;39m <==      Total: 1
2023-05-13 00:57:53.481 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027167401119744 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:57:53.481 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027167401119744 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:57:53.483 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027167401119744 [0;39m <==    Updates: 1
2023-05-13 00:57:53.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027167401119744 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:57:53.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027167401119744 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 00:58:00.063 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38027195029000192 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:58:00.063 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027195029000192 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:58:00.063 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027195029000192 [0;39m ==> Parameters: 
2023-05-13 00:58:00.089 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027195029000192 [0;39m <==    Updates: 0
2023-05-13 00:58:00.089 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38027195029000192 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2023-05-13 00:58:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027215740473344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:58:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027215740473344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:58:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027215740473344 [0;39m ==> Parameters: 
2023-05-13 00:58:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027215740473344 [0;39m <==    Updates: 1
2023-05-13 00:58:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027215740473344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 00:58:28.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027314222731264 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:58:28.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027314222731264 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 00:58:28.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027314222731264 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 00:58:28.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027314222731264 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:58:28.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027314222731264 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:58:28.483 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027314222731264 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 00:58:28.483 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027314222731264 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:58:28.484 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 00:58:28.484 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 54, 5
2023-05-13 00:58:28.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 00:58:28.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 00:58:28.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 00:58:28.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 00:58:28.486 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 00:58:28.486 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 00:58:28.486 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38027314222731264 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 00:58:28.486 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38027314222731264 [0;39m <==      Total: 8
2023-05-13 00:58:28.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027314222731264 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":54,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 00:58:28.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027314222731264 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 00:58:28.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38027314373726208 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 00:58:28.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38027314373726208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 00:58:28.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38027314373726208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 00:58:28.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38027314373726208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 00:58:28.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38027314373726208 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 00:58:28.518 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027314373726208 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 00:58:28.519 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027314373726208 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:58:28.520 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027314373726208 [0;39m <==    Columns: id, content
2023-05-13 00:58:28.520 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38027314373726208 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 00:58:28.531 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38027314373726208 [0;39m <==      Total: 1
2023-05-13 00:58:28.533 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027314373726208 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 00:58:28.533 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027314373726208 [0;39m ==> Parameters: 1(Long)
2023-05-13 00:58:28.535 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38027314373726208 [0;39m <==    Updates: 1
2023-05-13 00:58:28.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38027314373726208 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 00:58:28.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38027314373726208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-13 00:58:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027341628313600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:58:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027341628313600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:58:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027341628313600 [0;39m ==> Parameters: 
2023-05-13 00:58:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027341628313600 [0;39m <==    Updates: 1
2023-05-13 00:58:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027341628313600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:59:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38027446473330688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 00:59:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027446473330688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 00:59:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027446473330688 [0;39m ==> Parameters: 
2023-05-13 00:59:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027446473330688 [0;39m <==    Updates: 0
2023-05-13 00:59:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38027446473330688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 00:59:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027467415490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:59:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027467415490560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:59:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027467415490560 [0;39m ==> Parameters: 
2023-05-13 00:59:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027467415490560 [0;39m <==    Updates: 1
2023-05-13 00:59:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027467415490560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 00:59:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027593261387776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 00:59:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027593261387776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 00:59:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027593261387776 [0;39m ==> Parameters: 
2023-05-13 00:59:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027593261387776 [0;39m <==    Updates: 1
2023-05-13 00:59:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027593261387776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:00:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38027698089627648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:00:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027698089627648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:00:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027698089627648 [0;39m ==> Parameters: 
2023-05-13 01:00:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027698089627648 [0;39m <==    Updates: 0
2023-05-13 01:00:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38027698089627648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:00:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027719077924864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:00:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027719077924864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:00:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027719077924864 [0;39m ==> Parameters: 
2023-05-13 01:00:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027719077924864 [0;39m <==    Updates: 1
2023-05-13 01:00:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027719077924864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:00:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027844915433472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:00:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027844915433472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:00:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027844915433472 [0;39m ==> Parameters: 
2023-05-13 01:00:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027844915433472 [0;39m <==    Updates: 1
2023-05-13 01:00:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027844915433472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:01:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38027949773033472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:01:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027949773033472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:01:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027949773033472 [0;39m ==> Parameters: 
2023-05-13 01:01:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38027949773033472 [0;39m <==    Updates: 0
2023-05-13 01:01:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38027949773033472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:01:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38027970748747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:01:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027970748747776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:01:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027970748747776 [0;39m ==> Parameters: 
2023-05-13 01:01:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38027970748747776 [0;39m <==    Updates: 1
2023-05-13 01:01:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38027970748747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 01:01:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028096561090560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:01:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028096561090560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:01:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028096561090560 [0;39m ==> Parameters: 
2023-05-13 01:01:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028096561090560 [0;39m <==    Updates: 1
2023-05-13 01:01:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028096561090560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:01:35.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38028099551629312 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:01:35.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38028099551629312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:01:35.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38028099551629312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:01:35.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38028099551629312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:01:35.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38028099551629312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:01:35.721 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38028099551629312 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:01:35.721 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38028099551629312 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:01:35.722 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:01:35.722 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 55, 5
2023-05-13 01:01:35.722 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:01:35.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:01:35.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:01:35.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:01:35.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:01:35.723 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:01:35.724 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38028099551629312 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:01:35.724 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38028099551629312 [0;39m <==      Total: 8
2023-05-13 01:01:35.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38028099551629312 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":55,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:01:35.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38028099551629312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:01:35.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38028099702624256 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:01:35.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38028099702624256 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:01:35.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38028099702624256 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:01:35.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38028099702624256 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:01:35.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38028099702624256 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:01:35.755 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38028099702624256 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:01:35.756 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38028099702624256 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:01:35.757 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38028099702624256 [0;39m <==    Columns: id, content
2023-05-13 01:01:35.757 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38028099702624256 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:01:35.757 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38028099702624256 [0;39m <==      Total: 1
2023-05-13 01:01:35.758 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38028099702624256 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:01:35.758 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38028099702624256 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:01:35.760 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38028099702624256 [0;39m <==    Updates: 1
2023-05-13 01:01:35.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38028099702624256 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:01:35.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38028099702624256 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38028201448050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:02:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028201448050688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:02:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028201448050688 [0;39m ==> Parameters: 
2023-05-13 01:02:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028201448050688 [0;39m <==    Updates: 0
2023-05-13 01:02:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38028201448050688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 01:02:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028222377627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:02:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028222377627648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:02:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028222377627648 [0;39m ==> Parameters: 
2023-05-13 01:02:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028222377627648 [0;39m <==    Updates: 1
2023-05-13 01:02:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028222377627648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 01:02:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028348210941952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:02:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028348210941952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:02:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028348210941952 [0;39m ==> Parameters: 
2023-05-13 01:02:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028348210941952 [0;39m <==    Updates: 1
2023-05-13 01:02:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028348210941952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:03:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38028453106290688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:03:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028453106290688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:03:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028453106290688 [0;39m ==> Parameters: 
2023-05-13 01:03:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028453106290688 [0;39m <==    Updates: 0
2023-05-13 01:03:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38028453106290688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 01:03:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028474065227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028474065227776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028474065227776 [0;39m ==> Parameters: 
2023-05-13 01:03:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028474065227776 [0;39m <==    Updates: 1
2023-05-13 01:03:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028474065227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:03:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028599915319296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:03:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028599915319296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:03:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028599915319296 [0;39m ==> Parameters: 
2023-05-13 01:03:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028599915319296 [0;39m <==    Updates: 1
2023-05-13 01:03:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028599915319296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:04:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38028704747753472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:04:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028704747753472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:04:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028704747753472 [0;39m ==> Parameters: 
2023-05-13 01:04:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028704747753472 [0;39m <==    Updates: 0
2023-05-13 01:04:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38028704747753472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:04:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028725731856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028725731856384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028725731856384 [0;39m ==> Parameters: 
2023-05-13 01:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028725731856384 [0;39m <==    Updates: 1
2023-05-13 01:04:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028725731856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:04:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028851540004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028851540004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028851540004864 [0;39m ==> Parameters: 
2023-05-13 01:04:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028851540004864 [0;39m <==    Updates: 1
2023-05-13 01:04:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028851540004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:05:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38028956389216256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:05:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028956389216256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:05:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028956389216256 [0;39m ==> Parameters: 
2023-05-13 01:05:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38028956389216256 [0;39m <==    Updates: 0
2023-05-13 01:05:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38028956389216256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 01:05:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38028977373319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028977373319168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028977373319168 [0;39m ==> Parameters: 
2023-05-13 01:05:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38028977373319168 [0;39m <==    Updates: 1
2023-05-13 01:05:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38028977373319168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:05:35.030 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029103298908160 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:05:35.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029103298908160 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:05:35.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029103298908160 [0;39m ==> Parameters: 
2023-05-13 01:05:35.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029103298908160 [0;39m <==    Updates: 1
2023-05-13 01:05:35.032 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029103298908160 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:05:44.437 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38027140142338048 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šPZHClsx1gxï¼Œsession idï¼š5ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 01:05:45.414 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38027140289138688 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šUWDumtmLlIï¼Œsession idï¼š6ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 01:05:45.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029147112607744 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:05:45.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029147112607744 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:05:45.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029147112607744 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:05:45.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029147112607744 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:05:45.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029147112607744 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:05:45.480 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029147112607744 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:05:45.482 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029147112607744 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:05:45.483 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:05:45.483 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 56, 5
2023-05-13 01:05:45.483 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:05:45.483 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:05:45.483 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:05:45.484 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:05:45.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:05:45.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:05:45.485 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029147112607744 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:05:45.485 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029147112607744 [0;39m <==      Total: 8
2023-05-13 01:05:45.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029147112607744 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":56,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:05:45.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029147112607744 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 01:05:45.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029147397820416 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:05:45.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029147397820416 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:05:45.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029147397820416 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:05:45.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029147397820416 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:05:45.546 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029147397820416 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:05:45.546 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029147397820416 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:05:45.546 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029147397820416 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:05:45.548 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029147397820416 [0;39m <==    Columns: id, content
2023-05-13 01:05:45.548 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029147397820416 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:05:45.548 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029147397820416 [0;39m <==      Total: 1
2023-05-13 01:05:45.549 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029147397820416 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:05:45.549 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029147397820416 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:05:45.551 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029147397820416 [0;39m <==    Updates: 1
2023-05-13 01:05:45.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029147397820416 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:05:45.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029147397820416 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:06:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38029208055844864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:06:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029208055844864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:06:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029208055844864 [0;39m ==> Parameters: 
2023-05-13 01:06:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029208055844864 [0;39m <==    Updates: 0
2023-05-13 01:06:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38029208055844864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:06:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029229031559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:06:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029229031559168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:06:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029229031559168 [0;39m ==> Parameters: 
2023-05-13 01:06:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029229031559168 [0;39m <==    Updates: 1
2023-05-13 01:06:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029229031559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:06:09.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029246119153664 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:09.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029246119153664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:06:09.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029246119153664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:06:09.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029246119153664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:09.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029246119153664 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:09.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029246119153664 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:06:09.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029246119153664 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:09.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:06:09.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 57, 5
2023-05-13 01:06:09.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:06:09.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:06:09.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:06:09.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:06:09.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:06:09.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:06:09.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029246119153664 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:06:09.086 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029246119153664 [0;39m <==      Total: 8
2023-05-13 01:06:09.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029246119153664 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":57,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:06:09.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029246119153664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:06:09.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029246291120128 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:09.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029246291120128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:06:09.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029246291120128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:06:09.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029246291120128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:09.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029246291120128 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:09.124 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029246291120128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:06:09.124 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029246291120128 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:09.125 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029246291120128 [0;39m <==    Columns: id, content
2023-05-13 01:06:09.125 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029246291120128 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:06:09.125 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029246291120128 [0;39m <==      Total: 1
2023-05-13 01:06:09.126 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029246291120128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:06:09.126 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029246291120128 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:09.127 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029246291120128 [0;39m <==    Updates: 1
2023-05-13 01:06:09.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029246291120128 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:06:09.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029246291120128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:06:17.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029280101404672 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:17.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029280101404672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:06:17.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029280101404672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:06:17.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029280101404672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:17.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029280101404672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:17.187 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029280101404672 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:06:17.187 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029280101404672 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:17.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:06:17.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 58, 5
2023-05-13 01:06:17.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:06:17.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:06:17.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:06:17.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:06:17.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:06:17.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:06:17.190 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029280101404672 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:06:17.190 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029280101404672 [0;39m <==      Total: 8
2023-05-13 01:06:17.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029280101404672 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":58,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:06:17.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029280101404672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:06:17.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029280353062912 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:17.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029280353062912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:06:17.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029280353062912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:06:17.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029280353062912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:17.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029280353062912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:17.244 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029280353062912 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:06:17.245 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029280353062912 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:17.247 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029280353062912 [0;39m <==    Columns: id, content
2023-05-13 01:06:17.247 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029280353062912 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:06:17.248 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029280353062912 [0;39m <==      Total: 1
2023-05-13 01:06:17.249 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029280353062912 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:06:17.249 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029280353062912 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:17.250 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029280353062912 [0;39m <==    Updates: 1
2023-05-13 01:06:17.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029280353062912 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:06:17.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029280353062912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:06:21.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029299051270144 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:21.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029299051270144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:06:21.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029299051270144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:06:21.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029299051270144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:21.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029299051270144 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:21.703 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029299051270144 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:06:21.703 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029299051270144 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:21.704 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:06:21.704 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 59, 5
2023-05-13 01:06:21.704 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:06:21.704 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:06:21.705 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:06:21.705 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:06:21.705 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:06:21.705 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:06:21.705 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029299051270144 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:06:21.705 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029299051270144 [0;39m <==      Total: 8
2023-05-13 01:06:21.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029299051270144 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":59,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:06:21.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029299051270144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:06:21.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029299181293568 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:21.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029299181293568 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:06:21.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029299181293568 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:06:21.733 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029299181293568 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:21.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029299181293568 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:21.734 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029299181293568 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:06:21.735 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029299181293568 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:21.736 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029299181293568 [0;39m <==    Columns: id, content
2023-05-13 01:06:21.737 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029299181293568 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:06:21.737 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029299181293568 [0;39m <==      Total: 1
2023-05-13 01:06:21.737 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029299181293568 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:06:21.738 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029299181293568 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:21.739 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029299181293568 [0;39m <==    Updates: 1
2023-05-13 01:06:21.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029299181293568 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:06:21.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029299181293568 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:06:31.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029338947489792 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:31.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029338947489792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:06:31.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029338947489792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:06:31.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029338947489792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:31.215 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029338947489792 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:31.215 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029338947489792 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:06:31.216 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029338947489792 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:31.216 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:06:31.217 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 60, 5
2023-05-13 01:06:31.217 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:06:31.217 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:06:31.217 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:06:31.218 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:06:31.218 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:06:31.218 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:06:31.218 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38029338947489792 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:06:31.218 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38029338947489792 [0;39m <==      Total: 8
2023-05-13 01:06:31.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029338947489792 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":60,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:06:31.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029338947489792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:06:31.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38029339077513216 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:06:31.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38029339077513216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:06:31.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38029339077513216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:06:31.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38029339077513216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:06:31.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38029339077513216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:06:31.245 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029339077513216 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:06:31.245 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029339077513216 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:31.246 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029339077513216 [0;39m <==    Columns: id, content
2023-05-13 01:06:31.246 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38029339077513216 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:06:31.247 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38029339077513216 [0;39m <==      Total: 1
2023-05-13 01:06:31.248 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029339077513216 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:06:31.249 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029339077513216 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:06:31.250 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38029339077513216 [0;39m <==    Updates: 1
2023-05-13 01:06:31.250 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38029339077513216 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:06:31.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38029339077513216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:06:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029354873262080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:06:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029354873262080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:06:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029354873262080 [0;39m ==> Parameters: 
2023-05-13 01:06:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029354873262080 [0;39m <==    Updates: 1
2023-05-13 01:06:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029354873262080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:07:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38029459735056384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:07:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029459735056384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:07:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029459735056384 [0;39m ==> Parameters: 
2023-05-13 01:07:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029459735056384 [0;39m <==    Updates: 0
2023-05-13 01:07:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38029459735056384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 01:07:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029480668827648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:07:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029480668827648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:07:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029480668827648 [0;39m ==> Parameters: 
2023-05-13 01:07:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029480668827648 [0;39m <==    Updates: 1
2023-05-13 01:07:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029480668827648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:07:35.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029606569250816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:07:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029606569250816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:07:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029606569250816 [0;39m ==> Parameters: 
2023-05-13 01:07:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029606569250816 [0;39m <==    Updates: 1
2023-05-13 01:07:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029606569250816 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:08:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38029711389102080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:08:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029711389102080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:08:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029711389102080 [0;39m ==> Parameters: 
2023-05-13 01:08:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029711389102080 [0;39m <==    Updates: 0
2023-05-13 01:08:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38029711389102080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:08:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029732322873344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:08:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029732322873344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:08:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029732322873344 [0;39m ==> Parameters: 
2023-05-13 01:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029732322873344 [0;39m <==    Updates: 1
2023-05-13 01:08:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029732322873344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:08:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029858156187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:08:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029858156187648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:08:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029858156187648 [0;39m ==> Parameters: 
2023-05-13 01:08:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029858156187648 [0;39m <==    Updates: 1
2023-05-13 01:08:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029858156187648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:09:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38029963051536384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:09:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029963051536384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:09:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029963051536384 [0;39m ==> Parameters: 
2023-05-13 01:09:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38029963051536384 [0;39m <==    Updates: 0
2023-05-13 01:09:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38029963051536384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:09:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38029983989501952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:09:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029983989501952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:09:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029983989501952 [0;39m ==> Parameters: 
2023-05-13 01:09:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38029983989501952 [0;39m <==    Updates: 1
2023-05-13 01:09:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38029983989501952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:09:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38030109827010560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:09:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38030109827010560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:09:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38030109827010560 [0;39m ==> Parameters: 
2023-05-13 01:09:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38030109827010560 [0;39m <==    Updates: 1
2023-05-13 01:09:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38030109827010560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:10:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38030214709776384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:10:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38030214709776384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:10:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38030214709776384 [0;39m ==> Parameters: 
2023-05-13 01:10:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38030214709776384 [0;39m <==    Updates: 0
2023-05-13 01:10:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38030214709776384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:10:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38030235651936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:10:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38030235651936256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:10:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38030235651936256 [0;39m ==> Parameters: 
2023-05-13 01:10:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38030235651936256 [0;39m <==    Updates: 1
2023-05-13 01:10:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38030235651936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:15:02.650 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 13724 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-13 01:15:02.649 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-13 01:15:02.652 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-13 01:15:02.785 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-13 01:15:02.786 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-13 01:15:03.586 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-13 01:15:03.589 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-13 01:15:03.619 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2023-05-13 01:15:03.903 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$3280abd0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:03.915 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.560 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.564 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$d4bb20d1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.565 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.568 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.576 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.577 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.580 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.583 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.584 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.604 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.605 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.611 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.614 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:04.631 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:07.145 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:07.150 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 01:15:07.811 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-13 01:15:07.820 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-13 01:15:07.821 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-13 01:15:07.822 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-13 01:15:08.016 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-13 01:15:08.017 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 5230 ms
2023-05-13 01:15:09.206 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-13 01:15:09.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:09.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:09.778 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-13 01:15:09.849 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-13 01:15:15.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:15.061 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 01:15:15.061 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-13 01:15:15.072 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-13 01:15:15.082 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-13 01:15:15.093 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 12.873 seconds (JVM running for 14.383)
2023-05-13 01:15:15.093 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-13 01:15:15.093 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-13 01:15:19.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38031619805810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:15:35.032 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38031619805810688 [0;39m HikariPool-1 - Starting...
2023-05-13 01:15:35.482 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38031619805810688 [0;39m HikariPool-1 - Start completed.
2023-05-13 01:15:35.487 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031619805810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:15:35.499 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031619805810688 [0;39m ==> Parameters: 
2023-05-13 01:15:35.506 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031619805810688 [0;39m <==    Updates: 1
2023-05-13 01:15:35.508 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38031619805810688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š496æ¯«ç§’
2023-05-13 01:15:39.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:40.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:42.081 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:44.869 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-13 01:15:44.869 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-13 01:15:44.871 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-05-13 01:15:44.918 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šM8Dw5mnEPMï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 01:15:44.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38031661400723456 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:15:44.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38031661400723456 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:15:44.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38031661400723456 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:15:44.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38031661400723456 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:15:44.975 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38031661400723456 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:15:45.121 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38031661400723456 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:15:45.122 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38031661400723456 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:15:45.137 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:15:45.137 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 61, 5
2023-05-13 01:15:45.138 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:15:45.138 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:15:45.138 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:15:45.139 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:15:45.139 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:15:45.140 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:15:45.140 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38031661400723456 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:15:45.140 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38031661400723456 [0;39m <==      Total: 8
2023-05-13 01:15:45.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38031661400723456 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":61,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:15:45.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38031661400723456 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š235 ms -------------
2023-05-13 01:15:45.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38031662633848832 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:15:45.223 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38031662633848832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:15:45.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38031662633848832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:15:45.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38031662633848832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:15:45.224 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38031662633848832 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:15:45.224 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38031662633848832 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:15:45.226 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38031662633848832 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:15:45.234 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38031662633848832 [0;39m <==    Columns: id, content
2023-05-13 01:15:45.235 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38031662633848832 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:15:45.235 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38031662633848832 [0;39m <==      Total: 1
2023-05-13 01:15:45.236 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38031662633848832 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:15:45.237 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38031662633848832 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:15:45.240 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38031662633848832 [0;39m <==    Updates: 1
2023-05-13 01:15:45.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38031662633848832 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:15:45.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38031662633848832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-13 01:15:46.148 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:15:49.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38031679364927488 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:15:49.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38031679364927488 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-13 01:15:49.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38031679364927488 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-13 01:15:49.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38031679364927488 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:15:49.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38031679364927488 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-13 01:15:49.220 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38031679364927488 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-13 01:15:49.221 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38031679364927488 [0;39m ==> Parameters: test(String)
2023-05-13 01:15:49.222 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38031679364927488 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 01:15:49.222 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38031679364927488 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 01:15:49.223 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38031679364927488 [0;39m <==      Total: 1
2023-05-13 01:15:49.227 INFO  com.jiawa.wiki.controller.UserController          :86   [32m38031679364927488 [0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š38031679427842048ï¼Œå¹¶æ”¾å…¥redisä¸­
2023-05-13 01:15:49.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38031679364927488 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38031679427842048"},"success":true}
2023-05-13 01:15:49.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38031679364927488 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š141 ms -------------
2023-05-13 01:16:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38031724675993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:16:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38031724675993600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:16:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38031724675993600 [0;39m ==> Parameters: 
2023-05-13 01:16:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38031724675993600 [0;39m <==    Updates: 0
2023-05-13 01:16:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38031724675993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 01:16:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38031745647513600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:16:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031745647513600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:16:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031745647513600 [0;39m ==> Parameters: 
2023-05-13 01:16:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031745647513600 [0;39m <==    Updates: 1
2023-05-13 01:16:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38031745647513600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:16:09.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:16:12.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:16:14.067 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:16:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38031871472439296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:16:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031871472439296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:16:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031871472439296 [0;39m ==> Parameters: 
2023-05-13 01:16:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031871472439296 [0;39m <==    Updates: 1
2023-05-13 01:16:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38031871472439296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:16:38.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:16:39.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:16:42.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:16:44.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38031976300679168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:17:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38031976300679168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:17:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38031976300679168 [0;39m ==> Parameters: 
2023-05-13 01:17:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38031976300679168 [0;39m <==    Updates: 0
2023-05-13 01:17:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38031976300679168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-13 01:17:00.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:02.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38031997268004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:17:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031997268004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:17:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031997268004864 [0;39m ==> Parameters: 
2023-05-13 01:17:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38031997268004864 [0;39m <==    Updates: 1
2023-05-13 01:17:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38031997268004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:17:07.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:09.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:10.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:12.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:26.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032123076153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:17:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032123076153344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:17:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032123076153344 [0;39m ==> Parameters: 
2023-05-13 01:17:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032123076153344 [0;39m <==    Updates: 1
2023-05-13 01:17:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032123076153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:17:39.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:42.106 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:48.452 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:17:50.476 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38032228005056512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:18:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032228005056512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:18:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032228005056512 [0;39m ==> Parameters: 
2023-05-13 01:18:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032228005056512 [0;39m <==    Updates: 0
2023-05-13 01:18:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38032228005056512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:18:01.540 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šM8Dw5mnEPMï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 01:18:02.118 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šihgIF5emRRï¼Œsession idï¼š1ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 01:18:02.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032237031198720 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:18:02.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032237031198720 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:18:02.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032237031198720 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:18:02.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032237031198720 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:18:02.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032237031198720 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:18:02.172 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032237031198720 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:18:02.173 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032237031198720 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:18:02.174 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:18:02.174 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 62, 5
2023-05-13 01:18:02.174 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:18:02.176 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:18:02.176 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:18:02.177 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:18:02.177 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:18:02.177 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:18:02.178 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032237031198720 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:18:02.179 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032237031198720 [0;39m <==      Total: 8
2023-05-13 01:18:02.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032237031198720 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":62,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:18:02.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032237031198720 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 01:18:02.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032237228331008 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:18:02.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032237228331008 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:18:02.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032237228331008 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:18:02.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032237228331008 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:18:02.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032237228331008 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:18:02.219 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032237228331008 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:18:02.219 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032237228331008 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:18:02.222 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032237228331008 [0;39m <==    Columns: id, content
2023-05-13 01:18:02.222 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032237228331008 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:18:02.223 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032237228331008 [0;39m <==      Total: 1
2023-05-13 01:18:02.224 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032237228331008 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:18:02.224 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032237228331008 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:18:02.226 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032237228331008 [0;39m <==    Updates: 1
2023-05-13 01:18:02.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032237228331008 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:18:02.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032237228331008 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 01:18:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032248963993600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:18:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032248963993600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:18:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032248963993600 [0;39m ==> Parameters: 
2023-05-13 01:18:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032248963993600 [0;39m <==    Updates: 1
2023-05-13 01:18:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032248963993600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-13 01:18:07.962 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:09.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:14.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:16.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032374776336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032374776336384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032374776336384 [0;39m ==> Parameters: 
2023-05-13 01:18:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032374776336384 [0;39m <==    Updates: 1
2023-05-13 01:18:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032374776336384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-13 01:18:37.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:39.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:42.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:44.098 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:18:44.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032413586231296 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:18:44.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032413586231296 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:18:44.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032413586231296 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:18:44.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032413586231296 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:18:44.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032413586231296 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:18:44.266 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032413586231296 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:18:44.267 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032413586231296 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:18:44.268 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:18:44.268 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 63, 5
2023-05-13 01:18:44.268 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:18:44.269 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:18:44.269 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:18:44.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:18:44.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:18:44.270 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:18:44.271 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032413586231296 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:18:44.271 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032413586231296 [0;39m <==      Total: 8
2023-05-13 01:18:44.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032413586231296 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":63,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:18:44.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032413586231296 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:18:44.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032414508978176 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:18:44.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032414508978176 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:18:44.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032414508978176 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:18:44.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032414508978176 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:18:44.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032414508978176 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:18:44.487 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032414508978176 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:18:44.488 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032414508978176 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:18:44.491 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032414508978176 [0;39m <==    Columns: id, content
2023-05-13 01:18:44.492 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032414508978176 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:18:44.493 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032414508978176 [0;39m <==      Total: 1
2023-05-13 01:18:44.495 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032414508978176 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:18:44.496 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032414508978176 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:18:44.499 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032414508978176 [0;39m <==    Updates: 1
2023-05-13 01:18:44.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032414508978176 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:18:44.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032414508978176 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 01:19:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38032479608770560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:19:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032479608770560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:19:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032479608770560 [0;39m ==> Parameters: 
2023-05-13 01:19:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032479608770560 [0;39m <==    Updates: 0
2023-05-13 01:19:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38032479608770560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 01:19:05.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032500647399424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:19:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032500647399424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:19:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032500647399424 [0;39m ==> Parameters: 
2023-05-13 01:19:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032500647399424 [0;39m <==    Updates: 1
2023-05-13 01:19:05.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032500647399424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:19:06.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:10.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:12.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:28.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:30.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032626430382080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032626430382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032626430382080 [0;39m ==> Parameters: 
2023-05-13 01:19:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032626430382080 [0;39m <==    Updates: 1
2023-05-13 01:19:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032626430382080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:19:37.990 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:39.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:40.027 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:42.066 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:19:48.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032684823482368 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:19:48.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032684823482368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:19:48.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032684823482368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:19:48.933 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032684823482368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:19:48.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032684823482368 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:19:48.935 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032684823482368 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:19:48.935 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032684823482368 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:19:48.936 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:19:48.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 64, 5
2023-05-13 01:19:48.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:19:48.937 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:19:48.938 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:19:48.938 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:19:48.938 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:19:48.939 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:19:48.939 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032684823482368 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:19:48.939 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032684823482368 [0;39m <==      Total: 8
2023-05-13 01:19:48.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032684823482368 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":64,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:19:48.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032684823482368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:19:48.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032685096112128 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:19:48.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032685096112128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:19:48.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032685096112128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:19:48.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032685096112128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:19:48.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032685096112128 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:19:48.999 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032685096112128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:19:48.999 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032685096112128 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:19:49.000 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032685096112128 [0;39m <==    Columns: id, content
2023-05-13 01:19:49.000 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032685096112128 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:19:49.001 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032685096112128 [0;39m <==      Total: 1
2023-05-13 01:19:49.001 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032685096112128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:19:49.002 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032685096112128 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:19:49.004 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032685096112128 [0;39m <==    Updates: 1
2023-05-13 01:19:49.004 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032685096112128 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:19:49.004 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032685096112128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:19:50.385 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šihgIF5emRRï¼Œsession idï¼š1ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 01:19:52.029 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š5PkUQIV8hHï¼Œsession idï¼š2ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 01:19:52.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032698228477952 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:19:52.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032698228477952 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:19:52.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032698228477952 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:19:52.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032698228477952 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:19:52.129 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032698228477952 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:19:52.131 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032698228477952 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:19:52.131 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032698228477952 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:19:52.133 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:19:52.133 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 65, 5
2023-05-13 01:19:52.134 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:19:52.135 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:19:52.135 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:19:52.135 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:19:52.136 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:19:52.136 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:19:52.136 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38032698228477952 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:19:52.137 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38032698228477952 [0;39m <==      Total: 8
2023-05-13 01:19:52.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032698228477952 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":65,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:19:52.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032698228477952 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:19:52.196 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38032698513690624 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:19:52.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38032698513690624 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:19:52.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38032698513690624 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:19:52.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38032698513690624 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:19:52.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38032698513690624 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:19:52.198 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032698513690624 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:19:52.199 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032698513690624 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:19:52.200 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032698513690624 [0;39m <==    Columns: id, content
2023-05-13 01:19:52.200 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38032698513690624 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:19:52.200 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38032698513690624 [0;39m <==      Total: 1
2023-05-13 01:19:52.201 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032698513690624 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:19:52.201 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032698513690624 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:19:52.207 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38032698513690624 [0;39m <==    Updates: 1
2023-05-13 01:19:52.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38032698513690624 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:19:52.208 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38032698513690624 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 01:19:54.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38032731321536512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:20:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032731321536512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:20:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032731321536512 [0;39m ==> Parameters: 
2023-05-13 01:20:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032731321536512 [0;39m <==    Updates: 0
2023-05-13 01:20:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38032731321536512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 01:20:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032752221753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:20:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032752221753344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:20:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032752221753344 [0;39m ==> Parameters: 
2023-05-13 01:20:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032752221753344 [0;39m <==    Updates: 1
2023-05-13 01:20:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032752221753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 01:20:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:10.022 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:12.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:18.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38032878113787904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:20:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032878113787904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:20:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032878113787904 [0;39m ==> Parameters: 
2023-05-13 01:20:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38032878113787904 [0;39m <==    Updates: 1
2023-05-13 01:20:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38032878113787904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:20:37.971 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:39.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:40.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:20:44.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38032982950416384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032982950416384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032982950416384 [0;39m ==> Parameters: 
2023-05-13 01:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38032982950416384 [0;39m <==    Updates: 0
2023-05-13 01:21:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38032982950416384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 01:21:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033003917742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:21:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033003917742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:21:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033003917742080 [0;39m ==> Parameters: 
2023-05-13 01:21:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033003917742080 [0;39m <==    Updates: 1
2023-05-13 01:21:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033003917742080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:21:09.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:14.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:32.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033129734279168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:21:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033129734279168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:21:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033129734279168 [0;39m ==> Parameters: 
2023-05-13 01:21:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033129734279168 [0;39m <==    Updates: 1
2023-05-13 01:21:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033129734279168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 01:21:37.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:39.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:40.000 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:42.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:54.355 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:21:56.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38033234625433600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:22:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033234625433600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:22:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033234625433600 [0;39m ==> Parameters: 
2023-05-13 01:22:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033234625433600 [0;39m <==    Updates: 0
2023-05-13 01:22:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38033234625433600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-13 01:22:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033255596953600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:22:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033255596953600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:22:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033255596953600 [0;39m ==> Parameters: 
2023-05-13 01:22:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033255596953600 [0;39m <==    Updates: 1
2023-05-13 01:22:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033255596953600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-13 01:22:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:10.037 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:12.069 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:20.464 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033381384130560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:22:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033381384130560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:22:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033381384130560 [0;39m ==> Parameters: 
2023-05-13 01:22:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033381384130560 [0;39m <==    Updates: 1
2023-05-13 01:22:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033381384130560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:22:37.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:39.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:40.006 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:42.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:22:46.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38033486296256512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:23:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033486296256512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:23:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033486296256512 [0;39m ==> Parameters: 
2023-05-13 01:23:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033486296256512 [0;39m <==    Updates: 0
2023-05-13 01:23:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38033486296256512 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:23:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033507255193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:23:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033507255193600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:23:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033507255193600 [0;39m ==> Parameters: 
2023-05-13 01:23:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033507255193600 [0;39m <==    Updates: 1
2023-05-13 01:23:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033507255193600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:23:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:12.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:14.069 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033633084313600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033633084313600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033633084313600 [0;39m ==> Parameters: 
2023-05-13 01:23:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033633084313600 [0;39m <==    Updates: 1
2023-05-13 01:23:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033633084313600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š0æ¯«ç§’
2023-05-13 01:23:36.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:38.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:40.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:23:42.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38033737916747776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:24:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033737916747776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:24:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033737916747776 [0;39m ==> Parameters: 
2023-05-13 01:24:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033737916747776 [0;39m <==    Updates: 0
2023-05-13 01:24:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38033737916747776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:24:00.957 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033758892462080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:24:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033758892462080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:24:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033758892462080 [0;39m ==> Parameters: 
2023-05-13 01:24:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033758892462080 [0;39m <==    Updates: 1
2023-05-13 01:24:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033758892462080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:24:08.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:09.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:10.511 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:12.560 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:25.927 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38033884692221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:24:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033884692221952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:24:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033884692221952 [0;39m ==> Parameters: 
2023-05-13 01:24:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38033884692221952 [0;39m <==    Updates: 1
2023-05-13 01:24:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38033884692221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:24:38.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:39.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:43.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:48.094 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:24:50.497 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38033989600153600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:25:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033989600153600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:25:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033989600153600 [0;39m ==> Parameters: 
2023-05-13 01:25:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38033989600153600 [0;39m <==    Updates: 0
2023-05-13 01:25:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38033989600153600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:25:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034010571673600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:25:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034010571673600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:25:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034010571673600 [0;39m ==> Parameters: 
2023-05-13 01:25:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034010571673600 [0;39m <==    Updates: 1
2023-05-13 01:25:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034010571673600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:25:07.994 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:09.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:10.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:16.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034136400793600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:25:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034136400793600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:25:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034136400793600 [0;39m ==> Parameters: 
2023-05-13 01:25:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034136400793600 [0;39m <==    Updates: 1
2023-05-13 01:25:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034136400793600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:25:37.969 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:39.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:25:44.067 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38034241275170816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:26:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034241275170816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:26:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034241275170816 [0;39m ==> Parameters: 
2023-05-13 01:26:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034241275170816 [0;39m <==    Updates: 0
2023-05-13 01:26:00.029 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38034241275170816 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 01:26:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034262204747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:26:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034262204747776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:26:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034262204747776 [0;39m ==> Parameters: 
2023-05-13 01:26:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034262204747776 [0;39m <==    Updates: 1
2023-05-13 01:26:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034262204747776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:26:08.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:09.588 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:11.131 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:13.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:15.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:33.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034388000313344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:26:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034388000313344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:26:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034388000313344 [0;39m ==> Parameters: 
2023-05-13 01:26:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034388000313344 [0;39m <==    Updates: 1
2023-05-13 01:26:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034388000313344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:26:39.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:40.620 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:42.840 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:26:58.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:27:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38034492866301952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:27:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034492866301952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:27:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034492866301952 [0;39m ==> Parameters: 
2023-05-13 01:27:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034492866301952 [0;39m <==    Updates: 0
2023-05-13 01:27:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38034492866301952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:27:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034513842016256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:27:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034513842016256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:27:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034513842016256 [0;39m ==> Parameters: 
2023-05-13 01:27:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034513842016256 [0;39m <==    Updates: 1
2023-05-13 01:27:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034513842016256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:27:08.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:27:09.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:27:13.081 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:27:22.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:27:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034639708884992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:27:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034639708884992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:27:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034639708884992 [0;39m ==> Parameters: 
2023-05-13 01:27:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034639708884992 [0;39m <==    Updates: 1
2023-05-13 01:27:35.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034639708884992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 01:27:39.379 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:27:47.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:28:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38034744532930560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:28:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034744532930560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:28:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034744532930560 [0;39m ==> Parameters: 
2023-05-13 01:28:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034744532930560 [0;39m <==    Updates: 0
2023-05-13 01:28:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38034744532930560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:28:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034765525422080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:28:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034765525422080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:28:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034765525422080 [0;39m ==> Parameters: 
2023-05-13 01:28:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034765525422080 [0;39m <==    Updates: 1
2023-05-13 01:28:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034765525422080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:28:09.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:28:14.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:28:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38034891341959168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:28:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034891341959168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:28:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034891341959168 [0;39m ==> Parameters: 
2023-05-13 01:28:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38034891341959168 [0;39m <==    Updates: 1
2023-05-13 01:28:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38034891341959168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 01:28:39.428 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:28:44.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38034996186976256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:29:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034996186976256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:29:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034996186976256 [0;39m ==> Parameters: 
2023-05-13 01:29:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38034996186976256 [0;39m <==    Updates: 0
2023-05-13 01:29:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38034996186976256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 01:29:04.928 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035017166884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:29:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035017166884864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:29:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035017166884864 [0;39m ==> Parameters: 
2023-05-13 01:29:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035017166884864 [0;39m <==    Updates: 1
2023-05-13 01:29:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035017166884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:29:09.580 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:12.603 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:29.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035142996004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:29:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035142996004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:29:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035142996004864 [0;39m ==> Parameters: 
2023-05-13 01:29:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035142996004864 [0;39m <==    Updates: 1
2023-05-13 01:29:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035142996004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 01:29:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:42.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:29:53.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38035247845216256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:30:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035247845216256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:30:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035247845216256 [0;39m ==> Parameters: 
2023-05-13 01:30:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035247845216256 [0;39m <==    Updates: 0
2023-05-13 01:30:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38035247845216256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:30:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035268846096384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:30:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035268846096384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:30:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035268846096384 [0;39m ==> Parameters: 
2023-05-13 01:30:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035268846096384 [0;39m <==    Updates: 1
2023-05-13 01:30:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035268846096384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:30:09.641 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:13.036 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:15.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:17.463 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035394679410688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:30:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035394679410688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:30:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035394679410688 [0;39m ==> Parameters: 
2023-05-13 01:30:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035394679410688 [0;39m <==    Updates: 1
2023-05-13 01:30:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035394679410688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:30:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:42.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:30:44.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38035499520233472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:31:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035499520233472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:31:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035499520233472 [0;39m ==> Parameters: 
2023-05-13 01:31:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035499520233472 [0;39m <==    Updates: 0
2023-05-13 01:31:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38035499520233472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:31:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035520487559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:31:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035520487559168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:31:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035520487559168 [0;39m ==> Parameters: 
2023-05-13 01:31:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035520487559168 [0;39m <==    Updates: 1
2023-05-13 01:31:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035520487559168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:31:06.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:12.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:33.535 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035646320873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:31:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035646320873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:31:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035646320873472 [0;39m ==> Parameters: 
2023-05-13 01:31:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035646320873472 [0;39m <==    Updates: 1
2023-05-13 01:31:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035646320873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 01:31:39.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:40.024 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:42.067 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:31:57.632 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38035751207833600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:32:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035751207833600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:32:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035751207833600 [0;39m ==> Parameters: 
2023-05-13 01:32:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38035751207833600 [0;39m <==    Updates: 0
2023-05-13 01:32:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38035751207833600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:32:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035772170964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:32:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035772170964992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:32:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035772170964992 [0;39m ==> Parameters: 
2023-05-13 01:32:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035772170964992 [0;39m <==    Updates: 1
2023-05-13 01:32:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035772170964992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:32:09.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:12.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:19.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:21.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38035897987502080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:32:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035897987502080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:32:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035897987502080 [0;39m ==> Parameters: 
2023-05-13 01:32:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38035897987502080 [0;39m <==    Updates: 1
2023-05-13 01:32:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38035897987502080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:32:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:42.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:44.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:32:46.115 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38036002819936256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:33:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036002819936256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:33:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036002819936256 [0;39m ==> Parameters: 
2023-05-13 01:33:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036002819936256 [0;39m <==    Updates: 0
2023-05-13 01:33:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38036002819936256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:33:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036023791456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:33:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036023791456256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:33:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036023791456256 [0;39m ==> Parameters: 
2023-05-13 01:33:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036023791456256 [0;39m <==    Updates: 1
2023-05-13 01:33:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036023791456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:33:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:12.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:14.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036149666713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:33:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036149666713600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:33:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036149666713600 [0;39m ==> Parameters: 
2023-05-13 01:33:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036149666713600 [0;39m <==    Updates: 1
2023-05-13 01:33:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036149666713600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:33:39.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:40.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:42.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:33:50.951 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38032413586231296 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 01:33:50.953 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38032413586231296 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š1 ms -------------
2023-05-13 01:33:50.979 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38032414508978176 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 01:33:50.980 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38032414508978176 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-13 01:33:50.980 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38032414508978176 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38031679427842048
2023-05-13 01:33:50.985 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38032414508978176 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38031679427842048"}
2023-05-13 01:33:51.024 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036216813326336 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:51.030 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036216813326336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-13 01:33:51.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036216813326336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-13 01:33:51.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036216813326336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:51.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036216813326336 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-13 01:33:51.090 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38036216813326336 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-13 01:33:51.090 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38036216813326336 [0;39m ==> Parameters: 
2023-05-13 01:33:51.094 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38036216813326336 [0;39m <==    Columns: count(0)
2023-05-13 01:33:51.095 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38036216813326336 [0;39m <==        Row: 6
2023-05-13 01:33:51.096 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38036216813326336 [0;39m <==      Total: 1
2023-05-13 01:33:51.099 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38036216813326336 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-13 01:33:51.099 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38036216813326336 [0;39m ==> Parameters: 10(Integer)
2023-05-13 01:33:51.100 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 01:33:51.101 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 01:33:51.101 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-13 01:33:51.102 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-13 01:33:51.102 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-13 01:33:51.103 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-13 01:33:51.103 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036216813326336 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-13 01:33:51.103 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38036216813326336 [0;39m <==      Total: 6
2023-05-13 01:33:51.105 INFO  com.jiawa.wiki.service.UserService                :50   [32m38036216813326336 [0;39m æ€»è¡Œæ•°ï¼š6
2023-05-13 01:33:51.105 INFO  com.jiawa.wiki.service.UserService                :51   [32m38036216813326336 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:33:51.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036216813326336 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-13 01:33:51.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036216813326336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š89 ms -------------
2023-05-13 01:33:51.116 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38036216813326336 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š136 ms -------------
2023-05-13 01:33:51.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036220437204992 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:51.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036220437204992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:33:51.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036220437204992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:33:51.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036220437204992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:51.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036220437204992 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:51.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036220445593600 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:51.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036220445593600 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:33:51.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036220445593600 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:33:51.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036220445593600 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:51.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036220445593600 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:51.892 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036220437204992 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:33:51.893 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036220437204992 [0;39m ==> Parameters: 
2023-05-13 01:33:51.895 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036220437204992 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:33:51.896 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036220437204992 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:33:51.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036220479148032 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:51.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036220479148032 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:33:51.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036220479148032 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:33:51.898 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036220437204992 [0;39m <==        Row: 2023-05-13, 91, 10, 23, 0
2023-05-13 01:33:51.899 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036220437204992 [0;39m <==      Total: 2
2023-05-13 01:33:51.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036220479148032 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:51.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036220479148032 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:51.900 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036220479148032 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:33:51.901 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036220479148032 [0;39m ==> Parameters: 
2023-05-13 01:33:51.907 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036220479148032 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:33:51.908 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036220479148032 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:33:51.908 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036220479148032 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:33:51.909 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036220479148032 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:33:51.909 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036220479148032 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:33:51.910 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036220479148032 [0;39m <==      Total: 4
2023-05-13 01:33:51.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036220437204992 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":91,"viewIncrease":23,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:33:51.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036220479148032 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:33:51.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036220437204992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š32 ms -------------
2023-05-13 01:33:51.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036220479148032 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š22 ms -------------
2023-05-13 01:33:51.920 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036220445593600 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:33:51.921 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036220445593600 [0;39m ==> Parameters: 
2023-05-13 01:33:51.930 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:33:51.931 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:33:51.931 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:33:51.931 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:33:51.932 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:33:51.932 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:33:51.932 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:33:51.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:33:51.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:33:51.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:33:51.934 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:33:51.934 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:33:51.934 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:33:51.935 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:33:51.935 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:33:51.936 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036220445593600 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:33:51.936 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036220445593600 [0;39m <==      Total: 15
2023-05-13 01:33:51.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036220445593600 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:33:51.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036220445593600 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š55 ms -------------
2023-05-13 01:33:52.682 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38032698513690624 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 01:33:52.683 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38032698513690624 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/list
2023-05-13 01:33:52.683 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38032698513690624 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38031679427842048
2023-05-13 01:33:52.696 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38032698513690624 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38031679427842048"}
2023-05-13 01:33:52.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036223834591232 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:52.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036223834591232 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/list GET
2023-05-13 01:33:52.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036223834591232 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.list
2023-05-13 01:33:52.698 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036223834591232 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:52.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036223834591232 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-13 01:33:52.700 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38036223834591232 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-13 01:33:52.700 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38036223834591232 [0;39m ==> Parameters: 
2023-05-13 01:33:52.708 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38036223834591232 [0;39m <==    Columns: count(0)
2023-05-13 01:33:52.708 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m38036223834591232 [0;39m <==        Row: 6
2023-05-13 01:33:52.708 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m38036223834591232 [0;39m <==      Total: 1
2023-05-13 01:33:52.709 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38036223834591232 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-13 01:33:52.709 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38036223834591232 [0;39m ==> Parameters: 10(Integer)
2023-05-13 01:33:52.710 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 01:33:52.710 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 01:33:52.711 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-13 01:33:52.711 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-13 01:33:52.711 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-13 01:33:52.712 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-13 01:33:52.712 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38036223834591232 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-13 01:33:52.713 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38036223834591232 [0;39m <==      Total: 6
2023-05-13 01:33:52.713 INFO  com.jiawa.wiki.service.UserService                :50   [32m38036223834591232 [0;39m æ€»è¡Œæ•°ï¼š6
2023-05-13 01:33:52.713 INFO  com.jiawa.wiki.service.UserService                :51   [32m38036223834591232 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:33:52.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036223834591232 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"id":1,"loginName":"test","name":"æµ‹è¯•"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-13 01:33:52.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036223834591232 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-13 01:33:52.715 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38036223834591232 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š32 ms -------------
2023-05-13 01:33:53.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036229203300352 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:53.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036229203300352 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:33:53.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036229203300352 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:33:53.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036229203300352 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:53.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036229203300352 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:53.980 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036229203300352 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:33:53.980 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036229203300352 [0;39m ==> Parameters: 
2023-05-13 01:33:53.981 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:33:53.981 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:33:53.983 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:33:53.983 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:33:53.983 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:33:53.984 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:33:53.984 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:33:53.984 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:33:53.984 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:33:53.985 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:33:53.985 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:33:53.985 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:33:53.986 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:33:53.986 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:33:53.986 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:33:53.986 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036229203300352 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:33:53.986 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036229203300352 [0;39m <==      Total: 15
2023-05-13 01:33:53.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036229203300352 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:33:53.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036229203300352 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 01:33:54.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036229698228224 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:54.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036229698228224 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:33:54.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036229698228224 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:33:54.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036229698228224 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:54.099 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036229698228224 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-13 01:33:54.112 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036229698228224 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-13 01:33:54.115 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036229698228224 [0;39m ==> Parameters: 
2023-05-13 01:33:54.121 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036229698228224 [0;39m <==    Columns: count(0)
2023-05-13 01:33:54.123 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036229698228224 [0;39m <==        Row: 5
2023-05-13 01:33:54.123 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036229698228224 [0;39m <==      Total: 1
2023-05-13 01:33:54.124 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036229698228224 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-13 01:33:54.124 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036229698228224 [0;39m ==> Parameters: 10(Integer)
2023-05-13 01:33:54.125 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036229698228224 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:33:54.126 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036229698228224 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 91, 10
2023-05-13 01:33:54.126 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036229698228224 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:33:54.127 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036229698228224 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:33:54.127 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036229698228224 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:33:54.127 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036229698228224 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:33:54.127 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036229698228224 [0;39m <==      Total: 5
2023-05-13 01:33:54.128 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036229698228224 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-13 01:33:54.128 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036229698228224 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:33:54.148 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036229698228224 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":91,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-13 01:33:54.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036229698228224 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š53 ms -------------
2023-05-13 01:33:54.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036231342395392 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:54.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036231342395392 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:33:54.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036231342395392 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:33:54.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036231342395392 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:54.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036231342395392 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:54.489 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036231342395392 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:33:54.489 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036231346589696 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:54.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036231346589696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:33:54.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036231346589696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:33:54.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036231346589696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:54.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036231346589696 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:54.492 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036231342395392 [0;39m ==> Parameters: 
2023-05-13 01:33:54.493 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036231342395392 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:33:54.494 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036231342395392 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:33:54.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036231367561216 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:54.494 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036231342395392 [0;39m <==        Row: 2023-05-13, 91, 10, 23, 0
2023-05-13 01:33:54.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036231367561216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:33:54.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036231367561216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:33:54.494 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036231342395392 [0;39m <==      Total: 2
2023-05-13 01:33:54.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036231367561216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:54.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036231342395392 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":91,"viewIncrease":23,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:33:54.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036231342395392 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:33:54.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036231367561216 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:33:54.498 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036231346589696 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:33:54.499 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036231367561216 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:33:54.499 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036231346589696 [0;39m ==> Parameters: 
2023-05-13 01:33:54.499 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036231367561216 [0;39m ==> Parameters: 
2023-05-13 01:33:54.500 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:33:54.501 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:33:54.501 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036231346589696 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:33:54.501 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:33:54.501 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036231346589696 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:33:54.501 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:33:54.501 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036231346589696 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:33:54.501 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:33:54.502 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036231346589696 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:33:54.502 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:33:54.502 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036231346589696 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:33:54.502 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:33:54.502 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036231346589696 [0;39m <==      Total: 4
2023-05-13 01:33:54.502 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:33:54.502 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:33:54.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036231346589696 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:33:54.503 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:33:54.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036231346589696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 01:33:54.503 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:33:54.503 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:33:54.503 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:33:54.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:33:54.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:33:54.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036231367561216 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:33:54.505 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036231367561216 [0;39m <==      Total: 15
2023-05-13 01:33:54.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036231367561216 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:33:54.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036231367561216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 01:33:57.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036242205642752 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:57.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036242205642752 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:33:57.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036242205642752 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:33:57.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036242205642752 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:57.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036242205642752 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":401,"page":1,"size":1000}]
2023-05-13 01:33:57.100 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036242205642752 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:33:57.102 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036242205642752 [0;39m ==> Parameters: 401(Long)
2023-05-13 01:33:57.103 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036242205642752 [0;39m <==    Columns: count(0)
2023-05-13 01:33:57.104 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036242205642752 [0;39m <==        Row: 1
2023-05-13 01:33:57.104 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036242205642752 [0;39m <==      Total: 1
2023-05-13 01:33:57.105 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036242205642752 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 01:33:57.106 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036242205642752 [0;39m ==> Parameters: 401(Long), 1000(Integer)
2023-05-13 01:33:57.107 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036242205642752 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:33:57.107 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036242205642752 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:33:57.107 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036242205642752 [0;39m <==      Total: 1
2023-05-13 01:33:57.107 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036242205642752 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 01:33:57.108 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036242205642752 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:33:57.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036242205642752 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-13 01:33:57.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036242205642752 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š31 ms -------------
2023-05-13 01:33:58.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036247058452480 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:33:58.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036247058452480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:33:58.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036247058452480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:33:58.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036247058452480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:33:58.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036247058452480 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 01:33:58.240 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036247058452480 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:33:58.241 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036247058452480 [0;39m ==> Parameters: 202(Long)
2023-05-13 01:33:58.242 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036247058452480 [0;39m <==    Columns: count(0)
2023-05-13 01:33:58.243 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036247058452480 [0;39m <==        Row: 1
2023-05-13 01:33:58.243 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036247058452480 [0;39m <==      Total: 1
2023-05-13 01:33:58.244 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036247058452480 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 01:33:58.245 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036247058452480 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 01:33:58.247 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036247058452480 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:33:58.247 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036247058452480 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 91, 10
2023-05-13 01:33:58.248 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036247058452480 [0;39m <==      Total: 1
2023-05-13 01:33:58.248 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036247058452480 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 01:33:58.248 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036247058452480 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:33:58.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036247058452480 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":91,"voteCount":10}],"total":1},"success":true}
2023-05-13 01:33:58.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036247058452480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š13 ms -------------
2023-05-13 01:34:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38036254465593344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:34:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036254465593344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:34:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036254465593344 [0;39m ==> Parameters: 
2023-05-13 01:34:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036254465593344 [0;39m <==    Updates: 0
2023-05-13 01:34:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38036254465593344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:34:01.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036262044700672 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036262044700672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:34:01.808 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036262044700672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:34:01.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036262044700672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:01.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036262044700672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:34:01.810 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036262044700672 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:34:01.810 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036262044700672 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:34:01.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:34:01.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 66, 5
2023-05-13 01:34:01.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:34:01.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:34:01.811 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:34:01.812 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:34:01.812 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:34:01.813 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:34:01.813 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38036262044700672 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:34:01.813 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036262044700672 [0;39m <==      Total: 8
2023-05-13 01:34:01.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036262044700672 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":66,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:34:01.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036262044700672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:34:01.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036262145363968 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:01.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036262145363968 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:34:01.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036262145363968 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:34:01.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036262145363968 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:01.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036262145363968 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:34:01.835 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38036262145363968 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:34:01.836 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38036262145363968 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:34:01.837 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38036262145363968 [0;39m <==    Columns: id, content
2023-05-13 01:34:01.837 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38036262145363968 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:34:01.837 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38036262145363968 [0;39m <==      Total: 1
2023-05-13 01:34:01.838 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38036262145363968 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:34:01.838 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38036262145363968 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:34:01.841 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38036262145363968 [0;39m <==    Updates: 1
2023-05-13 01:34:01.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036262145363968 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:34:01.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036262145363968 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:34:03.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036275491639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:34:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036275491639296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:34:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036275491639296 [0;39m ==> Parameters: 
2023-05-13 01:34:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036275491639296 [0;39m <==    Updates: 1
2023-05-13 01:34:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036275491639296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:34:06.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036279945990144 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:06.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036279945990144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:34:06.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036279945990144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:34:06.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036279945990144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:06.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036279945990144 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:06.078 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036279945990144 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:34:06.078 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036279945990144 [0;39m ==> Parameters: 
2023-05-13 01:34:06.080 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036279945990144 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:34:06.080 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036279945990144 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:34:06.081 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036279945990144 [0;39m <==        Row: 2023-05-13, 91, 10, 23, 0
2023-05-13 01:34:06.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036279966961664 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:06.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036279966961664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:34:06.081 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036279945990144 [0;39m <==      Total: 2
2023-05-13 01:34:06.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036279966961664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:34:06.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036279945990144 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":91,"viewIncrease":23,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:34:06.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036279945990144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:34:06.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036279971155968 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:06.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036279971155968 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:34:06.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036279971155968 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:34:06.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036279971155968 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:06.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036279971155968 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:06.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036279966961664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:06.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036279966961664 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:06.083 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036279971155968 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:34:06.083 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036279971155968 [0;39m ==> Parameters: 
2023-05-13 01:34:06.083 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036279966961664 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:34:06.084 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036279966961664 [0;39m ==> Parameters: 
2023-05-13 01:34:06.084 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036279971155968 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:34:06.084 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036279971155968 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:34:06.084 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:34:06.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:34:06.085 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036279971155968 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:34:06.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:34:06.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:34:06.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:34:06.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:34:06.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:34:06.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:34:06.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:34:06.086 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036279971155968 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:34:06.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:34:06.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:34:06.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:34:06.087 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036279971155968 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:34:06.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:34:06.087 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036279971155968 [0;39m <==      Total: 4
2023-05-13 01:34:06.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:34:06.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:34:06.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036279971155968 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:34:06.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036279966961664 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:34:06.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036279971155968 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:34:06.088 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036279966961664 [0;39m <==      Total: 15
2023-05-13 01:34:06.088 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036279966961664 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:34:06.088 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036279966961664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:34:07.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036284194820096 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:07.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036284194820096 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:34:07.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036284194820096 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:34:07.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036284194820096 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:07.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036284194820096 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-13 01:34:07.093 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036284194820096 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:34:07.094 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036284194820096 [0;39m ==> Parameters: 201(Long)
2023-05-13 01:34:07.095 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036284194820096 [0;39m <==    Columns: count(0)
2023-05-13 01:34:07.096 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036284194820096 [0;39m <==        Row: 0
2023-05-13 01:34:07.096 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036284194820096 [0;39m <==      Total: 1
2023-05-13 01:34:07.096 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036284194820096 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 01:34:07.097 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036284194820096 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 01:34:07.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036284194820096 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 01:34:07.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036284194820096 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:34:07.721 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036286845620224 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:07.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036286845620224 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:34:07.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036286845620224 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:34:07.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036286845620224 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:07.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036286845620224 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-13 01:34:07.726 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036286845620224 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:34:07.727 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036286845620224 [0;39m ==> Parameters: 102(Long)
2023-05-13 01:34:07.728 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036286845620224 [0;39m <==    Columns: count(0)
2023-05-13 01:34:07.728 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036286845620224 [0;39m <==        Row: 0
2023-05-13 01:34:07.728 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036286845620224 [0;39m <==      Total: 1
2023-05-13 01:34:07.729 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036286845620224 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 01:34:07.729 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036286845620224 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 01:34:07.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036286845620224 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 01:34:07.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036286845620224 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:34:08.291 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036289236373504 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:08.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036289236373504 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:34:08.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036289236373504 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:34:08.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036289236373504 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:08.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036289236373504 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-13 01:34:08.298 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036289236373504 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:34:08.299 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036289236373504 [0;39m ==> Parameters: 101(Long)
2023-05-13 01:34:08.300 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036289236373504 [0;39m <==    Columns: count(0)
2023-05-13 01:34:08.300 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036289236373504 [0;39m <==        Row: 1
2023-05-13 01:34:08.301 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036289236373504 [0;39m <==      Total: 1
2023-05-13 01:34:08.301 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036289236373504 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 01:34:08.302 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036289236373504 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-13 01:34:08.303 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036289236373504 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:34:08.303 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036289236373504 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:34:08.303 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036289236373504 [0;39m <==      Total: 1
2023-05-13 01:34:08.304 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036289236373504 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 01:34:08.304 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036289236373504 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:34:08.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036289236373504 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-13 01:34:08.305 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036289236373504 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 01:34:09.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036292902195200 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:09.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036292902195200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/2 GET
2023-05-13 01:34:09.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036292902195200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:34:09.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036292902195200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:09.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036292902195200 [0;39m è¯·æ±‚å‚æ•°: [2]
2023-05-13 01:34:09.168 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036292902195200 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:34:09.169 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036292902195200 [0;39m ==> Parameters: 2(Long)
2023-05-13 01:34:09.170 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036292902195200 [0;39m <==      Total: 0
2023-05-13 01:34:09.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036292902195200 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-13 01:34:09.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036292902195200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:34:09.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:10.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036297759199232 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:10.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036297759199233 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:10.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036297759199233 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:34:10.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036297759199233 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:34:10.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036297759199233 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:10.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036297759199233 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:10.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036297759199232 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:34:10.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036297759199232 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:34:10.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036297759199232 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:10.326 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036297759199233 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:34:10.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036297759199232 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:10.326 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036297759199233 [0;39m ==> Parameters: 
2023-05-13 01:34:10.327 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036297759199233 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:34:10.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036297759199233 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:34:10.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036297759199233 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:34:10.328 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036297759199233 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:34:10.329 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036297759199233 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:34:10.329 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036297759199232 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:34:10.329 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036297759199233 [0;39m <==      Total: 4
2023-05-13 01:34:10.329 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036297759199232 [0;39m ==> Parameters: 
2023-05-13 01:34:10.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036297759199233 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:34:10.330 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036297759199232 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:34:10.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036297759199233 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:34:10.330 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036297759199232 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:34:10.330 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036297759199232 [0;39m <==        Row: 2023-05-13, 91, 10, 23, 0
2023-05-13 01:34:10.331 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036297759199232 [0;39m <==      Total: 2
2023-05-13 01:34:10.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036297759199232 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":91,"viewIncrease":23,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:34:10.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036297759199232 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:34:10.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036297801142272 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:10.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036297801142272 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:34:10.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036297801142272 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:34:10.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036297801142272 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:10.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036297801142272 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:10.334 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036297801142272 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:34:10.334 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036297801142272 [0;39m ==> Parameters: 
2023-05-13 01:34:10.335 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:34:10.336 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:34:10.336 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:34:10.336 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:34:10.336 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:34:10.336 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:34:10.337 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:34:10.337 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:34:10.337 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:34:10.337 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:34:10.338 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:34:10.338 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:34:10.338 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:34:10.339 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:34:10.339 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:34:10.339 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036297801142272 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:34:10.339 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036297801142272 [0;39m <==      Total: 15
2023-05-13 01:34:10.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036297801142272 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:34:10.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036297801142272 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:34:11.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036301651513344 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:11.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036301651513344 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:34:11.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036301651513344 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:34:11.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036301651513344 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:11.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036301651513344 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:11.252 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036301651513344 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:34:11.253 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036301651513344 [0;39m ==> Parameters: 
2023-05-13 01:34:11.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:34:11.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:34:11.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:34:11.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:34:11.255 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:34:11.255 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:34:11.255 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:34:11.255 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:34:11.256 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:34:11.256 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:34:11.256 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:34:11.256 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:34:11.256 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:34:11.257 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:34:11.257 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:34:11.257 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036301651513344 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:34:11.257 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036301651513344 [0;39m <==      Total: 15
2023-05-13 01:34:11.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036301651513344 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:34:11.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036301651513344 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:34:11.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036301919948800 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:11.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036301919948800 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:34:11.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036301919948800 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:34:11.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036301919948800 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:11.317 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036301919948800 [0;39m è¯·æ±‚å‚æ•°: [{"page":1,"size":10}]
2023-05-13 01:34:11.319 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036301919948800 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-13 01:34:11.319 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036301919948800 [0;39m ==> Parameters: 
2023-05-13 01:34:11.321 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036301919948800 [0;39m <==    Columns: count(0)
2023-05-13 01:34:11.321 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036301919948800 [0;39m <==        Row: 5
2023-05-13 01:34:11.321 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036301919948800 [0;39m <==      Total: 1
2023-05-13 01:34:11.322 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036301919948800 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-13 01:34:11.322 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036301919948800 [0;39m ==> Parameters: 10(Integer)
2023-05-13 01:34:11.323 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036301919948800 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:34:11.324 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036301919948800 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 92, 10
2023-05-13 01:34:11.324 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036301919948800 [0;39m <==        Row: 2, Vue å…¥é—¨æ•™ç¨‹, 100, 101, é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:34:11.324 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036301919948800 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:34:11.325 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036301919948800 [0;39m <==        Row: 4, Mysql å…¥é—¨æ•™ç¨‹, 400, 401, é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:34:11.325 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036301919948800 [0;39m <==        Row: 5, Oracle å…¥é—¨æ•™ç¨‹, null, null, é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:34:11.325 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036301919948800 [0;39m <==      Total: 5
2023-05-13 01:34:11.325 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036301919948800 [0;39m æ€»è¡Œæ•°ï¼š5
2023-05-13 01:34:11.326 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036301919948800 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:34:11.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036301919948800 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":92,"voteCount":10},{"category1Id":100,"category2Id":101,"description":"é›¶åŸºç¡€å…¥é—¨ Vue å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":2,"name":"Vue å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"é›¶åŸºç¡€å…¥é—¨ Mysql å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":4,"name":"Mysql å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0},{"description":"é›¶åŸºç¡€å…¥é—¨ Oracle å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":5,"name":"Oracle å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-13 01:34:11.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036301919948800 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 01:34:12.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:14.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036314192482305 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:14.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036314192482305 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:34:14.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036314192482305 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:34:14.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036314192482305 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:14.241 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036314192482304 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:14.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036314192482305 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:14.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036314192482304 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:34:14.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036314192482304 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:34:14.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036314192482304 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:14.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036314192482304 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:14.243 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036314192482305 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:34:14.243 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036314192482305 [0;39m ==> Parameters: 
2023-05-13 01:34:14.243 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036314192482304 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:34:14.243 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036314192482304 [0;39m ==> Parameters: 
2023-05-13 01:34:14.244 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036314192482305 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:34:14.244 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036314192482304 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:34:14.244 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036314192482305 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:34:14.244 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036314192482304 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:34:14.245 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38036314192482304 [0;39m <==        Row: 2023-05-13, 91, 10, 23, 0
2023-05-13 01:34:14.245 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036314192482305 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:34:14.245 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38036314192482304 [0;39m <==      Total: 2
2023-05-13 01:34:14.245 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036314192482305 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:34:14.245 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036314192482304 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":91,"viewIncrease":23,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:34:14.245 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38036314192482305 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:34:14.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036314192482304 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:34:14.246 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38036314192482305 [0;39m <==      Total: 4
2023-05-13 01:34:14.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036314192482305 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:34:14.246 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036314192482305 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:34:14.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036314221842432 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:14.248 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036314221842432 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:34:14.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036314221842432 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:34:14.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036314221842432 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:14.249 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036314221842432 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:34:14.249 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036314221842432 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:34:14.249 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036314221842432 [0;39m ==> Parameters: 
2023-05-13 01:34:14.250 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:34:14.251 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:34:14.251 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:34:14.251 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:34:14.252 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:34:14.252 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:34:14.252 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:34:14.252 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:34:14.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:34:14.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:34:14.253 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:34:14.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:34:14.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:34:14.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:34:14.254 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:34:14.255 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38036314221842432 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:34:14.255 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38036314221842432 [0;39m <==      Total: 15
2023-05-13 01:34:14.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036314221842432 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:34:14.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036314221842432 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:34:15.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036319410196480 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:15.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036319410196480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:34:15.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036319410196480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:34:15.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036319410196480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:15.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036319410196480 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":301,"page":1,"size":1000}]
2023-05-13 01:34:15.488 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036319410196480 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:34:15.488 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036319410196480 [0;39m ==> Parameters: 301(Long)
2023-05-13 01:34:15.490 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036319410196480 [0;39m <==    Columns: count(0)
2023-05-13 01:34:15.491 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38036319410196480 [0;39m <==        Row: 1
2023-05-13 01:34:15.492 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38036319410196480 [0;39m <==      Total: 1
2023-05-13 01:34:15.493 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036319410196480 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 01:34:15.494 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036319410196480 [0;39m ==> Parameters: 301(Long), 1000(Integer)
2023-05-13 01:34:15.494 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036319410196480 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:34:15.495 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38036319410196480 [0;39m <==        Row: 3, Python å…¥é—¨æ•™ç¨‹, 300, 301, é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 0, 0, 0
2023-05-13 01:34:15.495 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38036319410196480 [0;39m <==      Total: 1
2023-05-13 01:34:15.496 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38036319410196480 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 01:34:15.496 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38036319410196480 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:34:15.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036319410196480 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":300,"category2Id":301,"description":"é›¶åŸºç¡€å…¥é—¨ Python å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":0,"id":3,"name":"Python å…¥é—¨æ•™ç¨‹","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-13 01:34:15.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036319410196480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 01:34:16.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38036324837625856 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:34:16.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38036324837625856 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/3 GET
2023-05-13 01:34:16.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38036324837625856 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:34:16.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38036324837625856 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:34:16.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38036324837625856 [0;39m è¯·æ±‚å‚æ•°: [3]
2023-05-13 01:34:16.782 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036324837625856 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:34:16.783 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036324837625856 [0;39m ==> Parameters: 3(Long)
2023-05-13 01:34:16.784 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38036324837625856 [0;39m <==      Total: 0
2023-05-13 01:34:16.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38036324837625856 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-13 01:34:16.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38036324837625856 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:34:27.623 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036401287204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:34:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036401287204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:34:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036401287204864 [0;39m ==> Parameters: 
2023-05-13 01:34:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036401287204864 [0;39m <==    Updates: 1
2023-05-13 01:34:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036401287204864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:34:39.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:42.055 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:50.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:34:53.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38036506148999168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:35:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036506148999168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:35:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036506148999168 [0;39m ==> Parameters: 
2023-05-13 01:35:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036506148999168 [0;39m <==    Updates: 0
2023-05-13 01:35:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38036506148999168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:35:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036527107936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:35:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036527107936256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:35:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036527107936256 [0;39m ==> Parameters: 
2023-05-13 01:35:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036527107936256 [0;39m <==    Updates: 1
2023-05-13 01:35:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036527107936256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:35:07.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:09.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:10.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:12.075 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:17.066 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036652953833472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:35:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036652953833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:35:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036652953833472 [0;39m ==> Parameters: 
2023-05-13 01:35:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036652953833472 [0;39m <==    Updates: 1
2023-05-13 01:35:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036652953833472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 01:35:39.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:42.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:35:44.238 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38036757790461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:36:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036757790461952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:36:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036757790461952 [0;39m ==> Parameters: 
2023-05-13 01:36:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38036757790461952 [0;39m <==    Updates: 0
2023-05-13 01:36:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38036757790461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:36:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036778753593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:36:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036778753593344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:36:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036778753593344 [0;39m ==> Parameters: 
2023-05-13 01:36:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036778753593344 [0;39m <==    Updates: 1
2023-05-13 01:36:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036778753593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:36:06.299 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:08.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:09.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:14.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:32.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38036904582713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:36:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036904582713344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:36:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036904582713344 [0;39m ==> Parameters: 
2023-05-13 01:36:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38036904582713344 [0;39m <==    Updates: 1
2023-05-13 01:36:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38036904582713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:36:39.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:40.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:42.048 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:54.468 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:36:56.502 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38037009499033600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:37:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037009499033600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:37:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037009499033600 [0;39m ==> Parameters: 
2023-05-13 01:37:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037009499033600 [0;39m <==    Updates: 0
2023-05-13 01:37:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38037009499033600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:37:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037030457970688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:37:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037030457970688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:37:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037030457970688 [0;39m ==> Parameters: 
2023-05-13 01:37:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037030457970688 [0;39m <==    Updates: 1
2023-05-13 01:37:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037030457970688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:37:07.976 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:09.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:10.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:12.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:20.591 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037156287090688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:37:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037156287090688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:37:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037156287090688 [0;39m ==> Parameters: 
2023-05-13 01:37:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037156287090688 [0;39m <==    Updates: 1
2023-05-13 01:37:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037156287090688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:37:37.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:39.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:40.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:42.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:44.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:37:46.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38037261115330560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:38:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037261115330560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:38:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037261115330560 [0;39m ==> Parameters: 
2023-05-13 01:38:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037261115330560 [0;39m <==    Updates: 0
2023-05-13 01:38:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38037261115330560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:38:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037282074267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:38:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037282074267648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:38:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037282074267648 [0;39m ==> Parameters: 
2023-05-13 01:38:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037282074267648 [0;39m <==    Updates: 1
2023-05-13 01:38:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037282074267648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:38:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:12.037 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:14.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037407945330688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:38:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037407945330688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:38:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037407945330688 [0;39m ==> Parameters: 
2023-05-13 01:38:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037407945330688 [0;39m <==    Updates: 1
2023-05-13 01:38:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037407945330688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:38:36.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:38.156 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:39.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:42.235 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:38:44.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38037512777764864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:39:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037512777764864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:39:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037512777764864 [0;39m ==> Parameters: 
2023-05-13 01:39:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037512777764864 [0;39m <==    Updates: 0
2023-05-13 01:39:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38037512777764864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:39:00.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:02.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037533740896256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:39:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037533740896256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:39:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037533740896256 [0;39m ==> Parameters: 
2023-05-13 01:39:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037533740896256 [0;39m <==    Updates: 1
2023-05-13 01:39:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037533740896256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:39:07.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:12.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:24.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:26.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037659570016256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:39:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037659570016256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:39:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037659570016256 [0;39m ==> Parameters: 
2023-05-13 01:39:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037659570016256 [0;39m <==    Updates: 1
2023-05-13 01:39:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037659570016256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:39:39.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:40.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:42.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:48.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:39:50.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38037764440199168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:40:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037764440199168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:40:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037764440199168 [0;39m ==> Parameters: 
2023-05-13 01:40:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38037764440199168 [0;39m <==    Updates: 0
2023-05-13 01:40:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38037764440199168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:40:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037785407524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:40:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037785407524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:40:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037785407524864 [0;39m ==> Parameters: 
2023-05-13 01:40:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037785407524864 [0;39m <==    Updates: 1
2023-05-13 01:40:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037785407524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:40:07.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:10.006 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:12.046 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:14.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:16.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38037911249227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:40:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037911249227776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:40:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037911249227776 [0;39m ==> Parameters: 
2023-05-13 01:40:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38037911249227776 [0;39m <==    Updates: 1
2023-05-13 01:40:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38037911249227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:40:37.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:39.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:42.039 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:40:44.074 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38038016119410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:41:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038016119410688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:41:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038016119410688 [0;39m ==> Parameters: 
2023-05-13 01:41:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038016119410688 [0;39m <==    Updates: 0
2023-05-13 01:41:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38038016119410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:41:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038037082542080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:41:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038037082542080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:41:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038037082542080 [0;39m ==> Parameters: 
2023-05-13 01:41:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038037082542080 [0;39m <==    Updates: 1
2023-05-13 01:41:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038037082542080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:41:08.158 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:10.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:14.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:30.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:32.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038162899079168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:41:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038162899079168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:41:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038162899079168 [0;39m ==> Parameters: 
2023-05-13 01:41:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038162899079168 [0;39m <==    Updates: 1
2023-05-13 01:41:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038162899079168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:41:39.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:42.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:54.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:41:56.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38038267773456384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:42:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038267773456384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:42:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038267773456384 [0;39m ==> Parameters: 
2023-05-13 01:42:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038267773456384 [0;39m <==    Updates: 0
2023-05-13 01:42:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38038267773456384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:42:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038288715616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:42:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038288715616256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:42:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038288715616256 [0;39m ==> Parameters: 
2023-05-13 01:42:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038288715616256 [0;39m <==    Updates: 1
2023-05-13 01:42:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038288715616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:42:07.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:09.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:12.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:18.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:20.377 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038414532153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038414532153344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:42:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038414532153344 [0;39m ==> Parameters: 
2023-05-13 01:42:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038414532153344 [0;39m <==    Updates: 1
2023-05-13 01:42:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038414532153344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:42:37.985 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:39.186 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:40.019 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:42.057 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:42:46.134 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:43:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38038519393947648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:43:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038519393947648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:43:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038519393947648 [0;39m ==> Parameters: 
2023-05-13 01:43:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038519393947648 [0;39m <==    Updates: 0
2023-05-13 01:43:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38038519393947648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:43:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038540373856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:43:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038540373856256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:43:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038540373856256 [0;39m ==> Parameters: 
2023-05-13 01:43:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038540373856256 [0;39m <==    Updates: 1
2023-05-13 01:43:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038540373856256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:43:09.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:43:12.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:43:14.094 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:43:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038666223947776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038666223947776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:43:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038666223947776 [0;39m ==> Parameters: 
2023-05-13 01:43:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038666223947776 [0;39m <==    Updates: 1
2023-05-13 01:43:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038666223947776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:43:38.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:43:39.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:43:44.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38038771094130688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:44:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038771094130688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:44:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038771094130688 [0;39m ==> Parameters: 
2023-05-13 01:44:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38038771094130688 [0;39m <==    Updates: 0
2023-05-13 01:44:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38038771094130688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:44:02.246 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038792048873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:44:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038792048873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:44:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038792048873472 [0;39m ==> Parameters: 
2023-05-13 01:44:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038792048873472 [0;39m <==    Updates: 1
2023-05-13 01:44:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038792048873472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:44:09.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:10.008 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:12.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:26.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38038917903159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:44:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038917903159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:44:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038917903159296 [0;39m ==> Parameters: 
2023-05-13 01:44:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38038917903159296 [0;39m <==    Updates: 1
2023-05-13 01:44:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38038917903159296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:44:37.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:39.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:40.006 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:42.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:48.368 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:44:50.408 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38039022731399168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:45:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039022731399168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:45:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039022731399168 [0;39m ==> Parameters: 
2023-05-13 01:45:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039022731399168 [0;39m <==    Updates: 0
2023-05-13 01:45:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38039022731399168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:45:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039043677753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:45:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039043677753344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:45:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039043677753344 [0;39m ==> Parameters: 
2023-05-13 01:45:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039043677753344 [0;39m <==    Updates: 1
2023-05-13 01:45:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039043677753344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:45:07.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:10.017 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:12.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:14.086 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:16.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039169511067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:45:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039169511067648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:45:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039169511067648 [0;39m ==> Parameters: 
2023-05-13 01:45:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039169511067648 [0;39m <==    Updates: 1
2023-05-13 01:45:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039169511067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:45:37.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:40.020 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:42.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:45:44.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38039274372861952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:46:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039274372861952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:46:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039274372861952 [0;39m ==> Parameters: 
2023-05-13 01:46:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039274372861952 [0;39m <==    Updates: 0
2023-05-13 01:46:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38039274372861952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:46:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039295390519296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:46:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039295390519296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:46:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039295390519296 [0;39m ==> Parameters: 
2023-05-13 01:46:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039295390519296 [0;39m <==    Updates: 1
2023-05-13 01:46:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039295390519296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:46:06.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:08.156 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:09.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:10.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:12.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:31.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:33.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039421215444992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:46:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039421215444992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:46:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039421215444992 [0;39m ==> Parameters: 
2023-05-13 01:46:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039421215444992 [0;39m <==    Updates: 1
2023-05-13 01:46:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039421215444992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:46:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:42.054 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:55.148 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38036314192482305 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š5PkUQIV8hHï¼Œsession idï¼š2ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 01:46:55.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:57.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:46:57.761 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38036314221842432 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šgCv6tzLd7Gï¼Œsession idï¼š3ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 01:46:58.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38039517684436992 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:46:58.013 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38039517684436992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/3 GET
2023-05-13 01:46:58.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38039517684436992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:46:58.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38039517684436992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:46:58.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38039517684436992 [0;39m è¯·æ±‚å‚æ•°: [3]
2023-05-13 01:46:58.016 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38039517684436992 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:46:58.017 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38039517684436992 [0;39m ==> Parameters: 3(Long)
2023-05-13 01:46:58.017 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38039517684436992 [0;39m <==      Total: 0
2023-05-13 01:46:58.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38039517684436992 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-13 01:46:58.018 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38039517684436992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:47:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38039526047879168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:47:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039526047879168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:47:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039526047879168 [0;39m ==> Parameters: 
2023-05-13 01:47:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039526047879168 [0;39m <==    Updates: 0
2023-05-13 01:47:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38039526047879168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-13 01:47:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039547011010560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:47:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039547011010560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:47:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039547011010560 [0;39m ==> Parameters: 
2023-05-13 01:47:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039547011010560 [0;39m <==    Updates: 1
2023-05-13 01:47:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039547011010560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:47:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:10.073 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:12.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:19.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:21.898 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039672882073600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:47:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039672882073600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:47:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039672882073600 [0;39m ==> Parameters: 
2023-05-13 01:47:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039672882073600 [0;39m <==    Updates: 1
2023-05-13 01:47:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039672882073600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:47:37.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:39.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:42.303 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:44.345 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:47:46.382 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:48:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38039777697730560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:48:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039777697730560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:48:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039777697730560 [0;39m ==> Parameters: 
2023-05-13 01:48:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38039777697730560 [0;39m <==    Updates: 0
2023-05-13 01:48:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38039777697730560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:48:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039798665056256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:48:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039798665056256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:48:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039798665056256 [0;39m ==> Parameters: 
2023-05-13 01:48:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039798665056256 [0;39m <==    Updates: 1
2023-05-13 01:48:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039798665056256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:48:09.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:48:12.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:48:14.447 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:48:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38039924485787648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:48:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039924485787648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:48:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039924485787648 [0;39m ==> Parameters: 
2023-05-13 01:48:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38039924485787648 [0;39m <==    Updates: 1
2023-05-13 01:48:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38039924485787648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:48:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:48:42.597 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38040029385330688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:49:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040029385330688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:49:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040029385330688 [0;39m ==> Parameters: 
2023-05-13 01:49:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040029385330688 [0;39m <==    Updates: 0
2023-05-13 01:49:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38040029385330688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 01:49:03.821 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040050310713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:49:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040050310713344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:49:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040050310713344 [0;39m ==> Parameters: 
2023-05-13 01:49:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040050310713344 [0;39m <==    Updates: 1
2023-05-13 01:49:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040050310713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:49:09.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:13.355 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:25.861 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:27.897 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040176181776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:49:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040176181776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:49:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040176181776384 [0;39m ==> Parameters: 
2023-05-13 01:49:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040176181776384 [0;39m <==    Updates: 1
2023-05-13 01:49:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040176181776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:49:39.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:42.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:49.945 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:49:52.039 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38040281005821952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:50:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040281005821952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:50:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040281005821952 [0;39m ==> Parameters: 
2023-05-13 01:50:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040281005821952 [0;39m <==    Updates: 0
2023-05-13 01:50:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38040281005821952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:50:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040301977341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:50:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040301977341952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:50:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040301977341952 [0;39m ==> Parameters: 
2023-05-13 01:50:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040301977341952 [0;39m <==    Updates: 1
2023-05-13 01:50:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040301977341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:50:09.451 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:12.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:14.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:16.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:25.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040389327917056 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:50:25.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040389327917056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/3 GET
2023-05-13 01:50:25.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040389327917056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:50:25.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040389327917056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:50:25.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040389327917056 [0;39m è¯·æ±‚å‚æ•°: [3]
2023-05-13 01:50:25.832 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38040389327917056 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:50:25.832 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38040389327917056 [0;39m ==> Parameters: 3(Long)
2023-05-13 01:50:25.833 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38040389327917056 [0;39m <==      Total: 0
2023-05-13 01:50:25.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040389327917056 [0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2023-05-13 01:50:25.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040389327917056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:50:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040427835822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:50:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040427835822080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:50:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040427835822080 [0;39m ==> Parameters: 
2023-05-13 01:50:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040427835822080 [0;39m <==    Updates: 1
2023-05-13 01:50:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040427835822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:50:39.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:42.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:50:44.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:51:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38040532676644864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:51:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040532676644864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:51:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040532676644864 [0;39m ==> Parameters: 
2023-05-13 01:51:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040532676644864 [0;39m <==    Updates: 0
2023-05-13 01:51:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38040532676644864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:51:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040553635581952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:51:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040553635581952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:51:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040553635581952 [0;39m ==> Parameters: 
2023-05-13 01:51:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040553635581952 [0;39m <==    Updates: 1
2023-05-13 01:51:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040553635581952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:51:09.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:51:12.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:51:33.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:51:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040679456313344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:51:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040679456313344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:51:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040679456313344 [0;39m ==> Parameters: 
2023-05-13 01:51:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040679456313344 [0;39m <==    Updates: 1
2023-05-13 01:51:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040679456313344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:51:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:51:42.056 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:51:57.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38040784326496256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:52:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040784326496256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:52:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040784326496256 [0;39m ==> Parameters: 
2023-05-13 01:52:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38040784326496256 [0;39m <==    Updates: 0
2023-05-13 01:52:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38040784326496256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 01:52:05.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040805369319424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:52:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040805369319424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:52:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040805369319424 [0;39m ==> Parameters: 
2023-05-13 01:52:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040805369319424 [0;39m <==    Updates: 1
2023-05-13 01:52:05.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040805369319424 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:52:09.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:12.065 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:19.342 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:21.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:24.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040888328458240 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:24.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040888328458241 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:24.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040888328458241 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:52:24.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040888328458241 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:52:24.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040888328458240 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:52:24.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040888328458241 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:24.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040888328458241 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:52:24.805 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38040888328458241 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:52:24.805 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38040888328458241 [0;39m ==> Parameters: 
2023-05-13 01:52:24.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040888357818368 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:24.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040888357818368 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:52:24.807 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:52:24.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040888357818368 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:52:24.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040888357818368 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:24.807 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:52:24.807 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040888357818368 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:52:24.807 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:52:24.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040888328458240 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:52:24.809 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:52:24.809 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040888328458240 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:24.809 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:52:24.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040888328458240 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:52:24.810 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:52:24.811 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:52:24.811 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:52:24.810 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38040888357818368 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:52:24.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:52:24.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:52:24.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:52:24.812 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:52:24.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:52:24.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:52:24.812 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38040888328458240 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:52:24.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:52:24.812 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38040888357818368 [0;39m ==> Parameters: 
2023-05-13 01:52:24.813 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38040888328458241 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:52:24.814 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38040888328458241 [0;39m <==      Total: 15
2023-05-13 01:52:24.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040888328458241 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:52:24.813 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38040888328458240 [0;39m ==> Parameters: 
2023-05-13 01:52:24.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040888328458241 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-13 01:52:24.815 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38040888357818368 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:52:24.815 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38040888357818368 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:52:24.816 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38040888357818368 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:52:24.816 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38040888357818368 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:52:24.817 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38040888328458240 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:52:24.817 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38040888357818368 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:52:24.817 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38040888328458240 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:52:24.817 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38040888357818368 [0;39m <==      Total: 4
2023-05-13 01:52:24.817 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38040888328458240 [0;39m <==        Row: 2023-05-13, 92, 10, 24, 0
2023-05-13 01:52:24.817 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040888357818368 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:52:24.818 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38040888328458240 [0;39m <==      Total: 2
2023-05-13 01:52:24.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040888357818368 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 01:52:24.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040888328458240 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":92,"viewIncrease":24,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:52:24.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040888328458240 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-13 01:52:26.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040895462969344 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:26.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040895462969344 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:52:26.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040895462969344 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:52:26.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040895462969344 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:26.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040895462969344 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-13 01:52:26.504 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38040895462969344 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:52:26.505 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38040895462969344 [0;39m ==> Parameters: 201(Long)
2023-05-13 01:52:26.505 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38040895462969344 [0;39m <==    Columns: count(0)
2023-05-13 01:52:26.506 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38040895462969344 [0;39m <==        Row: 0
2023-05-13 01:52:26.506 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38040895462969344 [0;39m <==      Total: 1
2023-05-13 01:52:26.506 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38040895462969344 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 01:52:26.506 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38040895462969344 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 01:52:26.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040895462969344 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 01:52:26.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040895462969344 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:52:27.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040897895665664 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:27.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040897895665664 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:52:27.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040897895665664 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:52:27.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040897895665664 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:27.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040897895665664 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 01:52:27.086 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38040897895665664 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:52:27.086 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38040897895665664 [0;39m ==> Parameters: 202(Long)
2023-05-13 01:52:27.087 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38040897895665664 [0;39m <==    Columns: count(0)
2023-05-13 01:52:27.087 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38040897895665664 [0;39m <==        Row: 1
2023-05-13 01:52:27.088 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38040897895665664 [0;39m <==      Total: 1
2023-05-13 01:52:27.088 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38040897895665664 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 01:52:27.089 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38040897895665664 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 01:52:27.090 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38040897895665664 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:52:27.090 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38040897895665664 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 92, 10
2023-05-13 01:52:27.090 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38040897895665664 [0;39m <==      Total: 1
2023-05-13 01:52:27.090 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38040897895665664 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 01:52:27.091 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38040897895665664 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:52:27.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040897895665664 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":92,"voteCount":10}],"total":1},"success":true}
2023-05-13 01:52:27.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040897895665664 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 01:52:30.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040913041297408 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:30.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040913041297408 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:52:30.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040913041297408 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:52:30.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040913041297408 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:30.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040913041297408 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:52:30.695 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38040913041297408 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:52:30.695 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38040913041297408 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:52:30.697 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:52:30.697 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 67, 5
2023-05-13 01:52:30.698 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:52:30.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:52:30.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:52:30.699 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:52:30.700 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:52:30.700 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:52:30.701 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38040913041297408 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:52:30.701 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38040913041297408 [0;39m <==      Total: 8
2023-05-13 01:52:30.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040913041297408 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":67,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:52:30.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040913041297408 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 01:52:31.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38040914337337344 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:52:31.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38040914337337344 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:52:31.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38040914337337344 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:52:31.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38040914337337344 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:52:31.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38040914337337344 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:52:31.002 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38040914337337344 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:52:31.003 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38040914337337344 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:52:31.004 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38040914337337344 [0;39m <==    Columns: id, content
2023-05-13 01:52:31.004 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38040914337337344 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:52:31.005 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38040914337337344 [0;39m <==      Total: 1
2023-05-13 01:52:31.005 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38040914337337344 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:52:31.005 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38040914337337344 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:52:31.009 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38040914337337344 [0;39m <==    Updates: 1
2023-05-13 01:52:31.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38040914337337344 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:52:31.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38040914337337344 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:52:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38040931156496384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:52:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040931156496384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:52:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040931156496384 [0;39m ==> Parameters: 
2023-05-13 01:52:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38040931156496384 [0;39m <==    Updates: 1
2023-05-13 01:52:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38040931156496384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 01:52:39.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:42.626 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:45.594 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:52:48.100 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38041035972153344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:53:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041035972153344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:53:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041035972153344 [0;39m ==> Parameters: 
2023-05-13 01:53:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041035972153344 [0;39m <==    Updates: 0
2023-05-13 01:53:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38041035972153344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 01:53:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041056964644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:53:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041056964644864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:53:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041056964644864 [0;39m ==> Parameters: 
2023-05-13 01:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041056964644864 [0;39m <==    Updates: 1
2023-05-13 01:53:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041056964644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:53:07.988 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:09.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:12.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:14.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041182772793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:53:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041182772793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:53:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041182772793344 [0;39m ==> Parameters: 
2023-05-13 01:53:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041182772793344 [0;39m <==    Updates: 1
2023-05-13 01:53:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041182772793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:53:36.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:39.314 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:53:42.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38041287684919296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:54:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041287684919296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:54:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041287684919296 [0;39m ==> Parameters: 
2023-05-13 01:54:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041287684919296 [0;39m <==    Updates: 0
2023-05-13 01:54:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38041287684919296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:54:01.888 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:03.931 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041308660633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:54:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041308660633600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:54:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041308660633600 [0;39m ==> Parameters: 
2023-05-13 01:54:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041308660633600 [0;39m <==    Updates: 1
2023-05-13 01:54:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041308660633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:54:09.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:12.765 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:26.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:29.597 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:34.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041434120654848 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:54:34.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041434120654848 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:54:34.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041434120654848 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:54:34.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041434120654848 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:54:34.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041434120654848 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:54:34.930 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041434120654848 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:54:34.930 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041434120654848 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:54:34.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:54:34.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 68, 5
2023-05-13 01:54:34.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:54:34.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:54:34.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:54:34.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:54:34.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:54:34.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:54:34.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041434120654848 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:54:34.933 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041434120654848 [0;39m <==      Total: 8
2023-05-13 01:54:34.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041434120654848 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":68,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:54:34.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041434120654848 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 01:54:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041434443616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:54:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041434443616256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:54:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041434443616256 [0;39m ==> Parameters: 
2023-05-13 01:54:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041434443616256 [0;39m <==    Updates: 1
2023-05-13 01:54:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041434443616256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:54:35.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041434498142208 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:54:35.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041434498142208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:54:35.019 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041434498142208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:54:35.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041434498142208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:54:35.020 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041434498142208 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:54:35.020 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041434498142208 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:54:35.021 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041434498142208 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:54:35.023 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041434498142208 [0;39m <==    Columns: id, content
2023-05-13 01:54:35.023 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041434498142208 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:54:35.023 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041434498142208 [0;39m <==      Total: 1
2023-05-13 01:54:35.024 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041434498142208 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:54:35.024 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041434498142208 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:54:35.027 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041434498142208 [0;39m <==    Updates: 1
2023-05-13 01:54:35.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041434498142208 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:54:35.027 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041434498142208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 01:54:39.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:43.485 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:51.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:54:53.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:55:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38041539326382080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:55:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041539326382080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:55:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041539326382080 [0;39m ==> Parameters: 
2023-05-13 01:55:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041539326382080 [0;39m <==    Updates: 0
2023-05-13 01:55:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38041539326382080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:55:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041560314679296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:55:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041560314679296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:55:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041560314679296 [0;39m ==> Parameters: 
2023-05-13 01:55:05.036 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041560314679296 [0;39m <==    Updates: 1
2023-05-13 01:55:05.036 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041560314679296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š22æ¯«ç§’
2023-05-13 01:55:09.583 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:55:12.790 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:55:17.771 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:55:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041686156382208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:55:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041686156382208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:55:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041686156382208 [0;39m ==> Parameters: 
2023-05-13 01:55:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041686156382208 [0;39m <==    Updates: 1
2023-05-13 01:55:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041686156382208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:55:39.559 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:55:44.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38041791001399296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:56:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041791001399296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:56:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041791001399296 [0;39m ==> Parameters: 
2023-05-13 01:56:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38041791001399296 [0;39m <==    Updates: 0
2023-05-13 01:56:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38041791001399296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 01:56:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041811977113600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:56:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041811977113600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:56:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041811977113600 [0;39m ==> Parameters: 
2023-05-13 01:56:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041811977113600 [0;39m <==    Updates: 1
2023-05-13 01:56:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041811977113600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:56:08.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041826313244672 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:08.435 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041826313244672 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:56:08.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041826313244672 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:56:08.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041826313244672 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:08.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041826313244672 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:56:08.437 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041826313244672 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:56:08.438 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041826313244672 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:08.439 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:56:08.439 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 69, 5
2023-05-13 01:56:08.440 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:56:08.440 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:56:08.440 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:56:08.441 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:56:08.441 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:56:08.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:56:08.442 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041826313244672 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:56:08.442 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041826313244672 [0;39m <==      Total: 8
2023-05-13 01:56:08.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041826313244672 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":69,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:56:08.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041826313244672 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 01:56:08.819 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041827932246016 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:08.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041827932246016 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:56:08.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041827932246016 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:56:08.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041827932246016 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:08.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041827932246016 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:56:08.821 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041827932246016 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:56:08.823 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041827932246016 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:08.824 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041827932246016 [0;39m <==    Columns: id, content
2023-05-13 01:56:08.824 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041827932246016 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:56:08.825 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041827932246016 [0;39m <==      Total: 1
2023-05-13 01:56:08.825 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041827932246016 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:56:08.825 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041827932246016 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:08.827 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041827932246016 [0;39m <==    Updates: 1
2023-05-13 01:56:08.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041827932246016 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:56:08.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041827932246016 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:56:09.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:13.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:26.298 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38040913041297408 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šgCv6tzLd7Gï¼Œsession idï¼š3ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 01:56:31.623 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38040914337337344 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š9LIS1wj8z0ï¼Œsession idï¼š4ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 01:56:32.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041925365927936 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:32.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041925365927936 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:56:32.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041925365927936 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:56:32.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041925365927936 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:32.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041925365927936 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:56:32.053 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041925365927936 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:56:32.054 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041925365927936 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:32.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:56:32.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 70, 5
2023-05-13 01:56:32.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:56:32.055 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:56:32.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:56:32.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:56:32.056 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:56:32.057 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:56:32.057 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041925365927936 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:56:32.057 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041925365927936 [0;39m <==      Total: 8
2023-05-13 01:56:32.058 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041925365927936 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":70,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:56:32.058 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041925365927936 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:56:32.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041927211421696 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:32.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041927211421696 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:56:32.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041927211421696 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:56:32.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041927211421696 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:32.492 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041927211421696 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:56:32.492 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041927211421696 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:56:32.492 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041927211421696 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:32.493 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041927211421696 [0;39m <==    Columns: id, content
2023-05-13 01:56:32.494 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041927211421696 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:56:32.495 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041927211421696 [0;39m <==      Total: 1
2023-05-13 01:56:32.495 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041927211421696 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:56:32.496 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041927211421696 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:32.498 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041927211421696 [0;39m <==    Updates: 1
2023-05-13 01:56:32.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041927211421696 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:56:32.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041927211421696 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:56:32.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:33.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041931258925056 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:33.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041931258925056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 01:56:33.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041931258925056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 01:56:33.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041931258925056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:33.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041931258925056 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:56:33.455 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38041931258925056 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:56:33.456 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38041931258925056 [0;39m ==> Parameters: 
2023-05-13 01:56:33.457 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38041931258925056 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 01:56:33.457 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38041931258925056 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 01:56:33.457 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38041931258925056 [0;39m <==        Row: 2023-05-13, 94, 10, 26, 0
2023-05-13 01:56:33.457 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38041931258925056 [0;39m <==      Total: 2
2023-05-13 01:56:33.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041931258925056 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":94,"viewIncrease":26,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 01:56:33.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041931258925056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š5 ms -------------
2023-05-13 01:56:33.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041931393142784 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:33.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041931393142784 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 01:56:33.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041931393142784 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 01:56:33.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041931393142784 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:33.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041931393142784 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:56:33.487 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38041931393142784 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 01:56:33.488 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38041931393142784 [0;39m ==> Parameters: 
2023-05-13 01:56:33.489 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38041931393142784 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 01:56:33.489 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38041931393142784 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 01:56:33.489 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38041931393142784 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 01:56:33.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38041931393142784 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 01:56:33.491 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38041931393142784 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 01:56:33.491 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38041931393142784 [0;39m <==      Total: 4
2023-05-13 01:56:33.492 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041931393142784 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 01:56:33.492 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041931393142784 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š6 ms -------------
2023-05-13 01:56:33.515 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041931514777600 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:33.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041931514777600 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 01:56:33.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041931514777600 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 01:56:33.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041931514777600 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:33.516 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041931514777600 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 01:56:33.517 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38041931514777600 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 01:56:33.517 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38041931514777600 [0;39m ==> Parameters: 
2023-05-13 01:56:33.518 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 01:56:33.518 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 01:56:33.519 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 01:56:33.519 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 01:56:33.519 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 01:56:33.519 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 01:56:33.520 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 01:56:33.520 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 01:56:33.520 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 01:56:33.520 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 01:56:33.521 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 01:56:33.521 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 01:56:33.521 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 01:56:33.521 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 01:56:33.522 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 01:56:33.522 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38041931514777600 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 01:56:33.522 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38041931514777600 [0;39m <==      Total: 15
2023-05-13 01:56:33.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041931514777600 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 01:56:33.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041931514777600 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:56:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38041937789456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:56:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041937789456384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:56:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041937789456384 [0;39m ==> Parameters: 
2023-05-13 01:56:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38041937789456384 [0;39m <==    Updates: 1
2023-05-13 01:56:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38041937789456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:56:35.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:35.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041939819499520 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:35.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041939819499520 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:56:35.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041939819499520 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:56:35.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041939819499520 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:35.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041939819499520 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-13 01:56:35.500 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38041939819499520 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:56:35.500 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38041939819499520 [0;39m ==> Parameters: 201(Long)
2023-05-13 01:56:35.502 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38041939819499520 [0;39m <==    Columns: count(0)
2023-05-13 01:56:35.502 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38041939819499520 [0;39m <==        Row: 0
2023-05-13 01:56:35.502 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38041939819499520 [0;39m <==      Total: 1
2023-05-13 01:56:35.503 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38041939819499520 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 01:56:35.503 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38041939819499520 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 01:56:35.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041939819499520 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 01:56:35.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041939819499520 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:56:36.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041942847787008 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:36.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041942847787008 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 01:56:36.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041942847787008 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 01:56:36.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041942847787008 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:36.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041942847787008 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 01:56:36.223 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38041942847787008 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 01:56:36.223 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38041942847787008 [0;39m ==> Parameters: 202(Long)
2023-05-13 01:56:36.224 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38041942847787008 [0;39m <==    Columns: count(0)
2023-05-13 01:56:36.225 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38041942847787008 [0;39m <==        Row: 1
2023-05-13 01:56:36.225 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38041942847787008 [0;39m <==      Total: 1
2023-05-13 01:56:36.225 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38041942847787008 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 01:56:36.225 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38041942847787008 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 01:56:36.226 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38041942847787008 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 01:56:36.226 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38041942847787008 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 96, 10
2023-05-13 01:56:36.228 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38041942847787008 [0;39m <==      Total: 1
2023-05-13 01:56:36.228 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38041942847787008 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 01:56:36.228 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38041942847787008 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 01:56:36.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041942847787008 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":96,"voteCount":10}],"total":1},"success":true}
2023-05-13 01:56:36.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041942847787008 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 01:56:38.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041954495369216 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:38.995 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041954495369216 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:56:38.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041954495369216 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:56:38.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041954495369216 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:38.997 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041954495369216 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:56:38.998 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041954495369216 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:56:38.998 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041954495369216 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:38.999 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:56:38.999 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 71, 5
2023-05-13 01:56:39.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:56:39.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:56:39.000 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:56:39.001 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:56:39.001 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:56:39.001 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:56:39.001 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38041954495369216 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:56:39.002 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38041954495369216 [0;39m <==      Total: 8
2023-05-13 01:56:39.002 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041954495369216 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":71,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:56:39.003 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041954495369216 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 01:56:39.076 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38041954839302144 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:56:39.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38041954839302144 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:56:39.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38041954839302144 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:56:39.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38041954839302144 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:56:39.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38041954839302144 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:56:39.078 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041954839302144 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:56:39.079 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041954839302144 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:39.079 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041954839302144 [0;39m <==    Columns: id, content
2023-05-13 01:56:39.079 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38041954839302144 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:56:39.080 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38041954839302144 [0;39m <==      Total: 1
2023-05-13 01:56:39.080 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041954839302144 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:56:39.080 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041954839302144 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:56:39.085 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38041954839302144 [0;39m <==    Updates: 1
2023-05-13 01:56:39.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38041954839302144 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:56:39.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38041954839302144 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 01:56:39.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:42.470 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:56:57.477 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:00.011 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:00.085 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38042042957434880 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:57:00.086 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042042957434880 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:57:00.093 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042042957434880 [0;39m ==> Parameters: 
2023-05-13 01:57:00.132 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042042957434880 [0;39m <==    Updates: 0
2023-05-13 01:57:00.132 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38042042957434880 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š47æ¯«ç§’
2023-05-13 01:57:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042063589216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:57:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042063589216256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:57:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042063589216256 [0;39m ==> Parameters: 
2023-05-13 01:57:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042063589216256 [0;39m <==    Updates: 1
2023-05-13 01:57:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042063589216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:57:09.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:13.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:17.551 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38042116215148544 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:57:17.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38042116215148544 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 01:57:17.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38042116215148544 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 01:57:17.552 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38042116215148544 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:57:17.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38042116215148544 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:57:17.566 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38042116215148544 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 01:57:17.567 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38042116215148544 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:57:17.568 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 01:57:17.568 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 72, 5
2023-05-13 01:57:17.568 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 01:57:17.569 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 01:57:17.569 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 01:57:17.570 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 01:57:17.571 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 01:57:17.571 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 01:57:17.571 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38042116215148544 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 01:57:17.571 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38042116215148544 [0;39m <==      Total: 8
2023-05-13 01:57:17.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38042116215148544 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":72,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 01:57:17.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38042116215148544 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-13 01:57:18.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38042118488461312 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 01:57:18.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38042118488461312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 01:57:18.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38042118488461312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 01:57:18.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38042118488461312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 01:57:18.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38042118488461312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 01:57:18.095 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38042118488461312 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 01:57:18.095 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38042118488461312 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:57:18.096 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38042118488461312 [0;39m <==    Columns: id, content
2023-05-13 01:57:18.096 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38042118488461312 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 01:57:18.096 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38042118488461312 [0;39m <==      Total: 1
2023-05-13 01:57:18.097 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38042118488461312 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 01:57:18.097 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38042118488461312 [0;39m ==> Parameters: 1(Long)
2023-05-13 01:57:18.100 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38042118488461312 [0;39m <==    Updates: 1
2023-05-13 01:57:18.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38042118488461312 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 01:57:18.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38042118488461312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 01:57:24.059 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042189426724864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:57:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042189426724864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:57:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042189426724864 [0;39m ==> Parameters: 
2023-05-13 01:57:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042189426724864 [0;39m <==    Updates: 1
2023-05-13 01:57:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042189426724864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 01:57:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:42.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:57:48.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38042294284324864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:58:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042294284324864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:58:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042294284324864 [0;39m ==> Parameters: 
2023-05-13 01:58:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042294284324864 [0;39m <==    Updates: 0
2023-05-13 01:58:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38042294284324864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š19æ¯«ç§’
2023-05-13 01:58:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042315276816384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:58:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042315276816384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:58:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042315276816384 [0;39m ==> Parameters: 
2023-05-13 01:58:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042315276816384 [0;39m <==    Updates: 1
2023-05-13 01:58:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042315276816384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:58:09.525 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:12.467 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:14.523 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042441063993344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:58:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042441063993344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:58:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042441063993344 [0;39m ==> Parameters: 
2023-05-13 01:58:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042441063993344 [0;39m <==    Updates: 1
2023-05-13 01:58:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042441063993344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:58:38.611 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:39.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:40.652 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:42.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:58:44.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:00.107 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38042546366189568 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 01:59:00.108 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042546366189568 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 01:59:00.109 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042546366189568 [0;39m ==> Parameters: 
2023-05-13 01:59:00.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042546366189568 [0;39m <==    Updates: 0
2023-05-13 01:59:00.111 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38042546366189568 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 01:59:02.826 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042566930862080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:59:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042566930862080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:59:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042566930862080 [0;39m ==> Parameters: 
2023-05-13 01:59:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042566930862080 [0;39m <==    Updates: 1
2023-05-13 01:59:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042566930862080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 01:59:09.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:10.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:12.716 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:27.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042692722233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 01:59:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042692722233344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 01:59:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042692722233344 [0;39m ==> Parameters: 
2023-05-13 01:59:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042692722233344 [0;39m <==    Updates: 1
2023-05-13 01:59:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042692722233344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 01:59:39.212 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:42.074 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 01:59:51.416 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:00:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38042797625970688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:00:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042797625970688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:00:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042797625970688 [0;39m ==> Parameters: 
2023-05-13 02:00:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38042797625970688 [0;39m <==    Updates: 0
2023-05-13 02:00:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38042797625970688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:00:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042818589102080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:00:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042818589102080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:00:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042818589102080 [0;39m ==> Parameters: 
2023-05-13 02:00:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042818589102080 [0;39m <==    Updates: 1
2023-05-13 02:00:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042818589102080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:00:09.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:00:13.073 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:00:17.147 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:00:35.025 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38042944481136640 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:00:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042944481136640 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:00:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042944481136640 [0;39m ==> Parameters: 
2023-05-13 02:00:35.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38042944481136640 [0;39m <==    Updates: 1
2023-05-13 02:00:35.034 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38042944481136640 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 02:00:39.815 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:00:43.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:01:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38043049259044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:01:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043049259044864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:01:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043049259044864 [0;39m ==> Parameters: 
2023-05-13 02:01:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043049259044864 [0;39m <==    Updates: 0
2023-05-13 02:01:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38043049259044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:01:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043070226370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:01:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043070226370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:01:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043070226370560 [0;39m ==> Parameters: 
2023-05-13 02:01:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043070226370560 [0;39m <==    Updates: 1
2023-05-13 02:01:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043070226370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:01:09.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:01:13.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:01:31.344 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:01:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043196051296256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:01:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043196051296256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:01:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043196051296256 [0;39m ==> Parameters: 
2023-05-13 02:01:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043196051296256 [0;39m <==    Updates: 1
2023-05-13 02:01:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043196051296256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:01:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:01:42.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:01:55.434 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38043300942450688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:02:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043300942450688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:02:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043300942450688 [0;39m ==> Parameters: 
2023-05-13 02:02:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043300942450688 [0;39m <==    Updates: 0
2023-05-13 02:02:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38043300942450688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:02:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043321926553600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:02:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043321926553600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:02:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043321926553600 [0;39m ==> Parameters: 
2023-05-13 02:02:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043321926553600 [0;39m <==    Updates: 1
2023-05-13 02:02:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043321926553600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:02:09.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:02:13.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:02:16.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043370039414784 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:16.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043370039414784 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:02:16.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043370039414784 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:02:16.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043370039414784 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:16.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043370039414784 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:16.493 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043370039414784 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:02:16.494 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043370039414784 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:16.495 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:02:16.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 73, 5
2023-05-13 02:02:16.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:02:16.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:02:16.497 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:02:16.497 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:02:16.497 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:02:16.497 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:02:16.498 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043370039414784 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:02:16.498 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043370039414784 [0;39m <==      Total: 8
2023-05-13 02:02:16.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043370039414784 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":73,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:02:16.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043370039414784 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š14 ms -------------
2023-05-13 02:02:17.261 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043373290000384 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043373290000384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:02:17.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043373290000384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:02:17.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043373290000384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043373290000384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.265 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043373290000384 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:02:17.266 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043373290000384 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.268 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043373290000384 [0;39m <==    Columns: id, content
2023-05-13 02:02:17.268 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043373290000384 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:02:17.269 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043373290000384 [0;39m <==      Total: 1
2023-05-13 02:02:17.269 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043373290000384 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:02:17.270 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043373290000384 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.273 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043373290000384 [0;39m <==    Updates: 1
2023-05-13 02:02:17.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043373290000384 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:02:17.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043373290000384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 02:02:17.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043373575213056 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043373575213056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:02:17.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043373575213056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:02:17.330 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043373575213056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.332 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043373575213056 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.334 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043373575213056 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:02:17.334 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043373575213056 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.335 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:02:17.335 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 74, 5
2023-05-13 02:02:17.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:02:17.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:02:17.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:02:17.336 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:02:17.337 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:02:17.337 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:02:17.337 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043373575213056 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:02:17.338 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043373575213056 [0;39m <==      Total: 8
2023-05-13 02:02:17.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043373575213056 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":74,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:02:17.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043373575213056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 02:02:17.394 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043373847842816 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.395 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043373847842816 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:02:17.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043373847842816 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:02:17.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043373847842816 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043373847842816 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.397 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043373847842816 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:02:17.398 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043373847842816 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.399 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043373847842816 [0;39m <==    Columns: id, content
2023-05-13 02:02:17.399 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043373847842816 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:02:17.400 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043373847842816 [0;39m <==      Total: 1
2023-05-13 02:02:17.400 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043373847842816 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:02:17.401 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043373847842816 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.404 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043373847842816 [0;39m <==    Updates: 1
2023-05-13 02:02:17.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043373847842816 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:02:17.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043373847842816 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 02:02:17.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043374049169408 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043374049169408 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:02:17.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043374049169408 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:02:17.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043374049169408 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043374049169408 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.443 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043374049169408 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:02:17.444 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043374049169408 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.445 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:02:17.445 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 75, 5
2023-05-13 02:02:17.446 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:02:17.446 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:02:17.446 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:02:17.446 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:02:17.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:02:17.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:02:17.447 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374049169408 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:02:17.447 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043374049169408 [0;39m <==      Total: 8
2023-05-13 02:02:17.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043374049169408 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":75,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:02:17.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043374049169408 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 02:02:17.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043374367936512 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043374367936512 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:02:17.518 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043374367936512 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:02:17.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043374367936512 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043374367936512 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.520 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043374367936512 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:02:17.522 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043374367936512 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.524 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043374367936512 [0;39m <==    Columns: id, content
2023-05-13 02:02:17.525 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043374367936512 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:02:17.526 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043374367936512 [0;39m <==      Total: 1
2023-05-13 02:02:17.526 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043374367936512 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:02:17.527 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043374367936512 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.529 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043374367936512 [0;39m <==    Updates: 1
2023-05-13 02:02:17.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043374367936512 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:02:17.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043374367936512 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 02:02:17.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043374917390336 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043374917390336 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:02:17.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043374917390336 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:02:17.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043374917390336 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043374917390336 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.654 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043374917390336 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:02:17.654 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043374917390336 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.655 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:02:17.655 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 76, 5
2023-05-13 02:02:17.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:02:17.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:02:17.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:02:17.656 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:02:17.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:02:17.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:02:17.657 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043374917390336 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:02:17.657 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043374917390336 [0;39m <==      Total: 8
2023-05-13 02:02:17.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043374917390336 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":76,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:02:17.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043374917390336 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 02:02:17.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043375542341632 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043375542341632 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:02:17.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043375542341632 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:02:17.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043375542341632 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.801 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043375542341632 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.802 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043375542341632 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:02:17.802 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043375542341632 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.805 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043375542341632 [0;39m <==    Columns: id, content
2023-05-13 02:02:17.806 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043375542341632 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:02:17.808 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043375542341632 [0;39m <==      Total: 1
2023-05-13 02:02:17.809 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043375542341632 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:02:17.809 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043375542341632 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.812 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043375542341632 [0;39m <==    Updates: 1
2023-05-13 02:02:17.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043375542341632 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:02:17.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043375542341632 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š15 ms -------------
2023-05-13 02:02:17.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043375756251136 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:17.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043375756251136 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:02:17.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043375756251136 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:02:17.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043375756251136 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:17.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043375756251136 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:17.851 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043375756251136 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:02:17.851 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043375756251136 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:17.852 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:02:17.852 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 77, 5
2023-05-13 02:02:17.853 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:02:17.853 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:02:17.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:02:17.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:02:17.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:02:17.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:02:17.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043375756251136 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:02:17.855 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043375756251136 [0;39m <==      Total: 8
2023-05-13 02:02:17.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043375756251136 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":77,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:02:17.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043375756251136 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:02:17.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043376385396736 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:18.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043376385396736 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:02:18.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043376385396736 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:02:18.000 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043376385396736 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:18.001 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043376385396736 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:18.001 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043376385396736 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:02:18.002 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043376385396736 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:18.005 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043376385396736 [0;39m <==    Columns: id, content
2023-05-13 02:02:18.005 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043376385396736 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:02:18.005 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043376385396736 [0;39m <==      Total: 1
2023-05-13 02:02:18.006 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043376385396736 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:02:18.006 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043376385396736 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:18.014 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043376385396736 [0;39m <==    Updates: 1
2023-05-13 02:02:18.014 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043376385396736 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:02:18.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043376385396736 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 02:02:18.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043376720941056 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:18.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043376720941056 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:02:18.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043376720941056 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:02:18.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043376720941056 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:18.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043376720941056 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:18.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043376720941056 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:02:18.083 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043376720941056 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:18.084 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:02:18.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 78, 5
2023-05-13 02:02:18.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:02:18.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:02:18.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:02:18.086 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:02:18.086 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:02:18.086 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:02:18.086 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38043376720941056 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:02:18.087 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38043376720941056 [0;39m <==      Total: 8
2023-05-13 02:02:18.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043376720941056 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":78,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:02:18.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043376720941056 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 02:02:18.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38043377094234112 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:02:18.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38043377094234112 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:02:18.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38043377094234112 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:02:18.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38043377094234112 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:02:18.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38043377094234112 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:02:18.172 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043377094234112 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:02:18.172 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043377094234112 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:18.173 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043377094234112 [0;39m <==    Columns: id, content
2023-05-13 02:02:18.173 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38043377094234112 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:02:18.175 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38043377094234112 [0;39m <==      Total: 1
2023-05-13 02:02:18.175 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043377094234112 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:02:18.176 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043377094234112 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:02:18.177 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38043377094234112 [0;39m <==    Updates: 1
2023-05-13 02:02:18.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38043377094234112 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:02:18.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38043377094234112 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 02:02:20.355 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:02:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043447726313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:02:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043447726313472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:02:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043447726313472 [0;39m ==> Parameters: 
2023-05-13 02:02:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043447726313472 [0;39m <==    Updates: 1
2023-05-13 02:02:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043447726313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 02:02:39.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:02:46.132 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:03:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38043552613273600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:03:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043552613273600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:03:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043552613273600 [0;39m ==> Parameters: 
2023-05-13 02:03:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043552613273600 [0;39m <==    Updates: 0
2023-05-13 02:03:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38043552613273600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:03:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043573547044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:03:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043573547044864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:03:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043573547044864 [0;39m ==> Parameters: 
2023-05-13 02:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043573547044864 [0;39m <==    Updates: 1
2023-05-13 02:03:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043573547044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:03:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:03:12.398 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:03:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043699359387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:03:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043699359387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043699359387648 [0;39m ==> Parameters: 
2023-05-13 02:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043699359387648 [0;39m <==    Updates: 1
2023-05-13 02:03:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043699359387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 02:03:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:03:42.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38043804250542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:04:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043804250542080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:04:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043804250542080 [0;39m ==> Parameters: 
2023-05-13 02:04:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38043804250542080 [0;39m <==    Updates: 0
2023-05-13 02:04:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38043804250542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:04:00.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043825222062080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:04:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043825222062080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:04:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043825222062080 [0;39m ==> Parameters: 
2023-05-13 02:04:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043825222062080 [0;39m <==    Updates: 1
2023-05-13 02:04:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043825222062080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:04:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:12.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:24.409 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38043951072153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:04:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043951072153600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:04:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043951072153600 [0;39m ==> Parameters: 
2023-05-13 02:04:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38043951072153600 [0;39m <==    Updates: 1
2023-05-13 02:04:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38043951072153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:04:39.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:42.059 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:04:48.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:05:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38044055896199168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:05:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044055896199168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:05:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044055896199168 [0;39m ==> Parameters: 
2023-05-13 02:05:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044055896199168 [0;39m <==    Updates: 0
2023-05-13 02:05:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38044055896199168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 02:05:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044076863524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:05:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044076863524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:05:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044076863524864 [0;39m ==> Parameters: 
2023-05-13 02:05:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044076863524864 [0;39m <==    Updates: 1
2023-05-13 02:05:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044076863524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:05:09.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:05:14.088 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:05:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044202705227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:05:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044202705227776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:05:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044202705227776 [0;39m ==> Parameters: 
2023-05-13 02:05:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044202705227776 [0;39m <==    Updates: 1
2023-05-13 02:05:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044202705227776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:05:39.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:05:42.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38044307550244864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:06:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044307550244864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:06:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044307550244864 [0;39m ==> Parameters: 
2023-05-13 02:06:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044307550244864 [0;39m <==    Updates: 0
2023-05-13 02:06:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38044307550244864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:06:03.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044328551124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:06:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044328551124992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:06:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044328551124992 [0;39m ==> Parameters: 
2023-05-13 02:06:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044328551124992 [0;39m <==    Updates: 1
2023-05-13 02:06:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044328551124992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:06:09.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:12.060 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:27.779 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044454371856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:06:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044454371856384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:06:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044454371856384 [0;39m ==> Parameters: 
2023-05-13 02:06:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044454371856384 [0;39m <==    Updates: 1
2023-05-13 02:06:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044454371856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:06:39.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:42.055 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:06:51.861 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:07:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38044559221067776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:07:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044559221067776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:07:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044559221067776 [0;39m ==> Parameters: 
2023-05-13 02:07:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044559221067776 [0;39m <==    Updates: 0
2023-05-13 02:07:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38044559221067776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:07:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044580209364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:07:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044580209364992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:07:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044580209364992 [0;39m ==> Parameters: 
2023-05-13 02:07:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044580209364992 [0;39m <==    Updates: 1
2023-05-13 02:07:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044580209364992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:07:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:07:16.118 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:07:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044705992347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:07:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044705992347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:07:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044705992347648 [0;39m ==> Parameters: 
2023-05-13 02:07:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044705992347648 [0;39m <==    Updates: 1
2023-05-13 02:07:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044705992347648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:07:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:07:44.092 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:08:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38044810896084992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:08:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044810896084992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:08:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044810896084992 [0;39m ==> Parameters: 
2023-05-13 02:08:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38044810896084992 [0;39m <==    Updates: 0
2023-05-13 02:08:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38044810896084992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:08:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044831825661952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044831825661952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044831825661952 [0;39m ==> Parameters: 
2023-05-13 02:08:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044831825661952 [0;39m <==    Updates: 1
2023-05-13 02:08:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044831825661952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:08:09.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:08:12.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:08:33.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:08:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38044957675753472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:08:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044957675753472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:08:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044957675753472 [0;39m ==> Parameters: 
2023-05-13 02:08:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38044957675753472 [0;39m <==    Updates: 1
2023-05-13 02:08:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38044957675753472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:08:39.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:08:42.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:08:57.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:09:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38045062516576256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:09:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045062516576256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:09:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045062516576256 [0;39m ==> Parameters: 
2023-05-13 02:09:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045062516576256 [0;39m <==    Updates: 0
2023-05-13 02:09:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38045062516576256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:09:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045083530039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:09:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045083530039296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:09:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045083530039296 [0;39m ==> Parameters: 
2023-05-13 02:09:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045083530039296 [0;39m <==    Updates: 1
2023-05-13 02:09:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045083530039296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:09:09.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:09:12.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:09:21.368 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:09:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045209317216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:09:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045209317216256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:09:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045209317216256 [0;39m ==> Parameters: 
2023-05-13 02:09:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045209317216256 [0;39m <==    Updates: 1
2023-05-13 02:09:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045209317216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:09:39.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:09:46.121 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:10:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38045314204176384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:10:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045314204176384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:10:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045314204176384 [0;39m ==> Parameters: 
2023-05-13 02:10:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045314204176384 [0;39m <==    Updates: 0
2023-05-13 02:10:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38045314204176384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:10:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045335167307776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:10:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045335167307776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:10:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045335167307776 [0;39m ==> Parameters: 
2023-05-13 02:10:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045335167307776 [0;39m <==    Updates: 1
2023-05-13 02:10:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045335167307776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:10:09.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:10:14.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:10:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045461013204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:10:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045461013204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:10:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045461013204992 [0;39m ==> Parameters: 
2023-05-13 02:10:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045461013204992 [0;39m <==    Updates: 1
2023-05-13 02:10:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045461013204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:10:39.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:10:42.231 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38045565879193600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:11:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045565879193600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:11:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045565879193600 [0;39m ==> Parameters: 
2023-05-13 02:11:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045565879193600 [0;39m <==    Updates: 0
2023-05-13 02:11:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38045565879193600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:11:03.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045586842324992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:11:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045586842324992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:11:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045586842324992 [0;39m ==> Parameters: 
2023-05-13 02:11:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045586842324992 [0;39m <==    Updates: 1
2023-05-13 02:11:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045586842324992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:11:09.217 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:12.086 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:27.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045712629501952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:11:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045712629501952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:11:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045712629501952 [0;39m ==> Parameters: 
2023-05-13 02:11:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045712629501952 [0;39m <==    Updates: 1
2023-05-13 02:11:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045712629501952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:11:39.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:42.075 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:11:51.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:12:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38045817529044992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045817529044992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045817529044992 [0;39m ==> Parameters: 
2023-05-13 02:12:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38045817529044992 [0;39m <==    Updates: 0
2023-05-13 02:12:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38045817529044992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:12:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045838500564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:12:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045838500564992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:12:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045838500564992 [0;39m ==> Parameters: 
2023-05-13 02:12:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045838500564992 [0;39m <==    Updates: 1
2023-05-13 02:12:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045838500564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:12:09.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:12:16.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:12:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38045964325490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045964325490688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045964325490688 [0;39m ==> Parameters: 
2023-05-13 02:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38045964325490688 [0;39m <==    Updates: 1
2023-05-13 02:12:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38045964325490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 02:12:37.987 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:12:39.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:12:44.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38046069157924864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:13:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046069157924864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:13:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046069157924864 [0;39m ==> Parameters: 
2023-05-13 02:13:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046069157924864 [0;39m <==    Updates: 0
2023-05-13 02:13:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38046069157924864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 02:13:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046090125250560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:13:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046090125250560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:13:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046090125250560 [0;39m ==> Parameters: 
2023-05-13 02:13:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046090125250560 [0;39m <==    Updates: 1
2023-05-13 02:13:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046090125250560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:13:09.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:10.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:12.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:30.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046215958564864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:13:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046215958564864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:13:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046215958564864 [0;39m ==> Parameters: 
2023-05-13 02:13:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046215958564864 [0;39m <==    Updates: 1
2023-05-13 02:13:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046215958564864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:13:37.974 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:39.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:42.046 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:13:54.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38046320811970560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:14:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046320811970560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:14:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046320811970560 [0;39m ==> Parameters: 
2023-05-13 02:14:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046320811970560 [0;39m <==    Updates: 0
2023-05-13 02:14:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38046320811970560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:14:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046341787684864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:14:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046341787684864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:14:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046341787684864 [0;39m ==> Parameters: 
2023-05-13 02:14:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046341787684864 [0;39m <==    Updates: 1
2023-05-13 02:14:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046341787684864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:14:09.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:10.025 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:12.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:18.407 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046467604221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:14:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046467604221952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:14:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046467604221952 [0;39m ==> Parameters: 
2023-05-13 02:14:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046467604221952 [0;39m <==    Updates: 1
2023-05-13 02:14:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046467604221952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:14:37.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:39.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:40.011 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:14:44.089 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38046572495376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:15:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046572495376384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:15:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046572495376384 [0;39m ==> Parameters: 
2023-05-13 02:15:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046572495376384 [0;39m <==    Updates: 0
2023-05-13 02:15:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38046572495376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-13 02:15:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046593462702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:15:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046593462702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:15:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046593462702080 [0;39m ==> Parameters: 
2023-05-13 02:15:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046593462702080 [0;39m <==    Updates: 1
2023-05-13 02:15:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046593462702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:15:09.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:10.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:12.918 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:14.950 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:32.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046719275044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:15:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046719275044864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:15:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046719275044864 [0;39m ==> Parameters: 
2023-05-13 02:15:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046719275044864 [0;39m <==    Updates: 1
2023-05-13 02:15:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046719275044864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:15:37.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:39.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:40.017 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:42.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:15:56.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38046824124256256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:16:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046824124256256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:16:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046824124256256 [0;39m ==> Parameters: 
2023-05-13 02:16:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38046824124256256 [0;39m <==    Updates: 0
2023-05-13 02:16:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38046824124256256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 02:16:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046845112553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:16:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046845112553472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:16:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046845112553472 [0;39m ==> Parameters: 
2023-05-13 02:16:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046845112553472 [0;39m <==    Updates: 1
2023-05-13 02:16:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046845112553472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:16:07.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:10.008 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:12.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:20.519 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38046970916507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:16:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046970916507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:16:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046970916507648 [0;39m ==> Parameters: 
2023-05-13 02:16:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38046970916507648 [0;39m <==    Updates: 1
2023-05-13 02:16:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38046970916507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:16:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:16:46.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38047075811856384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:17:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047075811856384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:17:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047075811856384 [0;39m ==> Parameters: 
2023-05-13 02:17:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047075811856384 [0;39m <==    Updates: 0
2023-05-13 02:17:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38047075811856384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:17:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047096795959296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047096795959296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047096795959296 [0;39m ==> Parameters: 
2023-05-13 02:17:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047096795959296 [0;39m <==    Updates: 1
2023-05-13 02:17:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047096795959296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:17:07.974 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:09.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:12.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:14.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047222625079296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047222625079296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:17:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047222625079296 [0;39m ==> Parameters: 
2023-05-13 02:17:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047222625079296 [0;39m <==    Updates: 1
2023-05-13 02:17:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047222625079296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:17:36.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:39.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:17:42.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38047327449124864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:18:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047327449124864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:18:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047327449124864 [0;39m ==> Parameters: 
2023-05-13 02:18:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047327449124864 [0;39m <==    Updates: 0
2023-05-13 02:18:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38047327449124864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:18:00.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047348420644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:18:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047348420644864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:18:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047348420644864 [0;39m ==> Parameters: 
2023-05-13 02:18:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047348420644864 [0;39m <==    Updates: 1
2023-05-13 02:18:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047348420644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:18:09.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:10.019 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:12.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:24.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047474245570560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:18:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047474245570560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:18:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047474245570560 [0;39m ==> Parameters: 
2023-05-13 02:18:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047474245570560 [0;39m <==    Updates: 1
2023-05-13 02:18:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047474245570560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:18:37.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:39.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:40.027 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:42.078 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:46.365 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:18:48.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38047579128336384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:19:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047579128336384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:19:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047579128336384 [0;39m ==> Parameters: 
2023-05-13 02:19:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047579128336384 [0;39m <==    Updates: 0
2023-05-13 02:19:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38047579128336384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:19:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047600057913344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:19:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047600057913344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:19:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047600057913344 [0;39m ==> Parameters: 
2023-05-13 02:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047600057913344 [0;39m <==    Updates: 1
2023-05-13 02:19:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047600057913344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:19:09.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:12.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:14.091 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047725928976384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047725928976384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:19:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047725928976384 [0;39m ==> Parameters: 
2023-05-13 02:19:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047725928976384 [0;39m <==    Updates: 1
2023-05-13 02:19:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047725928976384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:19:38.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:39.198 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:42.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:19:44.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38047830744633344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:20:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047830744633344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:20:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047830744633344 [0;39m ==> Parameters: 
2023-05-13 02:20:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38047830744633344 [0;39m <==    Updates: 0
2023-05-13 02:20:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38047830744633344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:20:00.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:02.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047851745513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047851745513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:20:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047851745513472 [0;39m ==> Parameters: 
2023-05-13 02:20:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047851745513472 [0;39m <==    Updates: 1
2023-05-13 02:20:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047851745513472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 02:20:07.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:09.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:10.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:12.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:26.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38047977570439168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:20:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047977570439168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:20:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047977570439168 [0;39m ==> Parameters: 
2023-05-13 02:20:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38047977570439168 [0;39m <==    Updates: 1
2023-05-13 02:20:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38047977570439168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:20:37.982 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:39.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:42.060 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:48.395 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:20:50.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38048082419650560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:21:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048082419650560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:21:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048082419650560 [0;39m ==> Parameters: 
2023-05-13 02:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048082419650560 [0;39m <==    Updates: 0
2023-05-13 02:21:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38048082419650560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:21:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048103437307904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:21:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048103437307904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:21:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048103437307904 [0;39m ==> Parameters: 
2023-05-13 02:21:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048103437307904 [0;39m <==    Updates: 1
2023-05-13 02:21:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048103437307904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:21:07.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:10.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:12.065 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:16.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048229211901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:21:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048229211901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:21:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048229211901952 [0;39m ==> Parameters: 
2023-05-13 02:21:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048229211901952 [0;39m <==    Updates: 1
2023-05-13 02:21:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048229211901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:21:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:40.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:42.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:21:44.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38048334111444992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:22:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048334111444992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:22:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048334111444992 [0;39m ==> Parameters: 
2023-05-13 02:22:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048334111444992 [0;39m <==    Updates: 0
2023-05-13 02:22:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38048334111444992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:22:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048355091353600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:22:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048355091353600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:22:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048355091353600 [0;39m ==> Parameters: 
2023-05-13 02:22:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048355091353600 [0;39m <==    Updates: 1
2023-05-13 02:22:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048355091353600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:22:06.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:08.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:09.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:10.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:12.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:14.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:30.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:32.299 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048480912084992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:22:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048480912084992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:22:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048480912084992 [0;39m ==> Parameters: 
2023-05-13 02:22:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048480912084992 [0;39m <==    Updates: 1
2023-05-13 02:22:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048480912084992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:22:39.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:42.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:54.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:22:56.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38048585736130560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:23:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048585736130560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:23:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048585736130560 [0;39m ==> Parameters: 
2023-05-13 02:23:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048585736130560 [0;39m <==    Updates: 0
2023-05-13 02:23:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38048585736130560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:23:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048606716039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:23:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048606716039168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:23:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048606716039168 [0;39m ==> Parameters: 
2023-05-13 02:23:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048606716039168 [0;39m <==    Updates: 1
2023-05-13 02:23:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048606716039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:23:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:10.006 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:12.044 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:18.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:20.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048732587102208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:23:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048732587102208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:23:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048732587102208 [0;39m ==> Parameters: 
2023-05-13 02:23:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048732587102208 [0;39m <==    Updates: 1
2023-05-13 02:23:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048732587102208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:23:37.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:39.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:42.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:23:46.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:24:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38048837423730688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:24:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048837423730688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:24:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048837423730688 [0;39m ==> Parameters: 
2023-05-13 02:24:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38048837423730688 [0;39m <==    Updates: 0
2023-05-13 02:24:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38048837423730688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:24:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048858382667776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:24:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048858382667776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:24:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048858382667776 [0;39m ==> Parameters: 
2023-05-13 02:24:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048858382667776 [0;39m <==    Updates: 1
2023-05-13 02:24:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048858382667776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 02:24:07.990 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:24:09.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:24:12.368 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:24:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38048984232759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:24:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048984232759296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:24:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048984232759296 [0;39m ==> Parameters: 
2023-05-13 02:24:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38048984232759296 [0;39m <==    Updates: 1
2023-05-13 02:24:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38048984232759296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:24:36.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:24:39.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:24:42.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38049089044221952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:25:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049089044221952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:25:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049089044221952 [0;39m ==> Parameters: 
2023-05-13 02:25:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049089044221952 [0;39m <==    Updates: 0
2023-05-13 02:25:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38049089044221952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:25:00.374 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049110011547648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:25:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049110011547648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:25:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049110011547648 [0;39m ==> Parameters: 
2023-05-13 02:25:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049110011547648 [0;39m <==    Updates: 1
2023-05-13 02:25:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049110011547648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:25:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:12.060 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:24.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049235886804992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:25:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049235886804992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:25:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049235886804992 [0;39m ==> Parameters: 
2023-05-13 02:25:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049235886804992 [0;39m <==    Updates: 1
2023-05-13 02:25:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049235886804992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:25:39.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:40.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:42.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:46.507 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:25:48.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38049340702461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:26:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049340702461952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:26:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049340702461952 [0;39m ==> Parameters: 
2023-05-13 02:26:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049340702461952 [0;39m <==    Updates: 0
2023-05-13 02:26:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38049340702461952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:26:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049361665593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:26:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049361665593344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:26:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049361665593344 [0;39m ==> Parameters: 
2023-05-13 02:26:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049361665593344 [0;39m <==    Updates: 1
2023-05-13 02:26:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049361665593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:26:07.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:12.063 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:14.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049487494713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:26:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049487494713344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:26:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049487494713344 [0;39m ==> Parameters: 
2023-05-13 02:26:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049487494713344 [0;39m <==    Updates: 1
2023-05-13 02:26:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049487494713344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:26:38.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:39.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:42.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:26:44.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38049592390062080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:27:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049592390062080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:27:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049592390062080 [0;39m ==> Parameters: 
2023-05-13 02:27:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049592390062080 [0;39m <==    Updates: 0
2023-05-13 02:27:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38049592390062080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:27:02.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049613365776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:27:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049613365776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:27:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049613365776384 [0;39m ==> Parameters: 
2023-05-13 02:27:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049613365776384 [0;39m <==    Updates: 1
2023-05-13 02:27:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049613365776384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:27:07.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:09.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:10.019 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:12.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:24.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:26.373 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049739161341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:27:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049739161341952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:27:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049739161341952 [0;39m ==> Parameters: 
2023-05-13 02:27:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049739161341952 [0;39m <==    Updates: 1
2023-05-13 02:27:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049739161341952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:27:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:42.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:48.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:27:50.461 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38049844056690688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:28:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049844056690688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:28:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049844056690688 [0;39m ==> Parameters: 
2023-05-13 02:28:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38049844056690688 [0;39m <==    Updates: 0
2023-05-13 02:28:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38049844056690688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:28:05.092 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049865363755008 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:28:05.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049865363755008 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:28:05.093 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049865363755008 [0;39m ==> Parameters: 
2023-05-13 02:28:05.102 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049865363755008 [0;39m <==    Updates: 1
2023-05-13 02:28:05.102 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049865363755008 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 02:28:07.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:09.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:10.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:12.069 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:16.132 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:35.052 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38049991025102848 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:28:35.053 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049991025102848 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:28:35.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049991025102848 [0;39m ==> Parameters: 
2023-05-13 02:28:35.055 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38049991025102848 [0;39m <==    Updates: 1
2023-05-13 02:28:35.055 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38049991025102848 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:28:39.448 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:42.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:28:44.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38050095706542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:29:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050095706542080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:29:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050095706542080 [0;39m ==> Parameters: 
2023-05-13 02:29:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050095706542080 [0;39m <==    Updates: 0
2023-05-13 02:29:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38050095706542080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:29:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050116703227904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:29:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050116703227904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:29:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050116703227904 [0;39m ==> Parameters: 
2023-05-13 02:29:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050116703227904 [0;39m <==    Updates: 1
2023-05-13 02:29:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050116703227904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:29:09.090 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:09.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:11.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:13.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:33.732 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050242519764992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:29:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050242519764992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:29:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050242519764992 [0;39m ==> Parameters: 
2023-05-13 02:29:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050242519764992 [0;39m <==    Updates: 1
2023-05-13 02:29:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050242519764992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 02:29:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:42.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:29:57.820 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38050347377364992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:30:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050347377364992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:30:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050347377364992 [0;39m ==> Parameters: 
2023-05-13 02:30:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050347377364992 [0;39m <==    Updates: 0
2023-05-13 02:30:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38050347377364992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:30:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050368319524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:30:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050368319524864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:30:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050368319524864 [0;39m ==> Parameters: 
2023-05-13 02:30:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050368319524864 [0;39m <==    Updates: 1
2023-05-13 02:30:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050368319524864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:30:08.009 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:09.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:10.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:12.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:21.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:35.069 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050494412886016 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:30:35.072 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050494412886016 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:30:35.073 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050494412886016 [0;39m ==> Parameters: 
2023-05-13 02:30:35.088 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050494412886016 [0;39m <==    Updates: 1
2023-05-13 02:30:35.091 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050494412886016 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š21æ¯«ç§’
2023-05-13 02:30:38.048 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:42.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:30:46.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:31:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38050599031410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:31:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050599031410688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:31:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050599031410688 [0;39m ==> Parameters: 
2023-05-13 02:31:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050599031410688 [0;39m <==    Updates: 0
2023-05-13 02:31:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38050599031410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:31:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050619956793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:31:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050619956793344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:31:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050619956793344 [0;39m ==> Parameters: 
2023-05-13 02:31:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050619956793344 [0;39m <==    Updates: 1
2023-05-13 02:31:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050619956793344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:31:09.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:31:13.409 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:31:28.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38050720301322240 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:31:28.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38050720301322240 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:31:28.925 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38050720301322240 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:31:28.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38050720301322240 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:31:28.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38050720301322240 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:31:28.929 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38050720301322240 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:31:28.930 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38050720301322240 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:31:28.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:31:28.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 79, 5
2023-05-13 02:31:28.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:31:28.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:31:28.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:31:28.932 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:31:28.933 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:31:28.933 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:31:28.933 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050720301322240 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:31:28.933 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38050720301322240 [0;39m <==      Total: 8
2023-05-13 02:31:28.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38050720301322240 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":79,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:31:28.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38050720301322240 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 02:31:29.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38050720968216576 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:31:29.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38050720968216576 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:31:29.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38050720968216576 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:31:29.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38050720968216576 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:31:29.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38050720968216576 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:31:29.085 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38050720968216576 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:31:29.086 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38050720968216576 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:31:29.087 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38050720968216576 [0;39m <==    Columns: id, content
2023-05-13 02:31:29.087 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38050720968216576 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:31:29.088 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38050720968216576 [0;39m <==      Total: 1
2023-05-13 02:31:29.088 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38050720968216576 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:31:29.088 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38050720968216576 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:31:29.090 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38050720968216576 [0;39m <==    Updates: 1
2023-05-13 02:31:29.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38050720968216576 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:31:29.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38050720968216576 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:31:29.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38050721207291904 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:31:29.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38050721207291904 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:31:29.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38050721207291904 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:31:29.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38050721207291904 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:31:29.142 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38050721207291904 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:31:29.143 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38050721207291904 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:31:29.145 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38050721207291904 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:31:29.146 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:31:29.146 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 80, 5
2023-05-13 02:31:29.146 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:31:29.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:31:29.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:31:29.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:31:29.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:31:29.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:31:29.147 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38050721207291904 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:31:29.147 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38050721207291904 [0;39m <==      Total: 8
2023-05-13 02:31:29.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38050721207291904 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":80,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:31:29.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38050721207291904 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 02:31:29.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38050721509281792 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:31:29.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38050721509281792 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:31:29.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38050721509281792 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:31:29.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38050721509281792 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:31:29.214 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38050721509281792 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:31:29.215 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38050721509281792 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:31:29.215 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38050721509281792 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:31:29.216 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38050721509281792 [0;39m <==    Columns: id, content
2023-05-13 02:31:29.216 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38050721509281792 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:31:29.217 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38050721509281792 [0;39m <==      Total: 1
2023-05-13 02:31:29.217 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38050721509281792 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:31:29.217 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38050721509281792 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:31:29.220 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38050721509281792 [0;39m <==    Updates: 1
2023-05-13 02:31:29.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38050721509281792 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:31:29.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38050721509281792 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:31:34.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:31:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050745806884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:31:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050745806884864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:31:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050745806884864 [0;39m ==> Parameters: 
2023-05-13 02:31:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050745806884864 [0;39m <==    Updates: 1
2023-05-13 02:31:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050745806884864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:31:36.492 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:31:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:31:42.624 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38050850660290560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:32:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050850660290560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:32:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050850660290560 [0;39m ==> Parameters: 
2023-05-13 02:32:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38050850660290560 [0;39m <==    Updates: 0
2023-05-13 02:32:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38050850660290560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 02:32:00.770 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:05.032 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050871745056768 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:32:05.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050871745056768 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:32:05.033 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050871745056768 [0;39m ==> Parameters: 
2023-05-13 02:32:05.034 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050871745056768 [0;39m <==    Updates: 1
2023-05-13 02:32:05.034 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050871745056768 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:32:07.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:09.655 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:12.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:25.842 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:35.128 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38050997972635648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:32:35.129 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050997972635648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:32:35.130 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050997972635648 [0;39m ==> Parameters: 
2023-05-13 02:32:35.130 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38050997972635648 [0;39m <==    Updates: 1
2023-05-13 02:32:35.130 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38050997972635648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 02:32:39.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:43.026 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:32:49.838 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:33:00.064 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38051102565994496 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:33:00.066 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051102565994496 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:33:00.067 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051102565994496 [0;39m ==> Parameters: 
2023-05-13 02:33:00.073 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051102565994496 [0;39m <==    Updates: 0
2023-05-13 02:33:00.073 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38051102565994496 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 02:33:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051123302633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:33:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051123302633472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:33:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051123302633472 [0;39m ==> Parameters: 
2023-05-13 02:33:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051123302633472 [0;39m <==    Updates: 1
2023-05-13 02:33:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051123302633472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:33:09.466 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:33:15.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:33:35.201 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051249941254144 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:33:35.202 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051249941254144 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:33:35.202 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051249941254144 [0;39m ==> Parameters: 
2023-05-13 02:33:35.204 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051249941254144 [0;39m <==    Updates: 1
2023-05-13 02:33:35.204 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051249941254144 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:33:39.753 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:33:44.460 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38051354018713600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:34:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051354018713600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:34:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051354018713600 [0;39m ==> Parameters: 
2023-05-13 02:34:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051354018713600 [0;39m <==    Updates: 0
2023-05-13 02:34:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38051354018713600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:34:04.942 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051374973456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:34:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051374973456384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:34:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051374973456384 [0;39m ==> Parameters: 
2023-05-13 02:34:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051374973456384 [0;39m <==    Updates: 1
2023-05-13 02:34:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051374973456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:34:09.536 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:12.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:17.007 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38051425288327168 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:34:17.007 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38051425288327168 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:34:17.007 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38051425288327168 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:34:17.008 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38051425288327168 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:34:17.008 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38051425288327168 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:34:17.009 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051425288327168 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:34:17.010 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051425288327168 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:34:17.012 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:34:17.012 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 81, 5
2023-05-13 02:34:17.012 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:34:17.014 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:34:17.014 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:34:17.015 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:34:17.015 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:34:17.015 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:34:17.015 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051425288327168 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:34:17.016 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051425288327168 [0;39m <==      Total: 8
2023-05-13 02:34:17.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38051425288327168 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":81,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:34:17.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38051425288327168 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 02:34:17.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38051428966731776 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:34:17.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38051428966731776 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:34:17.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38051428966731776 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:34:17.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38051428966731776 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:34:17.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38051428966731776 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:34:17.887 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051428966731776 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:34:17.887 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051428966731776 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:34:17.888 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38051428966731776 [0;39m <==    Columns: id, content
2023-05-13 02:34:17.889 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38051428966731776 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:34:17.889 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051428966731776 [0;39m <==      Total: 1
2023-05-13 02:34:17.889 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051428966731776 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:34:17.890 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051428966731776 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:34:17.891 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051428966731776 [0;39m <==    Updates: 1
2023-05-13 02:34:17.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38051428966731776 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:34:17.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38051428966731776 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 02:34:17.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38051429201612800 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:34:17.940 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38051429201612800 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:34:17.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38051429201612800 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:34:17.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38051429201612800 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:34:17.941 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38051429201612800 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:34:17.942 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051429201612800 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:34:17.943 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051429201612800 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:34:17.944 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:34:17.944 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 82, 5
2023-05-13 02:34:17.945 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:34:17.945 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:34:17.945 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:34:17.946 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:34:17.946 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:34:17.946 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:34:17.946 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051429201612800 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:34:17.946 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051429201612800 [0;39m <==      Total: 8
2023-05-13 02:34:17.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38051429201612800 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":82,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:34:17.948 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38051429201612800 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 02:34:18.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38051429881090048 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:34:18.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38051429881090048 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:34:18.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38051429881090048 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:34:18.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38051429881090048 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:34:18.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38051429881090048 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:34:18.104 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051429881090048 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:34:18.105 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051429881090048 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:34:18.106 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38051429881090048 [0;39m <==    Columns: id, content
2023-05-13 02:34:18.106 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38051429881090048 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:34:18.106 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051429881090048 [0;39m <==      Total: 1
2023-05-13 02:34:18.107 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051429881090048 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:34:18.107 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051429881090048 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:34:18.108 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051429881090048 [0;39m <==    Updates: 1
2023-05-13 02:34:18.108 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38051429881090048 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:34:18.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38051429881090048 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:34:29.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:35.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051500852908032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:34:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051500852908032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:34:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051500852908032 [0;39m ==> Parameters: 
2023-05-13 02:34:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051500852908032 [0;39m <==    Updates: 1
2023-05-13 02:34:35.035 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051500852908032 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 02:34:40.183 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:42.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:34:53.845 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:35:00.120 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38051606117355520 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:35:00.120 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051606117355520 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:35:00.121 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051606117355520 [0;39m ==> Parameters: 
2023-05-13 02:35:00.128 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051606117355520 [0;39m <==    Updates: 0
2023-05-13 02:35:00.129 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38051606117355520 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 02:35:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051626635890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:35:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051626635890688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:35:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051626635890688 [0;39m ==> Parameters: 
2023-05-13 02:35:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051626635890688 [0;39m <==    Updates: 1
2023-05-13 02:35:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051626635890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:35:09.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:35:13.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:35:13.277 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38051661301813248 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:35:13.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38051661301813248 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:35:13.278 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38051661301813248 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:35:13.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38051661301813248 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:35:13.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38051661301813248 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:35:13.282 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051661301813248 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:35:13.283 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051661301813248 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:35:13.284 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:35:13.284 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 83, 5
2023-05-13 02:35:13.284 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:35:13.285 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:35:13.285 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:35:13.285 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:35:13.285 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:35:13.285 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:35:13.287 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38051661301813248 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:35:13.287 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38051661301813248 [0;39m <==      Total: 8
2023-05-13 02:35:13.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38051661301813248 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":83,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:35:13.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38051661301813248 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 02:35:13.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38051662035816448 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:35:13.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38051662035816448 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:35:13.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38051662035816448 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:35:13.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38051662035816448 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:35:13.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38051662035816448 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:35:13.453 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051662035816448 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:35:13.455 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051662035816448 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:35:13.457 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38051662035816448 [0;39m <==    Columns: id, content
2023-05-13 02:35:13.458 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38051662035816448 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:35:13.458 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38051662035816448 [0;39m <==      Total: 1
2023-05-13 02:35:13.459 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051662035816448 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:35:13.459 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051662035816448 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:35:13.461 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38051662035816448 [0;39m <==    Updates: 1
2023-05-13 02:35:13.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38051662035816448 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:35:13.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38051662035816448 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 02:35:18.604 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:35:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051752444039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:35:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051752444039168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:35:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051752444039168 [0;39m ==> Parameters: 
2023-05-13 02:35:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051752444039168 [0;39m <==    Updates: 1
2023-05-13 02:35:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051752444039168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 02:35:39.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:35:45.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:36:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38051857293250560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:36:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051857293250560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:36:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051857293250560 [0;39m ==> Parameters: 
2023-05-13 02:36:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38051857293250560 [0;39m <==    Updates: 0
2023-05-13 02:36:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38051857293250560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 02:36:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38051878281547776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:36:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051878281547776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:36:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051878281547776 [0;39m ==> Parameters: 
2023-05-13 02:36:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38051878281547776 [0;39m <==    Updates: 1
2023-05-13 02:36:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38051878281547776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:36:09.241 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:36:14.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:36:34.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:36:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052004093890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:36:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052004093890560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:36:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052004093890560 [0;39m ==> Parameters: 
2023-05-13 02:36:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052004093890560 [0;39m <==    Updates: 1
2023-05-13 02:36:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052004093890560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:36:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:36:42.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:36:59.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38052108997627904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:37:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052108997627904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:37:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052108997627904 [0;39m ==> Parameters: 
2023-05-13 02:37:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052108997627904 [0;39m <==    Updates: 0
2023-05-13 02:37:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38052108997627904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 02:37:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052129977536512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:37:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052129977536512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:37:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052129977536512 [0;39m ==> Parameters: 
2023-05-13 02:37:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052129977536512 [0;39m <==    Updates: 1
2023-05-13 02:37:05.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052129977536512 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:37:09.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:12.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:23.892 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052255760519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:37:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052255760519168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:37:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052255760519168 [0;39m ==> Parameters: 
2023-05-13 02:37:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052255760519168 [0;39m <==    Updates: 1
2023-05-13 02:37:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052255760519168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:37:39.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:42.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:46.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052304011792384 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:37:46.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052304011792384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:37:46.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052304011792384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:37:46.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052304011792384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:37:46.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052304011792384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:37:46.513 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052304011792384 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:37:46.514 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052304011792384 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:37:46.515 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:37:46.516 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 84, 5
2023-05-13 02:37:46.516 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:37:46.516 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:37:46.517 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:37:46.517 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:37:46.517 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:37:46.518 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:37:46.518 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052304011792384 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:37:46.518 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052304011792384 [0;39m <==      Total: 8
2023-05-13 02:37:46.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052304011792384 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":84,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:37:46.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052304011792384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8 ms -------------
2023-05-13 02:37:47.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052309263060992 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:37:47.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052309263060992 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:37:47.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052309263060992 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:37:47.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052309263060992 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:37:47.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052309263060992 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:37:47.764 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052309263060992 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:37:47.765 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052309263060992 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:37:47.766 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052309263060992 [0;39m <==    Columns: id, content
2023-05-13 02:37:47.767 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052309263060992 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:37:47.767 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052309263060992 [0;39m <==      Total: 1
2023-05-13 02:37:47.767 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052309263060992 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:37:47.767 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052309263060992 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:37:47.769 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052309263060992 [0;39m <==    Updates: 1
2023-05-13 02:37:47.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052309263060992 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:37:47.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052309263060992 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:37:49.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:37:49.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052318092070912 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:37:49.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052318092070912 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:37:49.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052318092070912 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:37:49.868 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052318092070912 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:37:49.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052318092070912 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:37:49.869 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052318092070912 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:37:49.870 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052318092070912 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:37:49.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:37:49.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 85, 5
2023-05-13 02:37:49.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:37:49.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:37:49.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:37:49.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:37:49.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:37:49.872 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:37:49.873 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052318092070912 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:37:49.874 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052318092070912 [0;39m <==      Total: 8
2023-05-13 02:37:49.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052318092070912 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":85,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:37:49.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052318092070912 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:37:49.980 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052318561832960 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:37:49.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052318561832960 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:37:49.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052318561832960 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:37:49.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052318561832960 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:37:49.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052318561832960 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:37:49.983 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052318561832960 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:37:49.984 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052318561832960 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:37:49.985 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052318561832960 [0;39m <==    Columns: id, content
2023-05-13 02:37:49.985 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052318561832960 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:37:49.985 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052318561832960 [0;39m <==      Total: 1
2023-05-13 02:37:49.986 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052318561832960 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:37:49.986 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052318561832960 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:37:49.989 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052318561832960 [0;39m <==    Updates: 1
2023-05-13 02:37:49.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052318561832960 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:37:49.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052318561832960 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 02:38:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38052360626507776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:38:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052360626507776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:38:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052360626507776 [0;39m ==> Parameters: 
2023-05-13 02:38:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052360626507776 [0;39m <==    Updates: 0
2023-05-13 02:38:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38052360626507776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:38:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052381581250560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:38:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052381581250560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:38:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052381581250560 [0;39m ==> Parameters: 
2023-05-13 02:38:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052381581250560 [0;39m <==    Updates: 1
2023-05-13 02:38:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052381581250560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:38:05.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052384433377280 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:38:05.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052384433377280 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:38:05.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052384433377280 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:38:05.685 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052384433377280 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:38:05.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052384433377280 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:38:05.687 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052384433377280 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:38:05.687 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052384433377280 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:05.689 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:38:05.689 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 86, 5
2023-05-13 02:38:05.690 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:38:05.690 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:38:05.690 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:38:05.690 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:38:05.690 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:38:05.690 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:38:05.691 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052384433377280 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:38:05.691 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052384433377280 [0;39m <==      Total: 8
2023-05-13 02:38:05.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052384433377280 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":86,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:38:05.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052384433377280 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:38:06.836 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052389261021184 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:38:06.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052389261021184 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:38:06.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052389261021184 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:38:06.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052389261021184 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:38:06.837 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052389261021184 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:38:06.838 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052389261021184 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:38:06.839 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052389261021184 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:06.840 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052389261021184 [0;39m <==    Columns: id, content
2023-05-13 02:38:06.840 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052389261021184 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:38:06.840 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052389261021184 [0;39m <==      Total: 1
2023-05-13 02:38:06.841 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052389261021184 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:38:06.841 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052389261021184 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:06.842 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052389261021184 [0;39m <==    Updates: 1
2023-05-13 02:38:06.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052389261021184 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:38:06.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052389261021184 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:38:09.656 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:38:10.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052405119684608 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:38:10.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052405119684608 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:38:10.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052405119684608 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:38:10.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052405119684608 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:38:10.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052405119684608 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:38:10.619 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052405119684608 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:38:10.619 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052405119684608 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:10.620 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:38:10.620 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 87, 5
2023-05-13 02:38:10.620 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:38:10.621 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:38:10.621 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:38:10.621 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:38:10.621 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:38:10.622 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:38:10.622 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052405119684608 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:38:10.623 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052405119684608 [0;39m <==      Total: 8
2023-05-13 02:38:10.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052405119684608 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":87,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:38:10.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052405119684608 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 02:38:10.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052405383925760 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:38:10.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052405383925760 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:38:10.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052405383925760 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:38:10.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052405383925760 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:38:10.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052405383925760 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:38:10.682 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052405383925760 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:38:10.682 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052405383925760 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:10.682 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052405383925760 [0;39m <==    Columns: id, content
2023-05-13 02:38:10.682 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052405383925760 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:38:10.686 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052405383925760 [0;39m <==      Total: 1
2023-05-13 02:38:10.687 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052405383925760 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:38:10.688 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052405383925760 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:10.691 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052405383925760 [0;39m <==    Updates: 1
2023-05-13 02:38:10.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052405383925760 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:38:10.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052405383925760 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š12 ms -------------
2023-05-13 02:38:10.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052406096957440 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:38:10.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052406096957440 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 02:38:10.851 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052406096957440 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 02:38:10.851 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052406096957440 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:38:10.851 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052406096957440 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:38:10.852 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052406096957440 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 02:38:10.853 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052406096957440 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:10.853 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 02:38:10.853 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 88, 5
2023-05-13 02:38:10.854 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 02:38:10.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 02:38:10.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 02:38:10.855 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 02:38:10.856 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 02:38:10.856 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 02:38:10.856 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38052406096957440 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 02:38:10.856 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38052406096957440 [0;39m <==      Total: 8
2023-05-13 02:38:10.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052406096957440 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":88,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 02:38:10.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052406096957440 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š7 ms -------------
2023-05-13 02:38:10.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38052406398947328 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 02:38:10.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38052406398947328 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 02:38:10.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38052406398947328 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 02:38:10.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38052406398947328 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 02:38:10.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38052406398947328 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 02:38:10.924 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052406398947328 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 02:38:10.924 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052406398947328 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:10.926 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052406398947328 [0;39m <==    Columns: id, content
2023-05-13 02:38:10.926 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38052406398947328 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 02:38:10.927 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38052406398947328 [0;39m <==      Total: 1
2023-05-13 02:38:10.927 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052406398947328 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 02:38:10.928 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052406398947328 [0;39m ==> Parameters: 1(Long)
2023-05-13 02:38:10.930 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38052406398947328 [0;39m <==    Updates: 1
2023-05-13 02:38:10.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38052406398947328 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 02:38:10.931 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38052406398947328 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9 ms -------------
2023-05-13 02:38:15.291 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:38:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052507410370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:38:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052507410370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:38:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052507410370560 [0;39m ==> Parameters: 
2023-05-13 02:38:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052507410370560 [0;39m <==    Updates: 1
2023-05-13 02:38:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052507410370560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:38:39.215 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:38:44.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38052612309913600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:39:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052612309913600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:39:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052612309913600 [0;39m ==> Parameters: 
2023-05-13 02:39:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052612309913600 [0;39m <==    Updates: 0
2023-05-13 02:39:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38052612309913600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 02:39:03.776 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052633243684864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:39:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052633243684864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:39:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052633243684864 [0;39m ==> Parameters: 
2023-05-13 02:39:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052633243684864 [0;39m <==    Updates: 1
2023-05-13 02:39:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052633243684864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:39:09.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:12.528 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:27.866 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052759051833344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:39:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052759051833344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:39:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052759051833344 [0;39m ==> Parameters: 
2023-05-13 02:39:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052759051833344 [0;39m <==    Updates: 1
2023-05-13 02:39:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052759051833344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:39:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:42.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:39:51.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:40:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38052863922016256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:40:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052863922016256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:40:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052863922016256 [0;39m ==> Parameters: 
2023-05-13 02:40:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38052863922016256 [0;39m <==    Updates: 0
2023-05-13 02:40:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38052863922016256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:40:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38052884918702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:40:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052884918702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:40:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052884918702080 [0;39m ==> Parameters: 
2023-05-13 02:40:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38052884918702080 [0;39m <==    Updates: 1
2023-05-13 02:40:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38052884918702080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:40:09.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:40:16.128 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:40:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053010760404992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:40:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053010760404992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:40:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053010760404992 [0;39m ==> Parameters: 
2023-05-13 02:40:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053010760404992 [0;39m <==    Updates: 1
2023-05-13 02:40:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053010760404992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:40:39.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:40:44.091 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:41:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38053115618004992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:41:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053115618004992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:41:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053115618004992 [0;39m ==> Parameters: 
2023-05-13 02:41:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053115618004992 [0;39m <==    Updates: 0
2023-05-13 02:41:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38053115618004992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 02:41:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053136555970560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:41:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053136555970560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:41:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053136555970560 [0;39m ==> Parameters: 
2023-05-13 02:41:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053136555970560 [0;39m <==    Updates: 1
2023-05-13 02:41:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053136555970560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:41:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:41:12.245 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:41:33.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:41:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053262414450688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:41:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053262414450688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:41:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053262414450688 [0;39m ==> Parameters: 
2023-05-13 02:41:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053262414450688 [0;39m <==    Updates: 1
2023-05-13 02:41:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053262414450688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:41:39.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:41:42.051 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:41:57.292 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:42:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38053367230107648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:42:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053367230107648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:42:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053367230107648 [0;39m ==> Parameters: 
2023-05-13 02:42:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053367230107648 [0;39m <==    Updates: 0
2023-05-13 02:42:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38053367230107648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:42:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053388256153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:42:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053388256153600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:42:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053388256153600 [0;39m ==> Parameters: 
2023-05-13 02:42:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053388256153600 [0;39m <==    Updates: 1
2023-05-13 02:42:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053388256153600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:42:09.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:42:12.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:42:21.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:42:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053514026553344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053514026553344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053514026553344 [0;39m ==> Parameters: 
2023-05-13 02:42:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053514026553344 [0;39m <==    Updates: 1
2023-05-13 02:42:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053514026553344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:42:39.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:42:47.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:43:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38053618909319168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:43:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053618909319168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:43:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053618909319168 [0;39m ==> Parameters: 
2023-05-13 02:43:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053618909319168 [0;39m <==    Updates: 0
2023-05-13 02:43:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38053618909319168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:43:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053639876644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:43:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053639876644864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:43:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053639876644864 [0;39m ==> Parameters: 
2023-05-13 02:43:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053639876644864 [0;39m <==    Updates: 1
2023-05-13 02:43:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053639876644864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:43:09.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:43:14.099 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:43:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053765714153472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053765714153472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:43:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053765714153472 [0;39m ==> Parameters: 
2023-05-13 02:43:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053765714153472 [0;39m <==    Updates: 1
2023-05-13 02:43:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053765714153472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:43:39.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:43:42.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38053870575947776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:44:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053870575947776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:44:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053870575947776 [0;39m ==> Parameters: 
2023-05-13 02:44:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38053870575947776 [0;39m <==    Updates: 0
2023-05-13 02:44:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38053870575947776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:44:03.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38053891560050688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:44:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053891560050688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:44:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053891560050688 [0;39m ==> Parameters: 
2023-05-13 02:44:05.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38053891560050688 [0;39m <==    Updates: 1
2023-05-13 02:44:05.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38053891560050688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 02:44:09.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:12.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:27.338 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054017405947904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:44:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054017405947904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:44:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054017405947904 [0;39m ==> Parameters: 
2023-05-13 02:44:35.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054017405947904 [0;39m <==    Updates: 1
2023-05-13 02:44:35.028 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054017405947904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 02:44:39.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:42.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:44:51.411 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:45:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38054122225799168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:45:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054122225799168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:45:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054122225799168 [0;39m ==> Parameters: 
2023-05-13 02:45:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054122225799168 [0;39m <==    Updates: 0
2023-05-13 02:45:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38054122225799168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 02:45:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054143188930560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:45:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054143188930560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:45:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054143188930560 [0;39m ==> Parameters: 
2023-05-13 02:45:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054143188930560 [0;39m <==    Updates: 1
2023-05-13 02:45:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054143188930560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 02:45:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:45:16.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:45:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054269022244864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:45:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054269022244864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:45:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054269022244864 [0;39m ==> Parameters: 
2023-05-13 02:45:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054269022244864 [0;39m <==    Updates: 1
2023-05-13 02:45:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054269022244864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:45:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:45:42.046 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:45:44.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38054373900816384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:46:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054373900816384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:46:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054373900816384 [0;39m ==> Parameters: 
2023-05-13 02:46:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054373900816384 [0;39m <==    Updates: 0
2023-05-13 02:46:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38054373900816384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:46:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054394880724992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:46:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054394880724992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:46:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054394880724992 [0;39m ==> Parameters: 
2023-05-13 02:46:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054394880724992 [0;39m <==    Updates: 1
2023-05-13 02:46:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054394880724992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:46:06.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:09.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:10.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:12.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:30.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054520701456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:46:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054520701456384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:46:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054520701456384 [0;39m ==> Parameters: 
2023-05-13 02:46:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054520701456384 [0;39m <==    Updates: 1
2023-05-13 02:46:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054520701456384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:46:37.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:39.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:40.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:42.057 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:46:54.287 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38054625575833600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:47:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054625575833600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:47:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054625575833600 [0;39m ==> Parameters: 
2023-05-13 02:47:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054625575833600 [0;39m <==    Updates: 0
2023-05-13 02:47:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38054625575833600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:47:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054646492827648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:47:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054646492827648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:47:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054646492827648 [0;39m ==> Parameters: 
2023-05-13 02:47:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054646492827648 [0;39m <==    Updates: 1
2023-05-13 02:47:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054646492827648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:47:07.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:09.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:12.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:18.381 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054772330336256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:47:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054772330336256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:47:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054772330336256 [0;39m ==> Parameters: 
2023-05-13 02:47:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054772330336256 [0;39m <==    Updates: 1
2023-05-13 02:47:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054772330336256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:47:39.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:40.040 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:47:44.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38054877196324864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:48:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054877196324864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:48:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054877196324864 [0;39m ==> Parameters: 
2023-05-13 02:48:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38054877196324864 [0;39m <==    Updates: 0
2023-05-13 02:48:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38054877196324864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:48:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38054898151067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:48:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054898151067648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:48:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054898151067648 [0;39m ==> Parameters: 
2023-05-13 02:48:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38054898151067648 [0;39m <==    Updates: 1
2023-05-13 02:48:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38054898151067648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:48:08.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:09.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:10.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:14.303 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:32.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055023988576256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:48:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055023988576256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:48:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055023988576256 [0;39m ==> Parameters: 
2023-05-13 02:48:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055023988576256 [0;39m <==    Updates: 1
2023-05-13 02:48:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055023988576256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:48:37.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:42.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:48:56.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38055128846176256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:49:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055128846176256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:49:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055128846176256 [0;39m ==> Parameters: 
2023-05-13 02:49:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055128846176256 [0;39m <==    Updates: 0
2023-05-13 02:49:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38055128846176256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:49:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055149830279168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055149830279168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055149830279168 [0;39m ==> Parameters: 
2023-05-13 02:49:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055149830279168 [0;39m <==    Updates: 1
2023-05-13 02:49:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055149830279168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:49:07.968 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:10.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:12.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:20.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055275663593472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:49:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055275663593472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:49:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055275663593472 [0;39m ==> Parameters: 
2023-05-13 02:49:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055275663593472 [0;39m <==    Updates: 1
2023-05-13 02:49:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055275663593472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 02:49:39.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:40.010 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:49:46.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38055380508610560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:50:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055380508610560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:50:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055380508610560 [0;39m ==> Parameters: 
2023-05-13 02:50:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055380508610560 [0;39m <==    Updates: 0
2023-05-13 02:50:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38055380508610560 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:50:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055401492713472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:50:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055401492713472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:50:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055401492713472 [0;39m ==> Parameters: 
2023-05-13 02:50:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055401492713472 [0;39m <==    Updates: 1
2023-05-13 02:50:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055401492713472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:50:09.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:14.096 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055527292473344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:50:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055527292473344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:50:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055527292473344 [0;39m ==> Parameters: 
2023-05-13 02:50:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055527292473344 [0;39m <==    Updates: 1
2023-05-13 02:50:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055527292473344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:50:36.132 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:38.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:40.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:50:42.244 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38055632154267648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:51:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055632154267648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:51:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055632154267648 [0;39m ==> Parameters: 
2023-05-13 02:51:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055632154267648 [0;39m <==    Updates: 0
2023-05-13 02:51:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38055632154267648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:51:00.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055653146759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:51:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055653146759168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:51:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055653146759168 [0;39m ==> Parameters: 
2023-05-13 02:51:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055653146759168 [0;39m <==    Updates: 1
2023-05-13 02:51:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055653146759168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:51:07.979 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:09.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:12.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:24.314 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055778975879168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:51:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055778975879168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:51:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055778975879168 [0;39m ==> Parameters: 
2023-05-13 02:51:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055778975879168 [0;39m <==    Updates: 1
2023-05-13 02:51:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055778975879168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:51:39.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:40.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:42.056 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:51:48.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38055883862839296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:52:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055883862839296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:52:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055883862839296 [0;39m ==> Parameters: 
2023-05-13 02:52:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38055883862839296 [0;39m <==    Updates: 0
2023-05-13 02:52:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38055883862839296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:52:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38055904804999168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:52:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055904804999168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:52:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055904804999168 [0;39m ==> Parameters: 
2023-05-13 02:52:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38055904804999168 [0;39m <==    Updates: 1
2023-05-13 02:52:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38055904804999168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:52:07.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:09.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:10.014 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:12.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:14.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056030621536256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:52:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056030621536256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:52:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056030621536256 [0;39m ==> Parameters: 
2023-05-13 02:52:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056030621536256 [0;39m <==    Updates: 1
2023-05-13 02:52:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056030621536256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:52:38.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:40.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:52:44.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38056135521079296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:53:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056135521079296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:53:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056135521079296 [0;39m ==> Parameters: 
2023-05-13 02:53:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056135521079296 [0;39m <==    Updates: 0
2023-05-13 02:53:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38056135521079296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:53:02.361 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056156438073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:53:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056156438073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:53:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056156438073344 [0;39m ==> Parameters: 
2023-05-13 02:53:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056156438073344 [0;39m <==    Updates: 1
2023-05-13 02:53:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056156438073344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 02:53:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:10.020 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:12.337 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:26.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056282309136384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:53:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056282309136384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:53:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056282309136384 [0;39m ==> Parameters: 
2023-05-13 02:53:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056282309136384 [0;39m <==    Updates: 1
2023-05-13 02:53:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056282309136384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:53:37.974 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:42.042 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:53:50.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38056387179319296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:54:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056387179319296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:54:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056387179319296 [0;39m ==> Parameters: 
2023-05-13 02:54:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056387179319296 [0;39m <==    Updates: 0
2023-05-13 02:54:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38056387179319296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:54:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056408125673472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:54:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056408125673472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:54:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056408125673472 [0;39m ==> Parameters: 
2023-05-13 02:54:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056408125673472 [0;39m <==    Updates: 1
2023-05-13 02:54:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056408125673472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:54:07.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:12.512 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:14.564 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:16.616 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056533925433344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:54:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056533925433344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:54:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056533925433344 [0;39m ==> Parameters: 
2023-05-13 02:54:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056533925433344 [0;39m <==    Updates: 1
2023-05-13 02:54:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056533925433344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:54:37.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:42.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:54:44.096 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38056638804004864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:55:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056638804004864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:55:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056638804004864 [0;39m ==> Parameters: 
2023-05-13 02:55:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056638804004864 [0;39m <==    Updates: 0
2023-05-13 02:55:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38056638804004864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:55:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056659767136256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:55:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056659767136256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:55:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056659767136256 [0;39m ==> Parameters: 
2023-05-13 02:55:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056659767136256 [0;39m <==    Updates: 1
2023-05-13 02:55:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056659767136256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:55:08.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:09.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:10.229 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:14.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:32.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056785625616384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:55:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056785625616384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:55:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056785625616384 [0;39m ==> Parameters: 
2023-05-13 02:55:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056785625616384 [0;39m <==    Updates: 1
2023-05-13 02:55:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056785625616384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:55:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:42.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:54.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:55:56.384 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38056890499993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:56:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056890499993600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:56:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056890499993600 [0;39m ==> Parameters: 
2023-05-13 02:56:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38056890499993600 [0;39m <==    Updates: 0
2023-05-13 02:56:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38056890499993600 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:56:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38056911437959168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:56:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056911437959168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:56:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056911437959168 [0;39m ==> Parameters: 
2023-05-13 02:56:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38056911437959168 [0;39m <==    Updates: 1
2023-05-13 02:56:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38056911437959168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:56:07.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:09.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:10.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:12.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:20.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057037258690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:56:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057037258690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:56:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057037258690560 [0;39m ==> Parameters: 
2023-05-13 02:56:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057037258690560 [0;39m <==    Updates: 1
2023-05-13 02:56:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057037258690560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:56:37.976 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:39.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:42.053 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:56:46.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38057142103707648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:57:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057142103707648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:57:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057142103707648 [0;39m ==> Parameters: 
2023-05-13 02:57:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057142103707648 [0;39m <==    Updates: 0
2023-05-13 02:57:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38057142103707648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:57:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057163092004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:57:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057163092004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:57:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057163092004864 [0;39m ==> Parameters: 
2023-05-13 02:57:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057163092004864 [0;39m <==    Updates: 1
2023-05-13 02:57:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057163092004864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:57:07.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:09.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:10.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:12.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:14.090 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057288958873600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:57:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057288958873600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:57:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057288958873600 [0;39m ==> Parameters: 
2023-05-13 02:57:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057288958873600 [0;39m <==    Updates: 1
2023-05-13 02:57:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057288958873600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:57:38.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:40.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:57:44.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38057393812279296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:58:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057393812279296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:58:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057393812279296 [0;39m ==> Parameters: 
2023-05-13 02:58:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057393812279296 [0;39m <==    Updates: 0
2023-05-13 02:58:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38057393812279296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 02:58:02.252 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057414737661952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:58:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057414737661952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:58:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057414737661952 [0;39m ==> Parameters: 
2023-05-13 02:58:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057414737661952 [0;39m <==    Updates: 1
2023-05-13 02:58:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057414737661952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:58:08.387 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:12.789 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:26.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057540575170560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:58:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057540575170560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:58:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057540575170560 [0;39m ==> Parameters: 
2023-05-13 02:58:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057540575170560 [0;39m <==    Updates: 1
2023-05-13 02:58:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057540575170560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:58:39.207 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:42.068 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:48.792 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:58:50.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38057645478907904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 02:59:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057645478907904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 02:59:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057645478907904 [0;39m ==> Parameters: 
2023-05-13 02:59:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057645478907904 [0;39m <==    Updates: 0
2023-05-13 02:59:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38057645478907904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:59:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057666395901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:59:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057666395901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:59:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057666395901952 [0;39m ==> Parameters: 
2023-05-13 02:59:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057666395901952 [0;39m <==    Updates: 1
2023-05-13 02:59:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057666395901952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 02:59:07.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:09.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:10.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:12.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:16.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057792229216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 02:59:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057792229216256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 02:59:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057792229216256 [0;39m ==> Parameters: 
2023-05-13 02:59:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057792229216256 [0;39m <==    Updates: 1
2023-05-13 02:59:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057792229216256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 02:59:39.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:40.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:42.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 02:59:44.097 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38057897082621952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:00:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057897082621952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:00:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057897082621952 [0;39m ==> Parameters: 
2023-05-13 03:00:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38057897082621952 [0;39m <==    Updates: 0
2023-05-13 03:00:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38057897082621952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:00:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38057918041559040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:00:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057918041559040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:00:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057918041559040 [0;39m ==> Parameters: 
2023-05-13 03:00:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38057918041559040 [0;39m <==    Updates: 1
2023-05-13 03:00:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38057918041559040 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:00:08.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:12.263 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:14.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:30.226 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:32.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058043887456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:00:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058043887456256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:00:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058043887456256 [0;39m ==> Parameters: 
2023-05-13 03:00:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058043887456256 [0;39m <==    Updates: 1
2023-05-13 03:00:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058043887456256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:00:37.984 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:39.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:40.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:42.060 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:54.308 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:00:56.351 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38058148774416384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:01:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058148774416384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:01:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058148774416384 [0;39m ==> Parameters: 
2023-05-13 03:01:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058148774416384 [0;39m <==    Updates: 0
2023-05-13 03:01:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38058148774416384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:01:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058169724964864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:01:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058169724964864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:01:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058169724964864 [0;39m ==> Parameters: 
2023-05-13 03:01:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058169724964864 [0;39m <==    Updates: 1
2023-05-13 03:01:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058169724964864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:01:09.187 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:10.026 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:12.063 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:18.401 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:20.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058295600222208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:01:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058295600222208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:01:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058295600222208 [0;39m ==> Parameters: 
2023-05-13 03:01:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058295600222208 [0;39m <==    Updates: 1
2023-05-13 03:01:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058295600222208 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:01:39.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:42.073 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:44.108 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:01:46.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38058400420073472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058400420073472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:02:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058400420073472 [0;39m ==> Parameters: 
2023-05-13 03:02:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058400420073472 [0;39m <==    Updates: 0
2023-05-13 03:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38058400420073472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:02:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058421408370688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:02:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058421408370688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:02:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058421408370688 [0;39m ==> Parameters: 
2023-05-13 03:02:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058421408370688 [0;39m <==    Updates: 1
2023-05-13 03:02:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058421408370688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:02:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:10.016 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:12.052 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:14.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058547237490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:02:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058547237490688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:02:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058547237490688 [0;39m ==> Parameters: 
2023-05-13 03:02:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058547237490688 [0;39m <==    Updates: 1
2023-05-13 03:02:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058547237490688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:02:36.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:38.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:39.203 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:42.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:02:44.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38058652053147648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:03:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058652053147648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:03:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058652053147648 [0;39m ==> Parameters: 
2023-05-13 03:03:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058652053147648 [0;39m <==    Updates: 0
2023-05-13 03:03:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38058652053147648 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:03:02.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058673058222080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:03:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058673058222080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:03:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058673058222080 [0;39m ==> Parameters: 
2023-05-13 03:03:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058673058222080 [0;39m <==    Updates: 1
2023-05-13 03:03:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058673058222080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:03:09.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:10.005 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:12.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:26.340 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058798849593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058798849593344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:03:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058798849593344 [0;39m ==> Parameters: 
2023-05-13 03:03:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058798849593344 [0;39m <==    Updates: 1
2023-05-13 03:03:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058798849593344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:03:39.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:42.046 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:03:50.420 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38058903715581952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:04:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058903715581952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:04:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058903715581952 [0;39m ==> Parameters: 
2023-05-13 03:04:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38058903715581952 [0;39m <==    Updates: 0
2023-05-13 03:04:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38058903715581952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:04:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38058924682907648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:04:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058924682907648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058924682907648 [0;39m ==> Parameters: 
2023-05-13 03:04:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38058924682907648 [0;39m <==    Updates: 1
2023-05-13 03:04:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38058924682907648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:04:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:10.014 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:12.048 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:16.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059050524610560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:04:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059050524610560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:04:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059050524610560 [0;39m ==> Parameters: 
2023-05-13 03:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059050524610560 [0;39m <==    Updates: 1
2023-05-13 03:04:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059050524610560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:04:37.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:39.204 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:40.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:42.059 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:04:44.098 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38059155407376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:05:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059155407376384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:05:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059155407376384 [0;39m ==> Parameters: 
2023-05-13 03:05:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059155407376384 [0;39m <==    Updates: 0
2023-05-13 03:05:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38059155407376384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 03:05:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059176366313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:05:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059176366313472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:05:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059176366313472 [0;39m ==> Parameters: 
2023-05-13 03:05:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059176366313472 [0;39m <==    Updates: 1
2023-05-13 03:05:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059176366313472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:05:08.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:09.191 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:10.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:14.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:32.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059302203822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:05:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059302203822080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:05:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059302203822080 [0;39m ==> Parameters: 
2023-05-13 03:05:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059302203822080 [0;39m <==    Updates: 1
2023-05-13 03:05:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059302203822080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:05:37.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:39.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:40.014 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:42.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:05:56.353 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38059407078199296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:06:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059407078199296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:06:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059407078199296 [0;39m ==> Parameters: 
2023-05-13 03:06:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059407078199296 [0;39m <==    Updates: 0
2023-05-13 03:06:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38059407078199296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 03:06:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059427999387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:06:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059427999387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:06:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059427999387648 [0;39m ==> Parameters: 
2023-05-13 03:06:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059427999387648 [0;39m <==    Updates: 1
2023-05-13 03:06:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059427999387648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:06:07.989 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:12.104 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:21.464 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:35.145 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059554428293120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:06:35.209 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059554428293120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:06:35.209 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059554428293120 [0;39m ==> Parameters: 
2023-05-13 03:06:35.211 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059554428293120 [0;39m <==    Updates: 1
2023-05-13 03:06:35.211 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059554428293120 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š65æ¯«ç§’
2023-05-13 03:06:39.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:40.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:42.178 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:44.216 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:06:46.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:07:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38059658715467776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:07:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059658715467776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:07:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059658715467776 [0;39m ==> Parameters: 
2023-05-13 03:07:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059658715467776 [0;39m <==    Updates: 0
2023-05-13 03:07:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38059658715467776 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 03:07:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059679686987776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:07:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059679686987776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:07:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059679686987776 [0;39m ==> Parameters: 
2023-05-13 03:07:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059679686987776 [0;39m <==    Updates: 1
2023-05-13 03:07:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059679686987776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:07:07.987 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:07:09.209 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:07:14.375 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:07:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059805507719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059805507719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:07:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059805507719168 [0;39m ==> Parameters: 
2023-05-13 03:07:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059805507719168 [0;39m <==    Updates: 1
2023-05-13 03:07:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059805507719168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:07:38.464 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:07:39.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:07:44.580 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38059910369513472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:08:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059910369513472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:08:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059910369513472 [0;39m ==> Parameters: 
2023-05-13 03:08:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38059910369513472 [0;39m <==    Updates: 0
2023-05-13 03:08:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38059910369513472 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:08:02.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38059931311673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:08:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059931311673344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:08:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059931311673344 [0;39m ==> Parameters: 
2023-05-13 03:08:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38059931311673344 [0;39m <==    Updates: 1
2023-05-13 03:08:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38059931311673344 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:08:09.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:12.723 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:27.031 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060057199513600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:08:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060057199513600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:08:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060057199513600 [0;39m ==> Parameters: 
2023-05-13 03:08:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060057199513600 [0;39m <==    Updates: 1
2023-05-13 03:08:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060057199513600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:08:39.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:40.543 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:43.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:08:51.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38060162010976256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:09:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060162010976256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:09:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060162010976256 [0;39m ==> Parameters: 
2023-05-13 03:09:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060162010976256 [0;39m <==    Updates: 0
2023-05-13 03:09:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38060162010976256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:09:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060183028633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:09:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060183028633600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:09:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060183028633600 [0;39m ==> Parameters: 
2023-05-13 03:09:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060183028633600 [0;39m <==    Updates: 1
2023-05-13 03:09:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060183028633600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 03:09:07.987 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:09.194 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:12.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:14.083 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:16.116 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:35.054 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060309021331456 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:09:35.058 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060309021331456 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:09:35.059 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060309021331456 [0;39m ==> Parameters: 
2023-05-13 03:09:35.087 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060309021331456 [0;39m <==    Updates: 1
2023-05-13 03:09:35.088 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060309021331456 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2023-05-13 03:09:39.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:09:42.389 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38060413665021952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:10:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060413665021952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:10:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060413665021952 [0;39m ==> Parameters: 
2023-05-13 03:10:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060413665021952 [0;39m <==    Updates: 0
2023-05-13 03:10:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38060413665021952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:10:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060434665902080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:10:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060434665902080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:10:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060434665902080 [0;39m ==> Parameters: 
2023-05-13 03:10:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060434665902080 [0;39m <==    Updates: 1
2023-05-13 03:10:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060434665902080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 03:10:06.887 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:09.694 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:13.795 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:31.493 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060560474050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:10:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060560474050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:10:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060560474050560 [0;39m ==> Parameters: 
2023-05-13 03:10:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060560474050560 [0;39m <==    Updates: 1
2023-05-13 03:10:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060560474050560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:10:39.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:42.887 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:53.886 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:10:56.426 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38060665365204992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:11:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060665365204992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:11:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060665365204992 [0;39m ==> Parameters: 
2023-05-13 03:11:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060665365204992 [0;39m <==    Updates: 0
2023-05-13 03:11:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38060665365204992 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 03:11:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060686345113600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:11:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060686345113600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:11:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060686345113600 [0;39m ==> Parameters: 
2023-05-13 03:11:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060686345113600 [0;39m <==    Updates: 1
2023-05-13 03:11:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060686345113600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:11:08.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:09.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:12.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:21.003 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060812161650688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:11:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060812161650688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:11:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060812161650688 [0;39m ==> Parameters: 
2023-05-13 03:11:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060812161650688 [0;39m <==    Updates: 1
2023-05-13 03:11:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060812161650688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:11:37.994 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:39.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:42.121 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:11:46.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38060916973113344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:12:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060916973113344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:12:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060916973113344 [0;39m ==> Parameters: 
2023-05-13 03:12:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38060916973113344 [0;39m <==    Updates: 0
2023-05-13 03:12:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38060916973113344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:12:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38060937965604864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:12:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060937965604864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:12:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060937965604864 [0;39m ==> Parameters: 
2023-05-13 03:12:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38060937965604864 [0;39m <==    Updates: 1
2023-05-13 03:12:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38060937965604864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 03:12:07.992 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:09.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:12.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:14.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061063782141952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:12:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061063782141952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:12:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061063782141952 [0;39m ==> Parameters: 
2023-05-13 03:12:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061063782141952 [0;39m <==    Updates: 1
2023-05-13 03:12:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061063782141952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:12:36.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:38.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:39.740 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:40.387 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:42.443 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:12:44.515 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38061168673296384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:13:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061168673296384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:13:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061168673296384 [0;39m ==> Parameters: 
2023-05-13 03:13:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061168673296384 [0;39m <==    Updates: 0
2023-05-13 03:13:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38061168673296384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:13:00.452 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:02.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061189653204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:13:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061189653204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:13:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061189653204992 [0;39m ==> Parameters: 
2023-05-13 03:13:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061189653204992 [0;39m <==    Updates: 1
2023-05-13 03:13:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061189653204992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:13:09.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:12.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:24.542 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:26.579 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061315440381952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:13:35.062 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061315440381952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:13:35.063 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061315440381952 [0;39m ==> Parameters: 
2023-05-13 03:13:35.072 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061315440381952 [0;39m <==    Updates: 1
2023-05-13 03:13:35.073 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061315440381952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š15æ¯«ç§’
2023-05-13 03:13:39.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:40.039 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:42.076 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:13:50.690 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38061420352507904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:14:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061420352507904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:14:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061420352507904 [0;39m ==> Parameters: 
2023-05-13 03:14:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061420352507904 [0;39m <==    Updates: 0
2023-05-13 03:14:00.030 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38061420352507904 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-13 03:14:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061441294667776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:14:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061441294667776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:14:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061441294667776 [0;39m ==> Parameters: 
2023-05-13 03:14:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061441294667776 [0;39m <==    Updates: 1
2023-05-13 03:14:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061441294667776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 03:14:07.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:09.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:12.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:16.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061567140564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:14:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061567140564992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:14:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061567140564992 [0;39m ==> Parameters: 
2023-05-13 03:14:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061567140564992 [0;39m <==    Updates: 1
2023-05-13 03:14:35.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061567140564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 03:14:39.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:42.044 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:14:44.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38061671989776384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:15:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061671989776384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:15:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061671989776384 [0;39m ==> Parameters: 
2023-05-13 03:15:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061671989776384 [0;39m <==    Updates: 0
2023-05-13 03:15:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38061671989776384 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š11æ¯«ç§’
2023-05-13 03:15:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061692961296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:15:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061692961296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:15:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061692961296384 [0;39m ==> Parameters: 
2023-05-13 03:15:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061692961296384 [0;39m <==    Updates: 1
2023-05-13 03:15:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061692961296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 03:15:08.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:09.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:14.459 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:32.193 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061818794610688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:15:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061818794610688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:15:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061818794610688 [0;39m ==> Parameters: 
2023-05-13 03:15:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061818794610688 [0;39m <==    Updates: 1
2023-05-13 03:15:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061818794610688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:15:39.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:42.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:15:56.242 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38061923627044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:16:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061923627044864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:16:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061923627044864 [0;39m ==> Parameters: 
2023-05-13 03:16:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38061923627044864 [0;39m <==    Updates: 0
2023-05-13 03:16:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38061923627044864 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:16:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38061944632119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:16:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061944632119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:16:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061944632119296 [0;39m ==> Parameters: 
2023-05-13 03:16:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38061944632119296 [0;39m <==    Updates: 1
2023-05-13 03:16:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38061944632119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:16:09.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:12.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:18.306 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:20.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062070465433600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:16:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062070465433600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:16:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062070465433600 [0;39m ==> Parameters: 
2023-05-13 03:16:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062070465433600 [0;39m <==    Updates: 1
2023-05-13 03:16:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062070465433600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:16:39.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:42.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:16:46.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:17:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38062175272701952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:17:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062175272701952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:17:00.026 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062175272701952 [0;39m ==> Parameters: 
2023-05-13 03:17:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062175272701952 [0;39m <==    Updates: 0
2023-05-13 03:17:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38062175272701952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2023-05-13 03:17:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062196286164992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062196286164992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062196286164992 [0;39m ==> Parameters: 
2023-05-13 03:17:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062196286164992 [0;39m <==    Updates: 1
2023-05-13 03:17:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062196286164992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:17:09.185 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:17:12.729 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:17:34.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:17:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062322123673600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:17:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062322123673600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:17:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062322123673600 [0;39m ==> Parameters: 
2023-05-13 03:17:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062322123673600 [0;39m <==    Updates: 1
2023-05-13 03:17:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062322123673600 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1æ¯«ç§’
2023-05-13 03:17:39.474 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:17:43.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:17:58.990 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38062426922553344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:18:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062426922553344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:18:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062426922553344 [0;39m ==> Parameters: 
2023-05-13 03:18:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062426922553344 [0;39m <==    Updates: 0
2023-05-13 03:18:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38062426922553344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 03:18:01.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062447944404992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:18:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062447944404992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:18:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062447944404992 [0;39m ==> Parameters: 
2023-05-13 03:18:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062447944404992 [0;39m <==    Updates: 1
2023-05-13 03:18:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062447944404992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:18:09.346 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:13.049 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:25.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062573748359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:18:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062573748359168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:18:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062573748359168 [0;39m ==> Parameters: 
2023-05-13 03:18:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062573748359168 [0;39m <==    Updates: 1
2023-05-13 03:18:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062573748359168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:18:39.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:42.087 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:18:49.794 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:19:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38062678593376256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:19:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062678593376256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:19:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062678593376256 [0;39m ==> Parameters: 
2023-05-13 03:19:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062678593376256 [0;39m <==    Updates: 0
2023-05-13 03:19:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38062678593376256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:19:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062699556507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:19:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062699556507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:19:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062699556507648 [0;39m ==> Parameters: 
2023-05-13 03:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062699556507648 [0;39m <==    Updates: 1
2023-05-13 03:19:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062699556507648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:19:09.790 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:19:12.455 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:19:16.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:19:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062825414987776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:19:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062825414987776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062825414987776 [0;39m ==> Parameters: 
2023-05-13 03:19:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062825414987776 [0;39m <==    Updates: 1
2023-05-13 03:19:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062825414987776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:19:39.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:19:42.510 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:19:44.542 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38062930306142208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:20:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062930306142208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:20:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062930306142208 [0;39m ==> Parameters: 
2023-05-13 03:20:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38062930306142208 [0;39m <==    Updates: 0
2023-05-13 03:20:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38062930306142208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:20:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38062951223136256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062951223136256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062951223136256 [0;39m ==> Parameters: 
2023-05-13 03:20:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38062951223136256 [0;39m <==    Updates: 1
2023-05-13 03:20:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38062951223136256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:20:09.208 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:12.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:31.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:33.725 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38063077043867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:20:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063077043867648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:20:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063077043867648 [0;39m ==> Parameters: 
2023-05-13 03:20:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063077043867648 [0;39m <==    Updates: 1
2023-05-13 03:20:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38063077043867648 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:20:39.206 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:42.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:20:58.072 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:21:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38063181943410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:21:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063181943410688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:21:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063181943410688 [0;39m ==> Parameters: 
2023-05-13 03:21:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063181943410688 [0;39m <==    Updates: 0
2023-05-13 03:21:00.023 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38063181943410688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 03:21:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38063202910736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:21:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063202910736384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:21:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063202910736384 [0;39m ==> Parameters: 
2023-05-13 03:21:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063202910736384 [0;39m <==    Updates: 1
2023-05-13 03:21:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38063202910736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:21:09.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:21:12.064 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:21:22.174 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:21:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38063328739856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:21:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063328739856384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:21:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063328739856384 [0;39m ==> Parameters: 
2023-05-13 03:21:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063328739856384 [0;39m <==    Updates: 1
2023-05-13 03:21:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38063328739856384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:21:39.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:21:42.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:21:46.456 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:22:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38063433622622208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:22:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063433622622208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:22:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063433622622208 [0;39m ==> Parameters: 
2023-05-13 03:22:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063433622622208 [0;39m <==    Updates: 0
2023-05-13 03:22:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38063433622622208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:22:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38063454581559296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:22:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063454581559296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:22:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063454581559296 [0;39m ==> Parameters: 
2023-05-13 03:22:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063454581559296 [0;39m <==    Updates: 1
2023-05-13 03:22:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38063454581559296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:22:09.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:22:12.096 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:22:14.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:22:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38063580364541952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063580364541952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063580364541952 [0;39m ==> Parameters: 
2023-05-13 03:22:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063580364541952 [0;39m <==    Updates: 1
2023-05-13 03:22:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38063580364541952 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:22:39.843 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:22:43.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:23:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38063685259890688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:23:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063685259890688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:23:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063685259890688 [0;39m ==> Parameters: 
2023-05-13 03:23:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38063685259890688 [0;39m <==    Updates: 0
2023-05-13 03:23:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38063685259890688 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:23:04.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:23:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38063706227216384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:23:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063706227216384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:23:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063706227216384 [0;39m ==> Parameters: 
2023-05-13 03:23:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38063706227216384 [0;39m <==    Updates: 1
2023-05-13 03:23:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38063706227216384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:23:09.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:23:12.491 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:23:15.403 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š9LIS1wj8z0ï¼Œsession idï¼š4ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 03:23:15.591 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 03:23:15.627 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-13 03:23:15.639 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-13 03:23:15.657 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-13 03:23:15.950 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-13 03:23:16.243 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-13 03:23:16.244 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-13 03:23:52.136 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-13 03:23:52.176 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 17392 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-13 03:23:52.178 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-13 03:23:52.321 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-13 03:23:52.322 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-13 03:23:56.431 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-13 03:23:56.443 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-13 03:23:56.510 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 42 ms. Found 0 Redis repository interfaces.
2023-05-13 03:23:57.454 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$7f409db3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:23:57.480 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.004 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.006 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$217b12b4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.008 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.013 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.035 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.046 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.047 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.211 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.221 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.252 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.257 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:00.327 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:13.210 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:13.294 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:24:15.924 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-13 03:24:15.944 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-13 03:24:15.945 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-13 03:24:15.945 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-13 03:24:16.707 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-13 03:24:16.708 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 24385 ms
2023-05-13 03:24:19.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:24:19.772 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:24:23.376 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-13 03:24:25.177 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-13 03:24:25.691 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-13 03:24:33.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:24:33.760 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 03:24:33.760 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-13 03:24:33.777 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-13 03:24:33.796 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-13 03:24:33.955 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 42.702 seconds (JVM running for 45.9)
2023-05-13 03:24:33.959 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-13 03:24:33.963 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-13 03:24:35.038 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064083827822592 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:24:35.136 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38064083827822592 [0;39m HikariPool-1 - Starting...
2023-05-13 03:24:38.549 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38064083827822592 [0;39m HikariPool-1 - Start completed.
2023-05-13 03:24:38.570 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064083827822592 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:24:38.688 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064083827822592 [0;39m ==> Parameters: 
2023-05-13 03:24:38.695 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064083827822592 [0;39m <==    Updates: 1
2023-05-13 03:24:38.698 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064083827822592 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3659æ¯«ç§’
2023-05-13 03:24:40.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:24:45.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:24:46.066 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-13 03:24:46.066 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-13 03:24:46.068 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-13 03:24:46.247 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šVg1R9ApsDsï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 03:24:46.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064132020375552 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:46.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064132020375552 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-13 03:24:46.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064132020375552 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-13 03:24:46.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064132020375552 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:46.598 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064132313976832 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:46.599 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064132313976832 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-13 03:24:46.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064132313976832 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-13 03:24:46.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064132313976832 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:46.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064132330754048 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:46.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064132330754048 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2023-05-13 03:24:46.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064132330754048 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.CategoryController.all
2023-05-13 03:24:46.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064132330754048 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:46.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064132020375552 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 03:24:46.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064132330754048 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 03:24:46.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064132313976832 [0;39m è¯·æ±‚å‚æ•°: []
2023-05-13 03:24:46.804 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38064132313976832 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 03:24:46.805 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38064132313976832 [0;39m ==> Parameters: 
2023-05-13 03:24:46.816 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38064132020375552 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-13 03:24:47.178 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38064132020375552 [0;39m ==> Parameters: 
2023-05-13 03:24:47.199 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38064132020375552 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-13 03:24:47.200 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38064132020375552 [0;39m <==        Row: 2023-05-12, 68, 10, 58, 3
2023-05-13 03:24:47.203 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38064132313976832 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-13 03:24:47.204 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38064132313976832 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-13 03:24:47.204 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38064132020375552 [0;39m <==        Row: 2023-05-13, 114, 10, 46, 0
2023-05-13 03:24:47.219 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38064132330754048 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-13 03:24:47.337 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38064132313976832 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-13 03:24:47.337 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38064132020375552 [0;39m <==      Total: 2
2023-05-13 03:24:47.338 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38064132313976832 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-13 03:24:47.339 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38064132313976832 [0;39m <==        Row: 2023-05-12, 58, 3
2023-05-13 03:24:47.339 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38064132330754048 [0;39m ==> Parameters: 
2023-05-13 03:24:47.339 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38064132313976832 [0;39m <==      Total: 4
2023-05-13 03:24:47.346 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==    Columns: id, parent, name, sort
2023-05-13 03:24:47.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 100, 0, å‰ç«¯å¼€å‘, 100
2023-05-13 03:24:47.349 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-13 03:24:47.349 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-13 03:24:47.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 200, 0, Java, 200
2023-05-13 03:24:47.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2023-05-13 03:24:47.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2023-05-13 03:24:47.351 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 300, 0, Python, 300
2023-05-13 03:24:47.352 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2023-05-13 03:24:47.352 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2023-05-13 03:24:47.352 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2023-05-13 03:24:47.353 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-13 03:24:47.353 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2023-05-13 03:24:47.354 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2023-05-13 03:24:47.354 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2023-05-13 03:24:47.354 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38064132330754048 [0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2023-05-13 03:24:47.355 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38064132330754048 [0;39m <==      Total: 15
2023-05-13 03:24:47.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064132330754048 [0;39m è¿”å›žç»“æžœ: {"content":[{"id":100,"name":"å‰ç«¯å¼€å‘","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2023-05-13 03:24:47.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064132313976832 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1683820800000,"viewCount":0,"viewIncrease":58,"voteCount":0,"voteIncrease":3}],"success":true}
2023-05-13 03:24:47.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064132330754048 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š770 ms -------------
2023-05-13 03:24:47.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064132313976832 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š773 ms -------------
2023-05-13 03:24:47.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064132020375552 [0;39m è¿”å›žç»“æžœ: {"content":[{"date":1683820800000,"viewCount":68,"viewIncrease":58,"voteCount":10,"voteIncrease":3},{"date":1683907200000,"viewCount":114,"viewIncrease":46,"voteCount":10,"voteIncrease":0}],"success":true}
2023-05-13 03:24:47.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064132020375552 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š846 ms -------------
2023-05-13 03:24:50.145 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064147191173120 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:50.149 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064147191173120 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 03:24:50.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064147191173120 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 03:24:50.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064147191173120 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:50.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064147191173120 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-13 03:24:50.233 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38064147191173120 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 03:24:50.234 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38064147191173120 [0;39m ==> Parameters: 201(Long)
2023-05-13 03:24:50.236 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38064147191173120 [0;39m <==    Columns: count(0)
2023-05-13 03:24:50.237 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38064147191173120 [0;39m <==        Row: 0
2023-05-13 03:24:50.237 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38064147191173120 [0;39m <==      Total: 1
2023-05-13 03:24:50.240 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38064147191173120 [0;39m æ€»è¡Œæ•°ï¼š0
2023-05-13 03:24:50.241 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38064147191173120 [0;39m æ€»é¡µæ•°ï¼š0
2023-05-13 03:24:50.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064147191173120 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[],"total":0},"success":true}
2023-05-13 03:24:50.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064147191173120 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š99 ms -------------
2023-05-13 03:24:52.083 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 03:24:52.083 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 03:24:52.091 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 03:24:52.092 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/user/logout/38031679427842048
2023-05-13 03:24:52.092 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38031679427842048
2023-05-13 03:24:52.520 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38031679427842048"}
2023-05-13 03:24:52.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064157202976768 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:52.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064157202976768 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/logout/38031679427842048 GET
2023-05-13 03:24:52.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064157202976768 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.logout
2023-05-13 03:24:52.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064157202976768 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:52.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064157202976768 [0;39m è¯·æ±‚å‚æ•°: ["38031679427842048"]
2023-05-13 03:24:52.576 INFO  com.jiawa.wiki.controller.UserController          :97   [32m38064157202976768 [0;39m ä»Žredisä¸­åˆ é™¤token: 38031679427842048
2023-05-13 03:24:52.576 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064157202976768 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 03:24:52.576 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064157202976768 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š44 ms -------------
2023-05-13 03:24:52.580 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38064157202976768 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š488 ms -------------
2023-05-13 03:24:54.893 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064167101534208 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:54.893 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064167101534208 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2023-05-13 03:24:54.893 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064167101534208 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.UserController.login
2023-05-13 03:24:54.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064167101534208 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:54.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064167101534208 [0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2023-05-13 03:24:54.907 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38064167101534208 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-13 03:24:54.908 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38064167101534208 [0;39m ==> Parameters: test(String)
2023-05-13 03:24:54.909 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38064167101534208 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 03:24:54.910 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m38064167101534208 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 03:24:54.912 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m38064167101534208 [0;39m <==      Total: 1
2023-05-13 03:24:54.918 INFO  com.jiawa.wiki.controller.UserController          :86   [32m38064167101534208 [0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š38064167210586112ï¼Œå¹¶æ”¾å…¥redisä¸­
2023-05-13 03:24:55.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064167101534208 [0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38064167210586112"},"success":true}
2023-05-13 03:24:55.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064167101534208 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š153 ms -------------
2023-05-13 03:24:58.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064181278281728 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:58.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064181278281728 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2023-05-13 03:24:58.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064181278281728 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.EbookController.list
2023-05-13 03:24:58.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064181278281728 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:58.273 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064181278281728 [0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-13 03:24:58.279 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38064181278281728 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-13 03:24:58.280 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38064181278281728 [0;39m ==> Parameters: 202(Long)
2023-05-13 03:24:58.281 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38064181278281728 [0;39m <==    Columns: count(0)
2023-05-13 03:24:58.281 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38064181278281728 [0;39m <==        Row: 1
2023-05-13 03:24:58.282 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38064181278281728 [0;39m <==      Total: 1
2023-05-13 03:24:58.285 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38064181278281728 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-13 03:24:58.285 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38064181278281728 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-13 03:24:58.287 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38064181278281728 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 03:24:58.288 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38064181278281728 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 114, 10
2023-05-13 03:24:58.288 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38064181278281728 [0;39m <==      Total: 1
2023-05-13 03:24:58.289 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38064181278281728 [0;39m æ€»è¡Œæ•°ï¼š1
2023-05-13 03:24:58.289 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38064181278281728 [0;39m æ€»é¡µæ•°ï¼š1
2023-05-13 03:24:58.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064181278281728 [0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":8,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":114,"voteCount":10}],"total":1},"success":true}
2023-05-13 03:24:58.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064181278281728 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š28 ms -------------
2023-05-13 03:24:59.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064184902160384 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:59.136 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064184902160384 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:24:59.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064184902160384 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:24:59.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064184902160384 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:59.137 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064184902160384 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:24:59.146 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064184902160384 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:24:59.146 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064184902160384 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:24:59.148 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:24:59.148 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 89, 5
2023-05-13 03:24:59.149 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:24:59.149 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:24:59.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:24:59.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:24:59.150 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:24:59.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:24:59.151 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064184902160384 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:24:59.151 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064184902160384 [0;39m <==      Total: 8
2023-05-13 03:24:59.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064184902160384 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":89,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:24:59.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064184902160384 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š26 ms -------------
2023-05-13 03:24:59.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064185577443328 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:24:59.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064185577443328 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:24:59.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064185577443328 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:24:59.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064185577443328 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:24:59.301 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064185577443328 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:24:59.302 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064185577443328 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:24:59.303 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064185577443328 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:24:59.305 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064185577443328 [0;39m <==    Columns: id, content
2023-05-13 03:24:59.306 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064185577443328 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:24:59.306 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064185577443328 [0;39m <==      Total: 1
2023-05-13 03:24:59.308 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064185577443328 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:24:59.309 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064185577443328 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:24:59.312 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064185577443328 [0;39m <==    Updates: 1
2023-05-13 03:24:59.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064185577443328 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:24:59.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064185577443328 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-13 03:25:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38064188542816256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:25:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064188542816256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:25:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064188542816256 [0;39m ==> Parameters: 
2023-05-13 03:25:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064188542816256 [0;39m <==    Updates: 0
2023-05-13 03:25:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38064188542816256 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 03:25:02.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:04.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064209547890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:25:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064209547890688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:25:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064209547890688 [0;39m ==> Parameters: 
2023-05-13 03:25:05.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064209547890688 [0;39m <==    Updates: 1
2023-05-13 03:25:05.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064209547890688 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š14æ¯«ç§’
2023-05-13 03:25:08.449 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:10.503 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:15.289 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:26.508 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:28.549 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064335360233472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:25:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064335360233472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:25:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064335360233472 [0;39m ==> Parameters: 
2023-05-13 03:25:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064335360233472 [0;39m <==    Updates: 1
2023-05-13 03:25:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064335360233472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:25:35.298 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:39.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:45.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:50.604 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:25:52.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38064440242999296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:26:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064440242999296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:26:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064440242999296 [0;39m ==> Parameters: 
2023-05-13 03:26:00.113 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064440242999296 [0;39m <==    Updates: 0
2023-05-13 03:26:00.113 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38064440242999296 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š98æ¯«ç§’
2023-05-13 03:26:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064461185159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:26:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064461185159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:26:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064461185159168 [0;39m ==> Parameters: 
2023-05-13 03:26:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064461185159168 [0;39m <==    Updates: 1
2023-05-13 03:26:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064461185159168 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 03:26:09.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:15.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:17.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:19.654 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064522619129856 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:26:19.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064522619129856 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:26:19.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064522619129856 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:26:19.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064522619129856 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:26:19.655 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064522619129856 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:26:19.658 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064522619129856 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:26:19.659 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064522619129856 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:26:19.660 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:26:19.660 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 90, 5
2023-05-13 03:26:19.661 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:26:19.661 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:26:19.662 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:26:19.662 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:26:19.663 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:26:19.663 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:26:19.664 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064522619129856 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:26:19.667 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064522619129856 [0;39m <==      Total: 8
2023-05-13 03:26:19.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064522619129856 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":90,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:26:19.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064522619129856 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2023-05-13 03:26:20.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064524582064128 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:26:20.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064524582064128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:26:20.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064524582064128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:26:20.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064524582064128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:26:20.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064524582064128 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:26:20.129 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064524582064128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:26:20.130 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064524582064128 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:26:20.133 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064524582064128 [0;39m <==    Columns: id, content
2023-05-13 03:26:20.133 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064524582064128 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:26:20.134 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064524582064128 [0;39m <==      Total: 1
2023-05-13 03:26:20.134 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064524582064128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:26:20.135 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064524582064128 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:26:20.156 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064524582064128 [0;39m <==    Updates: 1
2023-05-13 03:26:20.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064524582064128 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:26:20.157 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064524582064128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š35 ms -------------
2023-05-13 03:26:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064587018473472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:26:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064587018473472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:26:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064587018473472 [0;39m ==> Parameters: 
2023-05-13 03:26:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064587018473472 [0;39m <==    Updates: 1
2023-05-13 03:26:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064587018473472 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 03:26:35.605 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:38.572 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064601962778624 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:26:38.574 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064601962778624 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:26:38.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064601962778624 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:26:38.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064601962778624 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:26:38.578 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064601962778624 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:26:38.580 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064601962778624 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:26:38.581 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064601962778624 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:26:38.583 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:26:38.583 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 91, 5
2023-05-13 03:26:38.583 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:26:38.584 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:26:38.584 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:26:38.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:26:38.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:26:38.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:26:38.586 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064601962778624 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:26:38.587 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064601962778624 [0;39m <==      Total: 8
2023-05-13 03:26:38.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064601962778624 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":91,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:26:38.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064601962778624 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š17 ms -------------
2023-05-13 03:26:38.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064603103629312 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:26:38.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064603103629312 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:26:38.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064603103629312 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:26:38.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064603103629312 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:26:38.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064603103629312 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:26:38.845 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064603103629312 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:26:38.845 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064603103629312 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:26:38.848 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064603103629312 [0;39m <==    Columns: id, content
2023-05-13 03:26:38.848 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064603103629312 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:26:38.849 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064603103629312 [0;39m <==      Total: 1
2023-05-13 03:26:38.849 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064603103629312 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:26:38.850 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064603103629312 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:26:38.852 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064603103629312 [0;39m <==    Updates: 1
2023-05-13 03:26:38.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064603103629312 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:26:38.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064603103629312 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š10 ms -------------
2023-05-13 03:26:40.023 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:42.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:44.085 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:26:45.301 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38064691871879168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:27:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064691871879168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:27:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064691871879168 [0;39m ==> Parameters: 
2023-05-13 03:27:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064691871879168 [0;39m <==    Updates: 0
2023-05-13 03:27:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38064691871879168 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 03:27:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064712868564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:27:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064712868564992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:27:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064712868564992 [0;39m ==> Parameters: 
2023-05-13 03:27:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064712868564992 [0;39m <==    Updates: 1
2023-05-13 03:27:05.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064712868564992 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 03:27:07.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:09.341 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:11.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:15.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:33.921 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064838689296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:27:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064838689296384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:27:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064838689296384 [0;39m ==> Parameters: 
2023-05-13 03:27:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064838689296384 [0;39m <==    Updates: 1
2023-05-13 03:27:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064838689296384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:27:35.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:38.436 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:42.513 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:45.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:27:53.700 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38064184902160384 [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šVg1R9ApsDsï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 03:28:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38064943504953344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:28:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064943504953344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:28:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064943504953344 [0;39m ==> Parameters: 
2023-05-13 03:28:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38064943504953344 [0;39m <==    Updates: 0
2023-05-13 03:28:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38064943504953344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š18æ¯«ç§’
2023-05-13 03:28:00.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:28:00.941 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38064185577443328 [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š5u2XRef5Stï¼Œsession idï¼š1ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 03:28:01.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064949225984000 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:28:01.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064949225984000 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:28:01.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064949225984000 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:28:01.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064949225984000 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:28:01.367 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064949225984000 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:28:01.370 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064949225984000 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:28:01.370 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064949225984000 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:28:01.372 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:28:01.372 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 92, 5
2023-05-13 03:28:01.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:28:01.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:28:01.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:28:01.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:28:01.373 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:28:01.374 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:28:01.374 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38064949225984000 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:28:01.374 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38064949225984000 [0;39m <==      Total: 8
2023-05-13 03:28:01.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064949225984000 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":92,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:28:01.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064949225984000 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š11 ms -------------
2023-05-13 03:28:01.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38064950165508096 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:28:01.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38064950165508096 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:28:01.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38064950165508096 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:28:01.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38064950165508096 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:28:01.590 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38064950165508096 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:28:01.590 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064950165508096 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:28:01.591 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064950165508096 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:28:01.592 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064950165508096 [0;39m <==    Columns: id, content
2023-05-13 03:28:01.592 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38064950165508096 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:28:01.593 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38064950165508096 [0;39m <==      Total: 1
2023-05-13 03:28:01.593 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064950165508096 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:28:01.595 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064950165508096 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:28:01.604 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38064950165508096 [0;39m <==    Updates: 1
2023-05-13 03:28:01.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38064950165508096 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:28:01.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38064950165508096 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 03:28:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38064964510027776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:28:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064964510027776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:28:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064964510027776 [0;39m ==> Parameters: 
2023-05-13 03:28:05.032 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38064964510027776 [0;39m <==    Updates: 1
2023-05-13 03:28:05.032 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38064964510027776 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š22æ¯«ç§’
2023-05-13 03:28:09.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:28:11.898 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38064147191173120 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 03:28:11.899 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38064147191173120 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 03:28:11.972 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m38064522619129856 [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:250)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:417)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:364)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:123)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:66)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:491)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1255)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1037)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-13 03:28:11.978 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m38064522619129856 [0;39m Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported]
2023-05-13 03:28:15.471 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:28:25.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:28:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065090360119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:28:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065090360119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:28:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065090360119296 [0;39m ==> Parameters: 
2023-05-13 03:28:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065090360119296 [0;39m <==    Updates: 1
2023-05-13 03:28:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065090360119296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3æ¯«ç§’
2023-05-13 03:28:36.303 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š5u2XRef5Stï¼Œsession idï¼š1ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2023-05-13 03:28:36.417 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 03:28:36.421 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-13 03:28:36.422 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-13 03:28:36.423 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-13 03:28:36.447 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-13 03:28:36.599 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:28:36.602 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-13 03:28:36.603 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-13 03:28:57.509 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-13 03:28:57.527 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 19240 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-13 03:28:57.549 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-13 03:28:57.679 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-13 03:28:57.680 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-13 03:28:59.166 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-13 03:28:59.172 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-13 03:28:59.215 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2023-05-13 03:28:59.850 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$c94d8f5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:28:59.871 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.308 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.312 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$aecf4df6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.313 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.332 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.340 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.341 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.347 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.351 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.354 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.394 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.402 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.414 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.429 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:01.469 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:05.445 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:05.447 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-13 03:29:06.748 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-13 03:29:06.770 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-13 03:29:06.776 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-13 03:29:06.776 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-13 03:29:07.155 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-13 03:29:07.155 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 9474 ms
2023-05-13 03:29:07.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:07.819 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:09.346 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-13 03:29:10.476 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-13 03:29:10.641 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-13 03:29:14.223 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:16.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:16.268 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-13 03:29:16.281 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-13 03:29:16.295 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-13 03:29:16.309 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-13 03:29:16.334 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 19.878 seconds (JVM running for 22.677)
2023-05-13 03:29:16.343 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2023-05-13 03:29:16.343 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2023-05-13 03:29:18.308 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:20.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065341976416256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:29:35.032 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38065341976416256 [0;39m HikariPool-1 - Starting...
2023-05-13 03:29:36.500 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38065341976416256 [0;39m HikariPool-1 - Start completed.
2023-05-13 03:29:36.507 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065341976416256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:29:36.536 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065341976416256 [0;39m ==> Parameters: 
2023-05-13 03:29:36.546 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065341976416256 [0;39m <==    Updates: 1
2023-05-13 03:29:36.550 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065341976416256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š1546æ¯«ç§’
2023-05-13 03:29:37.497 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:39.893 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:29:44.454 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38065446821433344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:30:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065446821433344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:30:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065446821433344 [0;39m ==> Parameters: 
2023-05-13 03:30:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065446821433344 [0;39m <==    Updates: 0
2023-05-13 03:30:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38065446821433344 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š22æ¯«ç§’
2023-05-13 03:30:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065467847479296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:30:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065467847479296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:30:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065467847479296 [0;39m ==> Parameters: 
2023-05-13 03:30:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065467847479296 [0;39m <==    Updates: 1
2023-05-13 03:30:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065467847479296 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 03:30:05.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:07.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:07.801 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:09.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:11.868 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065593684987904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:30:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065593684987904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:30:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065593684987904 [0;39m ==> Parameters: 
2023-05-13 03:30:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065593684987904 [0;39m <==    Updates: 1
2023-05-13 03:30:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065593684987904 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š5æ¯«ç§’
2023-05-13 03:30:35.982 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:37.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:38.033 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:42.658 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:30:58.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38065698517422080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:31:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065698517422080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:31:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065698517422080 [0;39m ==> Parameters: 
2023-05-13 03:31:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065698517422080 [0;39m <==    Updates: 0
2023-05-13 03:31:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38065698517422080 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š7æ¯«ç§’
2023-05-13 03:31:00.070 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065719472164864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:31:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065719472164864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:31:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065719472164864 [0;39m ==> Parameters: 
2023-05-13 03:31:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065719472164864 [0;39m <==    Updates: 1
2023-05-13 03:31:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065719472164864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š2æ¯«ç§’
2023-05-13 03:31:05.766 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:07.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:07.973 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:10.021 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:22.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:24.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065845301284864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:31:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065845301284864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:31:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065845301284864 [0;39m ==> Parameters: 
2023-05-13 03:31:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065845301284864 [0;39m <==    Updates: 1
2023-05-13 03:31:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065845301284864 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:31:35.766 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:37.514 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:39.883 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:31:48.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38065950205022208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:32:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065950205022208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:32:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065950205022208 [0;39m ==> Parameters: 
2023-05-13 03:32:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38065950205022208 [0;39m <==    Updates: 0
2023-05-13 03:32:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38065950205022208 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š6æ¯«ç§’
2023-05-13 03:32:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38065971147182080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:32:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065971147182080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:32:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065971147182080 [0;39m ==> Parameters: 
2023-05-13 03:32:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38065971147182080 [0;39m <==    Updates: 1
2023-05-13 03:32:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38065971147182080 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:32:08.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:08.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:10.381 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-13 03:32:10.381 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-13 03:32:10.386 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 5 ms
2023-05-13 03:32:10.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:11.131 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼škZxDsL5qsgï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2023-05-13 03:32:11.436 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38065998070419456 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:32:11.437 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38065998070419456 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:32:11.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38065998070419456 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:32:11.438 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38065998070419456 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:32:11.653 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38065998070419456 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:32:12.204 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38065998070419456 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:32:12.222 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38065998070419456 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:32:12.244 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:32:12.244 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 93, 5
2023-05-13 03:32:12.246 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:32:12.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:32:12.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:32:12.248 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:32:12.248 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:32:12.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:32:12.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38065998070419456 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:32:12.250 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38065998070419456 [0;39m <==      Total: 8
2023-05-13 03:32:12.292 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38065998070419456 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":93,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:32:12.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38065998070419456 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š867 ms -------------
2023-05-13 03:32:12.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38066002612850688 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:32:12.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38066002612850688 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:32:12.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38066002612850688 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:32:12.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38066002612850688 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:32:12.513 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38066002612850688 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:32:12.514 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066002612850688 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:32:12.515 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066002612850688 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:32:12.525 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38066002612850688 [0;39m <==    Columns: id, content
2023-05-13 03:32:12.525 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38066002612850688 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:32:12.526 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066002612850688 [0;39m <==      Total: 1
2023-05-13 03:32:12.527 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066002612850688 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:32:12.528 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066002612850688 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:32:12.530 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066002612850688 [0;39m <==    Updates: 1
2023-05-13 03:32:12.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38066002612850688 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:32:12.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38066002612850688 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š19 ms -------------
2023-05-13 03:32:12.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:15.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:20.886 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m                  [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:250)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:417)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:364)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:123)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:66)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:491)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1255)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1037)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-13 03:32:20.889 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m                  [0;39m Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported]
2023-05-13 03:32:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38066096951136256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:32:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066096951136256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:32:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066096951136256 [0;39m ==> Parameters: 
2023-05-13 03:32:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066096951136256 [0;39m <==    Updates: 1
2023-05-13 03:32:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38066096951136256 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š12æ¯«ç§’
2023-05-13 03:32:37.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:40.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:32:42.725 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:00.068 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38066202077171712 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:33:00.070 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38066202077171712 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:33:00.072 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38066202077171712 [0;39m ==> Parameters: 
2023-05-13 03:33:00.078 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38066202077171712 [0;39m <==    Updates: 0
2023-05-13 03:33:00.079 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38066202077171712 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š10æ¯«ç§’
2023-05-13 03:33:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38066222784450560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:33:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066222784450560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:33:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066222784450560 [0;39m ==> Parameters: 
2023-05-13 03:33:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066222784450560 [0;39m <==    Updates: 1
2023-05-13 03:33:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38066222784450560 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š4æ¯«ç§’
2023-05-13 03:33:06.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38066227956027392 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:33:06.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38066227956027392 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:33:06.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38066227956027392 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:33:06.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38066227956027392 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:33:06.239 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38066227956027392 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:33:06.241 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38066227956027392 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:33:06.242 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38066227956027392 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:06.243 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:33:06.243 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 94, 5
2023-05-13 03:33:06.245 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:33:06.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:33:06.247 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:33:06.249 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:33:06.250 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:33:06.250 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:33:06.251 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066227956027392 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:33:06.254 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38066227956027392 [0;39m <==      Total: 8
2023-05-13 03:33:06.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38066227956027392 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":94,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:33:06.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38066227956027392 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š20 ms -------------
2023-05-13 03:33:06.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38066230090928128 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:33:06.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38066230090928128 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:33:06.748 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38066230090928128 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:33:06.749 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38066230090928128 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:33:06.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38066230090928128 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:33:06.751 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066230090928128 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:33:06.753 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066230090928128 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:06.756 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38066230090928128 [0;39m <==    Columns: id, content
2023-05-13 03:33:06.756 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38066230090928128 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:33:06.756 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066230090928128 [0;39m <==      Total: 1
2023-05-13 03:33:06.757 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066230090928128 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:33:06.757 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066230090928128 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:06.778 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066230090928128 [0;39m <==    Updates: 1
2023-05-13 03:33:06.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38066230090928128 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:33:06.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38066230090928128 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š35 ms -------------
2023-05-13 03:33:07.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:10.896 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:14.791 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 03:33:14.792 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š0 ms -------------
2023-05-13 03:33:14.817 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m                  [0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:250)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:417)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:364)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:123)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:66)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:491)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1255)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1037)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-13 03:33:14.825 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m                  [0;39m Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported]
2023-05-13 03:33:32.562 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38066348638736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:33:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066348638736384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:33:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066348638736384 [0;39m ==> Parameters: 
2023-05-13 03:33:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066348638736384 [0;39m <==    Updates: 1
2023-05-13 03:33:35.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38066348638736384 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š13æ¯«ç§’
2023-05-13 03:33:37.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38066357610352640 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:33:37.150 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38066357610352640 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2023-05-13 03:33:37.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38066357610352640 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.all
2023-05-13 03:33:37.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38066357610352640 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:33:37.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38066357610352640 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:33:37.156 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38066357610352640 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-13 03:33:37.157 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38066357610352640 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:37.158 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-13 03:33:37.159 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 1, 1, 0, æ–‡æ¡£1, 1, 95, 5
2023-05-13 03:33:37.161 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 6, 2
2023-05-13 03:33:37.161 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 5, 1
2023-05-13 03:33:37.162 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 4, 1
2023-05-13 03:33:37.162 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 37841703666847744, 1, 5, æ–‡æ¡£2.2.2, 1, 2, 0
2023-05-13 03:33:37.162 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, æ–‡æ¡£2.2.2.1, 1, 2, 0
2023-05-13 03:33:37.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 2, 0
2023-05-13 03:33:37.163 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38066357610352640 [0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 4, 1
2023-05-13 03:33:37.164 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38066357610352640 [0;39m <==      Total: 8
2023-05-13 03:33:37.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38066357610352640 [0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":1,"name":"æ–‡æ¡£1","parent":0,"sort":1,"viewCount":95,"voteCount":5},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"æ–‡æ¡£2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"æ–‡æ¡£2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-13 03:33:37.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38066357610352640 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š16 ms -------------
2023-05-13 03:33:37.746 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:37.860 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38066360588308480 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:33:37.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38066360588308480 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-13 03:33:37.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38066360588308480 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.findContent
2023-05-13 03:33:37.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38066360588308480 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:33:37.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38066360588308480 [0;39m è¯·æ±‚å‚æ•°: [1]
2023-05-13 03:33:37.864 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066360588308480 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-13 03:33:37.865 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066360588308480 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:37.865 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38066360588308480 [0;39m <==    Columns: id, content
2023-05-13 03:33:37.866 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38066360588308480 [0;39m <==        Row: 1, <<BLOB>>
2023-05-13 03:33:37.866 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38066360588308480 [0;39m <==      Total: 1
2023-05-13 03:33:37.867 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066360588308480 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-13 03:33:37.868 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066360588308480 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:37.877 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38066360588308480 [0;39m <==    Updates: 1
2023-05-13 03:33:37.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38066360588308480 [0;39m è¿”å›žç»“æžœ: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If youâ€™re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick â€” try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general â€” try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific â€” try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">Itâ€™s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">Whatâ€™s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-13 03:33:37.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38066360588308480 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š18 ms -------------
2023-05-13 03:33:38.348 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:40.644 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:33:44.180 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m38065998070419456 [0;39m ------------- LoginInterceptor å¼€å§‹ -------------
2023-05-13 03:33:44.180 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m38065998070419456 [0;39m æŽ¥å£ç™»å½•æ‹¦æˆªï¼šï¼Œpathï¼šhttp://127.0.0.1:8880/doc/handleSubmitComment/
2023-05-13 03:33:44.180 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m38065998070419456 [0;39m ç™»å½•æ ¡éªŒå¼€å§‹ï¼Œtokenï¼š38064167210586112
2023-05-13 03:33:44.553 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m38065998070419456 [0;39m å·²ç™»å½•ï¼š{"id":1,"loginName":"test","name":"æµ‹è¯•","token":"38064167210586112"}
2023-05-13 03:33:44.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38066389130547200 [0;39m ------------- å¼€å§‹ -------------
2023-05-13 03:33:44.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38066389130547200 [0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/handleSubmitComment/ POST
2023-05-13 03:33:44.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38066389130547200 [0;39m ç±»åæ–¹æ³•: com.jiawa.wiki.controller.DocController.handleSubmitComment
2023-05-13 03:33:44.666 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38066389130547200 [0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2023-05-13 03:33:44.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38066389130547200 [0;39m è¯·æ±‚å‚æ•°: [{"content":"good","ebookId":1,"userId":1}]
2023-05-13 03:33:44.673 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38066389130547200 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user where id = ?
2023-05-13 03:33:44.673 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38066389130547200 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:44.676 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38066389130547200 [0;39m <==    Columns: id, login_name, name, password
2023-05-13 03:33:44.676 TRACE c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :143  [32m38066389130547200 [0;39m <==        Row: 1, test, æµ‹è¯•, db0887127059810ba9f80186d795edb5
2023-05-13 03:33:44.677 DEBUG c.jiawa.wiki.mapper.UserMapper.selectByPrimaryKey :137  [32m38066389130547200 [0;39m <==      Total: 1
2023-05-13 03:33:44.677 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38066389130547200 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook where id = ?
2023-05-13 03:33:44.678 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38066389130547200 [0;39m ==> Parameters: 1(Long)
2023-05-13 03:33:44.679 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38066389130547200 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-13 03:33:44.679 TRACE c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:143  [32m38066389130547200 [0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 8, 120, 10
2023-05-13 03:33:44.679 DEBUG c.jiawa.wiki.mapper.EbookMapper.selectByPrimaryKey:137  [32m38066389130547200 [0;39m <==      Total: 1
2023-05-13 03:33:44.680 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38066389130547200 [0;39m ==>  Preparing: insert into comment (id, user_id, ebook_id, content, create_time, update_time ) values (?, ?, ?, ?, ?, ? )
2023-05-13 03:33:44.682 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38066389130547200 [0;39m ==> Parameters: null, 1(Long), 1(Long), good(String), 2023-05-13 03:33:44.68(Timestamp), null
2023-05-13 03:33:44.685 DEBUG com.jiawa.wiki.mapper.CommentMapper.insert        :137  [32m38066389130547200 [0;39m <==    Updates: 1
2023-05-13 03:33:44.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38066389130547200 [0;39m è¿”å›žç»“æžœ: {"success":true}
2023-05-13 03:33:44.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38066389130547200 [0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2023-05-13 03:33:44.687 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m38066389130547200 [0;39m ------------- LoginInterceptor ç»“æŸ è€—æ—¶ï¼š507 ms -------------
2023-05-13 03:33:56.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-13 03:34:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38066453462781952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2023-05-13 03:34:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38066453462781952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-13 03:34:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38066453462781952 [0;39m ==> Parameters: 
2023-05-13 03:34:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38066453462781952 [0;39m <==    Updates: 0
2023-05-13 03:34:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38066453462781952 [0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š9æ¯«ç§’
2023-05-13 03:34:05.055 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38066474652405760 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2023-05-13 03:34:05.056 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066474652405760 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-13 03:34:05.057 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066474652405760 [0;39m ==> Parameters: 
2023-05-13 03:34:05.063 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38066474652405760 [0;39m <==    Updates: 1
2023-05-13 03:34:05.063 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38066474652405760 [0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š8æ¯«ç§’
2023-05-13 03:34:05.737 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
