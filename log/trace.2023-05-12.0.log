2023-05-12 00:00:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37650210733821952 [0;39m 生成今日电子书快照开始
2023-05-12 00:00:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37650210733821952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:00:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37650210733821952 [0;39m ==> Parameters: 
2023-05-12 00:00:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37650210733821952 [0;39m <==    Updates: 5
2023-05-12 00:00:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37650210733821952 [0;39m 生成今日电子书快照结束，耗时：13毫秒
2023-05-12 00:00:02.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:00:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37650231734702080 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:00:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650231734702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:00:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650231734702080 [0;39m ==> Parameters: 
2023-05-12 00:00:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650231734702080 [0;39m <==    Updates: 1
2023-05-12 00:00:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37650231734702080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:00:24.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:00:26.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:00:26.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:00:28.402 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:00:30.438 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:00:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37650357538656256 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:00:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650357538656256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:00:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650357538656256 [0;39m ==> Parameters: 
2023-05-12 00:00:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650357538656256 [0;39m <==    Updates: 1
2023-05-12 00:00:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37650357538656256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:00:52.490 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:00:54.529 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:00:56.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:00:56.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:00:58.598 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:01:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37650462442393600 [0;39m 生成今日电子书快照开始
2023-05-12 00:01:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37650462442393600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:01:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37650462442393600 [0;39m ==> Parameters: 
2023-05-12 00:01:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37650462442393600 [0;39m <==    Updates: 0
2023-05-12 00:01:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37650462442393600 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 00:01:00.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:01:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37650483363581952 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:01:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650483363581952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:01:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650483363581952 [0;39m ==> Parameters: 
2023-05-12 00:01:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650483363581952 [0;39m <==    Updates: 1
2023-05-12 00:01:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37650483363581952 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-12 00:01:16.626 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:01:18.667 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:01:26.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:01:26.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:01:28.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:01:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37650609201090560 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:01:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650609201090560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:01:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650609201090560 [0;39m ==> Parameters: 
2023-05-12 00:01:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650609201090560 [0;39m <==    Updates: 1
2023-05-12 00:01:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37650609201090560 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:01:40.702 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:01:42.739 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:01:54.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:01:56.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:01:56.358 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:01:58.392 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37650714088050688 [0;39m 生成今日电子书快照开始
2023-05-12 00:02:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37650714088050688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:02:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37650714088050688 [0;39m ==> Parameters: 
2023-05-12 00:02:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37650714088050688 [0;39m <==    Updates: 0
2023-05-12 00:02:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37650714088050688 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 00:02:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37650735030210560 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:02:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650735030210560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:02:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650735030210560 [0;39m ==> Parameters: 
2023-05-12 00:02:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650735030210560 [0;39m <==    Updates: 1
2023-05-12 00:02:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37650735030210560 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 00:02:06.830 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:02:24.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:02:26.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:02:28.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:02:30.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:02:32.476 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:02:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37650860859330560 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:02:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650860859330560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:02:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650860859330560 [0;39m ==> Parameters: 
2023-05-12 00:02:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650860859330560 [0;39m <==    Updates: 1
2023-05-12 00:02:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37650860859330560 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 00:02:54.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:02:56.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:02:56.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:02:58.401 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:03:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37650965721124864 [0;39m 生成今日电子书快照开始
2023-05-12 00:03:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37650965721124864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:03:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37650965721124864 [0;39m ==> Parameters: 
2023-05-12 00:03:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37650965721124864 [0;39m <==    Updates: 0
2023-05-12 00:03:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37650965721124864 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 00:03:00.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:03:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37650986692644864 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:03:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650986692644864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:03:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650986692644864 [0;39m ==> Parameters: 
2023-05-12 00:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37650986692644864 [0;39m <==    Updates: 1
2023-05-12 00:03:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37650986692644864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:03:22.476 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:03:24.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:03:26.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:03:26.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:03:28.591 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:03:30.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:03:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37651112551124992 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:03:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651112551124992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:03:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651112551124992 [0;39m ==> Parameters: 
2023-05-12 00:03:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651112551124992 [0;39m <==    Updates: 1
2023-05-12 00:03:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37651112551124992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:03:46.558 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:03:48.592 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:03:56.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:03:58.395 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:04:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37651217417113600 [0;39m 生成今日电子书快照开始
2023-05-12 00:04:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37651217417113600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:04:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37651217417113600 [0;39m ==> Parameters: 
2023-05-12 00:04:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37651217417113600 [0;39m <==    Updates: 0
2023-05-12 00:04:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37651217417113600 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 00:04:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37651238371856384 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651238371856384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:04:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651238371856384 [0;39m ==> Parameters: 
2023-05-12 00:04:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651238371856384 [0;39m <==    Updates: 1
2023-05-12 00:04:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37651238371856384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:04:10.642 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:04:12.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:04:24.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:04:26.277 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:04:26.354 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:04:28.403 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:04:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37651364213559296 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:04:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651364213559296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:04:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651364213559296 [0;39m ==> Parameters: 
2023-05-12 00:04:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651364213559296 [0;39m <==    Updates: 1
2023-05-12 00:04:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37651364213559296 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 00:04:36.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:04:54.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:04:56.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:04:56.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:04:58.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:05:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37651469050187776 [0;39m 生成今日电子书快照开始
2023-05-12 00:05:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37651469050187776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:05:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37651469050187776 [0;39m ==> Parameters: 
2023-05-12 00:05:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37651469050187776 [0;39m <==    Updates: 0
2023-05-12 00:05:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37651469050187776 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 00:05:02.465 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:05:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37651490013319168 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651490013319168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651490013319168 [0;39m ==> Parameters: 
2023-05-12 00:05:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651490013319168 [0;39m <==    Updates: 1
2023-05-12 00:05:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37651490013319168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:05:24.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:05:26.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:05:26.358 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:05:28.391 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:05:30.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:05:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37651615850827776 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:05:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651615850827776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:05:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651615850827776 [0;39m ==> Parameters: 
2023-05-12 00:05:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651615850827776 [0;39m <==    Updates: 1
2023-05-12 00:05:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37651615850827776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:05:52.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:05:54.510 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:05:56.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:05:56.545 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37651720725204992 [0;39m 生成今日电子书快照开始
2023-05-12 00:06:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37651720725204992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:06:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37651720725204992 [0;39m ==> Parameters: 
2023-05-12 00:06:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37651720725204992 [0;39m <==    Updates: 0
2023-05-12 00:06:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37651720725204992 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-12 00:06:00.614 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37651741688336384 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:06:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651741688336384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:06:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651741688336384 [0;39m ==> Parameters: 
2023-05-12 00:06:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651741688336384 [0;39m <==    Updates: 1
2023-05-12 00:06:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37651741688336384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:06:16.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:18.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:24.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:26.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:26.359 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:28.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37651867525844992 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:06:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651867525844992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:06:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651867525844992 [0;39m ==> Parameters: 
2023-05-12 00:06:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651867525844992 [0;39m <==    Updates: 1
2023-05-12 00:06:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37651867525844992 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-12 00:06:40.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:42.667 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:54.328 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:56.273 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:56.364 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:06:58.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:07:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37651972354084864 [0;39m 生成今日电子书快照开始
2023-05-12 00:07:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37651972354084864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:07:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37651972354084864 [0;39m ==> Parameters: 
2023-05-12 00:07:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37651972354084864 [0;39m <==    Updates: 0
2023-05-12 00:07:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37651972354084864 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 00:07:04.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:07:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37651993325604864 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:07:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651993325604864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:07:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651993325604864 [0;39m ==> Parameters: 
2023-05-12 00:07:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37651993325604864 [0;39m <==    Updates: 1
2023-05-12 00:07:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37651993325604864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:07:06.749 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:07:24.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:07:26.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:07:26.374 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:07:28.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:07:30.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:07:32.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:07:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37652119163113472 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:07:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652119163113472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:07:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652119163113472 [0;39m ==> Parameters: 
2023-05-12 00:07:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652119163113472 [0;39m <==    Updates: 1
2023-05-12 00:07:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37652119163113472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:07:54.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:07:56.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:07:56.361 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:07:58.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:08:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37652223999741952 [0;39m 生成今日电子书快照开始
2023-05-12 00:08:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37652223999741952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:08:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37652223999741952 [0;39m ==> Parameters: 
2023-05-12 00:08:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37652223999741952 [0;39m <==    Updates: 0
2023-05-12 00:08:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37652223999741952 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 00:08:00.438 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:08:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37652244979650560 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:08:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652244979650560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:08:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652244979650560 [0;39m ==> Parameters: 
2023-05-12 00:08:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652244979650560 [0;39m <==    Updates: 1
2023-05-12 00:08:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37652244979650560 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:08:22.486 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:08:24.522 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:08:26.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:08:26.556 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:08:28.595 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:08:30.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:08:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37652370842324992 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:08:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652370842324992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:08:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652370842324992 [0;39m ==> Parameters: 
2023-05-12 00:08:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652370842324992 [0;39m <==    Updates: 1
2023-05-12 00:08:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37652370842324992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:08:46.560 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:08:48.599 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:08:54.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:08:56.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:08:58.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:09:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37652475670564864 [0;39m 生成今日电子书快照开始
2023-05-12 00:09:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37652475670564864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:09:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37652475670564864 [0;39m ==> Parameters: 
2023-05-12 00:09:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37652475670564864 [0;39m <==    Updates: 0
2023-05-12 00:09:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37652475670564864 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-12 00:09:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37652496642084864 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:09:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652496642084864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:09:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652496642084864 [0;39m ==> Parameters: 
2023-05-12 00:09:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652496642084864 [0;39m <==    Updates: 1
2023-05-12 00:09:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37652496642084864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:09:10.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:09:12.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:09:24.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:09:26.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:09:26.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:09:28.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:09:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37652622471204864 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:09:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652622471204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:09:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652622471204864 [0;39m ==> Parameters: 
2023-05-12 00:09:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652622471204864 [0;39m <==    Updates: 1
2023-05-12 00:09:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37652622471204864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:09:36.749 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:09:54.320 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:09:56.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:09:56.352 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:09:58.392 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:10:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37652727341387776 [0;39m 生成今日电子书快照开始
2023-05-12 00:10:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37652727341387776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:10:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37652727341387776 [0;39m ==> Parameters: 
2023-05-12 00:10:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37652727341387776 [0;39m <==    Updates: 0
2023-05-12 00:10:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37652727341387776 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-12 00:10:00.427 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:10:02.463 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:10:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37652748317102080 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:10:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652748317102080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:10:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652748317102080 [0;39m ==> Parameters: 
2023-05-12 00:10:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652748317102080 [0;39m <==    Updates: 1
2023-05-12 00:10:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37652748317102080 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:10:24.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:10:26.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:10:26.374 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:10:28.410 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:10:30.445 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:10:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37652874112667648 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:10:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652874112667648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:10:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652874112667648 [0;39m ==> Parameters: 
2023-05-12 00:10:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652874112667648 [0;39m <==    Updates: 1
2023-05-12 00:10:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37652874112667648 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:10:52.489 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:10:54.525 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:10:56.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:10:56.563 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:10:58.598 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37652978966073344 [0;39m 生成今日电子书快照开始
2023-05-12 00:11:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37652978966073344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:11:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37652978966073344 [0;39m ==> Parameters: 
2023-05-12 00:11:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37652978966073344 [0;39m <==    Updates: 0
2023-05-12 00:11:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37652978966073344 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 00:11:00.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37652999996313600 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:11:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652999996313600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:11:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652999996313600 [0;39m ==> Parameters: 
2023-05-12 00:11:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37652999996313600 [0;39m <==    Updates: 1
2023-05-12 00:11:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37652999996313600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:11:16.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:18.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:24.330 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:26.270 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:26.360 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:28.401 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37653125817044992 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:11:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653125817044992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:11:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653125817044992 [0;39m ==> Parameters: 
2023-05-12 00:11:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653125817044992 [0;39m <==    Updates: 1
2023-05-12 00:11:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37653125817044992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:11:40.657 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:42.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:54.321 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:56.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:56.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:11:58.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:12:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37653230683033600 [0;39m 生成今日电子书快照开始
2023-05-12 00:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37653230683033600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:12:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37653230683033600 [0;39m ==> Parameters: 
2023-05-12 00:12:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37653230683033600 [0;39m <==    Updates: 0
2023-05-12 00:12:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37653230683033600 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 00:12:04.734 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:12:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37653251633582080 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:12:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653251633582080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:12:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653251633582080 [0;39m ==> Parameters: 
2023-05-12 00:12:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653251633582080 [0;39m <==    Updates: 1
2023-05-12 00:12:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37653251633582080 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:12:06.773 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:12:24.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:12:26.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:12:28.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:12:30.429 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:12:32.468 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:12:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37653377466896384 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:12:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653377466896384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:12:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653377466896384 [0;39m ==> Parameters: 
2023-05-12 00:12:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653377466896384 [0;39m <==    Updates: 1
2023-05-12 00:12:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37653377466896384 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 00:12:54.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:12:56.274 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:12:56.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:12:58.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:13:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37653482299330560 [0;39m 生成今日电子书快照开始
2023-05-12 00:13:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37653482299330560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:13:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37653482299330560 [0;39m ==> Parameters: 
2023-05-12 00:13:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37653482299330560 [0;39m <==    Updates: 0
2023-05-12 00:13:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37653482299330560 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 00:13:00.438 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:13:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37653503300210688 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:13:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653503300210688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:13:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653503300210688 [0;39m ==> Parameters: 
2023-05-12 00:13:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653503300210688 [0;39m <==    Updates: 1
2023-05-12 00:13:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37653503300210688 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-12 00:13:22.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:13:24.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:13:26.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:13:26.594 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:13:28.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:13:30.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:13:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37653629129330688 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:13:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653629129330688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:13:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653629129330688 [0;39m ==> Parameters: 
2023-05-12 00:13:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653629129330688 [0;39m <==    Updates: 1
2023-05-12 00:13:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37653629129330688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:13:46.590 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:13:48.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:13:56.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:13:56.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:13:58.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:14:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37653733978542080 [0;39m 生成今日电子书快照开始
2023-05-12 00:14:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37653733978542080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:14:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37653733978542080 [0;39m ==> Parameters: 
2023-05-12 00:14:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37653733978542080 [0;39m <==    Updates: 0
2023-05-12 00:14:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37653733978542080 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-12 00:14:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37653754933284864 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:14:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653754933284864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:14:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653754933284864 [0;39m ==> Parameters: 
2023-05-12 00:14:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653754933284864 [0;39m <==    Updates: 1
2023-05-12 00:14:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37653754933284864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:14:10.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:14:12.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:14:26.295 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:14:26.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:14:28.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:14:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37653880779182080 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:14:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653880779182080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:14:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653880779182080 [0;39m ==> Parameters: 
2023-05-12 00:14:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37653880779182080 [0;39m <==    Updates: 1
2023-05-12 00:14:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37653880779182080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:14:36.785 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:14:54.329 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:14:56.269 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:14:56.362 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:14:58.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:15:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37653985620004864 [0;39m 生成今日电子书快照开始
2023-05-12 00:15:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37653985620004864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:15:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37653985620004864 [0;39m ==> Parameters: 
2023-05-12 00:15:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37653985620004864 [0;39m <==    Updates: 0
2023-05-12 00:15:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37653985620004864 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 00:15:02.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:15:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37654006629273600 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:15:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654006629273600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:15:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654006629273600 [0;39m ==> Parameters: 
2023-05-12 00:15:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654006629273600 [0;39m <==    Updates: 1
2023-05-12 00:15:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37654006629273600 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:15:24.862 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:15:26.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:15:26.896 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:15:28.935 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:15:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37654132420644864 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:15:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654132420644864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:15:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654132420644864 [0;39m ==> Parameters: 
2023-05-12 00:15:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654132420644864 [0;39m <==    Updates: 1
2023-05-12 00:15:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37654132420644864 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-12 00:15:53.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:15:55.817 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:15:57.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:15:58.616 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:16:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37654237253079040 [0;39m 生成今日电子书快照开始
2023-05-12 00:16:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37654237253079040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:16:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37654237253079040 [0;39m ==> Parameters: 
2023-05-12 00:16:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37654237253079040 [0;39m <==    Updates: 0
2023-05-12 00:16:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37654237253079040 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 00:16:01.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:16:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37654258245570560 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:16:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654258245570560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:16:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654258245570560 [0;39m ==> Parameters: 
2023-05-12 00:16:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654258245570560 [0;39m <==    Updates: 1
2023-05-12 00:16:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37654258245570560 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 00:16:15.958 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:16:18.772 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:16:25.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:16:26.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:16:30.119 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:16:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37654384116633600 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:16:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654384116633600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:16:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654384116633600 [0;39m ==> Parameters: 
2023-05-12 00:16:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654384116633600 [0;39m <==    Updates: 1
2023-05-12 00:16:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37654384116633600 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-12 00:16:43.723 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:16:54.904 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:16:56.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:16:57.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:17:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37654488978427904 [0;39m 生成今日电子书快照开始
2023-05-12 00:17:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37654488978427904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:17:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37654488978427904 [0;39m ==> Parameters: 
2023-05-12 00:17:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37654488978427904 [0;39m <==    Updates: 0
2023-05-12 00:17:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37654488978427904 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 00:17:00.022 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:17:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37654509903810560 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:17:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654509903810560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:17:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654509903810560 [0;39m ==> Parameters: 
2023-05-12 00:17:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654509903810560 [0;39m <==    Updates: 1
2023-05-12 00:17:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37654509903810560 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-12 00:17:08.817 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:17:24.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:17:26.919 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:17:30.370 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:17:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37654635762290688 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654635762290688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:17:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654635762290688 [0;39m ==> Parameters: 
2023-05-12 00:17:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654635762290688 [0;39m <==    Updates: 1
2023-05-12 00:17:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37654635762290688 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:17:35.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:17:55.069 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:17:56.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:17:59.878 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:18:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37654740619890688 [0;39m 生成今日电子书快照开始
2023-05-12 00:18:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37654740619890688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:18:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37654740619890688 [0;39m ==> Parameters: 
2023-05-12 00:18:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37654740619890688 [0;39m <==    Updates: 0
2023-05-12 00:18:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37654740619890688 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 00:18:02.513 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:18:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37654761566244864 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:18:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654761566244864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:18:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654761566244864 [0;39m ==> Parameters: 
2023-05-12 00:18:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654761566244864 [0;39m <==    Updates: 1
2023-05-12 00:18:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37654761566244864 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 00:18:27.014 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:18:30.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:18:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37654887407947776 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:18:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654887407947776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:18:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654887407947776 [0;39m ==> Parameters: 
2023-05-12 00:18:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37654887407947776 [0;39m <==    Updates: 1
2023-05-12 00:18:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37654887407947776 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 00:18:50.971 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:18:53.418 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:18:56.419 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:19:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37654992257159168 [0;39m 生成今日电子书快照开始
2023-05-12 00:19:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37654992257159168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:19:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37654992257159168 [0;39m ==> Parameters: 
2023-05-12 00:19:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37654992257159168 [0;39m <==    Updates: 0
2023-05-12 00:19:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37654992257159168 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 00:19:00.117 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:19:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37655013241262080 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:19:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655013241262080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:19:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655013241262080 [0;39m ==> Parameters: 
2023-05-12 00:19:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655013241262080 [0;39m <==    Updates: 1
2023-05-12 00:19:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37655013241262080 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:19:18.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:19:26.642 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:19:27.210 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:19:29.970 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:19:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37655139074576384 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:19:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655139074576384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:19:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655139074576384 [0;39m ==> Parameters: 
2023-05-12 00:19:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655139074576384 [0;39m <==    Updates: 1
2023-05-12 00:19:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37655139074576384 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 00:19:44.125 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:19:54.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:19:56.278 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:19:58.409 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:20:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37655243940564992 [0;39m 生成今日电子书快照开始
2023-05-12 00:20:00.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37655243940564992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:20:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37655243940564992 [0;39m ==> Parameters: 
2023-05-12 00:20:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37655243940564992 [0;39m <==    Updates: 0
2023-05-12 00:20:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37655243940564992 [0;39m 生成今日电子书快照结束，耗时：14毫秒
2023-05-12 00:20:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37655264886919168 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:20:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655264886919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:20:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655264886919168 [0;39m ==> Parameters: 
2023-05-12 00:20:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655264886919168 [0;39m <==    Updates: 1
2023-05-12 00:20:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37655264886919168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:20:06.165 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:20:08.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:20:26.283 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:20:28.412 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:20:30.450 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:20:32.486 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:20:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37655390686679040 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:20:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655390686679040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:20:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655390686679040 [0;39m ==> Parameters: 
2023-05-12 00:20:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655390686679040 [0;39m <==    Updates: 1
2023-05-12 00:20:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37655390686679040 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:20:56.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:20:58.405 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:21:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37655495586222080 [0;39m 生成今日电子书快照开始
2023-05-12 00:21:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37655495586222080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:21:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37655495586222080 [0;39m ==> Parameters: 
2023-05-12 00:21:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37655495586222080 [0;39m <==    Updates: 0
2023-05-12 00:21:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37655495586222080 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 00:21:00.446 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:21:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37655516545159168 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:21:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655516545159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:21:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655516545159168 [0;39m ==> Parameters: 
2023-05-12 00:21:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655516545159168 [0;39m <==    Updates: 1
2023-05-12 00:21:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37655516545159168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:21:22.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:21:26.281 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:21:28.594 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:21:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37655642370084864 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:21:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655642370084864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:21:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655642370084864 [0;39m ==> Parameters: 
2023-05-12 00:21:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655642370084864 [0;39m <==    Updates: 1
2023-05-12 00:21:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37655642370084864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:21:48.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:21:50.894 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:21:56.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:21:59.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:22:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37655747227684864 [0;39m 生成今日电子书快照开始
2023-05-12 00:22:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37655747227684864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:22:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37655747227684864 [0;39m ==> Parameters: 
2023-05-12 00:22:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37655747227684864 [0;39m <==    Updates: 0
2023-05-12 00:22:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37655747227684864 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 00:22:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37655768228564992 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:22:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655768228564992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:22:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655768228564992 [0;39m ==> Parameters: 
2023-05-12 00:22:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655768228564992 [0;39m <==    Updates: 1
2023-05-12 00:22:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37655768228564992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:22:12.930 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:22:14.946 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:22:26.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:22:29.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:22:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37655894019936256 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:22:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655894019936256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:22:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655894019936256 [0;39m ==> Parameters: 
2023-05-12 00:22:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37655894019936256 [0;39m <==    Updates: 1
2023-05-12 00:22:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37655894019936256 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:22:37.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:22:39.481 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:22:56.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:22:59.037 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:23:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37655998919479296 [0;39m 生成今日电子书快照开始
2023-05-12 00:23:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37655998919479296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:23:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37655998919479296 [0;39m ==> Parameters: 
2023-05-12 00:23:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37655998919479296 [0;39m <==    Updates: 0
2023-05-12 00:23:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37655998919479296 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 00:23:03.882 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:23:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37656019899387904 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:23:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656019899387904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:23:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656019899387904 [0;39m ==> Parameters: 
2023-05-12 00:23:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656019899387904 [0;39m <==    Updates: 1
2023-05-12 00:23:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37656019899387904 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:23:26.584 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:23:26.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:23:29.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:23:31.831 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:23:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37656145673981952 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:23:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656145673981952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:23:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656145673981952 [0;39m ==> Parameters: 
2023-05-12 00:23:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656145673981952 [0;39m <==    Updates: 1
2023-05-12 00:23:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37656145673981952 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:23:56.580 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:24:00.086 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37656250875514880 [0;39m 生成今日电子书快照开始
2023-05-12 00:24:00.086 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37656250875514880 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:24:00.087 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37656250875514880 [0;39m ==> Parameters: 
2023-05-12 00:24:00.090 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37656250875514880 [0;39m <==    Updates: 0
2023-05-12 00:24:00.091 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37656250875514880 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 00:24:00.833 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:24:05.046 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37656271683457024 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:24:05.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656271683457024 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:24:05.050 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656271683457024 [0;39m ==> Parameters: 
2023-05-12 00:24:05.051 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656271683457024 [0;39m <==    Updates: 1
2023-05-12 00:24:05.051 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37656271683457024 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:24:23.042 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:24:26.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:24:30.883 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:24:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37656397336416256 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:24:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656397336416256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:24:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656397336416256 [0;39m ==> Parameters: 
2023-05-12 00:24:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656397336416256 [0;39m <==    Updates: 1
2023-05-12 00:24:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37656397336416256 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 00:24:45.638 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:24:48.033 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:24:56.536 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:24:59.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:25:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37656502235959296 [0;39m 生成今日电子书快照开始
2023-05-12 00:25:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37656502235959296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:25:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37656502235959296 [0;39m ==> Parameters: 
2023-05-12 00:25:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37656502235959296 [0;39m <==    Updates: 0
2023-05-12 00:25:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37656502235959296 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 00:25:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37656523173924864 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:25:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656523173924864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:25:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656523173924864 [0;39m ==> Parameters: 
2023-05-12 00:25:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656523173924864 [0;39m <==    Updates: 1
2023-05-12 00:25:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37656523173924864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:25:12.638 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:25:26.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:25:27.134 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:25:29.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:25:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37656649011433472 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:25:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656649011433472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:25:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656649011433472 [0;39m ==> Parameters: 
2023-05-12 00:25:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656649011433472 [0;39m <==    Updates: 1
2023-05-12 00:25:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37656649011433472 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:25:35.039 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:25:37.437 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:25:54.523 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:25:56.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:25:59.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:26:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37656753860644864 [0;39m 生成今日电子书快照开始
2023-05-12 00:26:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37656753860644864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 00:26:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37656753860644864 [0;39m ==> Parameters: 
2023-05-12 00:26:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37656753860644864 [0;39m <==    Updates: 0
2023-05-12 00:26:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37656753860644864 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 00:26:04.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:26:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37656774811193344 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:26:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656774811193344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:26:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656774811193344 [0;39m ==> Parameters: 
2023-05-12 00:26:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656774811193344 [0;39m <==    Updates: 1
2023-05-12 00:26:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37656774811193344 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 00:26:26.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:26:28.393 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:26:30.435 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 00:26:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37656900682256384 [0;39m 更新电子书下的文档数据开始
2023-05-12 00:26:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656900682256384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 00:26:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656900682256384 [0;39m ==> Parameters: 
2023-05-12 00:26:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37656900682256384 [0;39m <==    Updates: 1
2023-05-12 00:26:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37656900682256384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 00:26:48.416 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 00:26:48.420 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-12 00:26:48.422 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-12 00:26:48.423 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-12 00:26:48.430 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-12 00:26:48.448 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-12 00:26:48.448 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-12 09:10:19.431 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 8380 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-12 09:10:19.431 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-12 09:10:19.431 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-12 09:10:19.478 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-12 09:10:19.493 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-12 09:10:20.469 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-12 09:10:20.469 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-12 09:10:20.532 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2023-05-12 09:10:21.361 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$9cf3ea15] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:21.376 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.811 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.827 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$3f2e5f16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.827 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.827 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.827 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.827 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.827 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.827 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.827 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.858 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.858 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.858 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.858 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:22.874 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:24.802 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:24.802 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:25.477 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-12 09:10:25.493 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-12 09:10:25.493 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-12 09:10:25.493 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-12 09:10:25.681 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 6188 ms
2023-05-12 09:10:26.995 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-12 09:10:27.230 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:10:27.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:10:27.529 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-12 09:10:27.592 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-12 09:10:30.323 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:10:32.351 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:10:32.354 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 09:10:32.354 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-12 09:10:32.367 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-12 09:10:32.383 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 13.486 seconds (JVM running for 15.059)
2023-05-12 09:10:32.383 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-12 09:10:32.383 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-12 09:10:32.724 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 09:10:32.724 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-12 09:10:32.724 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-12 09:10:32.740 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:10:32.740 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-12 09:10:32.740 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-12 09:10:40.925 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 1236 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-12 09:10:40.925 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-12 09:10:40.925 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-12 09:10:40.987 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-12 09:10:40.987 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-12 09:10:41.804 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-12 09:10:41.819 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-12 09:10:41.850 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2023-05-12 09:10:42.170 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$32785a0c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.186 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.720 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.722 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$d4b2cf0d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.724 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.726 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.730 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.730 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.733 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.736 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.736 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.754 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.755 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.757 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.757 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:42.772 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:43.988 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:43.988 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:10:44.491 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-12 09:10:44.509 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-12 09:10:44.510 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-12 09:10:44.510 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-12 09:10:44.586 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-12 09:10:44.586 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 3599 ms
2023-05-12 09:10:45.311 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-12 09:10:45.626 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-12 09:10:45.674 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-12 09:10:46.195 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:10:46.304 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:10:50.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:10:50.280 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 09:10:50.280 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-12 09:10:50.296 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-12 09:10:50.296 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-12 09:10:50.311 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 9.804 seconds (JVM running for 11.171)
2023-05-12 09:10:50.311 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-12 09:10:50.311 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-12 09:10:54.333 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:11:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37788874474393600 [0;39m 生成今日电子书快照开始
2023-05-12 09:11:00.031 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m37788874474393600 [0;39m HikariPool-1 - Starting...
2023-05-12 09:11:00.536 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m37788874474393600 [0;39m HikariPool-1 - Start completed.
2023-05-12 09:11:00.552 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37788874474393600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:11:00.568 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37788874474393600 [0;39m ==> Parameters: 
2023-05-12 09:11:00.568 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37788874474393600 [0;39m <==    Updates: 0
2023-05-12 09:11:00.568 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37788874474393600 [0;39m 生成今日电子书快照结束，耗时：553毫秒
2023-05-12 09:11:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37788895391387648 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:11:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37788895391387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:11:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37788895391387648 [0;39m ==> Parameters: 
2023-05-12 09:11:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37788895391387648 [0;39m <==    Updates: 2
2023-05-12 09:11:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37788895391387648 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:11:15.574 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:11:16.045 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:11:17.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:11:19.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:11:21.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:11:35.029 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37789021329559552 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:11:35.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789021329559552 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:11:35.030 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789021329559552 [0;39m ==> Parameters: 
2023-05-12 09:11:35.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789021329559552 [0;39m <==    Updates: 2
2023-05-12 09:11:35.031 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37789021329559552 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:11:35.679 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-12 09:11:35.679 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-12 09:11:35.679 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2023-05-12 09:11:35.727 INFO  com.jiawa.wiki.websocket.WebSocketServer          :33   [32m                  [0;39m 有新连接：token：ZSw7krwBnI，session id：0，当前连接数：1
2023-05-12 09:11:35.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789024328486914 [0;39m ------------- 开始 -------------
2023-05-12 09:11:35.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789024328486912 [0;39m ------------- 开始 -------------
2023-05-12 09:11:35.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789024328486913 [0;39m ------------- 开始 -------------
2023-05-12 09:11:35.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789024328486914 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:11:35.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789024328486912 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:11:35.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789024328486914 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:11:35.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789024328486913 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:11:35.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789024328486913 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:11:35.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789024328486914 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:11:35.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789024328486913 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:11:35.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789024328486912 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:11:35.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789024328486912 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:11:35.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789024328486914 [0;39m 请求参数: []
2023-05-12 09:11:35.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789024328486912 [0;39m 请求参数: []
2023-05-12 09:11:35.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789024328486913 [0;39m 请求参数: []
2023-05-12 09:11:35.907 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789024328486913 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:11:35.907 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789024328486912 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:11:35.907 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789024328486913 [0;39m ==> Parameters: 
2023-05-12 09:11:35.907 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789024328486912 [0;39m ==> Parameters: 
2023-05-12 09:11:35.917 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789024328486914 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:11:35.917 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789024328486912 [0;39m <==      Total: 0
2023-05-12 09:11:35.917 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37789024328486913 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:11:35.917 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789024328486914 [0;39m ==> Parameters: 
2023-05-12 09:11:35.917 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37789024328486913 [0;39m <==        Row: 2023-05-12, 287, 23, 287, 23
2023-05-12 09:11:35.917 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789024328486913 [0;39m <==      Total: 1
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:11:35.933 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789024328486914 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:11:35.933 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789024328486914 [0;39m <==      Total: 17
2023-05-12 09:11:35.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789024328486912 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:11:35.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789024328486912 [0;39m ------------- 结束 耗时：206 ms -------------
2023-05-12 09:11:35.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789024328486914 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:11:35.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789024328486913 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":287,"viewIncrease":287,"voteCount":23,"voteIncrease":23}],"success":true}
2023-05-12 09:11:35.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789024328486914 [0;39m ------------- 结束 耗时：206 ms -------------
2023-05-12 09:11:35.949 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789024328486913 [0;39m ------------- 结束 耗时：206 ms -------------
2023-05-12 09:11:38.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789033929248768 [0;39m ------------- 开始 -------------
2023-05-12 09:11:38.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789033929248768 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:11:38.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789033929248768 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:11:38.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789033929248768 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:11:38.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789033929248768 [0;39m 请求参数: [{"categoryId2":491694010593280,"page":1,"size":1000}]
2023-05-12 09:11:38.063 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789033929248768 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:11:38.063 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789033929248768 [0;39m ==> Parameters: 491694010593280(Long)
2023-05-12 09:11:38.063 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789033929248768 [0;39m <==    Columns: count(0)
2023-05-12 09:11:38.063 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789033929248768 [0;39m <==        Row: 0
2023-05-12 09:11:38.063 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789033929248768 [0;39m <==      Total: 1
2023-05-12 09:11:38.063 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37789033929248768 [0;39m 总行数：0
2023-05-12 09:11:38.063 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37789033929248768 [0;39m 总页数：0
2023-05-12 09:11:38.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789033929248768 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 09:11:38.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789033929248768 [0;39m ------------- 结束 耗时：47 ms -------------
2023-05-12 09:11:38.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789036122869760 [0;39m ------------- 开始 -------------
2023-05-12 09:11:38.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789036122869760 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:11:38.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789036122869760 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:11:38.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789036122869760 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:11:38.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789036122869760 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 09:11:38.555 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789036122869760 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:11:38.555 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789036122869760 [0;39m ==> Parameters: 101(Long)
2023-05-12 09:11:38.555 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789036122869760 [0;39m <==    Columns: count(0)
2023-05-12 09:11:38.555 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789036122869760 [0;39m <==        Row: 3
2023-05-12 09:11:38.555 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789036122869760 [0;39m <==      Total: 1
2023-05-12 09:11:38.555 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789036122869760 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 09:11:38.555 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789036122869760 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 09:11:38.555 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789036122869760 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:11:38.555 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789036122869760 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:11:38.571 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789036122869760 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 281, 18
2023-05-12 09:11:38.571 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789036122869760 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:11:38.571 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789036122869760 [0;39m <==      Total: 3
2023-05-12 09:11:38.571 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37789036122869760 [0;39m 总行数：3
2023-05-12 09:11:38.571 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37789036122869760 [0;39m 总页数：1
2023-05-12 09:11:38.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789036122869760 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":281,"voteCount":18},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0}],"total":3},"success":true}
2023-05-12 09:11:38.571 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789036122869760 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-12 09:11:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789053889941504 [0;39m ------------- 开始 -------------
2023-05-12 09:11:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789053889941504 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 09:11:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789053889941504 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 09:11:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789053889941504 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:11:42.791 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789053889941504 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-12 09:11:42.797 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37789053889941504 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 09:11:42.797 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37789053889941504 [0;39m ==> Parameters: test(String)
2023-05-12 09:11:42.797 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37789053889941504 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 09:11:42.797 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37789053889941504 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:11:42.797 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37789053889941504 [0;39m <==      Total: 1
2023-05-12 09:11:42.805 INFO  com.jiawa.wiki.controller.UserController          :79   [32m37789053889941504 [0;39m 生成单点登录token：37789053948661760，并放入redis中
2023-05-12 09:11:43.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:11:44.944 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m37789053889941504 [0;39m 系统异常：
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1553)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1461)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1247)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1230)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:979)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:359)
	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:131)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:94)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:81)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:216)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:189)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:96)
	at org.springframework.data.redis.core.DefaultValueOperations.set(DefaultValueOperations.java:256)
	at com.jiawa.wiki.controller.UserController.login(UserController.java:81)
	at com.jiawa.wiki.controller.UserController$$FastClassBySpringCGLIB$$5f26ceea.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.UserController$$EnhancerBySpringCGLIB$$84952afb.login(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:320)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:211)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:115)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:115)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1459)
	... 86 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:715)
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
2023-05-12 09:11:44.950 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37789053889941504 [0;39m Resolved [org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379]
2023-05-12 09:11:45.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:11:46.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:11:51.835 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:11:58.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789118343811072 [0;39m ------------- 开始 -------------
2023-05-12 09:11:58.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789118343811072 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 09:11:58.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789118343811072 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 09:11:58.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789118343811072 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:11:58.158 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789118343811072 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-12 09:11:58.158 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37789118343811072 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 09:11:58.158 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37789118343811072 [0;39m ==> Parameters: test(String)
2023-05-12 09:11:58.158 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37789118343811072 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 09:11:58.158 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37789118343811072 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:11:58.158 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37789118343811072 [0;39m <==      Total: 1
2023-05-12 09:11:58.158 INFO  com.jiawa.wiki.service.UserService                :136  [32m37789118343811072 [0;39m 密码不对, 输入密码：51d6a530fa191428c43cd9e916854783, 数据库密码：e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:11:58.158 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37789118343811072 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 09:11:58.158 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37789118343811072 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 09:12:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37789126141022208 [0;39m 生成今日电子书快照开始
2023-05-12 09:12:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37789126141022208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:12:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37789126141022208 [0;39m ==> Parameters: 
2023-05-12 09:12:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37789126141022208 [0;39m <==    Updates: 0
2023-05-12 09:12:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37789126141022208 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:12:02.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789135733395456 [0;39m ------------- 开始 -------------
2023-05-12 09:12:02.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789135733395456 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 09:12:02.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789135733395456 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 09:12:02.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789135733395456 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:02.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789135733395456 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-12 09:12:02.304 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37789135733395456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 09:12:02.304 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37789135733395456 [0;39m ==> Parameters: test(String)
2023-05-12 09:12:02.304 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37789135733395456 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 09:12:02.304 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37789135733395456 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:12:02.304 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37789135733395456 [0;39m <==      Total: 1
2023-05-12 09:12:02.304 INFO  com.jiawa.wiki.controller.UserController          :79   [32m37789135733395456 [0;39m 生成单点登录token：37789135733395457，并放入redis中
2023-05-12 09:12:02.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789135733395456 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"测试","token":"37789135733395457"},"success":true}
2023-05-12 09:12:02.336 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789135733395456 [0;39m ------------- 结束 耗时：32 ms -------------
2023-05-12 09:12:04.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789145090887680 [0;39m ------------- 开始 -------------
2023-05-12 09:12:04.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789145090887680 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-12 09:12:04.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789145090887680 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 09:12:04.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789145090887680 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:04.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789145090887680 [0;39m 请求参数: [2]
2023-05-12 09:12:04.542 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789145090887680 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 09:12:04.542 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789145090887680 [0;39m ==> Parameters: 2(Long)
2023-05-12 09:12:04.543 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789145090887680 [0;39m <==      Total: 0
2023-05-12 09:12:04.543 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789145090887680 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:12:04.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789145090887680 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 09:12:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37789147099959296 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:12:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789147099959296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:12:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789147099959296 [0;39m ==> Parameters: 
2023-05-12 09:12:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789147099959296 [0;39m <==    Updates: 2
2023-05-12 09:12:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37789147099959296 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:12:06.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789153831817216 [0;39m ------------- 开始 -------------
2023-05-12 09:12:06.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789153831817216 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:12:06.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789153836011520 [0;39m ------------- 开始 -------------
2023-05-12 09:12:06.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789153831817216 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:12:06.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789153836011520 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:12:06.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789153831817216 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:06.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789153836011520 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:12:06.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789153831817216 [0;39m 请求参数: []
2023-05-12 09:12:06.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789153836011520 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:06.624 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789153831817216 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:12:06.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789153836011520 [0;39m 请求参数: []
2023-05-12 09:12:06.626 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789153831817216 [0;39m ==> Parameters: 
2023-05-12 09:12:06.627 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789153836011520 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:12:06.627 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789153836011520 [0;39m ==> Parameters: 
2023-05-12 09:12:06.628 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:12:06.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789153856983040 [0;39m ------------- 开始 -------------
2023-05-12 09:12:06.628 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789153836011520 [0;39m <==      Total: 0
2023-05-12 09:12:06.628 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:12:06.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789153856983040 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:12:06.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789153856983040 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:12:06.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789153856983040 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:06.628 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:12:06.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789153856983040 [0;39m 请求参数: []
2023-05-12 09:12:06.628 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789153836011520 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:12:06.628 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:12:06.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789153836011520 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 09:12:06.629 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789153856983040 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:12:06.629 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:12:06.629 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:12:06.629 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789153856983040 [0;39m ==> Parameters: 
2023-05-12 09:12:06.630 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:12:06.630 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:12:06.630 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:12:06.630 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37789153856983040 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:12:06.630 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:12:06.631 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37789153856983040 [0;39m <==        Row: 2023-05-12, 287, 23, 287, 23
2023-05-12 09:12:06.631 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:12:06.631 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:12:06.631 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789153856983040 [0;39m <==      Total: 1
2023-05-12 09:12:06.631 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:12:06.632 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:12:06.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789153856983040 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":287,"viewIncrease":287,"voteCount":23,"voteIncrease":23}],"success":true}
2023-05-12 09:12:06.632 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789153856983040 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 09:12:06.632 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:12:06.632 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:12:06.632 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:12:06.633 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789153831817216 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:12:06.633 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789153831817216 [0;39m <==      Total: 17
2023-05-12 09:12:06.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789153831817216 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:12:06.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789153831817216 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-12 09:12:07.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789157522804736 [0;39m ------------- 开始 -------------
2023-05-12 09:12:07.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789157522804736 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:12:07.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789157522804736 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:12:07.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789157522804736 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:07.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789157522804736 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 09:12:07.499 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789157522804736 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:12:07.499 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789157522804736 [0;39m ==> Parameters: 101(Long)
2023-05-12 09:12:07.499 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789157522804736 [0;39m <==    Columns: count(0)
2023-05-12 09:12:07.499 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789157522804736 [0;39m <==        Row: 3
2023-05-12 09:12:07.499 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789157522804736 [0;39m <==      Total: 1
2023-05-12 09:12:07.504 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789157522804736 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 09:12:07.505 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789157522804736 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 09:12:07.505 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789157522804736 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:12:07.505 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789157522804736 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:12:07.505 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789157522804736 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 281, 18
2023-05-12 09:12:07.505 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789157522804736 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:12:07.505 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789157522804736 [0;39m <==      Total: 3
2023-05-12 09:12:07.505 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37789157522804736 [0;39m 总行数：3
2023-05-12 09:12:07.505 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37789157522804736 [0;39m 总页数：1
2023-05-12 09:12:07.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789157522804736 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":281,"voteCount":18},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0}],"total":3},"success":true}
2023-05-12 09:12:07.505 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789157522804736 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:12:07.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789159150194688 [0;39m ------------- 开始 -------------
2023-05-12 09:12:07.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789159150194688 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:12:07.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789159150194688 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:12:07.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789159150194688 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:07.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789159150194688 [0;39m 请求参数: [{"categoryId2":491694010593280,"page":1,"size":1000}]
2023-05-12 09:12:07.887 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789159150194688 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:12:07.887 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789159150194688 [0;39m ==> Parameters: 491694010593280(Long)
2023-05-12 09:12:07.887 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789159150194688 [0;39m <==    Columns: count(0)
2023-05-12 09:12:07.887 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789159150194688 [0;39m <==        Row: 0
2023-05-12 09:12:07.887 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789159150194688 [0;39m <==      Total: 1
2023-05-12 09:12:07.887 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37789159150194688 [0;39m 总行数：0
2023-05-12 09:12:07.887 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37789159150194688 [0;39m 总页数：0
2023-05-12 09:12:07.893 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789159150194688 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 09:12:07.893 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789159150194688 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:12:08.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789161222180864 [0;39m ------------- 开始 -------------
2023-05-12 09:12:08.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789161222180864 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:12:08.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789161222180864 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:12:08.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789161222180864 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:08.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789161222180864 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 09:12:08.381 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789161222180864 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:12:08.381 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789161222180864 [0;39m ==> Parameters: 101(Long)
2023-05-12 09:12:08.381 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789161222180864 [0;39m <==    Columns: count(0)
2023-05-12 09:12:08.381 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789161222180864 [0;39m <==        Row: 3
2023-05-12 09:12:08.381 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789161222180864 [0;39m <==      Total: 1
2023-05-12 09:12:08.381 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789161222180864 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 09:12:08.381 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789161222180864 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 09:12:08.386 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789161222180864 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:12:08.386 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789161222180864 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:12:08.386 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789161222180864 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 281, 18
2023-05-12 09:12:08.386 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789161222180864 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:12:08.386 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789161222180864 [0;39m <==      Total: 3
2023-05-12 09:12:08.386 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37789161222180864 [0;39m 总行数：3
2023-05-12 09:12:08.386 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37789161222180864 [0;39m 总页数：1
2023-05-12 09:12:08.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789161222180864 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":281,"voteCount":18},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0}],"total":3},"success":true}
2023-05-12 09:12:08.386 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789161222180864 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 09:12:09.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789164959305728 [0;39m ------------- 开始 -------------
2023-05-12 09:12:09.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789164959305728 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/453524338094080 GET
2023-05-12 09:12:09.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789164959305728 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 09:12:09.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789164959305728 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:09.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789164959305728 [0;39m 请求参数: [453524338094080]
2023-05-12 09:12:09.274 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789164959305728 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 09:12:09.275 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789164959305728 [0;39m ==> Parameters: 453524338094080(Long)
2023-05-12 09:12:09.276 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789164959305728 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 09:12:09.276 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789164959305728 [0;39m <==        Row: 457704799236096, 453524338094080, 0, 安装, 1, 194, 12
2023-05-12 09:12:09.276 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789164959305728 [0;39m <==        Row: 457741436203009, 453524338094080, 457740829388801, vue.js是什么, 1, 41, 3
2023-05-12 09:12:09.277 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789164959305728 [0;39m <==        Row: 457740829388801, 453524338094080, 0, 介绍, 2, 24, 1
2023-05-12 09:12:09.277 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789164959305728 [0;39m <==        Row: 466505644945408, 453524338094080, 457740829388801, 起步, 2, 13, 0
2023-05-12 09:12:09.277 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789164959305728 [0;39m <==        Row: 487727374151680, 453524338094080, 457740829388801, 声明式渲染, 3, 9, 2
2023-05-12 09:12:09.277 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789164959305728 [0;39m <==      Total: 5
2023-05-12 09:12:09.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789164959305728 [0;39m 返回结果: {"content":[{"ebookId":453524338094080,"id":457704799236096,"name":"安装","parent":0,"sort":1,"viewCount":194,"voteCount":12},{"ebookId":453524338094080,"id":457741436203009,"name":"vue.js是什么","parent":457740829388801,"sort":1,"viewCount":41,"voteCount":3},{"ebookId":453524338094080,"id":457740829388801,"name":"介绍","parent":0,"sort":2,"viewCount":24,"voteCount":1},{"ebookId":453524338094080,"id":466505644945408,"name":"起步","parent":457740829388801,"sort":2,"viewCount":13,"voteCount":0},{"ebookId":453524338094080,"id":487727374151680,"name":"声明式渲染","parent":457740829388801,"sort":3,"viewCount":9,"voteCount":2}],"success":true}
2023-05-12 09:12:09.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789164959305728 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-12 09:12:09.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789165076746240 [0;39m ------------- 开始 -------------
2023-05-12 09:12:09.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789165076746240 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/457704799236096 GET
2023-05-12 09:12:09.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789165076746240 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 09:12:09.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789165076746240 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:09.300 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789165076746240 [0;39m 请求参数: [457704799236096]
2023-05-12 09:12:09.301 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789165076746240 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 09:12:09.301 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789165076746240 [0;39m ==> Parameters: 457704799236096(Long)
2023-05-12 09:12:09.306 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789165076746240 [0;39m <==    Columns: id, content
2023-05-12 09:12:09.306 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789165076746240 [0;39m <==        Row: 457704799236096, <<BLOB>>
2023-05-12 09:12:09.306 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789165076746240 [0;39m <==      Total: 1
2023-05-12 09:12:09.307 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789165076746240 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 09:12:09.308 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789165076746240 [0;39m ==> Parameters: 457704799236096(Long)
2023-05-12 09:12:09.310 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789165076746240 [0;39m <==    Updates: 1
2023-05-12 09:12:09.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789165076746240 [0;39m 返回结果: {"content":"<h1 id=\"kwsbb\">安装</h1>Vue.js 设计的初衷就包括可以被渐进式地采用。这意味着它可以根据需求以多种方式集成到一个项目中。<br><br>将 Vue.js 添加到项目中主要有四种方式：<br><br>在页面上以 CDN 包的形式导入。<br>下载 JavaScript 文件并自行托管。<br>使用 npm 安装它。<br>使用官方的 CLI 来构建一个项目，它为现代前端工作流程提供了功能齐备的构建设置 (例如，热重载、保存时的提示等等)。<br>#发布版本说明<br>最新版本：npm<br><br>每个版本的详细发布说明都可以在 GitHub 上找到。<br><br>#Vue Devtools<br>目前处于测试阶段 - Vuex 和 Router 的集成仍在进行中。<br><br>通过 Vue School 的免费课程学习如何安装和使用 Vue Devtools<br>在使用 Vue 时，我们推荐在你的浏览器上安装 Vue Devtools，它允许你在一个更友好的界面中审查和调试 Vue 应用。<br><br>获取 Chrome 扩展程序<br><br>获取 Firefox 附加组件<br><br>获取独立的 Electron 应用程序<br><br>#CDN<br>对于制作原型或学习，你可以这样使用最新版本：<br><br>&lt;script src=\"https://unpkg.com/vue@next\"&gt;&lt;/script&gt;<br>对于生产环境，我们推荐链接到一个明确的版本号和构建文件，以避免新版本造成的不可预期的破坏。<br><br>#下载并自托管<br>如果你想避免使用构建工具，但又无法在生产环境使用 CDN，那么你可以下载相关 .js 文件并自行托管在你的服务器上。然后你可以通过 &lt;script&gt; 标签引入，与使用 CDN 的方法类似。<br><br>这些文件可以在 unpkg 或者 jsDelivr 这些 CDN 上浏览和下载。各种不同文件将在以后解释，但你通常需要同时下载开发环境构建版本以及生产环境构建版本。<br><br>#npm<br>在用 Vue 构建大型应用时推荐使用 npm 安装[1] 。npm 能很好地和诸如 webpack 或 Rollup 模块打包器配合使用。<br><br># 最新稳定版<br>$ npm install vue@next<br>Vue 还提供了编写单文件组件的配套工具。如果你想使用单文件组件，那么你还需要安装 @vue/compiler-sfc：<br><br>$ npm install -D @vue/compiler-sfc<br>如果你是从 Vue 2 过渡而来的，请注意 @vue/compiler-sfc 替换掉了 vue-template-compiler<br><br>除了 @vue/compiler-sfc 之外，你还需要为已选择的打包工具选择一个配套的单文件组件 loader 或 plugin。更多信息请查阅单文件组件文档。<br><br>大多数情况下，我们更倾向于使用 Vue CLI 来创建一个配置最小化的 webpack 构建版本。<br><br>#命令行工具 (CLI)<br>Vue 提供了一个官方的 CLI，为单页面应用 (SPA) 快速搭建繁杂的脚手架。它为现代前端工作流提供了功能齐备的构建设置。只需要几分钟的时间就可以运行起来并带有热重载、保存时 lint 校验，以及生产环境可用的构建版本。更多详情可查阅 Vue CLI 的文档。<br><br>TIP<br><br>CLI 工具假定用户对 Node.js 和相关构建工具有一定程度的了解。如果你是新手，我们强烈建议先在不用构建工具的情况下通读指南，在熟悉 Vue 本身之后再使用 CLI。<br><br>对于 Vue 3，你应该使用 npm 上可用的 Vue CLI v4.5 作为 @vue/cli。要升级，你应该需要全局重新安装最新版本的 @vue/cli：<br><br>yarn global add @vue/cli<br># 或<br>npm install -g @vue/cli<br>然后在 Vue 项目中运行：<br><br>vue upgrade --next<br>#Vite<br>Vite 是一个 web 开发构建工具，由于其原生 ES 模块导入方式，可以实现闪电般的冷服务器启动。<br><br>通过在终端中运行以下命令，可以使用 Vite 快速构建 Vue 项目。<br><br>使用 npm：<br><br># npm 6.x<br>$ npm init vite@latest &lt;project-name&gt; --template vue<br><br># npm 7+，需要加上额外的双短横线<br>$ npm init vite@latest &lt;project-name&gt; -- --template vue<br><br>$ cd &lt;project-name&gt;<br>$ npm install<br>$ npm run dev<br>或者 yarn：<br><br>$ yarn create vite &lt;project-name&gt; --template vue<br>$ cd &lt;project-name&gt;<br>$ yarn<br>$ yarn dev<br>#对不同构建版本的解释<br>在 npm 包的 dist/ 目录你将会找到很多不同的 Vue.js 构建版本。下面是一个概述，根据不同的使用情况，应该使用哪个 dist 文件：<br><br>#使用 CDN 或没有构建工具<br>#vue(.runtime).global(.prod).js：<br>若要通过浏览器中的 &lt;script src=\"...\"&gt; 直接使用，则暴露 Vue 全局。<br>浏览器内模板编译：<br>vue.global.js 是包含编译器和运行时的“完整”构建版本，因此它支持动态编译模板。<br>vue.runtime.global.js 只包含运行时，并且需要在构建步骤期间预编译模板。<br>内联所有 Vue 核心内部包——即：它是一个单独的文件，不依赖于其他文件。这意味着你必须导入此文件和此文件中的所有内容，以确保获得相同的代码实例。<br>包含硬编码的 prod/dev 分支，并且 prod 构建版本是预先压缩过的。将 *.prod.js 文件用于生产环境。<br>提示<br><br>全局打包不是 UMD 构建的，它们被打包成 IIFEs，并且仅用于通过 &lt;script src=\"...\"&gt; 直接使用。<br><br>#vue(.runtime).esm-browser(.prod).js：<br>用于通过原生 ES 模块导入使用 (在浏览器中通过 &lt;script type=\"module\"&gt; 来使用)。<br>与全局构建版本共享相同的运行时编译、依赖内联和硬编码的 prod/dev 行为。<br>#使用构建工具<br>#vue(.runtime).esm-bundler.js：<br>用于 webpack，rollup 和 parcel 等构建工具。<br>留下 prod/dev 分支的 process.env.NODE_ENV 守卫语句 (必须由构建工具替换)。<br>不提供压缩版本 (打包后与其余代码一起压缩)。<br>import 依赖 (例如：@vue/runtime-core，@vue/runtime-compiler)<br>导入的依赖项也是 esm bundler 构建版本，并将依次导入其依赖项 (例如：@vue/runtime-core imports @vue/reactivity)。<br>这意味着你可以单独安装/导入这些依赖，而不会导致这些依赖项的不同实例，但你必须确保它们都为同一版本。<br>浏览器内模板编译：<br>vue.runtime.esm-bundler.js (默认) 仅运行时，并要求所有模板都要预先编译。这是构建工具的默认入口 (通过 package.json 中的 module 字段)，因为在使用构建工具时，模板通常是预先编译的 (例如：在 *.vue 文件中)。<br>vue.esm-bundler.js 包含运行时编译器。如果你使用了一个构建工具，但仍然想要运行时的模板编译 (例如，DOM 内 模板或通过内联 JavaScript 字符串的模板)，请使用这个文件。你需要配置你的构建工具，将 vue 设置为这个文件。<br>#对于服务端渲染<br>#vue.cjs(.prod).js：<br>通过 require() 在 Node.js 服务器端渲染使用。<br>如果你将应用程序与带有 target: 'node' 的 webpack 打包在一起，并正确地将 vue 外部化，则将加载此文件。<br>dev/prod 文件是预构建的，但是会根据 process.env.NODE_ENV 自动加载相应的文件。<br>#运行时 + 编译器 vs. 仅运行时<br>如果需要在客户端上编译模板 (即：将字符串传递给 template 选项，或者使用元素的 DOM 内 HTML 作为模板挂载到元素)，你将需要编译器，因此需要完整的构建版本：<br><br>// 需要编译器<br>Vue.createApp({<br>  template: '&lt;div&gt;{{ hi }}&lt;/div&gt;'<br>})<br><br>// 不需要<br>Vue.createApp({<br>  render() {<br>    return Vue.h('div', {}, this.hi)<br>  }<br>})<br>当使用 vue-loader 时，*.vue 文件中的模板会在构建时预编译为 JavaScript，在最终的捆绑包中并不需要编译器，因此可以只使用运行时构建版本。<br>","success":true}
2023-05-12 09:12:09.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789165076746240 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 09:12:09.796 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:12:13.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789180855717888 [0;39m ------------- 开始 -------------
2023-05-12 09:12:13.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789180855717888 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/457704799236096 GET
2023-05-12 09:12:13.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789180855717888 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-12 09:12:13.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789180855717888 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:13.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789180855717888 [0;39m 请求参数: [457704799236096]
2023-05-12 09:12:13.073 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m37789180855717888 [0;39m key不存在，放入：DOC_VOTE_457704799236096_127.0.0.1，过期 5000 秒
2023-05-12 09:12:13.075 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37789180855717888 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-12 09:12:13.075 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37789180855717888 [0;39m ==> Parameters: 457704799236096(Long)
2023-05-12 09:12:13.075 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37789180855717888 [0;39m <==    Updates: 1
2023-05-12 09:12:13.075 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37789180855717888 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-12 09:12:13.075 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37789180855717888 [0;39m ==> Parameters: 457704799236096(Long)
2023-05-12 09:12:13.075 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m37789180855717888 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 09:12:13.080 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m37789180855717888 [0;39m <==        Row: 457704799236096, 453524338094080, 0, 安装, 1, 195, 13
2023-05-12 09:12:13.080 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37789180855717888 [0;39m <==      Total: 1
2023-05-12 09:12:15.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:12:16.041 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:12:17.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:12:17.144 ERROR org.apache.rocketmq.spring.core.RocketMQTemplate  :153  [32m37789180855717888 [0;39m syncSend failed. destination:VOTE_TOPIC, message:GenericMessage [payload=【安装】被点赞！, headers={contentType=text/plain, id=63778b34-0d0f-3412-f1fa-dbcf6972c28b, timestamp=1683853933085}] 
2023-05-12 09:12:17.144 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m37789180855717888 [0;39m 系统异常：
org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:154)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:123)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:111)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:459)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:50)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at com.jiawa.wiki.service.DocService.vote(DocService.java:167)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$a4f7070e.vote(<generated>)
	at com.jiawa.wiki.controller.DocController.vote(DocController.java:65)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$8f56e6f0.vote(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:656)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1279)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:301)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:148)
	... 87 common frames omitted
2023-05-12 09:12:17.144 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37789180855717888 [0;39m Resolved [org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.]
2023-05-12 09:12:17.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789198836699136 [0;39m ------------- 开始 -------------
2023-05-12 09:12:17.351 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789198836699136 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/457741436203009 GET
2023-05-12 09:12:17.351 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789198836699136 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 09:12:17.352 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789198836699136 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:17.352 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789198836699136 [0;39m 请求参数: [457741436203009]
2023-05-12 09:12:17.353 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789198836699136 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 09:12:17.354 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789198836699136 [0;39m ==> Parameters: 457741436203009(Long)
2023-05-12 09:12:17.355 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789198836699136 [0;39m <==    Columns: id, content
2023-05-12 09:12:17.355 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789198836699136 [0;39m <==        Row: 457741436203009, <<BLOB>>
2023-05-12 09:12:17.355 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789198836699136 [0;39m <==      Total: 1
2023-05-12 09:12:17.355 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789198836699136 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 09:12:17.355 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789198836699136 [0;39m ==> Parameters: 457741436203009(Long)
2023-05-12 09:12:17.358 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789198836699136 [0;39m <==    Updates: 1
2023-05-12 09:12:17.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789198836699136 [0;39m 返回结果: {"content":"<h2>Vue.js 是什么</h2><p>Vue (读音 /vjuː/，类似于&nbsp;<strong>view</strong>) 是一套用于构建用户界面的<strong>渐进式框架</strong>。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与<a href=\"https://v3.cn.vuejs.org/guide/single-file-component.html\">现代化的工具链</a>以及各种<a href=\"https://github.com/vuejs/awesome-vue#components--libraries\" target=\"_blank\">支持类库<path></path><polygon></polygon></a>结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。</p><p>如果你想在深入学习 Vue 之前对它有更多了解，我们<a href=\"https://v3.cn.vuejs.org/guide/introduction.html#\">制作了一个视频</a>，带你了解其核心概念和一个示例工程。</p><section><a href=\"https://www.vuemastery.com/courses/intro-to-vue-3/intro-to-vue3\" target=\"_blank\">在 vue Mastery 上免费观看视频课程</a></section>","success":true}
2023-05-12 09:12:17.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789198836699136 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 09:12:19.161 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:12:20.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789210601721856 [0;39m ------------- 开始 -------------
2023-05-12 09:12:20.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789210601721856 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/466505644945408 GET
2023-05-12 09:12:20.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789210601721856 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 09:12:20.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789210601721856 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:12:20.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789210601721856 [0;39m 请求参数: [466505644945408]
2023-05-12 09:12:20.155 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789210601721856 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 09:12:20.157 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789210601721856 [0;39m ==> Parameters: 466505644945408(Long)
2023-05-12 09:12:20.157 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789210601721856 [0;39m <==    Columns: id, content
2023-05-12 09:12:20.157 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789210601721856 [0;39m <==        Row: 466505644945408, <<BLOB>>
2023-05-12 09:12:20.157 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789210601721856 [0;39m <==      Total: 1
2023-05-12 09:12:20.157 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789210601721856 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 09:12:20.157 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789210601721856 [0;39m ==> Parameters: 466505644945408(Long)
2023-05-12 09:12:20.165 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789210601721856 [0;39m <==    Updates: 1
2023-05-12 09:12:20.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789210601721856 [0;39m 返回结果: {"content":"<p>起步<br>安装<br><br>TIP<br><br>官方指南假设你已了解关于 HTML、CSS 和 JavaScript 的中级知识。如果你刚开始学习前端开发，将框架作为你的第一步可能不是最好的主意——掌握好基础知识再来吧！之前有其它框架的使用经验会有帮助，但这不是必需的<br><br>尝试 Vue.js 最简单的方法是使用 Hello World 例子，你可以在浏览器新标签页中打开它，跟着例子学习一些基础用法。<br><br>安装教程给出了更多安装 Vue 的方式。请注意我们不推荐新手直接使用 vue-cli，尤其是在你还不熟悉基于 Node.js 的构建工具时。<br><br>#声明式渲染<br>Vue.js 的核心是一个允许采用简洁的模板语法来声明式地将数据渲染进 DOM 的系统：<br><br>&lt;div id=\"counter\"&gt;<br>  Counter: {{ counter }}<br>&lt;/div&gt;<br>const Counter = {<br>  data() {<br>    return {<br>      counter: 0<br>    }<br>  }<br>}<br><br>Vue.createApp(Counter).mount('#counter')<br>我们已经成功创建了第一个 Vue 应用！看起来这跟渲染一个字符串模板非常类似，但是 Vue 在背后做了大量工作。现在数据和 DOM 已经被建立了关联，所有东西都是响应式的。我们要怎么确认呢？请看下面的示例，其中 counter property 每秒递增，你将看到渲染的 DOM 是如何变化的：<br><br>const Counter = {<br>  data() {<br>    return {<br>      counter: 0<br>    }<br>  },<br>  mounted() {<br>    setInterval(() =&gt; {<br>      this.counter++<br>    }, 1000)<br>  }<br>}<br><br>除了文本插值，我们还可以像这样绑定元素的 attribute：<br><br>&lt;div id=\"bind-attribute\"&gt;<br>  &lt;span v-bind:title=\"message\"&gt;<br>    鼠标悬停几秒钟查看此处动态绑定的提示信息！<br>  &lt;/span&gt;<br>&lt;/div&gt;<br>const AttributeBinding = {<br>  data() {<br>    return {<br>      message: 'You loaded this page on ' + new Date().toLocaleString()<br>    }<br>  }<br>}<br><br>Vue.createApp(AttributeBinding).mount('#bind-attribute')<br><br>这里我们遇到了一点新东西。你看到的 v-bind attribute 被称为指令。指令带有前缀 v-，以表示它们是 Vue 提供的特殊 attribute。可能你已经猜到了，它们会在渲染的 DOM 上应用特殊的响应式行为。在这里，该指令的意思是：“将这个元素节点的 title attribute 和当前活跃实例的 message property 保持一致”。<br><br>#处理用户输入<br>为了让用户和应用进行交互，我们可以用 v-on 指令添加一个事件监听器，通过它调用在实例中定义的方法：<br><br>&lt;div id=\"event-handling\"&gt;<br>  &lt;p&gt;{{ message }}&lt;/p&gt;<br>  &lt;button v-on:click=\"reverseMessage\"&gt;反转 Message&lt;/button&gt;<br>&lt;/div&gt;<br>const EventHandling = {<br>  data() {<br>    return {<br>      message: 'Hello Vue.js!'<br>    }<br>  },<br>  methods: {<br>    reverseMessage() {<br>      this.message = this.message<br>        .split('')<br>        .reverse()<br>        .join('')<br>    }<br>  }<br>}<br><br>Vue.createApp(EventHandling).mount('#event-handling')<br><br>注意在这个方法中，我们更新了应用的状态，但没有触碰 DOM——所有的 DOM 操作都由 Vue 来处理，你编写的代码只需要关注逻辑层面即可。<br><br>Vue 还提供了 v-model 指令，它能轻松实现表单输入和应用状态之间的双向绑定。<br><br>&lt;div id=\"two-way-binding\"&gt;<br>  &lt;p&gt;{{ message }}&lt;/p&gt;<br>  &lt;input v-model=\"message\" /&gt;<br>&lt;/div&gt;<br>const TwoWayBinding = {<br>  data() {<br>    return {<br>      message: 'Hello Vue!'<br>    }<br>  }<br>}<br><br>Vue.createApp(TwoWayBinding).mount('#two-way-binding')<br><br>#条件与循环<br>控制切换一个元素是否显示也相当简单：<br><br>&lt;div id=\"conditional-rendering\"&gt;<br>  &lt;span v-if=\"seen\"&gt;现在你看到我了&lt;/span&gt;<br>&lt;/div&gt;<br>const ConditionalRendering = {<br>  data() {<br>    return {<br>      seen: true<br>    }<br>  }<br>}<br><br>Vue.createApp(ConditionalRendering).mount('#conditional-rendering')<br>这个例子演示了我们不仅可以把数据绑定到 DOM 文本或 attribute，还可以绑定到 DOM 的结构。此外，Vue 也提供一个强大的过渡效果系统，可以在 Vue 插入/更新/移除元素时自动应用过渡效果。<br><br>你可以在下面的沙盒中将 seen 从 true 更改为 false，以检查效果：<br><br><br>还有其它很多指令，每个都有特殊的功能。例如，v-for 指令可以绑定数组的数据来渲染一个项目列表：<br><br>&lt;div id=\"list-rendering\"&gt;<br>  &lt;ol&gt;<br>    &lt;li v-for=\"todo in todos\"&gt;<br>      {{ todo.text }}<br>    &lt;/li&gt;<br>  &lt;/ol&gt;<br>&lt;/div&gt;<br>const ListRendering = {<br>  data() {<br>    return {<br>      todos: [<br>        { text: 'Learn JavaScript' },<br>        { text: 'Learn Vue' },<br>        { text: 'Build something awesome' }<br>      ]<br>    }<br>  }<br>}<br><br>Vue.createApp(ListRendering).mount('#list-rendering')<br><br>#组件化应用构建<br>组件系统是 Vue 的另一个重要概念，因为它是一种抽象，允许我们使用小型、独立和通常可复用的组件构建大型应用。仔细想想，几乎任意类型的应用界面都可以抽象为一个组件树：<br><br>Component Tree<br><br>在 Vue 中，组件本质上是一个具有预定义选项的实例。在 Vue 中注册组件很简单：如对 App 对象所做的那样创建一个组件对象，并将其定义在父级组件的 components 选项中：<br><br>const TodoItem = {<br>  template: `&lt;li&gt;This is a todo&lt;/li&gt;`<br>}<br><br>// 创建 Vue 应用<br>const app = Vue.createApp({<br>  components: {<br>    TodoItem // 注册一个新组件<br>  },<br>  ... // 组件的其它 property<br>})<br><br>// 挂载 Vue 应用<br>app.mount(...)<br>现在，你可以将其放到另一个组件的模板中：<br><br>&lt;ol&gt;<br>  &lt;!-- 创建一个 todo-item 组件实例 --&gt;<br>  &lt;todo-item&gt;&lt;/todo-item&gt;<br>&lt;/ol&gt;<br>但是这样会为每个待办项渲染同样的文本，这看起来并不炫酷。我们应该能将数据从父组件传入子组件才对。让我们来修改一下组件的定义，使之能够接受一个 prop：<br><br>app.component('todo-item', {<br>  props: ['todo'],<br>  template: `&lt;li&gt;{{ todo.text }}&lt;/li&gt;`<br>})<br>现在，我们可以使用 v-bind 指令将待办项传到循环输出的每个组件中：<br><br>&lt;div id=\"todo-list-app\"&gt;<br>  &lt;ol&gt;<br>     &lt;!--<br>      现在我们为每个 todo-item 提供 todo 对象<br>      todo 对象是变量，即其内容可以是动态的。<br>      我们也需要为每个组件提供一个“key”，稍后再<br>      作详细解释。<br>    --&gt;<br>    &lt;todo-item<br>      v-for=\"item in groceryList\"<br>      v-bind:todo=\"item\"<br>      v-bind:key=\"item.id\"<br>    &gt;&lt;/todo-item&gt;<br>  &lt;/ol&gt;<br>&lt;/div&gt;<br>const TodoList = {<br>  data() {<br>    return {<br>      groceryList: [<br>        { id: 0, text: 'Vegetables' },<br>        { id: 1, text: 'Cheese' },<br>        { id: 2, text: 'Whatever else humans are supposed to eat' }<br>      ]<br>    }<br>  }<br>}<br><br>const app = Vue.createApp(TodoList)<br><br>app.component('todo-item', {<br>  props: ['todo'],<br>  template: `&lt;li&gt;{{ todo.text }}&lt;/li&gt;`<br>})<br><br>app.mount('#todo-list-app')<br><br>尽管这只是一个刻意设计的例子，但是我们已经设法将应用分割成了两个更小的单元。子单元通过 prop 接口与父单元进行了良好的解耦。我们现在可以进一步改进 &lt;todo-item&gt; 组件，提供更为复杂的模板和逻辑，而不会影响到父应用。<br><br>在一个大型应用中，有必要将整个应用程序划分为多个组件，以使开发更易管理。在后续教程中我们将详述组件，不过这里有一个 (假想的) 例子，以展示使用了组件的应用模板是什么样的：<br><br>&lt;div id=\"app\"&gt;<br>  &lt;app-nav&gt;&lt;/app-nav&gt;<br>  &lt;app-view&gt;<br>    &lt;app-sidebar&gt;&lt;/app-sidebar&gt;<br>    &lt;app-content&gt;&lt;/app-content&gt;<br>  &lt;/app-view&gt;<br>&lt;/div&gt;<br>#与自定义元素的关系<br>你可能已经注意到 Vue 组件与自定义元素非常类似——它是 Web Components 规范的一部分。确实，Vue 的组件设计 (如插槽 API) 在浏览器原生支持该规范前就部分受到了它的影响。<br><br>它们之间主要的不同在于，Vue 组件的数据模型是作为框架的一部分而设计的，而该框架为构建复杂应用提供了很多必要的附加功能。例如响应式模板和状态管理——这两者都没有被该规范所覆盖。<br><br>Vue 也为创建和使用自定义元素提供了很好的支持。关于其更多细节，请浏览 Vue 和 Web Components 章节。<br><br>#准备好了吗？<br>我们刚才简单介绍了 Vue 核心最基本的功能——本教程的其余部分将更加详细地涵盖这些功能以及其它高阶功能，所以请务必读完整个教程！<br></p>","success":true}
2023-05-12 09:12:20.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789210601721856 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 09:12:21.199 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:12:33.841 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:12:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37789272912302080 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789272912302080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789272912302080 [0;39m ==> Parameters: 
2023-05-12 09:12:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789272912302080 [0;39m <==    Updates: 2
2023-05-12 09:12:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37789272912302080 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-12 09:13:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37789377757319168 [0;39m 生成今日电子书快照开始
2023-05-12 09:13:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37789377757319168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:13:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37789377757319168 [0;39m ==> Parameters: 
2023-05-12 09:13:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37789377757319168 [0;39m <==    Updates: 0
2023-05-12 09:13:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37789377757319168 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-12 09:13:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37789398770782208 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:13:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789398770782208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:13:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789398770782208 [0;39m ==> Parameters: 
2023-05-12 09:13:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789398770782208 [0;39m <==    Updates: 2
2023-05-12 09:13:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37789398770782208 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:13:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37789524595707904 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:13:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789524595707904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:13:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789524595707904 [0;39m ==> Parameters: 
2023-05-12 09:13:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789524595707904 [0;39m <==    Updates: 2
2023-05-12 09:13:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37789524595707904 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:13:52.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789598222520320 [0;39m ------------- 开始 -------------
2023-05-12 09:13:52.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789598222520320 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/466505644945408 GET
2023-05-12 09:13:52.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789598222520320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-12 09:13:52.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789598222520320 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:13:52.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789598222520320 [0;39m 请求参数: [466505644945408]
2023-05-12 09:13:52.586 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m37789598222520320 [0;39m key不存在，放入：DOC_VOTE_466505644945408_127.0.0.1，过期 5000 秒
2023-05-12 09:13:52.586 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37789598222520320 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-12 09:13:52.586 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37789598222520320 [0;39m ==> Parameters: 466505644945408(Long)
2023-05-12 09:13:52.586 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37789598222520320 [0;39m <==    Updates: 1
2023-05-12 09:13:52.586 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37789598222520320 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-12 09:13:52.586 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37789598222520320 [0;39m ==> Parameters: 466505644945408(Long)
2023-05-12 09:13:52.586 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m37789598222520320 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 09:13:52.586 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m37789598222520320 [0;39m <==        Row: 466505644945408, 453524338094080, 457740829388801, 起步, 2, 14, 1
2023-05-12 09:13:52.586 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37789598222520320 [0;39m <==      Total: 1
2023-05-12 09:13:52.586 ERROR org.apache.rocketmq.spring.core.RocketMQTemplate  :153  [32m37789598222520320 [0;39m syncSend failed. destination:VOTE_TOPIC, message:GenericMessage [payload=【起步】被点赞！, headers={contentType=text/plain, id=6f7537ca-f979-8196-c262-db05e234bdc7, timestamp=1683854032586}] 
2023-05-12 09:13:52.586 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m37789598222520320 [0;39m 系统异常：
org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:154)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:123)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:111)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:459)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:50)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at com.jiawa.wiki.service.DocService.vote(DocService.java:167)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$a4f7070e.vote(<generated>)
	at com.jiawa.wiki.controller.DocController.vote(DocController.java:65)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$8f56e6f0.vote(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:656)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1279)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:301)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:148)
	... 87 common frames omitted
2023-05-12 09:13:52.586 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37789598222520320 [0;39m Resolved [org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.]
2023-05-12 09:14:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37789629444919296 [0;39m 生成今日电子书快照开始
2023-05-12 09:14:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37789629444919296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:14:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37789629444919296 [0;39m ==> Parameters: 
2023-05-12 09:14:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37789629444919296 [0;39m <==    Updates: 0
2023-05-12 09:14:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37789629444919296 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:14:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37789650378690560 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:14:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789650378690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:14:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789650378690560 [0;39m ==> Parameters: 
2023-05-12 09:14:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789650378690560 [0;39m <==    Updates: 2
2023-05-12 09:14:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37789650378690560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:14:06.948 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-12 09:14:06.948 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-12 09:14:16.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:14:19.662 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:14:21.694 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[] result: true
2023-05-12 09:14:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37789776253947904 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789776253947904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789776253947904 [0;39m ==> Parameters: 
2023-05-12 09:14:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789776253947904 [0;39m <==    Updates: 2
2023-05-12 09:14:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37789776253947904 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:14:52.720 INFO  com.jiawa.wiki.websocket.WebSocketServer          :42   [32m37789180855717888 [0;39m 连接关闭，token：ZSw7krwBnI，session id：0！当前连接数：0
2023-05-12 09:14:53.542 INFO  com.jiawa.wiki.websocket.WebSocketServer          :33   [32m37789198836699136 [0;39m 有新连接：token：2l0RBtoZ0B，session id：1，当前连接数：1
2023-05-12 09:14:53.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789854117007360 [0;39m ------------- 开始 -------------
2023-05-12 09:14:53.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789854117007360 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/453524338094080 GET
2023-05-12 09:14:53.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789854117007360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 09:14:53.581 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789854117007360 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:14:53.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789854117007360 [0;39m 请求参数: [453524338094080]
2023-05-12 09:14:53.583 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789854117007360 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 09:14:53.583 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789854117007360 [0;39m ==> Parameters: 453524338094080(Long)
2023-05-12 09:14:53.584 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789854117007360 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 09:14:53.584 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789854117007360 [0;39m <==        Row: 457704799236096, 453524338094080, 0, 安装, 1, 195, 13
2023-05-12 09:14:53.584 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789854117007360 [0;39m <==        Row: 457741436203009, 453524338094080, 457740829388801, vue.js是什么, 1, 42, 3
2023-05-12 09:14:53.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789854117007360 [0;39m <==        Row: 457740829388801, 453524338094080, 0, 介绍, 2, 24, 1
2023-05-12 09:14:53.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789854117007360 [0;39m <==        Row: 466505644945408, 453524338094080, 457740829388801, 起步, 2, 14, 1
2023-05-12 09:14:53.585 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789854117007360 [0;39m <==        Row: 487727374151680, 453524338094080, 457740829388801, 声明式渲染, 3, 9, 2
2023-05-12 09:14:53.586 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789854117007360 [0;39m <==      Total: 5
2023-05-12 09:14:53.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789854117007360 [0;39m 返回结果: {"content":[{"ebookId":453524338094080,"id":457704799236096,"name":"安装","parent":0,"sort":1,"viewCount":195,"voteCount":13},{"ebookId":453524338094080,"id":457741436203009,"name":"vue.js是什么","parent":457740829388801,"sort":1,"viewCount":42,"voteCount":3},{"ebookId":453524338094080,"id":457740829388801,"name":"介绍","parent":0,"sort":2,"viewCount":24,"voteCount":1},{"ebookId":453524338094080,"id":466505644945408,"name":"起步","parent":457740829388801,"sort":2,"viewCount":14,"voteCount":1},{"ebookId":453524338094080,"id":487727374151680,"name":"声明式渲染","parent":457740829388801,"sort":3,"viewCount":9,"voteCount":2}],"success":true}
2023-05-12 09:14:53.586 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789854117007360 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:14:53.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789854305751040 [0;39m ------------- 开始 -------------
2023-05-12 09:14:53.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789854305751040 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/457704799236096 GET
2023-05-12 09:14:53.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789854305751040 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 09:14:53.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789854305751040 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:14:53.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789854305751040 [0;39m 请求参数: [457704799236096]
2023-05-12 09:14:53.627 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789854305751040 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 09:14:53.628 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789854305751040 [0;39m ==> Parameters: 457704799236096(Long)
2023-05-12 09:14:53.630 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789854305751040 [0;39m <==    Columns: id, content
2023-05-12 09:14:53.630 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789854305751040 [0;39m <==        Row: 457704799236096, <<BLOB>>
2023-05-12 09:14:53.631 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789854305751040 [0;39m <==      Total: 1
2023-05-12 09:14:53.631 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789854305751040 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 09:14:53.632 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789854305751040 [0;39m ==> Parameters: 457704799236096(Long)
2023-05-12 09:14:53.644 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789854305751040 [0;39m <==    Updates: 1
2023-05-12 09:14:53.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789854305751040 [0;39m 返回结果: {"content":"<h1 id=\"kwsbb\">安装</h1>Vue.js 设计的初衷就包括可以被渐进式地采用。这意味着它可以根据需求以多种方式集成到一个项目中。<br><br>将 Vue.js 添加到项目中主要有四种方式：<br><br>在页面上以 CDN 包的形式导入。<br>下载 JavaScript 文件并自行托管。<br>使用 npm 安装它。<br>使用官方的 CLI 来构建一个项目，它为现代前端工作流程提供了功能齐备的构建设置 (例如，热重载、保存时的提示等等)。<br>#发布版本说明<br>最新版本：npm<br><br>每个版本的详细发布说明都可以在 GitHub 上找到。<br><br>#Vue Devtools<br>目前处于测试阶段 - Vuex 和 Router 的集成仍在进行中。<br><br>通过 Vue School 的免费课程学习如何安装和使用 Vue Devtools<br>在使用 Vue 时，我们推荐在你的浏览器上安装 Vue Devtools，它允许你在一个更友好的界面中审查和调试 Vue 应用。<br><br>获取 Chrome 扩展程序<br><br>获取 Firefox 附加组件<br><br>获取独立的 Electron 应用程序<br><br>#CDN<br>对于制作原型或学习，你可以这样使用最新版本：<br><br>&lt;script src=\"https://unpkg.com/vue@next\"&gt;&lt;/script&gt;<br>对于生产环境，我们推荐链接到一个明确的版本号和构建文件，以避免新版本造成的不可预期的破坏。<br><br>#下载并自托管<br>如果你想避免使用构建工具，但又无法在生产环境使用 CDN，那么你可以下载相关 .js 文件并自行托管在你的服务器上。然后你可以通过 &lt;script&gt; 标签引入，与使用 CDN 的方法类似。<br><br>这些文件可以在 unpkg 或者 jsDelivr 这些 CDN 上浏览和下载。各种不同文件将在以后解释，但你通常需要同时下载开发环境构建版本以及生产环境构建版本。<br><br>#npm<br>在用 Vue 构建大型应用时推荐使用 npm 安装[1] 。npm 能很好地和诸如 webpack 或 Rollup 模块打包器配合使用。<br><br># 最新稳定版<br>$ npm install vue@next<br>Vue 还提供了编写单文件组件的配套工具。如果你想使用单文件组件，那么你还需要安装 @vue/compiler-sfc：<br><br>$ npm install -D @vue/compiler-sfc<br>如果你是从 Vue 2 过渡而来的，请注意 @vue/compiler-sfc 替换掉了 vue-template-compiler<br><br>除了 @vue/compiler-sfc 之外，你还需要为已选择的打包工具选择一个配套的单文件组件 loader 或 plugin。更多信息请查阅单文件组件文档。<br><br>大多数情况下，我们更倾向于使用 Vue CLI 来创建一个配置最小化的 webpack 构建版本。<br><br>#命令行工具 (CLI)<br>Vue 提供了一个官方的 CLI，为单页面应用 (SPA) 快速搭建繁杂的脚手架。它为现代前端工作流提供了功能齐备的构建设置。只需要几分钟的时间就可以运行起来并带有热重载、保存时 lint 校验，以及生产环境可用的构建版本。更多详情可查阅 Vue CLI 的文档。<br><br>TIP<br><br>CLI 工具假定用户对 Node.js 和相关构建工具有一定程度的了解。如果你是新手，我们强烈建议先在不用构建工具的情况下通读指南，在熟悉 Vue 本身之后再使用 CLI。<br><br>对于 Vue 3，你应该使用 npm 上可用的 Vue CLI v4.5 作为 @vue/cli。要升级，你应该需要全局重新安装最新版本的 @vue/cli：<br><br>yarn global add @vue/cli<br># 或<br>npm install -g @vue/cli<br>然后在 Vue 项目中运行：<br><br>vue upgrade --next<br>#Vite<br>Vite 是一个 web 开发构建工具，由于其原生 ES 模块导入方式，可以实现闪电般的冷服务器启动。<br><br>通过在终端中运行以下命令，可以使用 Vite 快速构建 Vue 项目。<br><br>使用 npm：<br><br># npm 6.x<br>$ npm init vite@latest &lt;project-name&gt; --template vue<br><br># npm 7+，需要加上额外的双短横线<br>$ npm init vite@latest &lt;project-name&gt; -- --template vue<br><br>$ cd &lt;project-name&gt;<br>$ npm install<br>$ npm run dev<br>或者 yarn：<br><br>$ yarn create vite &lt;project-name&gt; --template vue<br>$ cd &lt;project-name&gt;<br>$ yarn<br>$ yarn dev<br>#对不同构建版本的解释<br>在 npm 包的 dist/ 目录你将会找到很多不同的 Vue.js 构建版本。下面是一个概述，根据不同的使用情况，应该使用哪个 dist 文件：<br><br>#使用 CDN 或没有构建工具<br>#vue(.runtime).global(.prod).js：<br>若要通过浏览器中的 &lt;script src=\"...\"&gt; 直接使用，则暴露 Vue 全局。<br>浏览器内模板编译：<br>vue.global.js 是包含编译器和运行时的“完整”构建版本，因此它支持动态编译模板。<br>vue.runtime.global.js 只包含运行时，并且需要在构建步骤期间预编译模板。<br>内联所有 Vue 核心内部包——即：它是一个单独的文件，不依赖于其他文件。这意味着你必须导入此文件和此文件中的所有内容，以确保获得相同的代码实例。<br>包含硬编码的 prod/dev 分支，并且 prod 构建版本是预先压缩过的。将 *.prod.js 文件用于生产环境。<br>提示<br><br>全局打包不是 UMD 构建的，它们被打包成 IIFEs，并且仅用于通过 &lt;script src=\"...\"&gt; 直接使用。<br><br>#vue(.runtime).esm-browser(.prod).js：<br>用于通过原生 ES 模块导入使用 (在浏览器中通过 &lt;script type=\"module\"&gt; 来使用)。<br>与全局构建版本共享相同的运行时编译、依赖内联和硬编码的 prod/dev 行为。<br>#使用构建工具<br>#vue(.runtime).esm-bundler.js：<br>用于 webpack，rollup 和 parcel 等构建工具。<br>留下 prod/dev 分支的 process.env.NODE_ENV 守卫语句 (必须由构建工具替换)。<br>不提供压缩版本 (打包后与其余代码一起压缩)。<br>import 依赖 (例如：@vue/runtime-core，@vue/runtime-compiler)<br>导入的依赖项也是 esm bundler 构建版本，并将依次导入其依赖项 (例如：@vue/runtime-core imports @vue/reactivity)。<br>这意味着你可以单独安装/导入这些依赖，而不会导致这些依赖项的不同实例，但你必须确保它们都为同一版本。<br>浏览器内模板编译：<br>vue.runtime.esm-bundler.js (默认) 仅运行时，并要求所有模板都要预先编译。这是构建工具的默认入口 (通过 package.json 中的 module 字段)，因为在使用构建工具时，模板通常是预先编译的 (例如：在 *.vue 文件中)。<br>vue.esm-bundler.js 包含运行时编译器。如果你使用了一个构建工具，但仍然想要运行时的模板编译 (例如，DOM 内 模板或通过内联 JavaScript 字符串的模板)，请使用这个文件。你需要配置你的构建工具，将 vue 设置为这个文件。<br>#对于服务端渲染<br>#vue.cjs(.prod).js：<br>通过 require() 在 Node.js 服务器端渲染使用。<br>如果你将应用程序与带有 target: 'node' 的 webpack 打包在一起，并正确地将 vue 外部化，则将加载此文件。<br>dev/prod 文件是预构建的，但是会根据 process.env.NODE_ENV 自动加载相应的文件。<br>#运行时 + 编译器 vs. 仅运行时<br>如果需要在客户端上编译模板 (即：将字符串传递给 template 选项，或者使用元素的 DOM 内 HTML 作为模板挂载到元素)，你将需要编译器，因此需要完整的构建版本：<br><br>// 需要编译器<br>Vue.createApp({<br>  template: '&lt;div&gt;{{ hi }}&lt;/div&gt;'<br>})<br><br>// 不需要<br>Vue.createApp({<br>  render() {<br>    return Vue.h('div', {}, this.hi)<br>  }<br>})<br>当使用 vue-loader 时，*.vue 文件中的模板会在构建时预编译为 JavaScript，在最终的捆绑包中并不需要编译器，因此可以只使用运行时构建版本。<br>","success":true}
2023-05-12 09:14:53.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789854305751040 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-12 09:14:54.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789859657682944 [0;39m ------------- 开始 -------------
2023-05-12 09:14:54.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789859657682944 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/457741436203009 GET
2023-05-12 09:14:54.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789859657682944 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 09:14:54.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789859657682944 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:14:54.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789859657682944 [0;39m 请求参数: [457741436203009]
2023-05-12 09:14:54.904 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789859657682944 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 09:14:54.904 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789859657682944 [0;39m ==> Parameters: 457741436203009(Long)
2023-05-12 09:14:54.905 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789859657682944 [0;39m <==    Columns: id, content
2023-05-12 09:14:54.906 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789859657682944 [0;39m <==        Row: 457741436203009, <<BLOB>>
2023-05-12 09:14:54.906 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789859657682944 [0;39m <==      Total: 1
2023-05-12 09:14:54.907 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789859657682944 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 09:14:54.907 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789859657682944 [0;39m ==> Parameters: 457741436203009(Long)
2023-05-12 09:14:54.909 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789859657682944 [0;39m <==    Updates: 1
2023-05-12 09:14:54.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789859657682944 [0;39m 返回结果: {"content":"<h2>Vue.js 是什么</h2><p>Vue (读音 /vjuː/，类似于&nbsp;<strong>view</strong>) 是一套用于构建用户界面的<strong>渐进式框架</strong>。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与<a href=\"https://v3.cn.vuejs.org/guide/single-file-component.html\">现代化的工具链</a>以及各种<a href=\"https://github.com/vuejs/awesome-vue#components--libraries\" target=\"_blank\">支持类库<path></path><polygon></polygon></a>结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。</p><p>如果你想在深入学习 Vue 之前对它有更多了解，我们<a href=\"https://v3.cn.vuejs.org/guide/introduction.html#\">制作了一个视频</a>，带你了解其核心概念和一个示例工程。</p><section><a href=\"https://www.vuemastery.com/courses/intro-to-vue-3/intro-to-vue3\" target=\"_blank\">在 vue Mastery 上免费观看视频课程</a></section>","success":true}
2023-05-12 09:14:54.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789859657682944 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 09:14:55.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789863667437568 [0;39m ------------- 开始 -------------
2023-05-12 09:14:55.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789863667437568 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/457741436203009 GET
2023-05-12 09:14:55.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789863667437568 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-12 09:14:55.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789863667437568 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:14:55.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789863667437568 [0;39m 请求参数: [457741436203009]
2023-05-12 09:14:55.858 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m37789863667437568 [0;39m key不存在，放入：DOC_VOTE_457741436203009_127.0.0.1，过期 5000 秒
2023-05-12 09:14:55.861 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37789863667437568 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-12 09:14:55.861 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37789863667437568 [0;39m ==> Parameters: 457741436203009(Long)
2023-05-12 09:14:55.867 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37789863667437568 [0;39m <==    Updates: 1
2023-05-12 09:14:55.867 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37789863667437568 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-12 09:14:55.867 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37789863667437568 [0;39m ==> Parameters: 457741436203009(Long)
2023-05-12 09:14:55.867 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m37789863667437568 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 09:14:55.867 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m37789863667437568 [0;39m <==        Row: 457741436203009, 453524338094080, 457740829388801, vue.js是什么, 1, 43, 4
2023-05-12 09:14:55.867 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37789863667437568 [0;39m <==      Total: 1
2023-05-12 09:14:55.874 ERROR org.apache.rocketmq.spring.core.RocketMQTemplate  :153  [32m37789863667437568 [0;39m syncSend failed. destination:VOTE_TOPIC, message:GenericMessage [payload=【vue.js是什么】被点赞！, headers={contentType=text/plain, id=e6f01a29-b0f3-0292-f2c5-510839739170, timestamp=1683854095867}] 
2023-05-12 09:14:55.875 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m37789863667437568 [0;39m 系统异常：
org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:154)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:123)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:111)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:459)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:50)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at com.jiawa.wiki.service.DocService.vote(DocService.java:167)
	at com.jiawa.wiki.service.DocService$$FastClassBySpringCGLIB$$50aa4805.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)
	at com.jiawa.wiki.service.DocService$$EnhancerBySpringCGLIB$$a4f7070e.vote(<generated>)
	at com.jiawa.wiki.controller.DocController.vote(DocController.java:65)
	at com.jiawa.wiki.controller.DocController$$FastClassBySpringCGLIB$$36fc4971.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.DocController$$EnhancerBySpringCGLIB$$8f56e6f0.vote(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:656)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1279)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:301)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:148)
	... 87 common frames omitted
2023-05-12 09:14:55.875 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37789863667437568 [0;39m Resolved [org.springframework.messaging.MessagingException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic, VOTE_TOPIC
See http://rocketmq.apache.org/docs/faq/ for further details.]
2023-05-12 09:14:59.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789879844868096 [0;39m ------------- 开始 -------------
2023-05-12 09:14:59.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789879844868096 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/457741436203009 GET
2023-05-12 09:14:59.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789879844868096 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-12 09:14:59.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789879844868096 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:14:59.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789879844868096 [0;39m 请求参数: [457741436203009]
2023-05-12 09:14:59.714 INFO  com.jiawa.wiki.util.RedisUtil                     :28   [32m37789879844868096 [0;39m key已存在：DOC_VOTE_457741436203009_127.0.0.1
2023-05-12 09:14:59.714 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37789879844868096 [0;39m 业务异常：您已点赞过
2023-05-12 09:14:59.714 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37789879844868096 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 您已点赞过]
2023-05-12 09:15:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37789881086382080 [0;39m 生成今日电子书快照开始
2023-05-12 09:15:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37789881086382080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:15:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37789881086382080 [0;39m ==> Parameters: 
2023-05-12 09:15:00.040 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37789881086382080 [0;39m <==    Updates: 0
2023-05-12 09:15:00.040 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37789881086382080 [0;39m 生成今日电子书快照结束，耗时：30毫秒
2023-05-12 09:15:04.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789900644421632 [0;39m ------------- 开始 -------------
2023-05-12 09:15:04.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789900644421632 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/466505644945408 GET
2023-05-12 09:15:04.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789900644421632 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 09:15:04.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789900644421632 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:04.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789900644421632 [0;39m 请求参数: [466505644945408]
2023-05-12 09:15:04.679 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789900644421632 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 09:15:04.679 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789900644421632 [0;39m ==> Parameters: 466505644945408(Long)
2023-05-12 09:15:04.679 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789900644421632 [0;39m <==    Columns: id, content
2023-05-12 09:15:04.679 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789900644421632 [0;39m <==        Row: 466505644945408, <<BLOB>>
2023-05-12 09:15:04.679 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789900644421632 [0;39m <==      Total: 1
2023-05-12 09:15:04.679 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789900644421632 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 09:15:04.679 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789900644421632 [0;39m ==> Parameters: 466505644945408(Long)
2023-05-12 09:15:04.689 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789900644421632 [0;39m <==    Updates: 1
2023-05-12 09:15:04.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789900644421632 [0;39m 返回结果: {"content":"<p>起步<br>安装<br><br>TIP<br><br>官方指南假设你已了解关于 HTML、CSS 和 JavaScript 的中级知识。如果你刚开始学习前端开发，将框架作为你的第一步可能不是最好的主意——掌握好基础知识再来吧！之前有其它框架的使用经验会有帮助，但这不是必需的<br><br>尝试 Vue.js 最简单的方法是使用 Hello World 例子，你可以在浏览器新标签页中打开它，跟着例子学习一些基础用法。<br><br>安装教程给出了更多安装 Vue 的方式。请注意我们不推荐新手直接使用 vue-cli，尤其是在你还不熟悉基于 Node.js 的构建工具时。<br><br>#声明式渲染<br>Vue.js 的核心是一个允许采用简洁的模板语法来声明式地将数据渲染进 DOM 的系统：<br><br>&lt;div id=\"counter\"&gt;<br>  Counter: {{ counter }}<br>&lt;/div&gt;<br>const Counter = {<br>  data() {<br>    return {<br>      counter: 0<br>    }<br>  }<br>}<br><br>Vue.createApp(Counter).mount('#counter')<br>我们已经成功创建了第一个 Vue 应用！看起来这跟渲染一个字符串模板非常类似，但是 Vue 在背后做了大量工作。现在数据和 DOM 已经被建立了关联，所有东西都是响应式的。我们要怎么确认呢？请看下面的示例，其中 counter property 每秒递增，你将看到渲染的 DOM 是如何变化的：<br><br>const Counter = {<br>  data() {<br>    return {<br>      counter: 0<br>    }<br>  },<br>  mounted() {<br>    setInterval(() =&gt; {<br>      this.counter++<br>    }, 1000)<br>  }<br>}<br><br>除了文本插值，我们还可以像这样绑定元素的 attribute：<br><br>&lt;div id=\"bind-attribute\"&gt;<br>  &lt;span v-bind:title=\"message\"&gt;<br>    鼠标悬停几秒钟查看此处动态绑定的提示信息！<br>  &lt;/span&gt;<br>&lt;/div&gt;<br>const AttributeBinding = {<br>  data() {<br>    return {<br>      message: 'You loaded this page on ' + new Date().toLocaleString()<br>    }<br>  }<br>}<br><br>Vue.createApp(AttributeBinding).mount('#bind-attribute')<br><br>这里我们遇到了一点新东西。你看到的 v-bind attribute 被称为指令。指令带有前缀 v-，以表示它们是 Vue 提供的特殊 attribute。可能你已经猜到了，它们会在渲染的 DOM 上应用特殊的响应式行为。在这里，该指令的意思是：“将这个元素节点的 title attribute 和当前活跃实例的 message property 保持一致”。<br><br>#处理用户输入<br>为了让用户和应用进行交互，我们可以用 v-on 指令添加一个事件监听器，通过它调用在实例中定义的方法：<br><br>&lt;div id=\"event-handling\"&gt;<br>  &lt;p&gt;{{ message }}&lt;/p&gt;<br>  &lt;button v-on:click=\"reverseMessage\"&gt;反转 Message&lt;/button&gt;<br>&lt;/div&gt;<br>const EventHandling = {<br>  data() {<br>    return {<br>      message: 'Hello Vue.js!'<br>    }<br>  },<br>  methods: {<br>    reverseMessage() {<br>      this.message = this.message<br>        .split('')<br>        .reverse()<br>        .join('')<br>    }<br>  }<br>}<br><br>Vue.createApp(EventHandling).mount('#event-handling')<br><br>注意在这个方法中，我们更新了应用的状态，但没有触碰 DOM——所有的 DOM 操作都由 Vue 来处理，你编写的代码只需要关注逻辑层面即可。<br><br>Vue 还提供了 v-model 指令，它能轻松实现表单输入和应用状态之间的双向绑定。<br><br>&lt;div id=\"two-way-binding\"&gt;<br>  &lt;p&gt;{{ message }}&lt;/p&gt;<br>  &lt;input v-model=\"message\" /&gt;<br>&lt;/div&gt;<br>const TwoWayBinding = {<br>  data() {<br>    return {<br>      message: 'Hello Vue!'<br>    }<br>  }<br>}<br><br>Vue.createApp(TwoWayBinding).mount('#two-way-binding')<br><br>#条件与循环<br>控制切换一个元素是否显示也相当简单：<br><br>&lt;div id=\"conditional-rendering\"&gt;<br>  &lt;span v-if=\"seen\"&gt;现在你看到我了&lt;/span&gt;<br>&lt;/div&gt;<br>const ConditionalRendering = {<br>  data() {<br>    return {<br>      seen: true<br>    }<br>  }<br>}<br><br>Vue.createApp(ConditionalRendering).mount('#conditional-rendering')<br>这个例子演示了我们不仅可以把数据绑定到 DOM 文本或 attribute，还可以绑定到 DOM 的结构。此外，Vue 也提供一个强大的过渡效果系统，可以在 Vue 插入/更新/移除元素时自动应用过渡效果。<br><br>你可以在下面的沙盒中将 seen 从 true 更改为 false，以检查效果：<br><br><br>还有其它很多指令，每个都有特殊的功能。例如，v-for 指令可以绑定数组的数据来渲染一个项目列表：<br><br>&lt;div id=\"list-rendering\"&gt;<br>  &lt;ol&gt;<br>    &lt;li v-for=\"todo in todos\"&gt;<br>      {{ todo.text }}<br>    &lt;/li&gt;<br>  &lt;/ol&gt;<br>&lt;/div&gt;<br>const ListRendering = {<br>  data() {<br>    return {<br>      todos: [<br>        { text: 'Learn JavaScript' },<br>        { text: 'Learn Vue' },<br>        { text: 'Build something awesome' }<br>      ]<br>    }<br>  }<br>}<br><br>Vue.createApp(ListRendering).mount('#list-rendering')<br><br>#组件化应用构建<br>组件系统是 Vue 的另一个重要概念，因为它是一种抽象，允许我们使用小型、独立和通常可复用的组件构建大型应用。仔细想想，几乎任意类型的应用界面都可以抽象为一个组件树：<br><br>Component Tree<br><br>在 Vue 中，组件本质上是一个具有预定义选项的实例。在 Vue 中注册组件很简单：如对 App 对象所做的那样创建一个组件对象，并将其定义在父级组件的 components 选项中：<br><br>const TodoItem = {<br>  template: `&lt;li&gt;This is a todo&lt;/li&gt;`<br>}<br><br>// 创建 Vue 应用<br>const app = Vue.createApp({<br>  components: {<br>    TodoItem // 注册一个新组件<br>  },<br>  ... // 组件的其它 property<br>})<br><br>// 挂载 Vue 应用<br>app.mount(...)<br>现在，你可以将其放到另一个组件的模板中：<br><br>&lt;ol&gt;<br>  &lt;!-- 创建一个 todo-item 组件实例 --&gt;<br>  &lt;todo-item&gt;&lt;/todo-item&gt;<br>&lt;/ol&gt;<br>但是这样会为每个待办项渲染同样的文本，这看起来并不炫酷。我们应该能将数据从父组件传入子组件才对。让我们来修改一下组件的定义，使之能够接受一个 prop：<br><br>app.component('todo-item', {<br>  props: ['todo'],<br>  template: `&lt;li&gt;{{ todo.text }}&lt;/li&gt;`<br>})<br>现在，我们可以使用 v-bind 指令将待办项传到循环输出的每个组件中：<br><br>&lt;div id=\"todo-list-app\"&gt;<br>  &lt;ol&gt;<br>     &lt;!--<br>      现在我们为每个 todo-item 提供 todo 对象<br>      todo 对象是变量，即其内容可以是动态的。<br>      我们也需要为每个组件提供一个“key”，稍后再<br>      作详细解释。<br>    --&gt;<br>    &lt;todo-item<br>      v-for=\"item in groceryList\"<br>      v-bind:todo=\"item\"<br>      v-bind:key=\"item.id\"<br>    &gt;&lt;/todo-item&gt;<br>  &lt;/ol&gt;<br>&lt;/div&gt;<br>const TodoList = {<br>  data() {<br>    return {<br>      groceryList: [<br>        { id: 0, text: 'Vegetables' },<br>        { id: 1, text: 'Cheese' },<br>        { id: 2, text: 'Whatever else humans are supposed to eat' }<br>      ]<br>    }<br>  }<br>}<br><br>const app = Vue.createApp(TodoList)<br><br>app.component('todo-item', {<br>  props: ['todo'],<br>  template: `&lt;li&gt;{{ todo.text }}&lt;/li&gt;`<br>})<br><br>app.mount('#todo-list-app')<br><br>尽管这只是一个刻意设计的例子，但是我们已经设法将应用分割成了两个更小的单元。子单元通过 prop 接口与父单元进行了良好的解耦。我们现在可以进一步改进 &lt;todo-item&gt; 组件，提供更为复杂的模板和逻辑，而不会影响到父应用。<br><br>在一个大型应用中，有必要将整个应用程序划分为多个组件，以使开发更易管理。在后续教程中我们将详述组件，不过这里有一个 (假想的) 例子，以展示使用了组件的应用模板是什么样的：<br><br>&lt;div id=\"app\"&gt;<br>  &lt;app-nav&gt;&lt;/app-nav&gt;<br>  &lt;app-view&gt;<br>    &lt;app-sidebar&gt;&lt;/app-sidebar&gt;<br>    &lt;app-content&gt;&lt;/app-content&gt;<br>  &lt;/app-view&gt;<br>&lt;/div&gt;<br>#与自定义元素的关系<br>你可能已经注意到 Vue 组件与自定义元素非常类似——它是 Web Components 规范的一部分。确实，Vue 的组件设计 (如插槽 API) 在浏览器原生支持该规范前就部分受到了它的影响。<br><br>它们之间主要的不同在于，Vue 组件的数据模型是作为框架的一部分而设计的，而该框架为构建复杂应用提供了很多必要的附加功能。例如响应式模板和状态管理——这两者都没有被该规范所覆盖。<br><br>Vue 也为创建和使用自定义元素提供了很好的支持。关于其更多细节，请浏览 Vue 和 Web Components 章节。<br><br>#准备好了吗？<br>我们刚才简单介绍了 Vue 核心最基本的功能——本教程的其余部分将更加详细地涵盖这些功能以及其它高阶功能，所以请务必读完整个教程！<br></p>","success":true}
2023-05-12 09:15:04.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789900644421632 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-12 09:15:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37789902070484992 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:15:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789902070484992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:15:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789902070484992 [0;39m ==> Parameters: 
2023-05-12 09:15:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37789902070484992 [0;39m <==    Updates: 2
2023-05-12 09:15:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37789902070484992 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-12 09:15:08.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789915353845760 [0;39m ------------- 开始 -------------
2023-05-12 09:15:08.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789915353845760 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/466505644945408 GET
2023-05-12 09:15:08.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789915353845760 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-12 09:15:08.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789915353845760 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:08.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789915353845760 [0;39m 请求参数: [466505644945408]
2023-05-12 09:15:08.180 INFO  com.jiawa.wiki.util.RedisUtil                     :28   [32m37789915353845760 [0;39m key已存在：DOC_VOTE_466505644945408_127.0.0.1
2023-05-12 09:15:08.180 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37789915353845760 [0;39m 业务异常：您已点赞过
2023-05-12 09:15:08.187 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37789915353845760 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 您已点赞过]
2023-05-12 09:15:11.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789929446707200 [0;39m ------------- 开始 -------------
2023-05-12 09:15:11.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789929446707200 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/487727374151680 GET
2023-05-12 09:15:11.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789929446707200 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 09:15:11.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789929446707200 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:11.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789929446707200 [0;39m 请求参数: [487727374151680]
2023-05-12 09:15:11.541 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789929446707200 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 09:15:11.541 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789929446707200 [0;39m ==> Parameters: 487727374151680(Long)
2023-05-12 09:15:11.541 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789929446707200 [0;39m <==    Columns: id, content
2023-05-12 09:15:11.541 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37789929446707200 [0;39m <==        Row: 487727374151680, <<BLOB>>
2023-05-12 09:15:11.541 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789929446707200 [0;39m <==      Total: 1
2023-05-12 09:15:11.541 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789929446707200 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 09:15:11.541 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789929446707200 [0;39m ==> Parameters: 487727374151680(Long)
2023-05-12 09:15:11.550 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789929446707200 [0;39m <==    Updates: 1
2023-05-12 09:15:11.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789929446707200 [0;39m 返回结果: {"content":"<p><h1><b id=\"901ec\">声明式渲染</b></h1>Vue.js 的核心是一个允许采用简洁的模板语法来声明式地将数据渲染进 DOM 的系统：<br><br>&lt;div id=\"counter\"&gt;<br>  Counter: {{ counter }}<br>&lt;/div&gt;<br>const Counter = {<br>  data() {<br>    return {<br>      counter: 0<br>    }<br>  }<br>}<br><br>Vue.createApp(Counter).mount('#counter')<br>我们已经成功创建了第一个 Vue 应用！看起来这跟渲染一个字符串模板非常类似，但是 Vue 在背后做了大量工作。现在数据和 DOM 已经被建立了关联，所有东西都是响应式的。我们要怎么确认呢？请看下面的示例，其中 counter property 每秒递增，你将看到渲染的 DOM 是如何变化的：<br><br>const Counter = {<br>  data() {<br>    return {<br>      counter: 0<br>    }<br>  },<br>  mounted() {<br>    setInterval(() =&gt; {<br>      this.counter++<br>    }, 1000)<br>  }<br>}<br><br>除了文本插值，我们还可以像这样绑定元素的 attribute：<br><br>&lt;div id=\"bind-attribute\"&gt;<br>  &lt;span v-bind:title=\"message\"&gt;<br>    鼠标悬停几秒钟查看此处动态绑定的提示信息！<br>  &lt;/span&gt;<br>&lt;/div&gt;<br>const AttributeBinding = {<br>  data() {<br>    return {<br>      message: 'You loaded this page on ' + new Date().toLocaleString()<br>    }<br>  }<br>}<br><br>Vue.createApp(AttributeBinding).mount('#bind-attribute')<br><br>这里我们遇到了一点新东西。你看到的 v-bind attribute 被称为指令。指令带有前缀 v-，以表示它们是 Vue 提供的特殊 attribute。可能你已经猜到了，它们会在渲染的 DOM 上应用特殊的响应式行为。在这里，该指令的意思是：“将这个元素节点的 title attribute 和当前活跃实例的 message property 保持一致”。<br><br>#处理用户输入<br>为了让用户和应用进行交互，我们可以用 v-on 指令添加一个事件监听器，通过它调用在实例中定义的方法：<br><br>&lt;div id=\"event-handling\"&gt;<br>  &lt;p&gt;{{ message }}&lt;/p&gt;<br>  &lt;button v-on:click=\"reverseMessage\"&gt;反转 Message&lt;/button&gt;<br>&lt;/div&gt;<br>const EventHandling = {<br>  data() {<br>    return {<br>      message: 'Hello Vue.js!'<br>    }<br>  },<br>  methods: {<br>    reverseMessage() {<br>      this.message = this.message<br>        .split('')<br>        .reverse()<br>        .join('')<br>    }<br>  }<br>}<br><br>Vue.createApp(EventHandling).mount('#event-handling')<br><br>注意在这个方法中，我们更新了应用的状态，但没有触碰 DOM——所有的 DOM 操作都由 Vue 来处理，你编写的代码只需要关注逻辑层面即可。<br><br>Vue 还提供了 v-model 指令，它能轻松实现表单输入和应用状态之间的双向绑定。<br><br>&lt;div id=\"two-way-binding\"&gt;<br>  &lt;p&gt;{{ message }}&lt;/p&gt;<br>  &lt;input v-model=\"message\" /&gt;<br>&lt;/div&gt;<br>const TwoWayBinding = {<br>  data() {<br>    return {<br>      message: 'Hello Vue!'<br>    }<br>  }<br>}<br><br>Vue.createApp(TwoWayBinding).mount('#two-way-binding')<br><br>#条件与循环<br>控制切换一个元素是否显示也相当简单：<br><br>&lt;div id=\"conditional-rendering\"&gt;<br>  &lt;span v-if=\"seen\"&gt;现在你看到我了&lt;/span&gt;<br>&lt;/div&gt;<br>const ConditionalRendering = {<br>  data() {<br>    return {<br>      seen: true<br>    }<br>  }<br>}<br><br>Vue.createApp(ConditionalRendering).mount('#conditional-rendering')<br>这个例子演示了我们不仅可以把数据绑定到 DOM 文本或 attribute，还可以绑定到 DOM 的结构。此外，Vue 也提供一个强大的过渡效果系统，可以在 Vue 插入/更新/移除元素时自动应用过渡效果。<br><br>你可以在下面的沙盒中将 seen 从 true 更改为 false，以检查效果：<br><br><br>还有其它很多指令，每个都有特殊的功能。例如，v-for 指令可以绑定数组的数据来渲染一个项目列表：<br><br>&lt;div id=\"list-rendering\"&gt;<br>  &lt;ol&gt;<br>    &lt;li v-for=\"todo in todos\"&gt;<br>      {{ todo.text }}<br>    &lt;/li&gt;<br>  &lt;/ol&gt;<br>&lt;/div&gt;<br>const ListRendering = {<br>  data() {<br>    return {<br>      todos: [<br>        { text: 'Learn JavaScript' },<br>        { text: 'Learn Vue' },<br>        { text: 'Build something awesome' }<br>      ]<br>    }<br>  }<br>}<br><br>Vue.createApp(ListRendering).mount('#list-rendering')<br><br>#组件化应用构建<br>组件系统是 Vue 的另一个重要概念，因为它是一种抽象，允许我们使用小型、独立和通常可复用的组件构建大型应用。仔细想想，几乎任意类型的应用界面都可以抽象为一个组件树：<br><br>Component Tree<br><br>在 Vue 中，组件本质上是一个具有预定义选项的实例。在 Vue 中注册组件很简单：如对 App 对象所做的那样创建一个组件对象，并将其定义在父级组件的 components 选项中：<br><br>const TodoItem = {<br>  template: `&lt;li&gt;This is a todo&lt;/li&gt;`<br>}<br><br>// 创建 Vue 应用<br>const app = Vue.createApp({<br>  components: {<br>    TodoItem // 注册一个新组件<br>  },<br>  ... // 组件的其它 property<br>})<br><br>// 挂载 Vue 应用<br>app.mount(...)<br>现在，你可以将其放到另一个组件的模板中：<br><br>&lt;ol&gt;<br>  &lt;!-- 创建一个 todo-item 组件实例 --&gt;<br>  &lt;todo-item&gt;&lt;/todo-item&gt;<br>&lt;/ol&gt;<br>但是这样会为每个待办项渲染同样的文本，这看起来并不炫酷。我们应该能将数据从父组件传入子组件才对。让我们来修改一下组件的定义，使之能够接受一个 prop：<br><br>app.component('todo-item', {<br>  props: ['todo'],<br>  template: `&lt;li&gt;{{ todo.text }}&lt;/li&gt;`<br>})<br>现在，我们可以使用 v-bind 指令将待办项传到循环输出的每个组件中：<br><br>&lt;div id=\"todo-list-app\"&gt;<br>  &lt;ol&gt;<br>     &lt;!--<br>      现在我们为每个 todo-item 提供 todo 对象<br>      todo 对象是变量，即其内容可以是动态的。<br>      我们也需要为每个组件提供一个“key”，稍后再<br>      作详细解释。<br>    --&gt;<br>    &lt;todo-item<br>      v-for=\"item in groceryList\"<br>      v-bind:todo=\"item\"<br>      v-bind:key=\"item.id\"<br>    &gt;&lt;/todo-item&gt;<br>  &lt;/ol&gt;<br>&lt;/div&gt;<br>const TodoList = {<br>  data() {<br>    return {<br>      groceryList: [<br>        { id: 0, text: 'Vegetables' },<br>        { id: 1, text: 'Cheese' },<br>        { id: 2, text: 'Whatever else humans are supposed to eat' }<br>      ]<br>    }<br>  }<br>}<br><br>const app = Vue.createApp(TodoList)<br><br>app.component('todo-item', {<br>  props: ['todo'],<br>  template: `&lt;li&gt;{{ todo.text }}&lt;/li&gt;`<br>})<br><br>app.mount('#todo-list-app')<br><br>尽管这只是一个刻意设计的例子，但是我们已经设法将应用分割成了两个更小的单元。子单元通过 prop 接口与父单元进行了良好的解耦。我们现在可以进一步改进 &lt;todo-item&gt; 组件，提供更为复杂的模板和逻辑，而不会影响到父应用。<br><br>在一个大型应用中，有必要将整个应用程序划分为多个组件，以使开发更易管理。在后续教程中我们将详述组件，不过这里有一个 (假想的) 例子，以展示使用了组件的应用模板是什么样的：<br><br>&lt;div id=\"app\"&gt;<br>  &lt;app-nav&gt;&lt;/app-nav&gt;<br>  &lt;app-view&gt;<br>    &lt;app-sidebar&gt;&lt;/app-sidebar&gt;<br>    &lt;app-content&gt;&lt;/app-content&gt;<br>  &lt;/app-view&gt;<br>&lt;/div&gt;<br>#与自定义元素的关系<br>你可能已经注意到 Vue 组件与自定义元素非常类似——它是 Web Components 规范的一部分。确实，Vue 的组件设计 (如插槽 API) 在浏览器原生支持该规范前就部分受到了它的影响。<br><br>它们之间主要的不同在于，Vue 组件的数据模型是作为框架的一部分而设计的，而该框架为构建复杂应用提供了很多必要的附加功能。例如响应式模板和状态管理——这两者都没有被该规范所覆盖。<br><br>Vue 也为创建和使用自定义元素提供了很好的支持。关于其更多细节，请浏览 Vue 和 Web Components 章节。<br><br>#准备好了吗？<br>我们刚才简单介绍了 Vue 核心最基本的功能——本教程的其余部分将更加详细地涵盖这些功能以及其它高阶功能，所以请务必读完整个教程！<br></p>","success":true}
2023-05-12 09:15:11.550 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789929446707200 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 09:15:13.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789935918518273 [0;39m ------------- 开始 -------------
2023-05-12 09:15:13.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789935918518272 [0;39m ------------- 开始 -------------
2023-05-12 09:15:13.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789935918518273 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:15:13.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789935922712576 [0;39m ------------- 开始 -------------
2023-05-12 09:15:13.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789935918518272 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:15:13.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789935922712576 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:15:13.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789935918518273 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:15:13.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789935918518272 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:15:13.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789935922712576 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:15:13.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789935918518272 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:13.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789935918518273 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:13.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789935922712576 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:13.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789935918518272 [0;39m 请求参数: []
2023-05-12 09:15:13.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789935918518273 [0;39m 请求参数: []
2023-05-12 09:15:13.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789935922712576 [0;39m 请求参数: []
2023-05-12 09:15:13.085 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789935922712576 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:15:13.085 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789935918518272 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:15:13.085 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789935918518273 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:15:13.085 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789935922712576 [0;39m ==> Parameters: 
2023-05-12 09:15:13.085 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789935918518272 [0;39m ==> Parameters: 
2023-05-12 09:15:13.085 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789935918518273 [0;39m ==> Parameters: 
2023-05-12 09:15:13.086 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37789935918518272 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:15:13.086 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789935918518273 [0;39m <==      Total: 0
2023-05-12 09:15:13.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:15:13.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:15:13.086 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37789935918518272 [0;39m <==        Row: 2023-05-12, 290, 25, 290, 25
2023-05-12 09:15:13.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789935918518273 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:15:13.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789935918518273 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 09:15:13.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:15:13.086 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789935918518272 [0;39m <==      Total: 1
2023-05-12 09:15:13.086 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:15:13.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789935918518272 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":290,"viewIncrease":290,"voteCount":25,"voteIncrease":25}],"success":true}
2023-05-12 09:15:13.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:15:13.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789935918518272 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:15:13.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:15:13.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:15:13.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:15:13.087 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:15:13.088 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:15:13.088 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:15:13.088 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:15:13.088 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:15:13.089 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:15:13.089 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:15:13.089 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:15:13.089 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:15:13.090 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789935922712576 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:15:13.090 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789935922712576 [0;39m <==      Total: 17
2023-05-12 09:15:13.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789935922712576 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:15:13.091 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789935922712576 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 09:15:13.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789939278155776 [0;39m ------------- 开始 -------------
2023-05-12 09:15:13.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789939278155776 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:15:13.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789939278155776 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:15:13.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789939278155776 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:13.884 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789939278155776 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-12 09:15:13.888 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789939278155776 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:15:13.888 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789939278155776 [0;39m ==> Parameters: 102(Long)
2023-05-12 09:15:13.888 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789939278155776 [0;39m <==    Columns: count(0)
2023-05-12 09:15:13.888 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789939278155776 [0;39m <==        Row: 1
2023-05-12 09:15:13.888 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789939278155776 [0;39m <==      Total: 1
2023-05-12 09:15:13.888 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789939278155776 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 09:15:13.888 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789939278155776 [0;39m ==> Parameters: 102(Long), 1000(Integer)
2023-05-12 09:15:13.888 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789939278155776 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:15:13.888 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789939278155776 [0;39m <==        Row: 462370778001408, CSS奇技淫巧, 100, 102, null, https://pic.onlinewebfonts.com/svg/img_573763.png, 0, 0, 0
2023-05-12 09:15:13.888 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789939278155776 [0;39m <==      Total: 1
2023-05-12 09:15:13.888 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37789939278155776 [0;39m 总行数：1
2023-05-12 09:15:13.893 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37789939278155776 [0;39m 总页数：1
2023-05-12 09:15:13.893 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789939278155776 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":102,"cover":"https://pic.onlinewebfonts.com/svg/img_573763.png","docCount":0,"id":462370778001408,"name":"CSS奇技淫巧","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-12 09:15:13.893 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789939278155776 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 09:15:14.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789943610871808 [0;39m ------------- 开始 -------------
2023-05-12 09:15:14.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789943610871808 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/462370778001408 GET
2023-05-12 09:15:14.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789943610871808 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 09:15:14.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789943610871808 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:14.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789943610871808 [0;39m 请求参数: [462370778001408]
2023-05-12 09:15:14.921 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789943610871808 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 09:15:14.921 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789943610871808 [0;39m ==> Parameters: 462370778001408(Long)
2023-05-12 09:15:14.922 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789943610871808 [0;39m <==      Total: 0
2023-05-12 09:15:14.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789943610871808 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:15:14.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789943610871808 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:15:15.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789946806931456 [0;39m ------------- 开始 -------------
2023-05-12 09:15:15.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789946806931456 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:15:15.679 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789946806931456 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:15:15.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789946806931456 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:15.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789946806931456 [0;39m 请求参数: []
2023-05-12 09:15:15.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789946811125760 [0;39m ------------- 开始 -------------
2023-05-12 09:15:15.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789946811125760 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:15:15.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789946811125760 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:15:15.680 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789946806931456 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:15:15.681 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789946806931456 [0;39m ==> Parameters: 
2023-05-12 09:15:15.682 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37789946806931456 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:15:15.682 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37789946806931456 [0;39m <==        Row: 2023-05-12, 290, 25, 290, 25
2023-05-12 09:15:15.682 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789946806931456 [0;39m <==      Total: 1
2023-05-12 09:15:15.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789946806931456 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":290,"viewIncrease":290,"voteCount":25,"voteIncrease":25}],"success":true}
2023-05-12 09:15:15.683 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789946806931456 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:15:15.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789946811125760 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:15.684 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789946811125760 [0;39m 请求参数: []
2023-05-12 09:15:15.684 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789946811125760 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:15:15.685 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789946811125760 [0;39m ==> Parameters: 
2023-05-12 09:15:15.685 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789946811125760 [0;39m <==      Total: 0
2023-05-12 09:15:15.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789946811125760 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:15:15.686 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789946811125760 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:15:15.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789946848874496 [0;39m ------------- 开始 -------------
2023-05-12 09:15:15.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789946848874496 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:15:15.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789946848874496 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:15:15.690 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789946848874496 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:15.690 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789946848874496 [0;39m 请求参数: []
2023-05-12 09:15:15.690 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789946848874496 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:15:15.690 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789946848874496 [0;39m ==> Parameters: 
2023-05-12 09:15:15.691 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:15:15.692 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:15:15.692 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:15:15.692 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:15:15.692 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:15:15.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:15:15.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:15:15.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:15:15.693 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:15:15.694 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:15:15.694 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:15:15.694 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:15:15.694 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:15:15.695 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:15:15.695 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:15:15.695 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:15:15.695 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:15:15.695 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789946848874496 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:15:15.696 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789946848874496 [0;39m <==      Total: 17
2023-05-12 09:15:15.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789946848874496 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:15:15.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789946848874496 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 09:15:16.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789950963486720 [0;39m ------------- 开始 -------------
2023-05-12 09:15:16.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789950963486720 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:15:16.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789950963486720 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:15:16.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789950963486720 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:16.671 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789950963486720 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-12 09:15:16.672 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789950963486720 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:15:16.672 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789950963486720 [0;39m ==> Parameters: 201(Long)
2023-05-12 09:15:16.672 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789950963486720 [0;39m <==    Columns: count(0)
2023-05-12 09:15:16.672 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789950963486720 [0;39m <==        Row: 0
2023-05-12 09:15:16.672 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789950963486720 [0;39m <==      Total: 1
2023-05-12 09:15:16.672 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37789950963486720 [0;39m 总行数：0
2023-05-12 09:15:16.672 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37789950963486720 [0;39m 总页数：0
2023-05-12 09:15:16.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789950963486720 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 09:15:16.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789950963486720 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-12 09:15:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789953056444416 [0;39m ------------- 开始 -------------
2023-05-12 09:15:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789953056444416 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:15:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789953056444416 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:15:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789953056444416 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:17.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789953056444416 [0;39m 请求参数: [{"categoryId2":279292374214119424,"page":1,"size":1000}]
2023-05-12 09:15:17.171 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789953056444416 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:15:17.171 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789953056444416 [0;39m ==> Parameters: 279292374214119424(Long)
2023-05-12 09:15:17.171 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789953056444416 [0;39m <==    Columns: count(0)
2023-05-12 09:15:17.171 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789953056444416 [0;39m <==        Row: 0
2023-05-12 09:15:17.171 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789953056444416 [0;39m <==      Total: 1
2023-05-12 09:15:17.171 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37789953056444416 [0;39m 总行数：0
2023-05-12 09:15:17.171 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37789953056444416 [0;39m 总页数：0
2023-05-12 09:15:17.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789953056444416 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 09:15:17.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789953056444416 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-12 09:15:17.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789955283619840 [0;39m ------------- 开始 -------------
2023-05-12 09:15:17.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789955283619840 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:15:17.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789955283619840 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:15:17.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789955283619840 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:17.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789955283619840 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 09:15:17.701 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789955283619840 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:15:17.701 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789955283619840 [0;39m ==> Parameters: 202(Long)
2023-05-12 09:15:17.701 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789955283619840 [0;39m <==    Columns: count(0)
2023-05-12 09:15:17.701 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37789955283619840 [0;39m <==        Row: 1
2023-05-12 09:15:17.701 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37789955283619840 [0;39m <==      Total: 1
2023-05-12 09:15:17.701 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789955283619840 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 09:15:17.701 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789955283619840 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 09:15:17.701 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789955283619840 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:15:17.701 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37789955283619840 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 6, 5
2023-05-12 09:15:17.701 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37789955283619840 [0;39m <==      Total: 1
2023-05-12 09:15:17.701 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37789955283619840 [0;39m 总行数：1
2023-05-12 09:15:17.701 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37789955283619840 [0;39m 总页数：1
2023-05-12 09:15:17.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789955283619840 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":6,"voteCount":5}],"total":1},"success":true}
2023-05-12 09:15:17.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789955283619840 [0;39m ------------- 结束 耗时：1 ms -------------
2023-05-12 09:15:18.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789959494701056 [0;39m ------------- 开始 -------------
2023-05-12 09:15:18.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789959494701056 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 09:15:18.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789959494701056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 09:15:18.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789959494701056 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:18.705 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789959494701056 [0;39m 请求参数: [1]
2023-05-12 09:15:18.706 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789959494701056 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 09:15:18.706 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789959494701056 [0;39m ==> Parameters: 1(Long)
2023-05-12 09:15:18.707 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789959494701056 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 09:15:18.707 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789959494701056 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 1, 1
2023-05-12 09:15:18.707 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789959494701056 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 2, 1
2023-05-12 09:15:18.708 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789959494701056 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 1, 1
2023-05-12 09:15:18.708 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789959494701056 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 1, 1
2023-05-12 09:15:18.709 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789959494701056 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 0, 0
2023-05-12 09:15:18.709 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37789959494701056 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 1, 1
2023-05-12 09:15:18.709 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37789959494701056 [0;39m <==      Total: 6
2023-05-12 09:15:18.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789959494701056 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":1,"voteCount":1},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":1,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":1,"voteCount":1},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":0,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":1,"voteCount":1}],"success":true}
2023-05-12 09:15:18.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789959494701056 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 09:15:18.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789959570198528 [0;39m ------------- 开始 -------------
2023-05-12 09:15:18.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789959570198528 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 09:15:18.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789959570198528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 09:15:18.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789959570198528 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:18.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789959570198528 [0;39m 请求参数: [1]
2023-05-12 09:15:18.726 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789959570198528 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 09:15:18.726 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789959570198528 [0;39m ==> Parameters: 1(Long)
2023-05-12 09:15:18.727 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789959570198528 [0;39m <==      Total: 0
2023-05-12 09:15:18.727 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789959570198528 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 09:15:18.728 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789959570198528 [0;39m ==> Parameters: 1(Long)
2023-05-12 09:15:18.729 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789959570198528 [0;39m <==    Updates: 1
2023-05-12 09:15:18.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789959570198528 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 09:15:18.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789959570198528 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 09:15:19.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789964221681664 [0;39m ------------- 开始 -------------
2023-05-12 09:15:19.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789964221681664 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/1 GET
2023-05-12 09:15:19.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789964221681664 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-12 09:15:19.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789964221681664 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:19.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789964221681664 [0;39m 请求参数: [1]
2023-05-12 09:15:19.833 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m37789964221681664 [0;39m key不存在，放入：DOC_VOTE_1_127.0.0.1，过期 5000 秒
2023-05-12 09:15:19.833 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37789964221681664 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-12 09:15:19.833 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37789964221681664 [0;39m ==> Parameters: 1(Long)
2023-05-12 09:15:19.841 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37789964221681664 [0;39m <==    Updates: 1
2023-05-12 09:15:19.841 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37789964221681664 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-12 09:15:19.841 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37789964221681664 [0;39m ==> Parameters: 1(Long)
2023-05-12 09:15:19.841 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m37789964221681664 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 09:15:19.841 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m37789964221681664 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 2, 2
2023-05-12 09:15:19.841 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37789964221681664 [0;39m <==      Total: 1
2023-05-12 09:15:20.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789964221681664 [0;39m 返回结果: {"success":true}
2023-05-12 09:15:20.173 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789964221681664 [0;39m ------------- 结束 耗时：342 ms -------------
2023-05-12 09:15:20.186 INFO  com.jiawa.wiki.rocketmq.VoteTopicConsumer         :25   [32m                  [0;39m ROCKETMQ收到消息：【文档1】被点赞！
2023-05-12 09:15:20.194 INFO  com.jiawa.wiki.websocket.WebSocketServer          :72   [32m                  [0;39m 推送消息：2l0RBtoZ0B，内容：【文档1】被点赞！
2023-05-12 09:15:22.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789977068834816 [0;39m ------------- 开始 -------------
2023-05-12 09:15:22.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789977068834816 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-12 09:15:22.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789977068834816 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 09:15:22.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789977068834816 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:22.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789977068834816 [0;39m 请求参数: [2]
2023-05-12 09:15:22.894 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789977068834816 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 09:15:22.894 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789977068834816 [0;39m ==> Parameters: 2(Long)
2023-05-12 09:15:22.894 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37789977068834816 [0;39m <==      Total: 0
2023-05-12 09:15:22.900 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789977068834816 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 09:15:22.900 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789977068834816 [0;39m ==> Parameters: 2(Long)
2023-05-12 09:15:22.900 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37789977068834816 [0;39m <==    Updates: 1
2023-05-12 09:15:22.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789977068834816 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 09:15:22.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789977068834816 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:15:23.462 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37789939278155776 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:15:23.463 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37789939278155776 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 09:15:23.465 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37789955283619840 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:15:23.465 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37789955283619840 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 09:15:23.465 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37789955283619840 [0;39m 登录校验开始，token：37789135733395457
2023-05-12 09:15:23.467 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37789955283619840 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37789135733395457"}
2023-05-12 09:15:23.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789979509919744 [0;39m ------------- 开始 -------------
2023-05-12 09:15:23.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789979509919744 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 09:15:23.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789979509919744 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 09:15:23.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789979509919744 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:23.478 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789979509919744 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 09:15:23.480 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37789979509919744 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 09:15:23.480 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37789979509919744 [0;39m ==> Parameters: 
2023-05-12 09:15:23.521 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37789979509919744 [0;39m <==    Columns: count(0)
2023-05-12 09:15:23.521 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37789979509919744 [0;39m <==        Row: 2
2023-05-12 09:15:23.526 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37789979509919744 [0;39m <==      Total: 1
2023-05-12 09:15:23.527 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37789979509919744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 09:15:23.527 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37789979509919744 [0;39m ==> Parameters: 10(Integer)
2023-05-12 09:15:23.527 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37789979509919744 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 09:15:23.527 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37789979509919744 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:15:23.527 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37789979509919744 [0;39m <==        Row: 147010339005927424, lang, 浪亓, 2bc0ef47182d889db7d96abf3503b518
2023-05-12 09:15:23.527 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37789979509919744 [0;39m <==      Total: 2
2023-05-12 09:15:23.527 INFO  com.jiawa.wiki.service.UserService                :49   [32m37789979509919744 [0;39m 总行数：2
2023-05-12 09:15:23.527 INFO  com.jiawa.wiki.service.UserService                :50   [32m37789979509919744 [0;39m 总页数：1
2023-05-12 09:15:23.527 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789979509919744 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":147010339005927424,"loginName":"lang","name":"浪亓"}],"total":2},"success":true}
2023-05-12 09:15:23.527 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789979509919744 [0;39m ------------- 结束 耗时：51 ms -------------
2023-05-12 09:15:23.527 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37789979509919744 [0;39m ------------- LoginInterceptor 结束 耗时：62 ms -------------
2023-05-12 09:15:24.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789983851024385 [0;39m ------------- 开始 -------------
2023-05-12 09:15:24.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789983851024384 [0;39m ------------- 开始 -------------
2023-05-12 09:15:24.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37789983851024386 [0;39m ------------- 开始 -------------
2023-05-12 09:15:24.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789983851024385 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:15:24.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789983851024384 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:15:24.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37789983851024386 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:15:24.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789983851024384 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:15:24.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789983851024386 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:15:24.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37789983851024385 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:15:24.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789983851024384 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:24.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789983851024386 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:24.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37789983851024385 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:15:24.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789983851024384 [0;39m 请求参数: []
2023-05-12 09:15:24.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789983851024386 [0;39m 请求参数: []
2023-05-12 09:15:24.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37789983851024385 [0;39m 请求参数: []
2023-05-12 09:15:24.513 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789983851024384 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:15:24.513 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789983851024386 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:15:24.513 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789983851024384 [0;39m ==> Parameters: 
2023-05-12 09:15:24.513 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789983851024386 [0;39m ==> Parameters: 
2023-05-12 09:15:24.513 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789983851024385 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:15:24.514 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:15:24.514 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37789983851024384 [0;39m <==      Total: 0
2023-05-12 09:15:24.514 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:15:24.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789983851024384 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:15:24.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789983851024384 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 09:15:24.514 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:15:24.514 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:15:24.515 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:15:24.515 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:15:24.515 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789983851024385 [0;39m ==> Parameters: 
2023-05-12 09:15:24.515 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:15:24.515 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:15:24.516 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:15:24.516 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:15:24.516 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:15:24.516 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37789983851024385 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:15:24.516 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:15:24.516 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37789983851024385 [0;39m <==        Row: 2023-05-12, 290, 25, 290, 25
2023-05-12 09:15:24.516 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:15:24.517 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37789983851024385 [0;39m <==      Total: 1
2023-05-12 09:15:24.517 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:15:24.517 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:15:24.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789983851024385 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":290,"viewIncrease":290,"voteCount":25,"voteIncrease":25}],"success":true}
2023-05-12 09:15:24.517 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789983851024385 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:15:24.517 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:15:24.518 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:15:24.518 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37789983851024386 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:15:24.518 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37789983851024386 [0;39m <==      Total: 17
2023-05-12 09:15:24.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37789983851024386 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:15:24.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37789983851024386 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 09:15:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37790027866050560 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:15:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790027866050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:15:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790027866050560 [0;39m ==> Parameters: 
2023-05-12 09:15:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790027866050560 [0;39m <==    Updates: 2
2023-05-12 09:15:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37790027866050560 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:16:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37790132719456256 [0;39m 生成今日电子书快照开始
2023-05-12 09:16:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37790132719456256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:16:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37790132719456256 [0;39m ==> Parameters: 
2023-05-12 09:16:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37790132719456256 [0;39m <==    Updates: 0
2023-05-12 09:16:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37790132719456256 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:16:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37790153732919296 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:16:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790153732919296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:16:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790153732919296 [0;39m ==> Parameters: 
2023-05-12 09:16:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790153732919296 [0;39m <==    Updates: 2
2023-05-12 09:16:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37790153732919296 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:16:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37790279503319040 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:16:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790279503319040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:16:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790279503319040 [0;39m ==> Parameters: 
2023-05-12 09:16:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790279503319040 [0;39m <==    Updates: 2
2023-05-12 09:16:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37790279503319040 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:17:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37790384436416512 [0;39m 生成今日电子书快照开始
2023-05-12 09:17:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37790384436416512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:17:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37790384436416512 [0;39m ==> Parameters: 
2023-05-12 09:17:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37790384436416512 [0;39m <==    Updates: 0
2023-05-12 09:17:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37790384436416512 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 09:17:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37790405378576384 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:17:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790405378576384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:17:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790405378576384 [0;39m ==> Parameters: 
2023-05-12 09:17:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790405378576384 [0;39m <==    Updates: 2
2023-05-12 09:17:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37790405378576384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:17:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37790531190919168 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:17:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790531190919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:17:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790531190919168 [0;39m ==> Parameters: 
2023-05-12 09:17:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790531190919168 [0;39m <==    Updates: 2
2023-05-12 09:17:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37790531190919168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:18:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37790636035936256 [0;39m 生成今日电子书快照开始
2023-05-12 09:18:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37790636035936256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:18:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37790636035936256 [0;39m ==> Parameters: 
2023-05-12 09:18:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37790636035936256 [0;39m <==    Updates: 0
2023-05-12 09:18:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37790636035936256 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 09:18:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37790657066176512 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:18:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790657066176512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:18:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790657066176512 [0;39m ==> Parameters: 
2023-05-12 09:18:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790657066176512 [0;39m <==    Updates: 2
2023-05-12 09:18:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37790657066176512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:18:35.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37790782907879424 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:18:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790782907879424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:18:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790782907879424 [0;39m ==> Parameters: 
2023-05-12 09:18:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790782907879424 [0;39m <==    Updates: 2
2023-05-12 09:18:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37790782907879424 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:19:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37790887694176256 [0;39m 生成今日电子书快照开始
2023-05-12 09:19:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37790887694176256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:19:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37790887694176256 [0;39m ==> Parameters: 
2023-05-12 09:19:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37790887694176256 [0;39m <==    Updates: 0
2023-05-12 09:19:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37790887694176256 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:19:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37790908707639296 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:19:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790908707639296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:19:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790908707639296 [0;39m ==> Parameters: 
2023-05-12 09:19:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37790908707639296 [0;39m <==    Updates: 2
2023-05-12 09:19:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37790908707639296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:19:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37791034499010560 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:19:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791034499010560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:19:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791034499010560 [0;39m ==> Parameters: 
2023-05-12 09:19:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791034499010560 [0;39m <==    Updates: 2
2023-05-12 09:19:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37791034499010560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:20:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37791139423719424 [0;39m 生成今日电子书快照开始
2023-05-12 09:20:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37791139423719424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:20:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37791139423719424 [0;39m ==> Parameters: 
2023-05-12 09:20:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37791139423719424 [0;39m <==    Updates: 0
2023-05-12 09:20:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37791139423719424 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:20:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37791160344907776 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:20:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791160344907776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:20:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791160344907776 [0;39m ==> Parameters: 
2023-05-12 09:20:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791160344907776 [0;39m <==    Updates: 2
2023-05-12 09:20:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37791160344907776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:20:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37791286174027776 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:20:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791286174027776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:20:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791286174027776 [0;39m ==> Parameters: 
2023-05-12 09:20:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791286174027776 [0;39m <==    Updates: 2
2023-05-12 09:20:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37791286174027776 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 09:20:56.565 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37789935922712576 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:20:56.566 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37789935922712576 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 09:20:56.567 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37789977068834816 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:20:56.567 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37789977068834816 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/37789135733395457
2023-05-12 09:20:56.569 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37789977068834816 [0;39m 登录校验开始，token：37789135733395457
2023-05-12 09:20:56.569 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37789977068834816 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37789135733395457"}
2023-05-12 09:20:56.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37791376636776448 [0;39m ------------- 开始 -------------
2023-05-12 09:20:56.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37791376636776448 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/37789135733395457 GET
2023-05-12 09:20:56.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37791376636776448 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-12 09:20:56.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37791376636776448 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:20:56.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37791376636776448 [0;39m 请求参数: ["37789135733395457"]
2023-05-12 09:20:56.577 INFO  com.jiawa.wiki.controller.UserController          :90   [32m37791376636776448 [0;39m 从redis中删除token: 37789135733395457
2023-05-12 09:20:56.577 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37791376636776448 [0;39m 返回结果: {"success":true}
2023-05-12 09:20:56.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37791376636776448 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 09:20:56.581 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37791376636776448 [0;39m ------------- LoginInterceptor 结束 耗时：14 ms -------------
2023-05-12 09:21:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37791391069376512 [0;39m 生成今日电子书快照开始
2023-05-12 09:21:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37791391069376512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:21:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37791391069376512 [0;39m ==> Parameters: 
2023-05-12 09:21:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37791391069376512 [0;39m <==    Updates: 0
2023-05-12 09:21:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37791391069376512 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:21:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37791411994759168 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:21:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791411994759168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:21:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791411994759168 [0;39m ==> Parameters: 
2023-05-12 09:21:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791411994759168 [0;39m <==    Updates: 2
2023-05-12 09:21:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37791411994759168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:21:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37791537836462080 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:21:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791537836462080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:21:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791537836462080 [0;39m ==> Parameters: 
2023-05-12 09:21:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791537836462080 [0;39m <==    Updates: 2
2023-05-12 09:21:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37791537836462080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:22:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37791642715033600 [0;39m 生成今日电子书快照开始
2023-05-12 09:22:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37791642715033600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:22:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37791642715033600 [0;39m ==> Parameters: 
2023-05-12 09:22:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37791642715033600 [0;39m <==    Updates: 0
2023-05-12 09:22:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37791642715033600 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:22:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37791663699136512 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:22:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791663699136512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:22:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791663699136512 [0;39m ==> Parameters: 
2023-05-12 09:22:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791663699136512 [0;39m <==    Updates: 2
2023-05-12 09:22:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37791663699136512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:22:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37791789507284992 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:22:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791789507284992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:22:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791789507284992 [0;39m ==> Parameters: 
2023-05-12 09:22:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791789507284992 [0;39m <==    Updates: 2
2023-05-12 09:22:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37791789507284992 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:23:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37791894360690688 [0;39m 生成今日电子书快照开始
2023-05-12 09:23:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37791894360690688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:23:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37791894360690688 [0;39m ==> Parameters: 
2023-05-12 09:23:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37791894360690688 [0;39m <==    Updates: 0
2023-05-12 09:23:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37791894360690688 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 09:23:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37791915336404992 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:23:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791915336404992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:23:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791915336404992 [0;39m ==> Parameters: 
2023-05-12 09:23:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37791915336404992 [0;39m <==    Updates: 2
2023-05-12 09:23:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37791915336404992 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 09:23:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37792041152942080 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:23:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792041152942080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:23:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792041152942080 [0;39m ==> Parameters: 
2023-05-12 09:23:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792041152942080 [0;39m <==    Updates: 2
2023-05-12 09:23:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37792041152942080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:24:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37792146031513600 [0;39m 生成今日电子书快照开始
2023-05-12 09:24:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37792146031513600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:24:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37792146031513600 [0;39m ==> Parameters: 
2023-05-12 09:24:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37792146031513600 [0;39m <==    Updates: 0
2023-05-12 09:24:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37792146031513600 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-12 09:24:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37792166948507648 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:24:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792166948507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:24:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792166948507648 [0;39m ==> Parameters: 
2023-05-12 09:24:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792166948507648 [0;39m <==    Updates: 2
2023-05-12 09:24:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37792166948507648 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:24:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37792292794404864 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:24:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792292794404864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:24:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792292794404864 [0;39m ==> Parameters: 
2023-05-12 09:24:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792292794404864 [0;39m <==    Updates: 2
2023-05-12 09:24:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37792292794404864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:25:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37792397672976384 [0;39m 生成今日电子书快照开始
2023-05-12 09:25:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37792397672976384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:25:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37792397672976384 [0;39m ==> Parameters: 
2023-05-12 09:25:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37792397672976384 [0;39m <==    Updates: 0
2023-05-12 09:25:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37792397672976384 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 09:25:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37792418627719168 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:25:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792418627719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:25:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792418627719168 [0;39m ==> Parameters: 
2023-05-12 09:25:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792418627719168 [0;39m <==    Updates: 2
2023-05-12 09:25:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37792418627719168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:25:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37792544444256256 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:25:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792544444256256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:25:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792544444256256 [0;39m ==> Parameters: 
2023-05-12 09:25:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792544444256256 [0;39m <==    Updates: 2
2023-05-12 09:25:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37792544444256256 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 09:25:58.485 INFO  com.jiawa.wiki.websocket.WebSocketServer          :42   [32m                  [0;39m 连接关闭，token：2l0RBtoZ0B，session id：1！当前连接数：0
2023-05-12 09:25:58.556 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 09:25:58.558 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-12 09:25:58.559 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-12 09:25:58.560 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-12 09:25:58.575 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-12 09:25:58.764 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10909] result: true
2023-05-12 09:25:58.769 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-12 09:25:58.769 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-12 09:26:03.659 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 10928 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-12 09:26:03.658 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-12 09:26:03.661 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-12 09:26:03.701 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-12 09:26:03.701 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-12 09:26:04.263 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-12 09:26:04.264 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-12 09:26:04.285 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2023-05-12 09:26:04.418 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$97962631] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.424 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.718 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.720 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$39d09b32] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.720 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.721 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.723 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.723 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.725 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.726 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.727 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.738 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.738 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.740 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.742 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:04.754 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:05.646 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:05.647 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:26:06.038 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-12 09:26:06.046 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-12 09:26:06.047 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-12 09:26:06.047 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-12 09:26:06.116 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-12 09:26:06.116 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2414 ms
2023-05-12 09:26:06.675 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-12 09:26:06.938 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-12 09:26:06.974 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-12 09:26:07.281 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 09:26:07.282 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-12 09:26:07.290 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-12 09:26:07.306 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-12 09:26:07.317 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 3.993 seconds (JVM running for 4.82)
2023-05-12 09:26:07.319 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-12 09:26:07.320 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-12 09:26:14.292 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-12 09:26:14.292 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-12 09:26:14.293 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-12 09:26:14.349 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：5Bov1TkBC9，session id：0，当前连接数：1
2023-05-12 09:26:14.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792709716611072 [0;39m ------------- 开始 -------------
2023-05-12 09:26:14.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792709720805376 [0;39m ------------- 开始 -------------
2023-05-12 09:26:14.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792709720805377 [0;39m ------------- 开始 -------------
2023-05-12 09:26:14.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792709720805376 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:26:14.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792709720805376 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:26:14.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792709720805376 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:14.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792709720805377 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:26:14.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792709720805377 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:26:14.412 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792709720805377 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:14.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792709716611072 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:26:14.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792709716611072 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:26:14.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792709720805376 [0;39m 请求参数: []
2023-05-12 09:26:14.413 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792709716611072 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:14.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792709716611072 [0;39m 请求参数: []
2023-05-12 09:26:14.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792709720805377 [0;39m 请求参数: []
2023-05-12 09:26:14.442 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m37792709716611072 [0;39m HikariPool-1 - Starting...
2023-05-12 09:26:15.388 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m37792709716611072 [0;39m HikariPool-1 - Start completed.
2023-05-12 09:26:15.396 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37792709720805376 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:26:15.407 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37792709716611072 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:26:15.414 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37792709720805376 [0;39m ==> Parameters: 
2023-05-12 09:26:15.414 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37792709716611072 [0;39m ==> Parameters: 
2023-05-12 09:26:15.423 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792709720805377 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:26:15.423 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792709720805377 [0;39m ==> Parameters: 
2023-05-12 09:26:15.432 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:26:15.432 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37792709720805376 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:26:15.432 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37792709716611072 [0;39m <==      Total: 0
2023-05-12 09:26:15.432 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:26:15.433 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37792709720805376 [0;39m <==        Row: 2023-05-12, 296, 27, 296, 27
2023-05-12 09:26:15.433 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:26:15.433 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:26:15.434 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:26:15.434 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:26:15.434 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:26:15.434 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37792709720805376 [0;39m <==      Total: 1
2023-05-12 09:26:15.435 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:26:15.435 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:26:15.435 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:26:15.436 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:26:15.436 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:26:15.436 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:26:15.437 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:26:15.437 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:26:15.438 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:26:15.438 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:26:15.439 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792709720805377 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:26:15.440 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792709720805377 [0;39m <==      Total: 17
2023-05-12 09:26:15.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792709716611072 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:26:15.442 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792709716611072 [0;39m ------------- 结束 耗时：1034 ms -------------
2023-05-12 09:26:15.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792709720805376 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":296,"viewIncrease":296,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:26:15.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792709720805376 [0;39m ------------- 结束 耗时：1037 ms -------------
2023-05-12 09:26:15.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792709720805377 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:26:15.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792709720805377 [0;39m ------------- 结束 耗时：1042 ms -------------
2023-05-12 09:26:18.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792726103756800 [0;39m ------------- 开始 -------------
2023-05-12 09:26:18.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792726103756800 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:26:18.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792726103756800 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:26:18.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792726103756800 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:18.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792726103756800 [0;39m 请求参数: [{"categoryId2":491694010593280,"page":1,"size":1000}]
2023-05-12 09:26:18.356 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792726103756800 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:26:18.356 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792726103756800 [0;39m ==> Parameters: 491694010593280(Long)
2023-05-12 09:26:18.356 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792726103756800 [0;39m <==    Columns: count(0)
2023-05-12 09:26:18.356 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792726103756800 [0;39m <==        Row: 0
2023-05-12 09:26:18.356 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792726103756800 [0;39m <==      Total: 1
2023-05-12 09:26:18.356 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37792726103756800 [0;39m 总行数：0
2023-05-12 09:26:18.356 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37792726103756800 [0;39m 总页数：0
2023-05-12 09:26:18.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792726103756800 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 09:26:18.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792726103756800 [0;39m ------------- 结束 耗时：49 ms -------------
2023-05-12 09:26:18.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792728486121472 [0;39m ------------- 开始 -------------
2023-05-12 09:26:18.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792728486121472 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:26:18.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792728486121472 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:26:18.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792728486121472 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:18.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792728486121472 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 09:26:18.883 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792728486121472 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:26:18.883 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792728486121472 [0;39m ==> Parameters: 101(Long)
2023-05-12 09:26:18.883 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792728486121472 [0;39m <==    Columns: count(0)
2023-05-12 09:26:18.883 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792728486121472 [0;39m <==        Row: 3
2023-05-12 09:26:18.883 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792728486121472 [0;39m <==      Total: 1
2023-05-12 09:26:18.883 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792728486121472 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 09:26:18.883 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792728486121472 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 09:26:18.891 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792728486121472 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:26:18.891 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792728486121472 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:18.891 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792728486121472 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 288, 21
2023-05-12 09:26:18.891 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792728486121472 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:26:18.891 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792728486121472 [0;39m <==      Total: 3
2023-05-12 09:26:18.891 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37792728486121472 [0;39m 总行数：3
2023-05-12 09:26:18.891 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37792728486121472 [0;39m 总页数：1
2023-05-12 09:26:18.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792728486121472 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":288,"voteCount":21},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0}],"total":3},"success":true}
2023-05-12 09:26:18.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792728486121472 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-12 09:26:22.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792744688717824 [0;39m ------------- 开始 -------------
2023-05-12 09:26:22.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792744688717824 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 09:26:22.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792744688717824 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 09:26:22.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792744688717824 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:22.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792744688717824 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-12 09:26:22.752 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37792744688717824 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 09:26:22.752 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37792744688717824 [0;39m ==> Parameters: test(String)
2023-05-12 09:26:22.759 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37792744688717824 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 09:26:22.759 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37792744688717824 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:26:22.759 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37792744688717824 [0;39m <==      Total: 1
2023-05-12 09:26:22.759 INFO  com.jiawa.wiki.controller.UserController          :79   [32m37792744688717824 [0;39m 生成单点登录token：37792744743243776，并放入redis中
2023-05-12 09:26:22.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792744688717824 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"测试","token":"37792744743243776"},"success":true}
2023-05-12 09:26:22.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792744688717824 [0;39m ------------- 结束 耗时：116 ms -------------
2023-05-12 09:26:25.275 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:26:25.275 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 09:26:25.275 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：37792744743243776
2023-05-12 09:26:25.278 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37792744743243776"}
2023-05-12 09:26:25.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792755338055680 [0;39m ------------- 开始 -------------
2023-05-12 09:26:25.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792755338055680 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 09:26:25.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792755338055680 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 09:26:25.286 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792755338055680 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:25.287 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792755338055680 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 09:26:25.288 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37792755338055680 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 09:26:25.289 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37792755338055680 [0;39m ==> Parameters: 
2023-05-12 09:26:25.290 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37792755338055680 [0;39m <==    Columns: count(0)
2023-05-12 09:26:25.290 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37792755338055680 [0;39m <==        Row: 2
2023-05-12 09:26:25.291 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37792755338055680 [0;39m <==      Total: 1
2023-05-12 09:26:25.291 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37792755338055680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 09:26:25.292 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37792755338055680 [0;39m ==> Parameters: 10(Integer)
2023-05-12 09:26:25.293 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37792755338055680 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 09:26:25.293 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37792755338055680 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:26:25.293 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37792755338055680 [0;39m <==        Row: 147010339005927424, lang, 浪亓, 2bc0ef47182d889db7d96abf3503b518
2023-05-12 09:26:25.294 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37792755338055680 [0;39m <==      Total: 2
2023-05-12 09:26:25.294 INFO  com.jiawa.wiki.service.UserService                :49   [32m37792755338055680 [0;39m 总行数：2
2023-05-12 09:26:25.294 INFO  com.jiawa.wiki.service.UserService                :50   [32m37792755338055680 [0;39m 总页数：1
2023-05-12 09:26:25.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792755338055680 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":147010339005927424,"loginName":"lang","name":"浪亓"}],"total":2},"success":true}
2023-05-12 09:26:25.297 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792755338055680 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 09:26:25.299 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37792755338055680 [0;39m ------------- LoginInterceptor 结束 耗时：24 ms -------------
2023-05-12 09:26:26.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792759410724864 [0;39m ------------- 开始 -------------
2023-05-12 09:26:26.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792759410724864 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:26:26.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792759410724864 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:26:26.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792759410724864 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:26.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792759410724864 [0;39m 请求参数: []
2023-05-12 09:26:26.258 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792759410724864 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:26:26.258 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792759410724864 [0;39m ==> Parameters: 
2023-05-12 09:26:26.259 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:26:26.259 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:26:26.259 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:26:26.260 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:26:26.260 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:26:26.260 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:26:26.261 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:26:26.261 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:26:26.261 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:26:26.261 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:26:26.262 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:26:26.267 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:26:26.267 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:26:26.267 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:26:26.267 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:26:26.267 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:26:26.267 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:26:26.267 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792759410724864 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:26:26.267 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792759410724864 [0;39m <==      Total: 17
2023-05-12 09:26:26.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792759410724864 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:26:26.272 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792759410724864 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 09:26:26.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792759565914112 [0;39m ------------- 开始 -------------
2023-05-12 09:26:26.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792759565914112 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:26:26.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792759565914112 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:26:26.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792759565914112 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:26.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792759565914112 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 09:26:26.300 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792759565914112 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 09:26:26.300 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792759565914112 [0;39m ==> Parameters: 
2023-05-12 09:26:26.300 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792759565914112 [0;39m <==    Columns: count(0)
2023-05-12 09:26:26.300 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792759565914112 [0;39m <==        Row: 10
2023-05-12 09:26:26.300 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792759565914112 [0;39m <==      Total: 1
2023-05-12 09:26:26.300 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792759565914112 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 09:26:26.300 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792759565914112 [0;39m ==> Parameters: 10(Integer)
2023-05-12 09:26:26.300 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792759565914112 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:26:26.300 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792759565914112 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 8, 6
2023-05-12 09:26:26.300 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792759565914112 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:26.300 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792759565914112 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:26.300 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792759565914112 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:26.300 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792759565914112 [0;39m <==        Row: 5, Oracle 入门教程, 400, 401, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:26.300 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792759565914112 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 288, 21
2023-05-12 09:26:26.300 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792759565914112 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:26:26.300 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792759565914112 [0;39m <==        Row: 462370778001408, CSS奇技淫巧, 100, 102, null, https://pic.onlinewebfonts.com/svg/img_573763.png, 0, 0, 0
2023-05-12 09:26:26.300 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792759565914112 [0;39m <==        Row: 462371697897472, MySQL, 400, 401, 数据库MySQL, http://pngimg.com/uploads/mysql/mysql_PNG22.png, 0, 0, 0
2023-05-12 09:26:26.300 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792759565914112 [0;39m <==        Row: 462372096061440, Python入门教程, 300, 301, null, http://upload.mobiletrain.org/2018/1204/1543892567988.jpg, 0, 0, 0
2023-05-12 09:26:26.300 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792759565914112 [0;39m <==      Total: 10
2023-05-12 09:26:26.300 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37792759565914112 [0;39m 总行数：10
2023-05-12 09:26:26.300 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37792759565914112 [0;39m 总页数：1
2023-05-12 09:26:26.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792759565914112 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":8,"voteCount":6},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":288,"voteCount":21},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":102,"cover":"https://pic.onlinewebfonts.com/svg/img_573763.png","docCount":0,"id":462370778001408,"name":"CSS奇技淫巧","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"cover":"http://pngimg.com/uploads/mysql/mysql_PNG22.png","description":"数据库MySQL","docCount":0,"id":462371697897472,"name":"MySQL","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"cover":"http://upload.mobiletrain.org/2018/1204/1543892567988.jpg","docCount":0,"id":462372096061440,"name":"Python入门教程","viewCount":0,"voteCount":0}],"total":10},"success":true}
2023-05-12 09:26:26.307 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792759565914112 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-12 09:26:26.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792761751146496 [0;39m ------------- 开始 -------------
2023-05-12 09:26:26.814 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792761751146496 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:26:26.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792761751146496 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:26:26.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792761751146496 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:26.815 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792761751146496 [0;39m 请求参数: []
2023-05-12 09:26:26.816 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792761751146496 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:26:26.816 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792761751146496 [0;39m ==> Parameters: 
2023-05-12 09:26:26.817 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:26:26.817 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:26:26.817 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:26:26.817 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:26:26.818 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:26:26.818 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:26:26.818 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:26:26.818 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:26:26.818 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:26:26.819 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:26:26.819 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:26:26.819 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:26:26.819 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:26:26.820 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:26:26.820 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:26:26.820 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:26:26.821 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:26:26.821 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792761751146496 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:26:26.821 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792761751146496 [0;39m <==      Total: 17
2023-05-12 09:26:26.822 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792761751146496 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:26:26.822 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792761751146496 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 09:26:27.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792763848298496 [0;39m ------------- 开始 -------------
2023-05-12 09:26:27.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792763848298496 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:26:27.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792763848298496 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:26:27.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792763848298496 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:27.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792763848298496 [0;39m 请求参数: []
2023-05-12 09:26:27.317 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792763848298496 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:26:27.317 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792763848298496 [0;39m ==> Parameters: 
2023-05-12 09:26:27.318 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:26:27.318 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:26:27.318 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:26:27.319 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:26:27.319 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:26:27.319 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:26:27.319 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:26:27.320 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:26:27.320 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:26:27.320 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:26:27.320 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:26:27.320 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:26:27.320 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:26:27.321 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:26:27.321 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:26:27.321 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:26:27.321 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:26:27.321 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792763848298496 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:26:27.321 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792763848298496 [0;39m <==      Total: 17
2023-05-12 09:26:27.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792763848298496 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:26:27.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792763848298496 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 09:26:27.340 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792763957350400 [0;39m ------------- 开始 -------------
2023-05-12 09:26:27.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792763957350400 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:26:27.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792763957350400 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:26:27.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792763957350400 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:27.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792763957350400 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 09:26:27.341 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792763957350400 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 09:26:27.341 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792763957350400 [0;39m ==> Parameters: 
2023-05-12 09:26:27.341 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792763957350400 [0;39m <==    Columns: count(0)
2023-05-12 09:26:27.341 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792763957350400 [0;39m <==        Row: 10
2023-05-12 09:26:27.341 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792763957350400 [0;39m <==      Total: 1
2023-05-12 09:26:27.341 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792763957350400 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 09:26:27.341 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792763957350400 [0;39m ==> Parameters: 10(Integer)
2023-05-12 09:26:27.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792763957350400 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:26:27.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792763957350400 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 8, 6
2023-05-12 09:26:27.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792763957350400 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:27.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792763957350400 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:27.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792763957350400 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:27.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792763957350400 [0;39m <==        Row: 5, Oracle 入门教程, 400, 401, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:27.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792763957350400 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 288, 21
2023-05-12 09:26:27.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792763957350400 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:26:27.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792763957350400 [0;39m <==        Row: 462370778001408, CSS奇技淫巧, 100, 102, null, https://pic.onlinewebfonts.com/svg/img_573763.png, 0, 0, 0
2023-05-12 09:26:27.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792763957350400 [0;39m <==        Row: 462371697897472, MySQL, 400, 401, 数据库MySQL, http://pngimg.com/uploads/mysql/mysql_PNG22.png, 0, 0, 0
2023-05-12 09:26:27.341 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792763957350400 [0;39m <==        Row: 462372096061440, Python入门教程, 300, 301, null, http://upload.mobiletrain.org/2018/1204/1543892567988.jpg, 0, 0, 0
2023-05-12 09:26:27.341 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792763957350400 [0;39m <==      Total: 10
2023-05-12 09:26:27.341 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37792763957350400 [0;39m 总行数：10
2023-05-12 09:26:27.341 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37792763957350400 [0;39m 总页数：1
2023-05-12 09:26:27.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792763957350400 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":8,"voteCount":6},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":288,"voteCount":21},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":102,"cover":"https://pic.onlinewebfonts.com/svg/img_573763.png","docCount":0,"id":462370778001408,"name":"CSS奇技淫巧","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"cover":"http://pngimg.com/uploads/mysql/mysql_PNG22.png","description":"数据库MySQL","docCount":0,"id":462371697897472,"name":"MySQL","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"cover":"http://upload.mobiletrain.org/2018/1204/1543892567988.jpg","docCount":0,"id":462372096061440,"name":"Python入门教程","viewCount":0,"voteCount":0}],"total":10},"success":true}
2023-05-12 09:26:27.341 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792763957350400 [0;39m ------------- 结束 耗时：1 ms -------------
2023-05-12 09:26:34.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792793309089792 [0;39m ------------- 开始 -------------
2023-05-12 09:26:34.338 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792793309089792 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/462372096061440 GET
2023-05-12 09:26:34.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792793309089792 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 09:26:34.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792793309089792 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:34.339 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792793309089792 [0;39m 请求参数: [462372096061440]
2023-05-12 09:26:34.349 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37792793309089792 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 09:26:34.350 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37792793309089792 [0;39m ==> Parameters: 462372096061440(Long)
2023-05-12 09:26:34.351 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37792793309089792 [0;39m <==      Total: 0
2023-05-12 09:26:34.352 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792793309089792 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:26:34.352 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792793309089792 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-12 09:26:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37792796098301952 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:26:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792796098301952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:26:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792796098301952 [0;39m ==> Parameters: 
2023-05-12 09:26:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792796098301952 [0;39m <==    Updates: 2
2023-05-12 09:26:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37792796098301952 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:26:35.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792799269195776 [0;39m ------------- 开始 -------------
2023-05-12 09:26:35.759 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792799269195776 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:26:35.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792799269195776 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:26:35.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792799269195776 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:35.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792799269195776 [0;39m 请求参数: []
2023-05-12 09:26:35.761 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792799269195776 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:26:35.761 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792799269195776 [0;39m ==> Parameters: 
2023-05-12 09:26:35.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:26:35.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:26:35.762 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:26:35.763 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:26:35.769 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:26:35.770 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:26:35.770 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:26:35.770 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:26:35.770 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:26:35.770 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:26:35.771 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:26:35.771 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:26:35.771 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:26:35.772 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:26:35.772 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:26:35.772 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:26:35.772 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:26:35.773 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792799269195776 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:26:35.773 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792799269195776 [0;39m <==      Total: 17
2023-05-12 09:26:35.774 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792799269195776 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:26:35.774 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792799269195776 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-12 09:26:35.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792799378247680 [0;39m ------------- 开始 -------------
2023-05-12 09:26:35.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792799378247680 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:26:35.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792799378247680 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:26:35.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792799378247680 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:35.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792799378247680 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 09:26:35.787 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792799378247680 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 09:26:35.787 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792799378247680 [0;39m ==> Parameters: 
2023-05-12 09:26:35.788 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792799378247680 [0;39m <==    Columns: count(0)
2023-05-12 09:26:35.789 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792799378247680 [0;39m <==        Row: 10
2023-05-12 09:26:35.789 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792799378247680 [0;39m <==      Total: 1
2023-05-12 09:26:35.789 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792799378247680 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 09:26:35.789 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792799378247680 [0;39m ==> Parameters: 10(Integer)
2023-05-12 09:26:35.790 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792799378247680 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:26:35.790 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792799378247680 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 8, 6
2023-05-12 09:26:35.790 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792799378247680 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:35.791 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792799378247680 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:35.791 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792799378247680 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:35.791 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792799378247680 [0;39m <==        Row: 5, Oracle 入门教程, 400, 401, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:35.791 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792799378247680 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 288, 21
2023-05-12 09:26:35.791 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792799378247680 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:26:35.792 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792799378247680 [0;39m <==        Row: 462370778001408, CSS奇技淫巧, 100, 102, null, https://pic.onlinewebfonts.com/svg/img_573763.png, 0, 0, 0
2023-05-12 09:26:35.792 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792799378247680 [0;39m <==        Row: 462371697897472, MySQL, 400, 401, 数据库MySQL, http://pngimg.com/uploads/mysql/mysql_PNG22.png, 0, 0, 0
2023-05-12 09:26:35.792 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792799378247680 [0;39m <==        Row: 462372096061440, Python入门教程, 300, 301, null, http://upload.mobiletrain.org/2018/1204/1543892567988.jpg, 0, 0, 0
2023-05-12 09:26:35.793 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792799378247680 [0;39m <==      Total: 10
2023-05-12 09:26:35.794 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37792799378247680 [0;39m 总行数：10
2023-05-12 09:26:35.794 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37792799378247680 [0;39m 总页数：1
2023-05-12 09:26:35.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792799378247680 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":8,"voteCount":6},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":288,"voteCount":21},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":102,"cover":"https://pic.onlinewebfonts.com/svg/img_573763.png","docCount":0,"id":462370778001408,"name":"CSS奇技淫巧","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"cover":"http://pngimg.com/uploads/mysql/mysql_PNG22.png","description":"数据库MySQL","docCount":0,"id":462371697897472,"name":"MySQL","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"cover":"http://upload.mobiletrain.org/2018/1204/1543892567988.jpg","docCount":0,"id":462372096061440,"name":"Python入门教程","viewCount":0,"voteCount":0}],"total":10},"success":true}
2023-05-12 09:26:35.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792799378247680 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 09:26:36.594 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37792759410724864 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:26:36.594 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37792759410724864 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 09:26:36.595 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37792759410724864 [0;39m 登录校验开始，token：37792744743243776
2023-05-12 09:26:36.596 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37792759410724864 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37792744743243776"}
2023-05-12 09:26:36.597 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792802784022528 [0;39m ------------- 开始 -------------
2023-05-12 09:26:36.597 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792802784022528 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 09:26:36.597 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792802784022528 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 09:26:36.597 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792802784022528 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:36.597 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792802784022528 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 09:26:36.598 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37792802784022528 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 09:26:36.599 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37792802784022528 [0;39m ==> Parameters: 
2023-05-12 09:26:36.600 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37792802784022528 [0;39m <==    Columns: count(0)
2023-05-12 09:26:36.600 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37792802784022528 [0;39m <==        Row: 2
2023-05-12 09:26:36.600 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37792802784022528 [0;39m <==      Total: 1
2023-05-12 09:26:36.600 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37792802784022528 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 09:26:36.601 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37792802784022528 [0;39m ==> Parameters: 10(Integer)
2023-05-12 09:26:36.601 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37792802784022528 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 09:26:36.601 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37792802784022528 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:26:36.601 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37792802784022528 [0;39m <==        Row: 147010339005927424, lang, 浪亓, 2bc0ef47182d889db7d96abf3503b518
2023-05-12 09:26:36.602 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37792802784022528 [0;39m <==      Total: 2
2023-05-12 09:26:36.602 INFO  com.jiawa.wiki.service.UserService                :49   [32m37792802784022528 [0;39m 总行数：2
2023-05-12 09:26:36.602 INFO  com.jiawa.wiki.service.UserService                :50   [32m37792802784022528 [0;39m 总页数：1
2023-05-12 09:26:36.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792802784022528 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":147010339005927424,"loginName":"lang","name":"浪亓"}],"total":2},"success":true}
2023-05-12 09:26:36.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792802784022528 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:26:36.603 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37792802784022528 [0;39m ------------- LoginInterceptor 结束 耗时：9 ms -------------
2023-05-12 09:26:37.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792805820698624 [0;39m ------------- 开始 -------------
2023-05-12 09:26:37.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792805820698625 [0;39m ------------- 开始 -------------
2023-05-12 09:26:37.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792805820698625 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:26:37.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792805820698624 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:26:37.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792805820698626 [0;39m ------------- 开始 -------------
2023-05-12 09:26:37.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792805820698625 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:26:37.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792805820698624 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:26:37.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792805820698626 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:26:37.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792805820698625 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:37.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792805820698626 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:26:37.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792805820698626 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:37.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792805820698625 [0;39m 请求参数: []
2023-05-12 09:26:37.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792805820698626 [0;39m 请求参数: []
2023-05-12 09:26:37.322 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792805820698626 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:26:37.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792805820698624 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:37.322 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37792805820698625 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:26:37.323 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792805820698624 [0;39m 请求参数: []
2023-05-12 09:26:37.323 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37792805820698625 [0;39m ==> Parameters: 
2023-05-12 09:26:37.323 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792805820698626 [0;39m ==> Parameters: 
2023-05-12 09:26:37.323 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37792805820698624 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:26:37.324 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37792805820698624 [0;39m ==> Parameters: 
2023-05-12 09:26:37.324 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37792805820698625 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:26:37.324 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:26:37.324 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:26:37.324 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37792805820698625 [0;39m <==        Row: 2023-05-12, 296, 27, 296, 27
2023-05-12 09:26:37.324 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37792805820698624 [0;39m <==      Total: 0
2023-05-12 09:26:37.324 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:26:37.324 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37792805820698625 [0;39m <==      Total: 1
2023-05-12 09:26:37.325 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:26:37.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792805820698624 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:26:37.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792805820698625 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":296,"viewIncrease":296,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:26:37.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792805820698624 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:26:37.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792805820698625 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:26:37.325 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:26:37.325 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:26:37.325 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:26:37.325 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:26:37.326 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:26:37.326 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:26:37.326 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:26:37.327 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:26:37.327 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:26:37.327 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:26:37.327 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:26:37.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:26:37.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:26:37.328 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792805820698626 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:26:37.328 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792805820698626 [0;39m <==      Total: 17
2023-05-12 09:26:37.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792805820698626 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:26:37.329 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792805820698626 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 09:26:51.734 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792866273202176 [0;39m ------------- 开始 -------------
2023-05-12 09:26:51.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792866273202176 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:26:51.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792866273202176 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:26:51.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792866273202176 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:51.736 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792866273202176 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 09:26:51.740 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792866273202176 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:26:51.741 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792866273202176 [0;39m ==> Parameters: 101(Long)
2023-05-12 09:26:51.742 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792866273202176 [0;39m <==    Columns: count(0)
2023-05-12 09:26:51.742 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792866273202176 [0;39m <==        Row: 3
2023-05-12 09:26:51.742 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792866273202176 [0;39m <==      Total: 1
2023-05-12 09:26:51.743 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792866273202176 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 09:26:51.743 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792866273202176 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 09:26:51.744 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792866273202176 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:26:51.744 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792866273202176 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:51.744 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792866273202176 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 288, 21
2023-05-12 09:26:51.745 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792866273202176 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:26:51.745 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792866273202176 [0;39m <==      Total: 3
2023-05-12 09:26:51.745 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37792866273202176 [0;39m 总行数：3
2023-05-12 09:26:51.745 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37792866273202176 [0;39m 总页数：1
2023-05-12 09:26:51.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792866273202176 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":288,"voteCount":21},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0}],"total":3},"success":true}
2023-05-12 09:26:51.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792866273202176 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 09:26:53.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792874779250688 [0;39m ------------- 开始 -------------
2023-05-12 09:26:53.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792874779250688 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/453524338094080 GET
2023-05-12 09:26:53.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792874779250688 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 09:26:53.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792874779250688 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:53.763 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792874779250688 [0;39m 请求参数: [453524338094080]
2023-05-12 09:26:53.764 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37792874779250688 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 09:26:53.765 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37792874779250688 [0;39m ==> Parameters: 453524338094080(Long)
2023-05-12 09:26:53.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37792874779250688 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 09:26:53.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37792874779250688 [0;39m <==        Row: 457704799236096, 453524338094080, 0, 安装, 1, 196, 13
2023-05-12 09:26:53.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37792874779250688 [0;39m <==        Row: 457741436203009, 453524338094080, 457740829388801, vue.js是什么, 1, 43, 4
2023-05-12 09:26:53.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37792874779250688 [0;39m <==        Row: 457740829388801, 453524338094080, 0, 介绍, 2, 24, 1
2023-05-12 09:26:53.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37792874779250688 [0;39m <==        Row: 466505644945408, 453524338094080, 457740829388801, 起步, 2, 15, 1
2023-05-12 09:26:53.766 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37792874779250688 [0;39m <==        Row: 487727374151680, 453524338094080, 457740829388801, 声明式渲染, 3, 10, 2
2023-05-12 09:26:53.767 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37792874779250688 [0;39m <==      Total: 5
2023-05-12 09:26:53.773 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792874779250688 [0;39m 返回结果: {"content":[{"ebookId":453524338094080,"id":457704799236096,"name":"安装","parent":0,"sort":1,"viewCount":196,"voteCount":13},{"ebookId":453524338094080,"id":457741436203009,"name":"vue.js是什么","parent":457740829388801,"sort":1,"viewCount":43,"voteCount":4},{"ebookId":453524338094080,"id":457740829388801,"name":"介绍","parent":0,"sort":2,"viewCount":24,"voteCount":1},{"ebookId":453524338094080,"id":466505644945408,"name":"起步","parent":457740829388801,"sort":2,"viewCount":15,"voteCount":1},{"ebookId":453524338094080,"id":487727374151680,"name":"声明式渲染","parent":457740829388801,"sort":3,"viewCount":10,"voteCount":2}],"success":true}
2023-05-12 09:26:53.774 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792874779250688 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 09:26:53.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792874917662720 [0;39m ------------- 开始 -------------
2023-05-12 09:26:53.795 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792874917662720 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/457704799236096 GET
2023-05-12 09:26:53.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792874917662720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 09:26:53.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792874917662720 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:53.796 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792874917662720 [0;39m 请求参数: [457704799236096]
2023-05-12 09:26:53.796 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37792874917662720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 09:26:53.797 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37792874917662720 [0;39m ==> Parameters: 457704799236096(Long)
2023-05-12 09:26:53.800 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37792874917662720 [0;39m <==    Columns: id, content
2023-05-12 09:26:53.800 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37792874917662720 [0;39m <==        Row: 457704799236096, <<BLOB>>
2023-05-12 09:26:53.800 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37792874917662720 [0;39m <==      Total: 1
2023-05-12 09:26:53.802 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37792874917662720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 09:26:53.802 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37792874917662720 [0;39m ==> Parameters: 457704799236096(Long)
2023-05-12 09:26:53.810 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37792874917662720 [0;39m <==    Updates: 1
2023-05-12 09:26:53.810 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792874917662720 [0;39m 返回结果: {"content":"<h1 id=\"kwsbb\">安装</h1>Vue.js 设计的初衷就包括可以被渐进式地采用。这意味着它可以根据需求以多种方式集成到一个项目中。<br><br>将 Vue.js 添加到项目中主要有四种方式：<br><br>在页面上以 CDN 包的形式导入。<br>下载 JavaScript 文件并自行托管。<br>使用 npm 安装它。<br>使用官方的 CLI 来构建一个项目，它为现代前端工作流程提供了功能齐备的构建设置 (例如，热重载、保存时的提示等等)。<br>#发布版本说明<br>最新版本：npm<br><br>每个版本的详细发布说明都可以在 GitHub 上找到。<br><br>#Vue Devtools<br>目前处于测试阶段 - Vuex 和 Router 的集成仍在进行中。<br><br>通过 Vue School 的免费课程学习如何安装和使用 Vue Devtools<br>在使用 Vue 时，我们推荐在你的浏览器上安装 Vue Devtools，它允许你在一个更友好的界面中审查和调试 Vue 应用。<br><br>获取 Chrome 扩展程序<br><br>获取 Firefox 附加组件<br><br>获取独立的 Electron 应用程序<br><br>#CDN<br>对于制作原型或学习，你可以这样使用最新版本：<br><br>&lt;script src=\"https://unpkg.com/vue@next\"&gt;&lt;/script&gt;<br>对于生产环境，我们推荐链接到一个明确的版本号和构建文件，以避免新版本造成的不可预期的破坏。<br><br>#下载并自托管<br>如果你想避免使用构建工具，但又无法在生产环境使用 CDN，那么你可以下载相关 .js 文件并自行托管在你的服务器上。然后你可以通过 &lt;script&gt; 标签引入，与使用 CDN 的方法类似。<br><br>这些文件可以在 unpkg 或者 jsDelivr 这些 CDN 上浏览和下载。各种不同文件将在以后解释，但你通常需要同时下载开发环境构建版本以及生产环境构建版本。<br><br>#npm<br>在用 Vue 构建大型应用时推荐使用 npm 安装[1] 。npm 能很好地和诸如 webpack 或 Rollup 模块打包器配合使用。<br><br># 最新稳定版<br>$ npm install vue@next<br>Vue 还提供了编写单文件组件的配套工具。如果你想使用单文件组件，那么你还需要安装 @vue/compiler-sfc：<br><br>$ npm install -D @vue/compiler-sfc<br>如果你是从 Vue 2 过渡而来的，请注意 @vue/compiler-sfc 替换掉了 vue-template-compiler<br><br>除了 @vue/compiler-sfc 之外，你还需要为已选择的打包工具选择一个配套的单文件组件 loader 或 plugin。更多信息请查阅单文件组件文档。<br><br>大多数情况下，我们更倾向于使用 Vue CLI 来创建一个配置最小化的 webpack 构建版本。<br><br>#命令行工具 (CLI)<br>Vue 提供了一个官方的 CLI，为单页面应用 (SPA) 快速搭建繁杂的脚手架。它为现代前端工作流提供了功能齐备的构建设置。只需要几分钟的时间就可以运行起来并带有热重载、保存时 lint 校验，以及生产环境可用的构建版本。更多详情可查阅 Vue CLI 的文档。<br><br>TIP<br><br>CLI 工具假定用户对 Node.js 和相关构建工具有一定程度的了解。如果你是新手，我们强烈建议先在不用构建工具的情况下通读指南，在熟悉 Vue 本身之后再使用 CLI。<br><br>对于 Vue 3，你应该使用 npm 上可用的 Vue CLI v4.5 作为 @vue/cli。要升级，你应该需要全局重新安装最新版本的 @vue/cli：<br><br>yarn global add @vue/cli<br># 或<br>npm install -g @vue/cli<br>然后在 Vue 项目中运行：<br><br>vue upgrade --next<br>#Vite<br>Vite 是一个 web 开发构建工具，由于其原生 ES 模块导入方式，可以实现闪电般的冷服务器启动。<br><br>通过在终端中运行以下命令，可以使用 Vite 快速构建 Vue 项目。<br><br>使用 npm：<br><br># npm 6.x<br>$ npm init vite@latest &lt;project-name&gt; --template vue<br><br># npm 7+，需要加上额外的双短横线<br>$ npm init vite@latest &lt;project-name&gt; -- --template vue<br><br>$ cd &lt;project-name&gt;<br>$ npm install<br>$ npm run dev<br>或者 yarn：<br><br>$ yarn create vite &lt;project-name&gt; --template vue<br>$ cd &lt;project-name&gt;<br>$ yarn<br>$ yarn dev<br>#对不同构建版本的解释<br>在 npm 包的 dist/ 目录你将会找到很多不同的 Vue.js 构建版本。下面是一个概述，根据不同的使用情况，应该使用哪个 dist 文件：<br><br>#使用 CDN 或没有构建工具<br>#vue(.runtime).global(.prod).js：<br>若要通过浏览器中的 &lt;script src=\"...\"&gt; 直接使用，则暴露 Vue 全局。<br>浏览器内模板编译：<br>vue.global.js 是包含编译器和运行时的“完整”构建版本，因此它支持动态编译模板。<br>vue.runtime.global.js 只包含运行时，并且需要在构建步骤期间预编译模板。<br>内联所有 Vue 核心内部包——即：它是一个单独的文件，不依赖于其他文件。这意味着你必须导入此文件和此文件中的所有内容，以确保获得相同的代码实例。<br>包含硬编码的 prod/dev 分支，并且 prod 构建版本是预先压缩过的。将 *.prod.js 文件用于生产环境。<br>提示<br><br>全局打包不是 UMD 构建的，它们被打包成 IIFEs，并且仅用于通过 &lt;script src=\"...\"&gt; 直接使用。<br><br>#vue(.runtime).esm-browser(.prod).js：<br>用于通过原生 ES 模块导入使用 (在浏览器中通过 &lt;script type=\"module\"&gt; 来使用)。<br>与全局构建版本共享相同的运行时编译、依赖内联和硬编码的 prod/dev 行为。<br>#使用构建工具<br>#vue(.runtime).esm-bundler.js：<br>用于 webpack，rollup 和 parcel 等构建工具。<br>留下 prod/dev 分支的 process.env.NODE_ENV 守卫语句 (必须由构建工具替换)。<br>不提供压缩版本 (打包后与其余代码一起压缩)。<br>import 依赖 (例如：@vue/runtime-core，@vue/runtime-compiler)<br>导入的依赖项也是 esm bundler 构建版本，并将依次导入其依赖项 (例如：@vue/runtime-core imports @vue/reactivity)。<br>这意味着你可以单独安装/导入这些依赖，而不会导致这些依赖项的不同实例，但你必须确保它们都为同一版本。<br>浏览器内模板编译：<br>vue.runtime.esm-bundler.js (默认) 仅运行时，并要求所有模板都要预先编译。这是构建工具的默认入口 (通过 package.json 中的 module 字段)，因为在使用构建工具时，模板通常是预先编译的 (例如：在 *.vue 文件中)。<br>vue.esm-bundler.js 包含运行时编译器。如果你使用了一个构建工具，但仍然想要运行时的模板编译 (例如，DOM 内 模板或通过内联 JavaScript 字符串的模板)，请使用这个文件。你需要配置你的构建工具，将 vue 设置为这个文件。<br>#对于服务端渲染<br>#vue.cjs(.prod).js：<br>通过 require() 在 Node.js 服务器端渲染使用。<br>如果你将应用程序与带有 target: 'node' 的 webpack 打包在一起，并正确地将 vue 外部化，则将加载此文件。<br>dev/prod 文件是预构建的，但是会根据 process.env.NODE_ENV 自动加载相应的文件。<br>#运行时 + 编译器 vs. 仅运行时<br>如果需要在客户端上编译模板 (即：将字符串传递给 template 选项，或者使用元素的 DOM 内 HTML 作为模板挂载到元素)，你将需要编译器，因此需要完整的构建版本：<br><br>// 需要编译器<br>Vue.createApp({<br>  template: '&lt;div&gt;{{ hi }}&lt;/div&gt;'<br>})<br><br>// 不需要<br>Vue.createApp({<br>  render() {<br>    return Vue.h('div', {}, this.hi)<br>  }<br>})<br>当使用 vue-loader 时，*.vue 文件中的模板会在构建时预编译为 JavaScript，在最终的捆绑包中并不需要编译器，因此可以只使用运行时构建版本。<br>","success":true}
2023-05-12 09:26:53.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792874917662720 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-12 09:26:55.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792883205607424 [0;39m ------------- 开始 -------------
2023-05-12 09:26:55.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792883205607424 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:26:55.771 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792883205607424 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:26:55.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792883205607424 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:55.772 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792883205607424 [0;39m 请求参数: []
2023-05-12 09:26:55.772 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37792883205607424 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:26:55.773 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37792883205607424 [0;39m ==> Parameters: 
2023-05-12 09:26:55.774 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37792883205607424 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:26:55.774 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37792883205607424 [0;39m <==        Row: 2023-05-12, 296, 27, 296, 27
2023-05-12 09:26:55.774 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37792883205607424 [0;39m <==      Total: 1
2023-05-12 09:26:55.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792883205607424 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":296,"viewIncrease":296,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:26:55.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792883205607424 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:26:55.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792883230773248 [0;39m ------------- 开始 -------------
2023-05-12 09:26:55.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792883230773248 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:26:55.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792883230773248 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:26:55.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792883230773248 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:55.778 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792883230773248 [0;39m 请求参数: []
2023-05-12 09:26:55.778 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37792883230773248 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:26:55.778 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37792883230773248 [0;39m ==> Parameters: 
2023-05-12 09:26:55.779 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37792883230773248 [0;39m <==      Total: 0
2023-05-12 09:26:55.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792883230773248 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:26:55.780 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792883230773248 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 09:26:55.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792883251744768 [0;39m ------------- 开始 -------------
2023-05-12 09:26:55.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792883251744768 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:26:55.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792883251744768 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:26:55.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792883251744768 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:55.782 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792883251744768 [0;39m 请求参数: []
2023-05-12 09:26:55.783 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792883251744768 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:26:55.783 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792883251744768 [0;39m ==> Parameters: 
2023-05-12 09:26:55.784 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:26:55.784 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:26:55.784 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:26:55.784 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:26:55.785 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:26:55.785 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:26:55.785 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:26:55.785 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:26:55.786 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:26:55.786 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:26:55.786 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:26:55.786 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:26:55.786 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:26:55.787 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:26:55.787 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:26:55.787 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:26:55.787 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:26:55.788 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792883251744768 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:26:55.788 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792883251744768 [0;39m <==      Total: 17
2023-05-12 09:26:55.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792883251744768 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:26:55.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792883251744768 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 09:26:56.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792887978725376 [0;39m ------------- 开始 -------------
2023-05-12 09:26:56.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792887978725376 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:26:56.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792887978725376 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:26:56.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792887978725376 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:56.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792887978725376 [0;39m 请求参数: [{"categoryId2":491694010593280,"page":1,"size":1000}]
2023-05-12 09:26:56.910 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792887978725376 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:26:56.910 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792887978725376 [0;39m ==> Parameters: 491694010593280(Long)
2023-05-12 09:26:56.910 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792887978725376 [0;39m <==    Columns: count(0)
2023-05-12 09:26:56.910 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792887978725376 [0;39m <==        Row: 0
2023-05-12 09:26:56.910 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792887978725376 [0;39m <==      Total: 1
2023-05-12 09:26:56.916 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37792887978725376 [0;39m 总行数：0
2023-05-12 09:26:56.916 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37792887978725376 [0;39m 总页数：0
2023-05-12 09:26:56.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792887978725376 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 09:26:56.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792887978725376 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 09:26:57.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792890549833728 [0;39m ------------- 开始 -------------
2023-05-12 09:26:57.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792890549833728 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:26:57.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792890549833728 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:26:57.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792890549833728 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:26:57.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792890549833728 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 09:26:57.522 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792890549833728 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:26:57.522 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792890549833728 [0;39m ==> Parameters: 101(Long)
2023-05-12 09:26:57.522 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792890549833728 [0;39m <==    Columns: count(0)
2023-05-12 09:26:57.522 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792890549833728 [0;39m <==        Row: 3
2023-05-12 09:26:57.522 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792890549833728 [0;39m <==      Total: 1
2023-05-12 09:26:57.522 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792890549833728 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 09:26:57.522 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792890549833728 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 09:26:57.522 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792890549833728 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:26:57.522 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792890549833728 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:26:57.527 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792890549833728 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 288, 21
2023-05-12 09:26:57.527 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792890549833728 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:26:57.528 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792890549833728 [0;39m <==      Total: 3
2023-05-12 09:26:57.528 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37792890549833728 [0;39m 总行数：3
2023-05-12 09:26:57.528 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37792890549833728 [0;39m 总页数：1
2023-05-12 09:26:57.528 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792890549833728 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":288,"voteCount":21},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0}],"total":3},"success":true}
2023-05-12 09:26:57.528 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792890549833728 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:27:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37792900947513344 [0;39m 生成今日电子书快照开始
2023-05-12 09:27:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37792900947513344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:27:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37792900947513344 [0;39m ==> Parameters: 
2023-05-12 09:27:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37792900947513344 [0;39m <==    Updates: 0
2023-05-12 09:27:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37792900947513344 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:27:01.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37792805820698624 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:27:01.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37792805820698624 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 09:27:01.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37792805820698624 [0;39m 登录校验开始，token：37792744743243776
2023-05-12 09:27:01.461 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37792805820698624 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37792744743243776"}
2023-05-12 09:27:01.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792907071197184 [0;39m ------------- 开始 -------------
2023-05-12 09:27:01.461 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792907071197184 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 09:27:01.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792907071197184 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 09:27:01.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792907071197184 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:27:01.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792907071197184 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 09:27:01.463 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37792907071197184 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 09:27:01.463 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37792907071197184 [0;39m ==> Parameters: 
2023-05-12 09:27:01.466 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37792907071197184 [0;39m <==    Columns: count(0)
2023-05-12 09:27:01.466 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37792907071197184 [0;39m <==        Row: 2
2023-05-12 09:27:01.466 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37792907071197184 [0;39m <==      Total: 1
2023-05-12 09:27:01.466 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37792907071197184 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 09:27:01.466 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37792907071197184 [0;39m ==> Parameters: 10(Integer)
2023-05-12 09:27:01.467 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37792907071197184 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 09:27:01.467 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37792907071197184 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:27:01.467 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37792907071197184 [0;39m <==        Row: 147010339005927424, lang, 浪亓, 2bc0ef47182d889db7d96abf3503b518
2023-05-12 09:27:01.468 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37792907071197184 [0;39m <==      Total: 2
2023-05-12 09:27:01.468 INFO  com.jiawa.wiki.service.UserService                :49   [32m37792907071197184 [0;39m 总行数：2
2023-05-12 09:27:01.468 INFO  com.jiawa.wiki.service.UserService                :50   [32m37792907071197184 [0;39m 总页数：1
2023-05-12 09:27:01.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792907071197184 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":147010339005927424,"loginName":"lang","name":"浪亓"}],"total":2},"success":true}
2023-05-12 09:27:01.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792907071197184 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 09:27:01.469 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37792907071197184 [0;39m ------------- LoginInterceptor 结束 耗时：9 ms -------------
2023-05-12 09:27:02.257 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792910409863168 [0;39m ------------- 开始 -------------
2023-05-12 09:27:02.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792910409863168 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:27:02.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792910409863168 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:27:02.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792910409863168 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:27:02.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792910409863168 [0;39m 请求参数: []
2023-05-12 09:27:02.259 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792910409863168 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:27:02.259 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792910409863168 [0;39m ==> Parameters: 
2023-05-12 09:27:02.260 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:27:02.260 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:27:02.260 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:27:02.260 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:27:02.261 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:27:02.261 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:27:02.261 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:27:02.261 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:27:02.262 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:27:02.262 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:27:02.262 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:27:02.262 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:27:02.262 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:27:02.263 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:27:02.263 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:27:02.263 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:27:02.263 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:27:02.264 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37792910409863168 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:27:02.264 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37792910409863168 [0;39m <==      Total: 17
2023-05-12 09:27:02.264 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792910409863168 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:27:02.265 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792910409863168 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 09:27:02.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37792910481166336 [0;39m ------------- 开始 -------------
2023-05-12 09:27:02.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37792910481166336 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:27:02.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37792910481166336 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:27:02.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37792910481166336 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:27:02.274 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37792910481166336 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 09:27:02.274 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792910481166336 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 09:27:02.274 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792910481166336 [0;39m ==> Parameters: 
2023-05-12 09:27:02.274 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792910481166336 [0;39m <==    Columns: count(0)
2023-05-12 09:27:02.279 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37792910481166336 [0;39m <==        Row: 10
2023-05-12 09:27:02.279 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37792910481166336 [0;39m <==      Total: 1
2023-05-12 09:27:02.279 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792910481166336 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 09:27:02.279 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792910481166336 [0;39m ==> Parameters: 10(Integer)
2023-05-12 09:27:02.279 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792910481166336 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:27:02.279 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792910481166336 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 8, 6
2023-05-12 09:27:02.279 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792910481166336 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:27:02.279 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792910481166336 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:27:02.279 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792910481166336 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:27:02.279 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792910481166336 [0;39m <==        Row: 5, Oracle 入门教程, 400, 401, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:27:02.279 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792910481166336 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 288, 21
2023-05-12 09:27:02.279 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792910481166336 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:27:02.279 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792910481166336 [0;39m <==        Row: 462370778001408, CSS奇技淫巧, 100, 102, null, https://pic.onlinewebfonts.com/svg/img_573763.png, 0, 0, 0
2023-05-12 09:27:02.279 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792910481166336 [0;39m <==        Row: 462371697897472, MySQL, 400, 401, 数据库MySQL, http://pngimg.com/uploads/mysql/mysql_PNG22.png, 0, 0, 0
2023-05-12 09:27:02.279 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37792910481166336 [0;39m <==        Row: 462372096061440, Python入门教程, 300, 301, null, http://upload.mobiletrain.org/2018/1204/1543892567988.jpg, 0, 0, 0
2023-05-12 09:27:02.279 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37792910481166336 [0;39m <==      Total: 10
2023-05-12 09:27:02.279 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37792910481166336 [0;39m 总行数：10
2023-05-12 09:27:02.279 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37792910481166336 [0;39m 总页数：1
2023-05-12 09:27:02.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37792910481166336 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":8,"voteCount":6},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":288,"voteCount":21},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":102,"cover":"https://pic.onlinewebfonts.com/svg/img_573763.png","docCount":0,"id":462370778001408,"name":"CSS奇技淫巧","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"cover":"http://pngimg.com/uploads/mysql/mysql_PNG22.png","description":"数据库MySQL","docCount":0,"id":462371697897472,"name":"MySQL","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"cover":"http://upload.mobiletrain.org/2018/1204/1543892567988.jpg","docCount":0,"id":462372096061440,"name":"Python入门教程","viewCount":0,"voteCount":0}],"total":10},"success":true}
2023-05-12 09:27:02.279 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37792910481166336 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 09:27:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37792921919033344 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:27:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792921919033344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:27:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792921919033344 [0;39m ==> Parameters: 
2023-05-12 09:27:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37792921919033344 [0;39m <==    Updates: 2
2023-05-12 09:27:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37792921919033344 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-12 09:27:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37793047769124864 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:27:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793047769124864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:27:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793047769124864 [0;39m ==> Parameters: 
2023-05-12 09:27:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793047769124864 [0;39m <==    Updates: 2
2023-05-12 09:27:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37793047769124864 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:28:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37793152689639424 [0;39m 生成今日电子书快照开始
2023-05-12 09:28:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37793152689639424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:28:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37793152689639424 [0;39m ==> Parameters: 
2023-05-12 09:28:00.028 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37793152689639424 [0;39m <==    Updates: 0
2023-05-12 09:28:00.028 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37793152689639424 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-12 09:28:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37793173594050560 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:28:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793173594050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:28:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793173594050560 [0;39m ==> Parameters: 
2023-05-12 09:28:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793173594050560 [0;39m <==    Updates: 2
2023-05-12 09:28:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37793173594050560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:28:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37793299477696512 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:28:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793299477696512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:28:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793299477696512 [0;39m ==> Parameters: 
2023-05-12 09:28:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793299477696512 [0;39m <==    Updates: 2
2023-05-12 09:28:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37793299477696512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:29:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37793404280770560 [0;39m 生成今日电子书快照开始
2023-05-12 09:29:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37793404280770560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:29:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37793404280770560 [0;39m ==> Parameters: 
2023-05-12 09:29:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37793404280770560 [0;39m <==    Updates: 0
2023-05-12 09:29:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37793404280770560 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:29:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37793425252290560 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:29:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793425252290560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:29:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793425252290560 [0;39m ==> Parameters: 
2023-05-12 09:29:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793425252290560 [0;39m <==    Updates: 2
2023-05-12 09:29:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37793425252290560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:29:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37793551081410560 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:29:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793551081410560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:29:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793551081410560 [0;39m ==> Parameters: 
2023-05-12 09:29:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793551081410560 [0;39m <==    Updates: 2
2023-05-12 09:29:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37793551081410560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:30:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37793656001925120 [0;39m 生成今日电子书快照开始
2023-05-12 09:30:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37793656001925120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:30:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37793656001925120 [0;39m ==> Parameters: 
2023-05-12 09:30:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37793656001925120 [0;39m <==    Updates: 0
2023-05-12 09:30:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37793656001925120 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:30:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37793676965056512 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:30:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793676965056512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:30:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793676965056512 [0;39m ==> Parameters: 
2023-05-12 09:30:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793676965056512 [0;39m <==    Updates: 2
2023-05-12 09:30:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37793676965056512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:30:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37793802785787904 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:30:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793802785787904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:30:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793802785787904 [0;39m ==> Parameters: 
2023-05-12 09:30:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793802785787904 [0;39m <==    Updates: 2
2023-05-12 09:30:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37793802785787904 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:31:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37793907634999296 [0;39m 生成今日电子书快照开始
2023-05-12 09:31:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37793907634999296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:31:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37793907634999296 [0;39m ==> Parameters: 
2023-05-12 09:31:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37793907634999296 [0;39m <==    Updates: 0
2023-05-12 09:31:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37793907634999296 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:31:05.019 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37793928627490816 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:31:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793928627490816 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:31:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793928627490816 [0;39m ==> Parameters: 
2023-05-12 09:31:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37793928627490816 [0;39m <==    Updates: 2
2023-05-12 09:31:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37793928627490816 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:31:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37794054393696256 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:31:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794054393696256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:31:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794054393696256 [0;39m ==> Parameters: 
2023-05-12 09:31:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794054393696256 [0;39m <==    Updates: 2
2023-05-12 09:31:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37794054393696256 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:32:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37794159314210816 [0;39m 生成今日电子书快照开始
2023-05-12 09:32:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37794159314210816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:32:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37794159314210816 [0;39m ==> Parameters: 
2023-05-12 09:32:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37794159314210816 [0;39m <==    Updates: 0
2023-05-12 09:32:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37794159314210816 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:32:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37794180227010560 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:32:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794180227010560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:32:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794180227010560 [0;39m ==> Parameters: 
2023-05-12 09:32:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794180227010560 [0;39m <==    Updates: 2
2023-05-12 09:32:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37794180227010560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:32:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37794306085490688 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:32:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794306085490688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:32:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794306085490688 [0;39m ==> Parameters: 
2023-05-12 09:32:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794306085490688 [0;39m <==    Updates: 2
2023-05-12 09:32:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37794306085490688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:33:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37794410930507776 [0;39m 生成今日电子书快照开始
2023-05-12 09:33:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37794410930507776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:33:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37794410930507776 [0;39m ==> Parameters: 
2023-05-12 09:33:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37794410930507776 [0;39m <==    Updates: 0
2023-05-12 09:33:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37794410930507776 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:33:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37794431927193600 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:33:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794431927193600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:33:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794431927193600 [0;39m ==> Parameters: 
2023-05-12 09:33:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794431927193600 [0;39m <==    Updates: 2
2023-05-12 09:33:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37794431927193600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:33:35.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37794557781479424 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:33:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794557781479424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:33:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794557781479424 [0;39m ==> Parameters: 
2023-05-12 09:33:35.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794557781479424 [0;39m <==    Updates: 2
2023-05-12 09:33:35.021 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37794557781479424 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:34:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37794662588747776 [0;39m 生成今日电子书快照开始
2023-05-12 09:34:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37794662588747776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:34:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37794662588747776 [0;39m ==> Parameters: 
2023-05-12 09:34:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37794662588747776 [0;39m <==    Updates: 0
2023-05-12 09:34:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37794662588747776 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:34:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37794683577044992 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:34:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794683577044992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:34:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794683577044992 [0;39m ==> Parameters: 
2023-05-12 09:34:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794683577044992 [0;39m <==    Updates: 2
2023-05-12 09:34:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37794683577044992 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:34:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37794809435525120 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:34:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794809435525120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:34:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794809435525120 [0;39m ==> Parameters: 
2023-05-12 09:34:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794809435525120 [0;39m <==    Updates: 2
2023-05-12 09:34:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37794809435525120 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:35:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37794914246987776 [0;39m 生成今日电子书快照开始
2023-05-12 09:35:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37794914246987776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:35:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37794914246987776 [0;39m ==> Parameters: 
2023-05-12 09:35:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37794914246987776 [0;39m <==    Updates: 0
2023-05-12 09:35:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37794914246987776 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:35:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37794935231090688 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:35:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794935231090688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:35:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794935231090688 [0;39m ==> Parameters: 
2023-05-12 09:35:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37794935231090688 [0;39m <==    Updates: 2
2023-05-12 09:35:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37794935231090688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:35:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37795061068599296 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:35:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795061068599296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:35:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795061068599296 [0;39m ==> Parameters: 
2023-05-12 09:35:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795061068599296 [0;39m <==    Updates: 2
2023-05-12 09:35:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37795061068599296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:36:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37795165888450560 [0;39m 生成今日电子书快照开始
2023-05-12 09:36:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37795165888450560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:36:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37795165888450560 [0;39m ==> Parameters: 
2023-05-12 09:36:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37795165888450560 [0;39m <==    Updates: 0
2023-05-12 09:36:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37795165888450560 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 09:36:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37795186880942080 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:36:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795186880942080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:36:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795186880942080 [0;39m ==> Parameters: 
2023-05-12 09:36:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795186880942080 [0;39m <==    Updates: 2
2023-05-12 09:36:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37795186880942080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:36:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37795312735227904 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:36:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795312735227904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:36:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795312735227904 [0;39m ==> Parameters: 
2023-05-12 09:36:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795312735227904 [0;39m <==    Updates: 2
2023-05-12 09:36:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37795312735227904 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:37:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37795417571856384 [0;39m 生成今日电子书快照开始
2023-05-12 09:37:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37795417571856384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:37:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37795417571856384 [0;39m ==> Parameters: 
2023-05-12 09:37:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37795417571856384 [0;39m <==    Updates: 0
2023-05-12 09:37:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37795417571856384 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 09:37:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37795438509821952 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:37:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795438509821952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:37:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795438509821952 [0;39m ==> Parameters: 
2023-05-12 09:37:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795438509821952 [0;39m <==    Updates: 2
2023-05-12 09:37:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37795438509821952 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:37:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37795564389273600 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:37:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795564389273600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:37:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795564389273600 [0;39m ==> Parameters: 
2023-05-12 09:37:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795564389273600 [0;39m <==    Updates: 2
2023-05-12 09:37:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37795564389273600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:38:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37795669251067904 [0;39m 生成今日电子书快照开始
2023-05-12 09:38:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37795669251067904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:38:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37795669251067904 [0;39m ==> Parameters: 
2023-05-12 09:38:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37795669251067904 [0;39m <==    Updates: 0
2023-05-12 09:38:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37795669251067904 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 09:38:05.248 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37795691195666432 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:38:05.249 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795691195666432 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:38:05.251 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795691195666432 [0;39m ==> Parameters: 
2023-05-12 09:38:05.253 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795691195666432 [0;39m <==    Updates: 2
2023-05-12 09:38:05.253 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37795691195666432 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 09:38:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37795816022347776 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:38:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795816022347776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:38:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795816022347776 [0;39m ==> Parameters: 
2023-05-12 09:38:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795816022347776 [0;39m <==    Updates: 2
2023-05-12 09:38:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37795816022347776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:39:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37795920900919296 [0;39m 生成今日电子书快照开始
2023-05-12 09:39:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37795920900919296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:39:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37795920900919296 [0;39m ==> Parameters: 
2023-05-12 09:39:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37795920900919296 [0;39m <==    Updates: 0
2023-05-12 09:39:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37795920900919296 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 09:39:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37795941834690560 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:39:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795941834690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:39:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795941834690560 [0;39m ==> Parameters: 
2023-05-12 09:39:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37795941834690560 [0;39m <==    Updates: 2
2023-05-12 09:39:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37795941834690560 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 09:39:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37796067693170688 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:39:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796067693170688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:39:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796067693170688 [0;39m ==> Parameters: 
2023-05-12 09:39:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796067693170688 [0;39m <==    Updates: 2
2023-05-12 09:39:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37796067693170688 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-12 09:40:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37796172554964992 [0;39m 生成今日电子书快照开始
2023-05-12 09:40:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37796172554964992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:40:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37796172554964992 [0;39m ==> Parameters: 
2023-05-12 09:40:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37796172554964992 [0;39m <==    Updates: 0
2023-05-12 09:40:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37796172554964992 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 09:40:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37796193518096384 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:40:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796193518096384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:40:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796193518096384 [0;39m ==> Parameters: 
2023-05-12 09:40:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796193518096384 [0;39m <==    Updates: 2
2023-05-12 09:40:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37796193518096384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:40:35.030 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37796319426908160 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:40:35.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796319426908160 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:40:35.031 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796319426908160 [0;39m ==> Parameters: 
2023-05-12 09:40:35.035 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796319426908160 [0;39m <==    Updates: 2
2023-05-12 09:40:35.035 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37796319426908160 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 09:41:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37796424209010688 [0;39m 生成今日电子书快照开始
2023-05-12 09:41:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37796424209010688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:41:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37796424209010688 [0;39m ==> Parameters: 
2023-05-12 09:41:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37796424209010688 [0;39m <==    Updates: 0
2023-05-12 09:41:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37796424209010688 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 09:41:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37796445193113600 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:41:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796445193113600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:41:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796445193113600 [0;39m ==> Parameters: 
2023-05-12 09:41:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796445193113600 [0;39m <==    Updates: 2
2023-05-12 09:41:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37796445193113600 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:41:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37796571026427904 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:41:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796571026427904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:41:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796571026427904 [0;39m ==> Parameters: 
2023-05-12 09:41:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796571026427904 [0;39m <==    Updates: 2
2023-05-12 09:41:35.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37796571026427904 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:41:56.487 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37792883230773248 [0;39m 有新连接：token：iucHzcpMoV，session id：1，当前连接数：2
2023-05-12 09:41:56.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37796661766000640 [0;39m ------------- 开始 -------------
2023-05-12 09:41:56.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37796661766000640 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:41:56.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37796661766000640 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:41:56.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37796661766000640 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:41:56.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37796661766000640 [0;39m 请求参数: []
2023-05-12 09:41:56.652 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37796661766000640 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:41:56.653 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37796661766000640 [0;39m ==> Parameters: 
2023-05-12 09:41:56.657 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37796661766000640 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:41:56.658 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37796661766000640 [0;39m <==        Row: 2023-05-12, 297, 27, 297, 27
2023-05-12 09:41:56.658 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37796661766000640 [0;39m <==      Total: 1
2023-05-12 09:41:56.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37796661766000640 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":297,"viewIncrease":297,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:41:56.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37796661766000640 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 09:41:56.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37796661845692416 [0;39m ------------- 开始 -------------
2023-05-12 09:41:56.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37796661845692416 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:41:56.677 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37796661845692416 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:41:56.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37796661845692416 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:41:56.678 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37796661845692416 [0;39m 请求参数: []
2023-05-12 09:41:56.678 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37796661845692416 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:41:56.678 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37796661845692416 [0;39m ==> Parameters: 
2023-05-12 09:41:56.679 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37796661845692416 [0;39m <==      Total: 0
2023-05-12 09:41:56.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37796661845692416 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:41:56.680 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37796661845692416 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 09:41:56.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37796661866663936 [0;39m ------------- 开始 -------------
2023-05-12 09:41:56.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37796661866663936 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:41:56.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37796661866663936 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:41:56.681 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37796661866663936 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:41:56.682 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37796661866663936 [0;39m 请求参数: []
2023-05-12 09:41:56.684 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37796661866663936 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:41:56.684 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37796661866663936 [0;39m ==> Parameters: 
2023-05-12 09:41:56.685 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:41:56.686 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:41:56.686 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:41:56.686 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:41:56.686 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:41:56.686 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:41:56.687 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:41:56.687 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:41:56.687 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:41:56.687 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:41:56.687 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:41:56.687 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:41:56.687 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:41:56.687 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:41:56.689 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:41:56.689 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:41:56.689 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:41:56.690 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796661866663936 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:41:56.690 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37796661866663936 [0;39m <==      Total: 17
2023-05-12 09:41:56.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37796661866663936 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:41:56.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37796661866663936 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-12 09:42:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37796675842084864 [0;39m 生成今日电子书快照开始
2023-05-12 09:42:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37796675842084864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:42:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37796675842084864 [0;39m ==> Parameters: 
2023-05-12 09:42:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37796675842084864 [0;39m <==    Updates: 0
2023-05-12 09:42:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37796675842084864 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 09:42:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37796696817799168 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:42:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796696817799168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:42:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796696817799168 [0;39m ==> Parameters: 
2023-05-12 09:42:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796696817799168 [0;39m <==    Updates: 2
2023-05-12 09:42:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37796696817799168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:42:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37796822646919168 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:42:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796822646919168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:42:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796822646919168 [0;39m ==> Parameters: 
2023-05-12 09:42:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796822646919168 [0;39m <==    Updates: 2
2023-05-12 09:42:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37796822646919168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:42:41.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37796848383168512 [0;39m ------------- 开始 -------------
2023-05-12 09:42:41.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37796848383168512 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 09:42:41.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37796848383168512 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 09:42:41.143 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37796848383168512 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:42:41.144 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37796848383168512 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-12 09:42:41.147 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37796848383168512 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 09:42:41.147 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37796848383168512 [0;39m ==> Parameters: test(String)
2023-05-12 09:42:41.149 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37796848383168512 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 09:42:41.149 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37796848383168512 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:42:41.150 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37796848383168512 [0;39m <==      Total: 1
2023-05-12 09:42:41.150 INFO  com.jiawa.wiki.controller.UserController          :79   [32m37796848383168512 [0;39m 生成单点登录token：37796848412528640，并放入redis中
2023-05-12 09:42:41.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37796848383168512 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"测试","token":"37796848412528640"},"success":true}
2023-05-12 09:42:41.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37796848383168512 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 09:42:45.398 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37792910409863168 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:42:45.400 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37792910409863168 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 09:42:45.402 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37792910481166336 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:42:45.403 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37792910481166336 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/37796848412528640
2023-05-12 09:42:45.403 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37792910481166336 [0;39m 登录校验开始，token：37796848412528640
2023-05-12 09:42:45.403 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37792910481166336 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37796848412528640"}
2023-05-12 09:42:45.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37796866263486464 [0;39m ------------- 开始 -------------
2023-05-12 09:42:45.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37796866263486464 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/37796848412528640 GET
2023-05-12 09:42:45.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37796866263486464 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-12 09:42:45.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37796866263486464 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:42:45.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37796866263486464 [0;39m 请求参数: ["37796848412528640"]
2023-05-12 09:42:45.407 INFO  com.jiawa.wiki.controller.UserController          :90   [32m37796866263486464 [0;39m 从redis中删除token: 37796848412528640
2023-05-12 09:42:45.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37796866263486464 [0;39m 返回结果: {"success":true}
2023-05-12 09:42:45.409 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37796866263486464 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 09:42:45.409 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37796866263486464 [0;39m ------------- LoginInterceptor 结束 耗时：6 ms -------------
2023-05-12 09:43:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37796927475159040 [0;39m 生成今日电子书快照开始
2023-05-12 09:43:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37796927475159040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:43:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37796927475159040 [0;39m ==> Parameters: 
2023-05-12 09:43:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37796927475159040 [0;39m <==    Updates: 0
2023-05-12 09:43:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37796927475159040 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 09:43:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37796948501204992 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:43:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796948501204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:43:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796948501204992 [0;39m ==> Parameters: 
2023-05-12 09:43:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37796948501204992 [0;39m <==    Updates: 2
2023-05-12 09:43:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37796948501204992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:43:09.114 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37792883205607424 [0;39m 连接关闭，token：iucHzcpMoV，session id：1！当前连接数：1
2023-05-12 09:43:10.185 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37792883230773248 [0;39m 有新连接：token：rne2yQ9qjc，session id：2，当前连接数：2
2023-05-12 09:43:10.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37796970718433280 [0;39m ------------- 开始 -------------
2023-05-12 09:43:10.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37796970718433280 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:43:10.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37796970718433280 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:43:10.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37796970718433280 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:43:10.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37796970718433280 [0;39m 请求参数: []
2023-05-12 09:43:10.311 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37796970718433280 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:43:10.311 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37796970718433280 [0;39m ==> Parameters: 
2023-05-12 09:43:10.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37796970726821888 [0;39m ------------- 开始 -------------
2023-05-12 09:43:10.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37796970726821888 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:43:10.313 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37796970718433280 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:43:10.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37796970726821888 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:43:10.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37796970726821888 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:43:10.313 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37796970718433280 [0;39m <==        Row: 2023-05-12, 297, 27, 297, 27
2023-05-12 09:43:10.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37796970726821888 [0;39m 请求参数: []
2023-05-12 09:43:10.313 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37796970718433280 [0;39m <==      Total: 1
2023-05-12 09:43:10.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37796970718433280 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":297,"viewIncrease":297,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:43:10.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37796970718433280 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:43:10.314 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37796970726821888 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:43:10.314 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37796970726821888 [0;39m ==> Parameters: 
2023-05-12 09:43:10.315 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37796970726821888 [0;39m <==      Total: 0
2023-05-12 09:43:10.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37796970739404800 [0;39m ------------- 开始 -------------
2023-05-12 09:43:10.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37796970739404800 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:43:10.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37796970726821888 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:43:10.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37796970739404800 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:43:10.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37796970726821888 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 09:43:10.315 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37796970739404800 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:43:10.316 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37796970739404800 [0;39m 请求参数: []
2023-05-12 09:43:10.316 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37796970739404800 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:43:10.316 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37796970739404800 [0;39m ==> Parameters: 
2023-05-12 09:43:10.317 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:43:10.317 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:43:10.317 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:43:10.318 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:43:10.318 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:43:10.318 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:43:10.318 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:43:10.318 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:43:10.319 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:43:10.319 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:43:10.319 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:43:10.319 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:43:10.319 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:43:10.319 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:43:10.319 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:43:10.319 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:43:10.320 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:43:10.320 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37796970739404800 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:43:10.320 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37796970739404800 [0;39m <==      Total: 17
2023-05-12 09:43:10.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37796970739404800 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:43:10.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37796970739404800 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:43:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37797074342907904 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:43:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797074342907904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:43:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797074342907904 [0;39m ==> Parameters: 
2023-05-12 09:43:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797074342907904 [0;39m <==    Updates: 2
2023-05-12 09:43:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37797074342907904 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:44:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37797179166953472 [0;39m 生成今日电子书快照开始
2023-05-12 09:44:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37797179166953472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:44:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37797179166953472 [0;39m ==> Parameters: 
2023-05-12 09:44:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37797179166953472 [0;39m <==    Updates: 0
2023-05-12 09:44:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37797179166953472 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 09:44:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37797200151056384 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:44:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797200151056384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:44:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797200151056384 [0;39m ==> Parameters: 
2023-05-12 09:44:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797200151056384 [0;39m <==    Updates: 2
2023-05-12 09:44:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37797200151056384 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:44:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37797325984370688 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:44:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797325984370688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:44:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797325984370688 [0;39m ==> Parameters: 
2023-05-12 09:44:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797325984370688 [0;39m <==    Updates: 2
2023-05-12 09:44:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37797325984370688 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:45:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37797430841970688 [0;39m 生成今日电子书快照开始
2023-05-12 09:45:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37797430841970688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:45:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37797430841970688 [0;39m ==> Parameters: 
2023-05-12 09:45:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37797430841970688 [0;39m <==    Updates: 0
2023-05-12 09:45:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37797430841970688 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 09:45:05.067 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37797452044177408 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:45:05.073 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797452044177408 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:45:05.073 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797452044177408 [0;39m ==> Parameters: 
2023-05-12 09:45:05.074 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797452044177408 [0;39m <==    Updates: 2
2023-05-12 09:45:05.075 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37797452044177408 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:45:08.229 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37792874917662720 [0;39m 连接关闭，token：rne2yQ9qjc，session id：2！当前连接数：1
2023-05-12 09:45:08.659 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37792874779250688 [0;39m 有新连接：token：Mu9uPzSIbM，session id：3，当前连接数：2
2023-05-12 09:45:08.721 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37797467370164224 [0;39m ------------- 开始 -------------
2023-05-12 09:45:08.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37797467374358528 [0;39m ------------- 开始 -------------
2023-05-12 09:45:08.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37797467370164224 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:45:08.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37797467370164224 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:45:08.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37797467374358528 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:45:08.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37797467370164224 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:45:08.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37797467374358528 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:45:08.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37797467370164224 [0;39m 请求参数: []
2023-05-12 09:45:08.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37797467374358528 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:45:08.723 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37797467374358528 [0;39m 请求参数: []
2023-05-12 09:45:08.723 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37797467370164224 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:45:08.723 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37797467374358528 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:45:08.723 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37797467370164224 [0;39m ==> Parameters: 
2023-05-12 09:45:08.723 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37797467374358528 [0;39m ==> Parameters: 
2023-05-12 09:45:08.723 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37797467378552832 [0;39m ------------- 开始 -------------
2023-05-12 09:45:08.723 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37797467378552832 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:45:08.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37797467378552832 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:45:08.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37797467378552832 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:45:08.724 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37797467370164224 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:45:08.724 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37797467370164224 [0;39m <==        Row: 2023-05-12, 297, 27, 297, 27
2023-05-12 09:45:08.725 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37797467370164224 [0;39m <==      Total: 1
2023-05-12 09:45:08.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37797467370164224 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":297,"viewIncrease":297,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:45:08.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37797467370164224 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:45:08.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37797467378552832 [0;39m 请求参数: []
2023-05-12 09:45:08.724 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37797467374358528 [0;39m <==      Total: 0
2023-05-12 09:45:08.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37797467374358528 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:45:08.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37797467374358528 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:45:08.727 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37797467378552832 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:45:08.727 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37797467378552832 [0;39m ==> Parameters: 
2023-05-12 09:45:08.728 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:45:08.728 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:45:08.728 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:45:08.728 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:45:08.728 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:45:08.729 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:45:08.729 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:45:08.729 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:45:08.729 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:45:08.729 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:45:08.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:45:08.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:45:08.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:45:08.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:45:08.731 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:45:08.731 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:45:08.731 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:45:08.731 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797467378552832 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:45:08.732 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37797467378552832 [0;39m <==      Total: 17
2023-05-12 09:45:08.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37797467378552832 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:45:08.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37797467378552832 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 09:45:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37797577600667648 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:45:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797577600667648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:45:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797577600667648 [0;39m ==> Parameters: 
2023-05-12 09:45:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797577600667648 [0;39m <==    Updates: 2
2023-05-12 09:45:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37797577600667648 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:46:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37797682491822080 [0;39m 生成今日电子书快照开始
2023-05-12 09:46:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37797682491822080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:46:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37797682491822080 [0;39m ==> Parameters: 
2023-05-12 09:46:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37797682491822080 [0;39m <==    Updates: 0
2023-05-12 09:46:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37797682491822080 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 09:46:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37797703484313600 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:46:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797703484313600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:46:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797703484313600 [0;39m ==> Parameters: 
2023-05-12 09:46:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797703484313600 [0;39m <==    Updates: 2
2023-05-12 09:46:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37797703484313600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:46:12.107 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37792910409863168 [0;39m 连接关闭，token：Mu9uPzSIbM，session id：3！当前连接数：1
2023-05-12 09:46:14.367 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37796866263486464 [0;39m 有新连接：token：7cvGh2jf7B，session id：4，当前连接数：2
2023-05-12 09:46:14.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37797743346978816 [0;39m ------------- 开始 -------------
2023-05-12 09:46:14.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37797743346978816 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:46:14.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37797743346978816 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:46:14.519 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37797743346978816 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:46:14.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37797743346978816 [0;39m 请求参数: []
2023-05-12 09:46:14.520 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37797743346978816 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:46:14.521 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37797743346978816 [0;39m ==> Parameters: 
2023-05-12 09:46:14.521 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37797743346978816 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:46:14.522 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37797743346978816 [0;39m <==        Row: 2023-05-12, 297, 27, 297, 27
2023-05-12 09:46:14.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37797743359561728 [0;39m ------------- 开始 -------------
2023-05-12 09:46:14.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37797743359561728 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:46:14.522 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37797743346978816 [0;39m <==      Total: 1
2023-05-12 09:46:14.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37797743359561728 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:46:14.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37797743346978816 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":297,"viewIncrease":297,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:46:14.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37797743346978816 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:46:14.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37797743359561728 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:46:14.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37797743359561728 [0;39m 请求参数: []
2023-05-12 09:46:14.523 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37797743359561728 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:46:14.524 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37797743359561728 [0;39m ==> Parameters: 
2023-05-12 09:46:14.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37797743367950336 [0;39m ------------- 开始 -------------
2023-05-12 09:46:14.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37797743367950336 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:46:14.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37797743367950336 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:46:14.524 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37797743359561728 [0;39m <==      Total: 0
2023-05-12 09:46:14.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37797743367950336 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:46:14.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37797743367950336 [0;39m 请求参数: []
2023-05-12 09:46:14.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37797743359561728 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:46:14.525 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37797743367950336 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:46:14.525 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37797743359561728 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 09:46:14.525 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37797743367950336 [0;39m ==> Parameters: 
2023-05-12 09:46:14.526 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:46:14.526 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:46:14.526 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:46:14.526 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:46:14.527 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:46:14.527 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:46:14.527 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:46:14.527 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:46:14.528 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:46:14.528 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:46:14.528 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:46:14.528 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:46:14.529 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:46:14.529 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:46:14.529 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:46:14.529 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:46:14.529 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:46:14.529 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797743367950336 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:46:14.529 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37797743367950336 [0;39m <==      Total: 17
2023-05-12 09:46:14.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37797743367950336 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:46:14.530 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37797743367950336 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:46:25.442 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37797467374358528 [0;39m 连接关闭，token：7cvGh2jf7B，session id：4！当前连接数：1
2023-05-12 09:46:27.053 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37797467378552832 [0;39m 有新连接：token：m6YDAyNlgT，session id：5，当前连接数：2
2023-05-12 09:46:27.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37797796430090240 [0;39m ------------- 开始 -------------
2023-05-12 09:46:27.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37797796430090241 [0;39m ------------- 开始 -------------
2023-05-12 09:46:27.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37797796430090241 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:46:27.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37797796430090241 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:46:27.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37797796430090240 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:46:27.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37797796430090242 [0;39m ------------- 开始 -------------
2023-05-12 09:46:27.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37797796430090241 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:46:27.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37797796430090240 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:46:27.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37797796430090242 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:46:27.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37797796430090241 [0;39m 请求参数: []
2023-05-12 09:46:27.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37797796430090240 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:46:27.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37797796430090242 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:46:27.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37797796430090240 [0;39m 请求参数: []
2023-05-12 09:46:27.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37797796430090242 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:46:27.176 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37797796430090242 [0;39m 请求参数: []
2023-05-12 09:46:27.176 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37797796430090241 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:46:27.176 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37797796430090240 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:46:27.176 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37797796430090241 [0;39m ==> Parameters: 
2023-05-12 09:46:27.176 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37797796430090240 [0;39m ==> Parameters: 
2023-05-12 09:46:27.176 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37797796430090242 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:46:27.177 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37797796430090242 [0;39m ==> Parameters: 
2023-05-12 09:46:27.177 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37797796430090241 [0;39m <==      Total: 0
2023-05-12 09:46:27.177 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:46:27.177 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37797796430090240 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:46:27.177 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:46:27.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37797796430090241 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:46:27.177 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37797796430090240 [0;39m <==        Row: 2023-05-12, 297, 27, 297, 27
2023-05-12 09:46:27.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37797796430090241 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-12 09:46:27.177 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:46:27.177 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:46:27.177 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37797796430090240 [0;39m <==      Total: 1
2023-05-12 09:46:27.177 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:46:27.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37797796430090240 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":297,"viewIncrease":297,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:46:27.178 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:46:27.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37797796430090240 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 09:46:27.178 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:46:27.178 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:46:27.178 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:46:27.178 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:46:27.179 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:46:27.179 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:46:27.179 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:46:27.179 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:46:27.179 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:46:27.180 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:46:27.180 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:46:27.180 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37797796430090242 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:46:27.180 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37797796430090242 [0;39m <==      Total: 17
2023-05-12 09:46:27.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37797796430090242 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:46:27.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37797796430090242 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:46:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37797829309239296 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:46:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797829309239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:46:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797829309239296 [0;39m ==> Parameters: 
2023-05-12 09:46:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797829309239296 [0;39m <==    Updates: 2
2023-05-12 09:46:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37797829309239296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:47:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37797934141673472 [0;39m 生成今日电子书快照开始
2023-05-12 09:47:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37797934141673472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:47:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37797934141673472 [0;39m ==> Parameters: 
2023-05-12 09:47:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37797934141673472 [0;39m <==    Updates: 0
2023-05-12 09:47:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37797934141673472 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 09:47:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37797955121582080 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:47:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797955121582080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:47:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797955121582080 [0;39m ==> Parameters: 
2023-05-12 09:47:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37797955121582080 [0;39m <==    Updates: 2
2023-05-12 09:47:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37797955121582080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:47:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37798080950702080 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:47:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798080950702080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:47:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798080950702080 [0;39m ==> Parameters: 
2023-05-12 09:47:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798080950702080 [0;39m <==    Updates: 2
2023-05-12 09:47:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37798080950702080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:48:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37798185804107776 [0;39m 生成今日电子书快照开始
2023-05-12 09:48:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37798185804107776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:48:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37798185804107776 [0;39m ==> Parameters: 
2023-05-12 09:48:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37798185804107776 [0;39m <==    Updates: 0
2023-05-12 09:48:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37798185804107776 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 09:48:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37798206767239168 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:48:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798206767239168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:48:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798206767239168 [0;39m ==> Parameters: 
2023-05-12 09:48:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798206767239168 [0;39m <==    Updates: 2
2023-05-12 09:48:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37798206767239168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:48:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37798332575387648 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:48:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798332575387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:48:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798332575387648 [0;39m ==> Parameters: 
2023-05-12 09:48:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798332575387648 [0;39m <==    Updates: 2
2023-05-12 09:48:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37798332575387648 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 09:48:51.028 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37797743359561728 [0;39m 有新连接：token：dsLMs2MYXN，session id：6，当前连接数：3
2023-05-12 09:48:51.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798399805886464 [0;39m ------------- 开始 -------------
2023-05-12 09:48:51.031 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798399805886464 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:48:51.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798399805886464 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:48:51.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798399810080768 [0;39m ------------- 开始 -------------
2023-05-12 09:48:51.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798399805886464 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:48:51.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798399810080768 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:48:51.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798399810080768 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:48:51.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798399810080768 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:48:51.033 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798399814275072 [0;39m ------------- 开始 -------------
2023-05-12 09:48:51.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798399810080768 [0;39m 请求参数: []
2023-05-12 09:48:51.033 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798399814275072 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:48:51.033 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798399805886464 [0;39m 请求参数: []
2023-05-12 09:48:51.033 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798399810080768 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:48:51.033 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798399805886464 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:48:51.034 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798399810080768 [0;39m ==> Parameters: 
2023-05-12 09:48:51.035 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798399805886464 [0;39m ==> Parameters: 
2023-05-12 09:48:51.035 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798399810080768 [0;39m <==      Total: 0
2023-05-12 09:48:51.035 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798399810080768 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:48:51.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798399810080768 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:48:51.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798399814275072 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:48:51.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798399814275072 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:48:51.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798399814275072 [0;39m 请求参数: []
2023-05-12 09:48:51.040 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37798399805886464 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:48:51.040 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37798399805886464 [0;39m <==        Row: 2023-05-12, 297, 27, 297, 27
2023-05-12 09:48:51.041 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798399814275072 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:48:51.041 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798399805886464 [0;39m <==      Total: 1
2023-05-12 09:48:51.041 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798399814275072 [0;39m ==> Parameters: 
2023-05-12 09:48:51.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798399805886464 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":297,"viewIncrease":297,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:48:51.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798399805886464 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 09:48:51.042 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:48:51.043 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:48:51.044 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:48:51.044 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:48:51.045 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:48:51.045 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:48:51.046 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:48:51.046 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:48:51.046 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:48:51.046 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:48:51.047 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:48:51.047 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:48:51.047 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:48:51.047 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:48:51.049 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:48:51.049 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:48:51.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:48:51.050 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798399814275072 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:48:51.050 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798399814275072 [0;39m <==      Total: 17
2023-05-12 09:48:51.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798399814275072 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:48:51.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798399814275072 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-12 09:48:51.468 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37797796430090241 [0;39m 有新连接：token：fqv0kzLFqK，session id：7，当前连接数：4
2023-05-12 09:48:51.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798401672351744 [0;39m ------------- 开始 -------------
2023-05-12 09:48:51.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798401672351744 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:48:51.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798401672351744 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:48:51.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798401672351744 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:48:51.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798401672351744 [0;39m 请求参数: []
2023-05-12 09:48:51.479 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798401672351744 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:48:51.480 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798401672351744 [0;39m ==> Parameters: 
2023-05-12 09:48:51.481 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37798401672351744 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:48:51.481 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37798401672351744 [0;39m <==        Row: 2023-05-12, 297, 27, 297, 27
2023-05-12 09:48:51.482 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798401672351744 [0;39m <==      Total: 1
2023-05-12 09:48:51.482 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37797796430090242 [0;39m 有新连接：token：eKcpqzE39X，session id：8，当前连接数：5
2023-05-12 09:48:51.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798401672351744 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":297,"viewIncrease":297,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:48:51.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798401672351744 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:48:51.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798401705906177 [0;39m ------------- 开始 -------------
2023-05-12 09:48:51.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798401705906177 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:48:51.484 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798401705906176 [0;39m ------------- 开始 -------------
2023-05-12 09:48:51.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798401705906177 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:48:51.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798401705906176 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:48:51.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798401705906177 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:48:51.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798401705906176 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:48:51.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798401705906176 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:48:51.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798401705906177 [0;39m 请求参数: []
2023-05-12 09:48:51.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798401705906176 [0;39m 请求参数: []
2023-05-12 09:48:51.485 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798401705906177 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:48:51.485 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798401705906176 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:48:51.486 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798401705906177 [0;39m ==> Parameters: 
2023-05-12 09:48:51.486 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798401705906176 [0;39m ==> Parameters: 
2023-05-12 09:48:51.486 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:48:51.486 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798401705906176 [0;39m <==      Total: 0
2023-05-12 09:48:51.486 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:48:51.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798401705906176 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:48:51.487 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:48:51.487 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798401705906176 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 09:48:51.487 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:48:51.487 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:48:51.487 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:48:51.487 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:48:51.487 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:48:51.488 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:48:51.488 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:48:51.488 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:48:51.488 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:48:51.488 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:48:51.489 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:48:51.489 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:48:51.489 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:48:51.489 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:48:51.489 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401705906177 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:48:51.490 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798401705906177 [0;39m <==      Total: 17
2023-05-12 09:48:51.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798401705906177 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:48:51.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798401705906177 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:48:51.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798401777209344 [0;39m ------------- 开始 -------------
2023-05-12 09:48:51.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798401777209344 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:48:51.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798401777209344 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:48:51.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798401777209344 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:48:51.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798401777209344 [0;39m 请求参数: []
2023-05-12 09:48:51.503 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798401777209344 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:48:51.503 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798401777209344 [0;39m ==> Parameters: 
2023-05-12 09:48:51.504 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:48:51.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:48:51.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:48:51.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:48:51.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:48:51.505 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:48:51.506 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:48:51.506 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:48:51.506 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:48:51.506 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:48:51.506 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:48:51.506 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:48:51.507 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:48:51.507 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:48:51.507 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:48:51.507 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:48:51.507 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:48:51.507 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798401777209344 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:48:51.507 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798401777209344 [0;39m <==      Total: 17
2023-05-12 09:48:51.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798401777209344 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:48:51.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798401777209344 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 09:48:51.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798401919815680 [0;39m ------------- 开始 -------------
2023-05-12 09:48:51.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798401919815680 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:48:51.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798401919815680 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:48:51.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798401919815680 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:48:51.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798401919815680 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 09:48:51.537 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37798401919815680 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 09:48:51.537 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37798401919815680 [0;39m ==> Parameters: 
2023-05-12 09:48:51.547 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37798401919815680 [0;39m <==    Columns: count(0)
2023-05-12 09:48:51.548 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37798401919815680 [0;39m <==        Row: 10
2023-05-12 09:48:51.548 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37798401919815680 [0;39m <==      Total: 1
2023-05-12 09:48:51.548 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37798401919815680 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 09:48:51.549 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37798401919815680 [0;39m ==> Parameters: 10(Integer)
2023-05-12 09:48:51.549 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798401919815680 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:48:51.549 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798401919815680 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 8, 6
2023-05-12 09:48:51.550 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798401919815680 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:48:51.550 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798401919815680 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:48:51.550 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798401919815680 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:48:51.550 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798401919815680 [0;39m <==        Row: 5, Oracle 入门教程, 400, 401, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:48:51.551 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798401919815680 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 289, 21
2023-05-12 09:48:51.551 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798401919815680 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:48:51.551 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798401919815680 [0;39m <==        Row: 462370778001408, CSS奇技淫巧, 100, 102, null, https://pic.onlinewebfonts.com/svg/img_573763.png, 0, 0, 0
2023-05-12 09:48:51.551 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798401919815680 [0;39m <==        Row: 462371697897472, MySQL, 400, 401, 数据库MySQL, http://pngimg.com/uploads/mysql/mysql_PNG22.png, 0, 0, 0
2023-05-12 09:48:51.551 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798401919815680 [0;39m <==        Row: 462372096061440, Python入门教程, 300, 301, null, http://upload.mobiletrain.org/2018/1204/1543892567988.jpg, 0, 0, 0
2023-05-12 09:48:51.552 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37798401919815680 [0;39m <==      Total: 10
2023-05-12 09:48:51.552 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37798401919815680 [0;39m 总行数：10
2023-05-12 09:48:51.552 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37798401919815680 [0;39m 总页数：1
2023-05-12 09:48:51.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798401919815680 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":8,"voteCount":6},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":289,"voteCount":21},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":102,"cover":"https://pic.onlinewebfonts.com/svg/img_573763.png","docCount":0,"id":462370778001408,"name":"CSS奇技淫巧","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"cover":"http://pngimg.com/uploads/mysql/mysql_PNG22.png","description":"数据库MySQL","docCount":0,"id":462371697897472,"name":"MySQL","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"cover":"http://upload.mobiletrain.org/2018/1204/1543892567988.jpg","docCount":0,"id":462372096061440,"name":"Python入门教程","viewCount":0,"voteCount":0}],"total":10},"success":true}
2023-05-12 09:48:51.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798401919815680 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-12 09:48:51.877 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37798399810080768 [0;39m 有新连接：token：LMGtn6iJIH，session id：9，当前连接数：6
2023-05-12 09:48:51.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798403396210688 [0;39m ------------- 开始 -------------
2023-05-12 09:48:51.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798403396210688 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:48:51.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798403396210688 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:48:51.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798403396210688 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:48:51.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798403396210688 [0;39m 请求参数: []
2023-05-12 09:48:51.888 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798403396210688 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:48:51.888 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798403396210688 [0;39m ==> Parameters: 
2023-05-12 09:48:51.889 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:48:51.889 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:48:51.889 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:48:51.889 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:48:51.889 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:48:51.889 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:48:51.889 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:48:51.889 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:48:51.890 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:48:51.890 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:48:51.890 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:48:51.890 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:48:51.890 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:48:51.891 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:48:51.891 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:48:51.891 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:48:51.891 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:48:51.891 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798403396210688 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:48:51.892 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798403396210688 [0;39m <==      Total: 17
2023-05-12 09:48:51.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798403396210688 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:48:51.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798403396210688 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 09:48:51.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798403492679680 [0;39m ------------- 开始 -------------
2023-05-12 09:48:51.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798403492679680 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:48:51.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798403492679680 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:48:51.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798403492679680 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:48:51.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798403492679680 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 09:48:51.912 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37798403492679680 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 09:48:51.913 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37798403492679680 [0;39m ==> Parameters: 
2023-05-12 09:48:51.913 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37798403492679680 [0;39m <==    Columns: count(0)
2023-05-12 09:48:51.914 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37798403492679680 [0;39m <==        Row: 10
2023-05-12 09:48:51.914 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37798403492679680 [0;39m <==      Total: 1
2023-05-12 09:48:51.914 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37798403492679680 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 09:48:51.914 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37798403492679680 [0;39m ==> Parameters: 10(Integer)
2023-05-12 09:48:51.915 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798403492679680 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:48:51.915 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798403492679680 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 8, 6
2023-05-12 09:48:51.915 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798403492679680 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:48:51.915 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798403492679680 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:48:51.915 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798403492679680 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:48:51.915 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798403492679680 [0;39m <==        Row: 5, Oracle 入门教程, 400, 401, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:48:51.916 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798403492679680 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 289, 21
2023-05-12 09:48:51.916 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798403492679680 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:48:51.916 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798403492679680 [0;39m <==        Row: 462370778001408, CSS奇技淫巧, 100, 102, null, https://pic.onlinewebfonts.com/svg/img_573763.png, 0, 0, 0
2023-05-12 09:48:51.916 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798403492679680 [0;39m <==        Row: 462371697897472, MySQL, 400, 401, 数据库MySQL, http://pngimg.com/uploads/mysql/mysql_PNG22.png, 0, 0, 0
2023-05-12 09:48:51.916 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798403492679680 [0;39m <==        Row: 462372096061440, Python入门教程, 300, 301, null, http://upload.mobiletrain.org/2018/1204/1543892567988.jpg, 0, 0, 0
2023-05-12 09:48:51.916 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37798403492679680 [0;39m <==      Total: 10
2023-05-12 09:48:51.917 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37798403492679680 [0;39m 总行数：10
2023-05-12 09:48:51.917 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37798403492679680 [0;39m 总页数：1
2023-05-12 09:48:51.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798403492679680 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":8,"voteCount":6},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":289,"voteCount":21},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":102,"cover":"https://pic.onlinewebfonts.com/svg/img_573763.png","docCount":0,"id":462370778001408,"name":"CSS奇技淫巧","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"cover":"http://pngimg.com/uploads/mysql/mysql_PNG22.png","description":"数据库MySQL","docCount":0,"id":462371697897472,"name":"MySQL","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"cover":"http://upload.mobiletrain.org/2018/1204/1543892567988.jpg","docCount":0,"id":462372096061440,"name":"Python入门教程","viewCount":0,"voteCount":0}],"total":10},"success":true}
2023-05-12 09:48:51.919 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798403492679680 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 09:49:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37798437432987648 [0;39m 生成今日电子书快照开始
2023-05-12 09:49:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37798437432987648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:49:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37798437432987648 [0;39m ==> Parameters: 
2023-05-12 09:49:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37798437432987648 [0;39m <==    Updates: 0
2023-05-12 09:49:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37798437432987648 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 09:49:05.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37798458492588032 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:49:05.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798458492588032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:49:05.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798458492588032 [0;39m ==> Parameters: 
2023-05-12 09:49:05.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798458492588032 [0;39m <==    Updates: 2
2023-05-12 09:49:05.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37798458492588032 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:49:10.546 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37797796430090241 [0;39m 连接关闭，token：dsLMs2MYXN，session id：6！当前连接数：5
2023-05-12 09:49:10.546 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37798401672351744 [0;39m 连接关闭，token：m6YDAyNlgT，session id：5！当前连接数：3
2023-05-12 09:49:10.546 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37797796430090242 [0;39m 连接关闭，token：eKcpqzE39X，session id：8！当前连接数：4
2023-05-12 09:49:12.499 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37798401705906176 [0;39m 有新连接：token：py1XRmNrx0，session id：a，当前连接数：4
2023-05-12 09:49:12.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798490511904769 [0;39m ------------- 开始 -------------
2023-05-12 09:49:12.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798490511904769 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:49:12.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798490511904769 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:49:12.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798490511904769 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:49:12.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798490511904770 [0;39m ------------- 开始 -------------
2023-05-12 09:49:12.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798490511904769 [0;39m 请求参数: []
2023-05-12 09:49:12.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798490511904768 [0;39m ------------- 开始 -------------
2023-05-12 09:49:12.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798490511904768 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:49:12.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798490511904768 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:49:12.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798490511904768 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:49:12.659 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798490511904769 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:49:12.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798490511904768 [0;39m 请求参数: []
2023-05-12 09:49:12.659 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798490511904769 [0;39m ==> Parameters: 
2023-05-12 09:49:12.659 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798490511904768 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:49:12.659 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798490511904768 [0;39m ==> Parameters: 
2023-05-12 09:49:12.660 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798490511904769 [0;39m <==      Total: 0
2023-05-12 09:49:12.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798490511904769 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:49:12.660 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37798490511904768 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:49:12.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798490511904769 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 09:49:12.661 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37798490511904768 [0;39m <==        Row: 2023-05-12, 297, 27, 297, 27
2023-05-12 09:49:12.661 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798490511904768 [0;39m <==      Total: 1
2023-05-12 09:49:12.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798490511904770 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:49:12.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798490511904768 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":297,"viewIncrease":297,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:49:12.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798490511904770 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:49:12.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798490511904770 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:49:12.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798490511904768 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:49:12.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798490511904770 [0;39m 请求参数: []
2023-05-12 09:49:12.663 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798490511904770 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:49:12.663 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798490511904770 [0;39m ==> Parameters: 
2023-05-12 09:49:12.663 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:49:12.664 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:49:12.664 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:49:12.664 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:49:12.664 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:49:12.664 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:49:12.665 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:49:12.665 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:49:12.665 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:49:12.665 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:49:12.666 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:49:12.666 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:49:12.666 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:49:12.666 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:49:12.666 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:49:12.666 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:49:12.667 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:49:12.667 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798490511904770 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:49:12.667 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798490511904770 [0;39m <==      Total: 17
2023-05-12 09:49:12.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798490511904770 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:49:12.668 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798490511904770 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 09:49:31.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798568739868672 [0;39m ------------- 开始 -------------
2023-05-12 09:49:31.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798568739868672 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 09:49:31.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798568739868672 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 09:49:31.308 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798568739868672 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:49:31.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798568739868672 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-12 09:49:31.309 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37798568739868672 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 09:49:31.310 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37798568739868672 [0;39m ==> Parameters: test(String)
2023-05-12 09:49:31.310 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37798568739868672 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 09:49:31.311 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37798568739868672 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:49:31.311 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37798568739868672 [0;39m <==      Total: 1
2023-05-12 09:49:31.311 INFO  com.jiawa.wiki.controller.UserController          :79   [32m37798568739868672 [0;39m 生成单点登录token：37798568752451584，并放入redis中
2023-05-12 09:49:31.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798568739868672 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"测试","token":"37798568752451584"},"success":true}
2023-05-12 09:49:31.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798568739868672 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:49:34.860 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37798403396210688 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:49:34.861 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37798403396210688 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 09:49:34.861 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37798403396210688 [0;39m 登录校验开始，token：37798568752451584
2023-05-12 09:49:34.861 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37798403396210688 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37798568752451584"}
2023-05-12 09:49:34.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798583646425088 [0;39m ------------- 开始 -------------
2023-05-12 09:49:34.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798583646425088 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 09:49:34.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798583646425088 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 09:49:34.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798583646425088 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:49:34.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798583646425088 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 09:49:34.863 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37798583646425088 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 09:49:34.863 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37798583646425088 [0;39m ==> Parameters: 
2023-05-12 09:49:34.866 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37798583646425088 [0;39m <==    Columns: count(0)
2023-05-12 09:49:34.866 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37798583646425088 [0;39m <==        Row: 2
2023-05-12 09:49:34.867 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37798583646425088 [0;39m <==      Total: 1
2023-05-12 09:49:34.867 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37798583646425088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 09:49:34.867 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37798583646425088 [0;39m ==> Parameters: 10(Integer)
2023-05-12 09:49:34.868 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37798583646425088 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 09:49:34.868 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37798583646425088 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:49:34.868 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37798583646425088 [0;39m <==        Row: 147010339005927424, lang, 浪亓, 2bc0ef47182d889db7d96abf3503b518
2023-05-12 09:49:34.869 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37798583646425088 [0;39m <==      Total: 2
2023-05-12 09:49:34.869 INFO  com.jiawa.wiki.service.UserService                :49   [32m37798583646425088 [0;39m 总行数：2
2023-05-12 09:49:34.869 INFO  com.jiawa.wiki.service.UserService                :50   [32m37798583646425088 [0;39m 总页数：1
2023-05-12 09:49:34.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798583646425088 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":147010339005927424,"loginName":"lang","name":"浪亓"}],"total":2},"success":true}
2023-05-12 09:49:34.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798583646425088 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 09:49:34.870 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37798583646425088 [0;39m ------------- LoginInterceptor 结束 耗时：9 ms -------------
2023-05-12 09:49:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37798584229433344 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:49:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798584229433344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:49:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798584229433344 [0;39m ==> Parameters: 
2023-05-12 09:49:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798584229433344 [0;39m <==    Updates: 2
2023-05-12 09:49:35.001 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37798584229433344 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:50:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37798689116393472 [0;39m 生成今日电子书快照开始
2023-05-12 09:50:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37798689116393472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:50:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37798689116393472 [0;39m ==> Parameters: 
2023-05-12 09:50:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37798689116393472 [0;39m <==    Updates: 0
2023-05-12 09:50:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37798689116393472 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 09:50:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37798710092107776 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:50:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798710092107776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:50:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798710092107776 [0;39m ==> Parameters: 
2023-05-12 09:50:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798710092107776 [0;39m <==    Updates: 2
2023-05-12 09:50:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37798710092107776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:50:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37798835958976512 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:50:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798835958976512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:50:35.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798835958976512 [0;39m ==> Parameters: 
2023-05-12 09:50:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798835958976512 [0;39m <==    Updates: 2
2023-05-12 09:50:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37798835958976512 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:50:47.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798889138556929 [0;39m ------------- 开始 -------------
2023-05-12 09:50:47.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798889138556929 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:50:47.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798889138556929 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:50:47.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798889146945536 [0;39m ------------- 开始 -------------
2023-05-12 09:50:47.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798889146945536 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:50:47.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798889146945536 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:50:47.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798889146945536 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:50:47.700 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798889146945536 [0;39m 请求参数: []
2023-05-12 09:50:47.701 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798889146945536 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:50:47.701 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798889146945536 [0;39m ==> Parameters: 
2023-05-12 09:50:47.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798889138556929 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:50:47.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798889138556929 [0;39m 请求参数: []
2023-05-12 09:50:47.702 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:50:47.702 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:50:47.702 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798889138556929 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:50:47.702 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:50:47.702 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798889138556929 [0;39m ==> Parameters: 
2023-05-12 09:50:47.702 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:50:47.703 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:50:47.703 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:50:47.703 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:50:47.703 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:50:47.703 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798889138556929 [0;39m <==      Total: 0
2023-05-12 09:50:47.703 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:50:47.703 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:50:47.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798889138556928 [0;39m ------------- 开始 -------------
2023-05-12 09:50:47.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798889138556929 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:50:47.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798889138556929 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 09:50:47.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:50:47.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:50:47.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:50:47.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:50:47.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:50:47.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:50:47.705 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:50:47.705 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798889146945536 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:50:47.705 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798889146945536 [0;39m <==      Total: 17
2023-05-12 09:50:47.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798889146945536 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:50:47.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798889146945536 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 09:50:47.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798889138556928 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:50:47.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798889138556928 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:50:47.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798889138556928 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:50:47.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798889138556928 [0;39m 请求参数: []
2023-05-12 09:50:47.708 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798889138556928 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:50:47.708 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798889138556928 [0;39m ==> Parameters: 
2023-05-12 09:50:47.709 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37798889138556928 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:50:47.709 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37798889138556928 [0;39m <==        Row: 2023-05-12, 297, 27, 297, 27
2023-05-12 09:50:47.709 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798889138556928 [0;39m <==      Total: 1
2023-05-12 09:50:47.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798889138556928 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":297,"viewIncrease":297,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:50:47.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798889138556928 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 09:50:48.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798894213664768 [0;39m ------------- 开始 -------------
2023-05-12 09:50:48.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798894213664768 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:50:48.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798894213664768 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:50:48.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798894213664768 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:50:48.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798894213664768 [0;39m 请求参数: [{"categoryId2":491694010593280,"page":1,"size":1000}]
2023-05-12 09:50:48.912 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37798894213664768 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:50:48.913 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37798894213664768 [0;39m ==> Parameters: 491694010593280(Long)
2023-05-12 09:50:48.913 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37798894213664768 [0;39m <==    Columns: count(0)
2023-05-12 09:50:48.913 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37798894213664768 [0;39m <==        Row: 0
2023-05-12 09:50:48.913 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37798894213664768 [0;39m <==      Total: 1
2023-05-12 09:50:48.914 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37798894213664768 [0;39m 总行数：0
2023-05-12 09:50:48.914 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37798894213664768 [0;39m 总页数：0
2023-05-12 09:50:48.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798894213664768 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 09:50:48.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798894213664768 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 09:50:49.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798897766240256 [0;39m ------------- 开始 -------------
2023-05-12 09:50:49.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798897766240256 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 09:50:49.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798897766240256 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 09:50:49.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798897766240256 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:50:49.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798897766240256 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 09:50:49.756 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37798897766240256 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 09:50:49.757 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37798897766240256 [0;39m ==> Parameters: 101(Long)
2023-05-12 09:50:49.757 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37798897766240256 [0;39m <==    Columns: count(0)
2023-05-12 09:50:49.757 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37798897766240256 [0;39m <==        Row: 3
2023-05-12 09:50:49.757 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37798897766240256 [0;39m <==      Total: 1
2023-05-12 09:50:49.758 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37798897766240256 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 09:50:49.758 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37798897766240256 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 09:50:49.758 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798897766240256 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 09:50:49.759 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798897766240256 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 09:50:49.759 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798897766240256 [0;39m <==        Row: 453524338094080, Vue入门教程, 100, 101, 零基础入门vue开发, https://cn.vuejs.org/images/logo.svg, 5, 289, 21
2023-05-12 09:50:49.759 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37798897766240256 [0;39m <==        Row: 457729562062849, JS高级教程, 100, 101, 0基础学习JavaScript, http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg, 0, 0, 0
2023-05-12 09:50:49.759 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37798897766240256 [0;39m <==      Total: 3
2023-05-12 09:50:49.759 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37798897766240256 [0;39m 总行数：3
2023-05-12 09:50:49.759 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37798897766240256 [0;39m 总页数：1
2023-05-12 09:50:49.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798897766240256 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":100,"category2Id":101,"cover":"https://cn.vuejs.org/images/logo.svg","description":"零基础入门vue开发","docCount":5,"id":453524338094080,"name":"Vue入门教程","viewCount":289,"voteCount":21},{"category1Id":100,"category2Id":101,"cover":"http://ku.90sjimg.com/element_origin_min_pic/00/85/77/1956e9e3afe5091.jpg","description":"0基础学习JavaScript","docCount":0,"id":457729562062849,"name":"JS高级教程","viewCount":0,"voteCount":0}],"total":3},"success":true}
2023-05-12 09:50:49.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798897766240256 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:51:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37798940749467648 [0;39m 生成今日电子书快照开始
2023-05-12 09:51:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37798940749467648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:51:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37798940749467648 [0;39m ==> Parameters: 
2023-05-12 09:51:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37798940749467648 [0;39m <==    Updates: 0
2023-05-12 09:51:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37798940749467648 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 09:51:03.856 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37798568739868672 [0;39m 连接关闭，token：py1XRmNrx0，session id：a！当前连接数：3
2023-05-12 09:51:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37798961729376256 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:51:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798961729376256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:51:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798961729376256 [0;39m ==> Parameters: 
2023-05-12 09:51:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37798961729376256 [0;39m <==    Updates: 2
2023-05-12 09:51:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37798961729376256 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:51:05.458 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37798583646425088 [0;39m 有新连接：token：I8N51oduCs，session id：b，当前连接数：4
2023-05-12 09:51:05.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798964141101056 [0;39m ------------- 开始 -------------
2023-05-12 09:51:05.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798964141101056 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:51:05.579 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798964141101056 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:51:05.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798964141101056 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:51:05.580 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798964141101056 [0;39m 请求参数: []
2023-05-12 09:51:05.580 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798964141101056 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:51:05.581 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798964141101056 [0;39m ==> Parameters: 
2023-05-12 09:51:05.581 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37798964141101056 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:51:05.582 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37798964141101056 [0;39m <==        Row: 2023-05-12, 297, 27, 297, 27
2023-05-12 09:51:05.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798964153683969 [0;39m ------------- 开始 -------------
2023-05-12 09:51:05.582 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37798964141101056 [0;39m <==      Total: 1
2023-05-12 09:51:05.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798964153683969 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:51:05.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37798964153683968 [0;39m ------------- 开始 -------------
2023-05-12 09:51:05.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798964153683969 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:51:05.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798964141101056 [0;39m 返回结果: {"content":[{"date":1683820800000,"viewCount":297,"viewIncrease":297,"voteCount":27,"voteIncrease":27}],"success":true}
2023-05-12 09:51:05.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37798964153683968 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:51:05.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798964153683969 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:51:05.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798964141101056 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:51:05.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37798964153683968 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:51:05.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798964153683969 [0;39m 请求参数: []
2023-05-12 09:51:05.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37798964153683968 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:51:05.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37798964153683968 [0;39m 请求参数: []
2023-05-12 09:51:05.583 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798964153683969 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:51:05.584 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798964153683968 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:51:05.584 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798964153683969 [0;39m ==> Parameters: 
2023-05-12 09:51:05.584 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798964153683968 [0;39m ==> Parameters: 
2023-05-12 09:51:05.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:51:05.584 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37798964153683968 [0;39m <==      Total: 0
2023-05-12 09:51:05.584 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 491694010593280, 100, React, null
2023-05-12 09:51:05.585 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:51:05.585 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798964153683968 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 09:51:05.585 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798964153683968 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 09:51:05.585 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:51:05.585 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:51:05.585 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:51:05.586 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:51:05.586 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 279292374214119424, 200, SpringMvc, 201
2023-05-12 09:51:05.586 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:51:05.586 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:51:05.586 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:51:05.586 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:51:05.587 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:51:05.587 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:51:05.587 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:51:05.587 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:51:05.587 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:51:05.588 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37798964153683969 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:51:05.588 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37798964153683969 [0;39m <==      Total: 17
2023-05-12 09:51:05.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37798964153683969 [0;39m 返回结果: {"content":[{"id":491694010593280,"name":"React","parent":100},{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":279292374214119424,"name":"SpringMvc","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:51:05.588 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37798964153683969 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:51:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37799087604633600 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:51:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799087604633600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:51:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799087604633600 [0;39m ==> Parameters: 
2023-05-12 09:51:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799087604633600 [0;39m <==    Updates: 2
2023-05-12 09:51:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37799087604633600 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 09:51:37.195 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：LMGtn6iJIH，session id：9！当前连接数：3
2023-05-12 09:51:37.196 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：5Bov1TkBC9，session id：0！当前连接数：2
2023-05-12 09:51:37.196 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：I8N51oduCs，session id：b！当前连接数：1
2023-05-12 09:51:37.197 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：fqv0kzLFqK，session id：7！当前连接数：0
2023-05-12 09:51:37.247 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 09:51:37.250 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-12 09:51:37.251 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-12 09:51:37.251 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-12 09:51:37.261 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-12 09:51:37.383 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-12 09:51:37.385 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10911] result: true
2023-05-12 09:51:37.385 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10909] result: true
2023-05-12 09:51:37.390 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-12 09:51:37.390 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-12 09:51:40.533 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 16832 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-12 09:51:40.536 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-12 09:51:40.564 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-12 09:51:40.582 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-12 09:51:40.582 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-12 09:51:41.256 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-12 09:51:41.257 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-12 09:51:41.282 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2023-05-12 09:51:41.472 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$ac0a6929] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:41.482 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.337 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.340 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$4e44de2a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.348 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.350 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.353 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.354 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.356 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.359 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.359 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.374 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.375 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.381 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.384 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:42.505 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:44.528 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:44.529 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 09:51:45.071 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-12 09:51:45.079 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-12 09:51:45.079 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-12 09:51:45.079 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-12 09:51:45.180 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-12 09:51:45.180 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 4597 ms
2023-05-12 09:51:46.145 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-12 09:51:46.447 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-12 09:51:46.492 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-12 09:51:46.975 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 09:51:46.976 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-12 09:51:46.985 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-12 09:51:46.997 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-12 09:51:47.009 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 6.913 seconds (JVM running for 7.758)
2023-05-12 09:51:47.010 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-12 09:51:47.011 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-12 09:52:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37799192428679168 [0;39m 生成今日电子书快照开始
2023-05-12 09:52:00.022 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m37799192428679168 [0;39m HikariPool-1 - Starting...
2023-05-12 09:52:00.453 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m37799192428679168 [0;39m HikariPool-1 - Start completed.
2023-05-12 09:52:00.457 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37799192428679168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:52:00.470 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37799192428679168 [0;39m ==> Parameters: 
2023-05-12 09:52:00.479 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37799192428679168 [0;39m <==    Updates: 0
2023-05-12 09:52:00.482 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37799192428679168 [0;39m 生成今日电子书快照结束，耗时：475毫秒
2023-05-12 09:52:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37799213387616256 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:52:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799213387616256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:52:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799213387616256 [0;39m ==> Parameters: 
2023-05-12 09:52:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799213387616256 [0;39m <==    Updates: 1
2023-05-12 09:52:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37799213387616256 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-12 09:52:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37799339216736256 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:52:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799339216736256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:52:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799339216736256 [0;39m ==> Parameters: 
2023-05-12 09:52:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799339216736256 [0;39m <==    Updates: 1
2023-05-12 09:52:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37799339216736256 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:53:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37799444086919168 [0;39m 生成今日电子书快照开始
2023-05-12 09:53:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37799444086919168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:53:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37799444086919168 [0;39m ==> Parameters: 
2023-05-12 09:53:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37799444086919168 [0;39m <==    Updates: 0
2023-05-12 09:53:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37799444086919168 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 09:53:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37799465050050560 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:53:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799465050050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:53:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799465050050560 [0;39m ==> Parameters: 
2023-05-12 09:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799465050050560 [0;39m <==    Updates: 1
2023-05-12 09:53:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37799465050050560 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:53:10.748 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-12 09:53:10.748 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-12 09:53:10.749 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-12 09:53:10.803 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：ypjcOoUpOC，session id：0，当前连接数：1
2023-05-12 09:53:10.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37799489481871361 [0;39m ------------- 开始 -------------
2023-05-12 09:53:10.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37799489481871360 [0;39m ------------- 开始 -------------
2023-05-12 09:53:10.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37799489481871362 [0;39m ------------- 开始 -------------
2023-05-12 09:53:10.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37799489481871361 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:53:10.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37799489481871362 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:53:10.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37799489481871360 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:53:10.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37799489481871362 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:53:10.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37799489481871361 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:53:10.833 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37799489481871360 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:53:10.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37799489481871362 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:53:10.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37799489481871361 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:53:10.834 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37799489481871360 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:53:10.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37799489481871362 [0;39m 请求参数: []
2023-05-12 09:53:10.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37799489481871360 [0;39m 请求参数: []
2023-05-12 09:53:10.835 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37799489481871361 [0;39m 请求参数: []
2023-05-12 09:53:10.841 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37799489481871360 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:53:10.842 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37799489481871362 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:53:10.842 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37799489481871360 [0;39m ==> Parameters: 
2023-05-12 09:53:10.842 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37799489481871362 [0;39m ==> Parameters: 
2023-05-12 09:53:10.859 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37799489481871360 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:53:10.859 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37799489481871362 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 09:53:10.860 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37799489481871360 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 09:53:10.860 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37799489481871362 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 09:53:10.862 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37799489481871361 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:53:10.862 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37799489481871361 [0;39m ==> Parameters: 
2023-05-12 09:53:10.863 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37799489481871362 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 09:53:10.863 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37799489481871360 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 09:53:10.864 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37799489481871362 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 09:53:10.864 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37799489481871360 [0;39m <==      Total: 2
2023-05-12 09:53:10.864 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:53:10.864 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37799489481871362 [0;39m <==      Total: 3
2023-05-12 09:53:10.864 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:53:10.864 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:53:10.864 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:53:10.866 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:53:10.866 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:53:10.866 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:53:10.867 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:53:10.867 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:53:10.867 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:53:10.868 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:53:10.868 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:53:10.869 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:53:10.869 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:53:10.869 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:53:10.869 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799489481871361 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:53:10.870 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37799489481871361 [0;39m <==      Total: 15
2023-05-12 09:53:10.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37799489481871360 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 09:53:10.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37799489481871362 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 09:53:10.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37799489481871360 [0;39m ------------- 结束 耗时：59 ms -------------
2023-05-12 09:53:10.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37799489481871362 [0;39m ------------- 结束 耗时：59 ms -------------
2023-05-12 09:53:10.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37799489481871361 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:53:10.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37799489481871361 [0;39m ------------- 结束 耗时：62 ms -------------
2023-05-12 09:53:16.694 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:53:16.694 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 09:53:16.735 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:53:16.735 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/37798568752451584
2023-05-12 09:53:16.735 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：37798568752451584
2023-05-12 09:53:16.889 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37798568752451584"}
2023-05-12 09:53:16.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37799514949685248 [0;39m ------------- 开始 -------------
2023-05-12 09:53:16.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37799514949685248 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/37798568752451584 GET
2023-05-12 09:53:16.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37799514949685248 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-12 09:53:16.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37799514949685248 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:53:16.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37799514949685248 [0;39m 请求参数: ["37798568752451584"]
2023-05-12 09:53:16.910 INFO  com.jiawa.wiki.controller.UserController          :90   [32m37799514949685248 [0;39m 从redis中删除token: 37798568752451584
2023-05-12 09:53:16.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37799514949685248 [0;39m 返回结果: {"success":true}
2023-05-12 09:53:16.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37799514949685248 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 09:53:16.911 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37799514949685248 [0;39m ------------- LoginInterceptor 结束 耗时：176 ms -------------
2023-05-12 09:53:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37799590874976256 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:53:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799590874976256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:53:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799590874976256 [0;39m ==> Parameters: 
2023-05-12 09:53:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799590874976256 [0;39m <==    Updates: 1
2023-05-12 09:53:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37799590874976256 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:54:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37799695736770560 [0;39m 生成今日电子书快照开始
2023-05-12 09:54:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37799695736770560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:54:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37799695736770560 [0;39m ==> Parameters: 
2023-05-12 09:54:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37799695736770560 [0;39m <==    Updates: 0
2023-05-12 09:54:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37799695736770560 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 09:54:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37799716720873472 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:54:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799716720873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:54:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799716720873472 [0;39m ==> Parameters: 
2023-05-12 09:54:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799716720873472 [0;39m <==    Updates: 1
2023-05-12 09:54:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37799716720873472 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:54:18.657 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :29   [32m                  [0;39m 参数校验失败：【用户名】不能为空
2023-05-12 09:54:18.660 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m                  [0;39m Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.jiawa.wiki.resp.CommonResp com.jiawa.wiki.controller.UserController.login(com.jiawa.wiki.req.UserLoginReq): [Field error in object 'userLoginReq' on field 'loginName': rejected value []; codes [NotEmpty.userLoginReq.loginName,NotEmpty.loginName,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userLoginReq.loginName,loginName]; arguments []; default message [loginName]]; default message [【用户名】不能为空]] ]
2023-05-12 09:54:29.343 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：ypjcOoUpOC，session id：0！当前连接数：0
2023-05-12 09:54:31.503 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37799489481871362 [0;39m 有新连接：token：LAHPPzlyL2，session id：1，当前连接数：1
2023-05-12 09:54:31.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37799828427771904 [0;39m ------------- 开始 -------------
2023-05-12 09:54:31.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37799828427771904 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:54:31.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37799828427771904 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:54:31.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37799828427771904 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:54:31.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37799828427771904 [0;39m 请求参数: []
2023-05-12 09:54:31.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37799828431966208 [0;39m ------------- 开始 -------------
2023-05-12 09:54:31.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37799828431966208 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:54:31.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37799828431966208 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:54:31.643 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37799828427771904 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:54:31.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37799828431966208 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:54:31.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37799828431966208 [0;39m 请求参数: []
2023-05-12 09:54:31.643 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37799828427771904 [0;39m ==> Parameters: 
2023-05-12 09:54:31.643 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37799828431966208 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:54:31.644 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37799828431966208 [0;39m ==> Parameters: 
2023-05-12 09:54:31.644 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37799828427771904 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:54:31.644 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37799828431966208 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 09:54:31.645 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37799828427771904 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 09:54:31.645 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37799828431966208 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 09:54:31.645 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37799828427771904 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 09:54:31.645 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37799828431966208 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 09:54:31.645 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37799828427771904 [0;39m <==      Total: 2
2023-05-12 09:54:31.645 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37799828431966208 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 09:54:31.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37799828427771904 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 09:54:31.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37799828427771904 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 09:54:31.646 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37799828431966208 [0;39m <==      Total: 3
2023-05-12 09:54:31.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37799828431966208 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 09:54:31.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37799828431966208 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:54:31.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37799828469714944 [0;39m ------------- 开始 -------------
2023-05-12 09:54:31.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37799828469714944 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:54:31.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37799828469714944 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:54:31.651 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37799828469714944 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:54:31.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37799828469714944 [0;39m 请求参数: []
2023-05-12 09:54:31.652 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37799828469714944 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:54:31.653 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37799828469714944 [0;39m ==> Parameters: 
2023-05-12 09:54:31.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:54:31.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:54:31.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:54:31.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:54:31.657 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:54:31.657 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:54:31.657 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:54:31.658 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:54:31.658 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:54:31.658 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:54:31.658 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:54:31.659 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:54:31.659 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:54:31.659 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:54:31.659 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:54:31.659 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799828469714944 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:54:31.660 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37799828469714944 [0;39m <==      Total: 15
2023-05-12 09:54:31.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37799828469714944 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:54:31.662 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37799828469714944 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 09:54:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37799842541604864 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:54:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799842541604864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:54:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799842541604864 [0;39m ==> Parameters: 
2023-05-12 09:54:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799842541604864 [0;39m <==    Updates: 1
2023-05-12 09:54:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37799842541604864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:54:37.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37799852767318016 [0;39m ------------- 开始 -------------
2023-05-12 09:54:37.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37799852767318016 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 09:54:37.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37799852767318016 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 09:54:37.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37799852767318016 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:54:37.449 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37799852767318016 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-12 09:54:37.466 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37799852767318016 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 09:54:37.467 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37799852767318016 [0;39m ==> Parameters: test(String)
2023-05-12 09:54:37.475 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37799852767318016 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 09:54:37.475 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37799852767318016 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 09:54:37.475 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37799852767318016 [0;39m <==      Total: 1
2023-05-12 09:54:37.481 INFO  com.jiawa.wiki.controller.UserController          :79   [32m37799852767318016 [0;39m 生成单点登录token：37799852922507264，并放入redis中
2023-05-12 09:54:37.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37799852767318016 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"测试","token":"37799852922507264"},"success":true}
2023-05-12 09:54:37.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37799852767318016 [0;39m ------------- 结束 耗时：41 ms -------------
2023-05-12 09:54:39.649 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:54:39.650 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 09:54:39.671 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 09:54:39.671 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/37799852922507264
2023-05-12 09:54:39.671 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：37799852922507264
2023-05-12 09:54:39.672 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37799852922507264"}
2023-05-12 09:54:39.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37799862112227328 [0;39m ------------- 开始 -------------
2023-05-12 09:54:39.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37799862112227328 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/37799852922507264 GET
2023-05-12 09:54:39.672 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37799862112227328 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-12 09:54:39.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37799862112227328 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:54:39.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37799862112227328 [0;39m 请求参数: ["37799852922507264"]
2023-05-12 09:54:39.673 INFO  com.jiawa.wiki.controller.UserController          :90   [32m37799862112227328 [0;39m 从redis中删除token: 37799852922507264
2023-05-12 09:54:39.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37799862112227328 [0;39m 返回结果: {"success":true}
2023-05-12 09:54:39.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37799862112227328 [0;39m ------------- 结束 耗时：1 ms -------------
2023-05-12 09:54:39.679 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37799862112227328 [0;39m ------------- LoginInterceptor 结束 耗时：8 ms -------------
2023-05-12 09:55:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37799947424370688 [0;39m 生成今日电子书快照开始
2023-05-12 09:55:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37799947424370688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:55:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37799947424370688 [0;39m ==> Parameters: 
2023-05-12 09:55:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37799947424370688 [0;39m <==    Updates: 0
2023-05-12 09:55:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37799947424370688 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 09:55:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37799968416862208 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:55:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799968416862208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:55:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799968416862208 [0;39m ==> Parameters: 
2023-05-12 09:55:05.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37799968416862208 [0;39m <==    Updates: 1
2023-05-12 09:55:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37799968416862208 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:55:06.292 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：LAHPPzlyL2，session id：1！当前连接数：0
2023-05-12 09:55:10.054 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：BO3hzvYrPU，session id：2，当前连接数：1
2023-05-12 09:55:10.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37799990663450625 [0;39m ------------- 开始 -------------
2023-05-12 09:55:10.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37799990663450624 [0;39m ------------- 开始 -------------
2023-05-12 09:55:10.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37799990663450625 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:55:10.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37799990663450624 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:55:10.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37799990663450625 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:55:10.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37799990663450625 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:55:10.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37799990663450624 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:55:10.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37799990663450625 [0;39m 请求参数: []
2023-05-12 09:55:10.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37799990663450624 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:55:10.322 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37799990663450624 [0;39m 请求参数: []
2023-05-12 09:55:10.322 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37799990663450625 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:55:10.322 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37799990663450624 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:55:10.323 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37799990663450624 [0;39m ==> Parameters: 
2023-05-12 09:55:10.323 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37799990663450625 [0;39m ==> Parameters: 
2023-05-12 09:55:10.324 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37799990663450624 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:55:10.324 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37799990663450625 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 09:55:10.324 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37799990663450625 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 09:55:10.324 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37799990663450624 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 09:55:10.324 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37799990663450625 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 09:55:10.324 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37799990663450624 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 09:55:10.325 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37799990663450625 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 09:55:10.325 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37799990663450624 [0;39m <==      Total: 2
2023-05-12 09:55:10.325 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37799990663450625 [0;39m <==      Total: 3
2023-05-12 09:55:10.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37799990663450624 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 09:55:10.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37799990663450624 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:55:10.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37799990663450625 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 09:55:10.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37799990663450625 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:55:10.347 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37799990772502528 [0;39m ------------- 开始 -------------
2023-05-12 09:55:10.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37799990772502528 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:55:10.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37799990772502528 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:55:10.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37799990772502528 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:55:10.348 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37799990772502528 [0;39m 请求参数: []
2023-05-12 09:55:10.349 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37799990772502528 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:55:10.349 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37799990772502528 [0;39m ==> Parameters: 
2023-05-12 09:55:10.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:55:10.351 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:55:10.351 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:55:10.351 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:55:10.352 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:55:10.352 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:55:10.353 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:55:10.353 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:55:10.353 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:55:10.353 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:55:10.353 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:55:10.355 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:55:10.355 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:55:10.355 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:55:10.355 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:55:10.356 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37799990772502528 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:55:10.356 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37799990772502528 [0;39m <==      Total: 15
2023-05-12 09:55:10.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37799990772502528 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:55:10.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37799990772502528 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 09:55:26.365 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37799828431966208 [0;39m 连接关闭，token：BO3hzvYrPU，session id：2！当前连接数：0
2023-05-12 09:55:27.979 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37799828469714944 [0;39m 有新连接：token：SDPlOzPP8I，session id：3，当前连接数：1
2023-05-12 09:55:28.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37800065263341569 [0;39m ------------- 开始 -------------
2023-05-12 09:55:28.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37800065263341568 [0;39m ------------- 开始 -------------
2023-05-12 09:55:28.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37800065263341569 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:55:28.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37800065263341568 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:55:28.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37800065263341569 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:55:28.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37800065263341568 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:55:28.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37800065263341569 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:55:28.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37800065263341568 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:55:28.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37800065263341569 [0;39m 请求参数: []
2023-05-12 09:55:28.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37800065263341568 [0;39m 请求参数: []
2023-05-12 09:55:28.108 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37800065263341569 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:55:28.108 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37800065263341568 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:55:28.108 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37800065263341569 [0;39m ==> Parameters: 
2023-05-12 09:55:28.108 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37800065263341568 [0;39m ==> Parameters: 
2023-05-12 09:55:28.109 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37800065263341568 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:55:28.109 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37800065263341569 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 09:55:28.109 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37800065263341568 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 09:55:28.109 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37800065263341569 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 09:55:28.110 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37800065263341568 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 09:55:28.110 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37800065263341569 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 09:55:28.111 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37800065263341568 [0;39m <==      Total: 2
2023-05-12 09:55:28.111 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37800065263341569 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 09:55:28.111 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37800065263341569 [0;39m <==      Total: 3
2023-05-12 09:55:28.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37800065263341568 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 09:55:28.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37800065263341568 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 09:55:28.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37800065263341569 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 09:55:28.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37800065296896000 [0;39m ------------- 开始 -------------
2023-05-12 09:55:28.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37800065296896000 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:55:28.120 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37800065263341569 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 09:55:28.121 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37800065296896000 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:55:28.121 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37800065296896000 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:55:28.121 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37800065296896000 [0;39m 请求参数: []
2023-05-12 09:55:28.122 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37800065296896000 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:55:28.122 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37800065296896000 [0;39m ==> Parameters: 
2023-05-12 09:55:28.123 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:55:28.123 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:55:28.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:55:28.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:55:28.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:55:28.124 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:55:28.125 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:55:28.125 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:55:28.125 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:55:28.126 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:55:28.126 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:55:28.126 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:55:28.126 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:55:28.127 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:55:28.127 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:55:28.127 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800065296896000 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:55:28.127 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37800065296896000 [0;39m <==      Total: 15
2023-05-12 09:55:28.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37800065296896000 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:55:28.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37800065296896000 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 09:55:34.929 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：SDPlOzPP8I，session id：3！当前连接数：0
2023-05-12 09:55:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37800094233399296 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:55:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800094233399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:55:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800094233399296 [0;39m ==> Parameters: 
2023-05-12 09:55:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800094233399296 [0;39m <==    Updates: 1
2023-05-12 09:55:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37800094233399296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:55:36.486 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：cHgDz07pZx，session id：4，当前连接数：1
2023-05-12 09:55:36.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37800100931702784 [0;39m ------------- 开始 -------------
2023-05-12 09:55:36.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37800100931702785 [0;39m ------------- 开始 -------------
2023-05-12 09:55:36.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37800100931702784 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:55:36.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37800100931702785 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:55:36.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37800100931702784 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:55:36.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37800100931702785 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:55:36.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37800100931702784 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:55:36.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37800100931702785 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:55:36.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37800100931702784 [0;39m 请求参数: []
2023-05-12 09:55:36.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37800100931702785 [0;39m 请求参数: []
2023-05-12 09:55:36.613 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37800100931702785 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:55:36.613 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37800100931702784 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:55:36.613 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37800100931702785 [0;39m ==> Parameters: 
2023-05-12 09:55:36.613 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37800100931702784 [0;39m ==> Parameters: 
2023-05-12 09:55:36.614 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37800100931702784 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:55:36.614 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37800100931702785 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 09:55:36.614 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37800100931702784 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 09:55:36.614 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37800100931702785 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 09:55:36.615 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37800100931702784 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 09:55:36.615 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37800100931702785 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 09:55:36.615 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37800100931702784 [0;39m <==      Total: 2
2023-05-12 09:55:36.615 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37800100931702785 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 09:55:36.615 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37800100931702785 [0;39m <==      Total: 3
2023-05-12 09:55:36.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37800100931702784 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 09:55:36.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37800100931702784 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 09:55:36.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37800100931702785 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 09:55:36.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37800100931702785 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 09:55:36.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37800100961062912 [0;39m ------------- 开始 -------------
2023-05-12 09:55:36.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37800100961062912 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:55:36.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37800100961062912 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:55:36.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37800100961062912 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:55:36.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37800100961062912 [0;39m 请求参数: []
2023-05-12 09:55:36.619 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37800100961062912 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:55:36.619 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37800100961062912 [0;39m ==> Parameters: 
2023-05-12 09:55:36.620 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:55:36.620 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:55:36.620 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:55:36.620 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:55:36.621 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:55:36.621 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:55:36.621 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:55:36.621 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:55:36.621 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:55:36.622 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:55:36.622 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:55:36.622 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:55:36.622 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:55:36.623 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:55:36.623 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:55:36.623 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800100961062912 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:55:36.623 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37800100961062912 [0;39m <==      Total: 15
2023-05-12 09:55:36.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37800100961062912 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:55:36.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37800100961062912 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 09:56:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37800199061639168 [0;39m 生成今日电子书快照开始
2023-05-12 09:56:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37800199061639168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:56:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37800199061639168 [0;39m ==> Parameters: 
2023-05-12 09:56:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37800199061639168 [0;39m <==    Updates: 0
2023-05-12 09:56:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37800199061639168 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 09:56:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37800220033159168 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:56:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800220033159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:56:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800220033159168 [0;39m ==> Parameters: 
2023-05-12 09:56:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800220033159168 [0;39m <==    Updates: 1
2023-05-12 09:56:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37800220033159168 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 09:56:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37800345858084864 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:56:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800345858084864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:56:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800345858084864 [0;39m ==> Parameters: 
2023-05-12 09:56:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800345858084864 [0;39m <==    Updates: 1
2023-05-12 09:56:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37800345858084864 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 09:57:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37800450715684864 [0;39m 生成今日电子书快照开始
2023-05-12 09:57:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37800450715684864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:57:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37800450715684864 [0;39m ==> Parameters: 
2023-05-12 09:57:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37800450715684864 [0;39m <==    Updates: 0
2023-05-12 09:57:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37800450715684864 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 09:57:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37800471708176384 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:57:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800471708176384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:57:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800471708176384 [0;39m ==> Parameters: 
2023-05-12 09:57:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800471708176384 [0;39m <==    Updates: 1
2023-05-12 09:57:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37800471708176384 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:57:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37800597520519168 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:57:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800597520519168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:57:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800597520519168 [0;39m ==> Parameters: 
2023-05-12 09:57:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800597520519168 [0;39m <==    Updates: 1
2023-05-12 09:57:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37800597520519168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:58:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37800702436839424 [0;39m 生成今日电子书快照开始
2023-05-12 09:58:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37800702436839424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:58:00.027 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37800702436839424 [0;39m ==> Parameters: 
2023-05-12 09:58:00.029 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37800702436839424 [0;39m <==    Updates: 0
2023-05-12 09:58:00.029 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37800702436839424 [0;39m 生成今日电子书快照结束，耗时：7毫秒
2023-05-12 09:58:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37800723332861952 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:58:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800723332861952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:58:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800723332861952 [0;39m ==> Parameters: 
2023-05-12 09:58:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800723332861952 [0;39m <==    Updates: 1
2023-05-12 09:58:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37800723332861952 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 09:58:19.387 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37800065263341569 [0;39m 连接关闭，token：cHgDz07pZx，session id：4！当前连接数：0
2023-05-12 09:58:21.012 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37800065296896000 [0;39m 有新连接：token：Pwa5VE8ZTG，session id：5，当前连接数：1
2023-05-12 09:58:21.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37800791146369025 [0;39m ------------- 开始 -------------
2023-05-12 09:58:21.171 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37800791146369024 [0;39m ------------- 开始 -------------
2023-05-12 09:58:21.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37800791146369025 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 09:58:21.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37800791146369024 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 09:58:21.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37800791146369025 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 09:58:21.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37800791146369024 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 09:58:21.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37800791146369025 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:58:21.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37800791146369024 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:58:21.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37800791146369024 [0;39m 请求参数: []
2023-05-12 09:58:21.172 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37800791146369025 [0;39m 请求参数: []
2023-05-12 09:58:21.173 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37800791146369025 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:58:21.174 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37800791146369025 [0;39m ==> Parameters: 
2023-05-12 09:58:21.173 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37800791146369024 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 09:58:21.174 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37800791146369024 [0;39m ==> Parameters: 
2023-05-12 09:58:21.175 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37800791146369025 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 09:58:21.176 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37800791146369024 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 09:58:21.176 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37800791146369025 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 09:58:21.176 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37800791146369024 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 09:58:21.176 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37800791146369025 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 09:58:21.176 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37800791146369024 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 09:58:21.176 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37800791146369025 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 09:58:21.176 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37800791146369024 [0;39m <==      Total: 2
2023-05-12 09:58:21.177 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37800791146369025 [0;39m <==      Total: 3
2023-05-12 09:58:21.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37800791146369024 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 09:58:21.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37800791146369024 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:58:21.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37800791146369025 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 09:58:21.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37800791146369025 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 09:58:21.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37800791184117760 [0;39m ------------- 开始 -------------
2023-05-12 09:58:21.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37800791184117760 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 09:58:21.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37800791184117760 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 09:58:21.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37800791184117760 [0;39m 远程地址: 127.0.0.1
2023-05-12 09:58:21.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37800791184117760 [0;39m 请求参数: []
2023-05-12 09:58:21.181 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37800791184117760 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 09:58:21.182 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37800791184117760 [0;39m ==> Parameters: 
2023-05-12 09:58:21.183 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 09:58:21.183 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 09:58:21.183 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 09:58:21.183 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 09:58:21.184 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 09:58:21.184 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 09:58:21.184 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 09:58:21.184 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 09:58:21.185 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 09:58:21.185 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 09:58:21.185 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 09:58:21.185 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 09:58:21.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 09:58:21.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 09:58:21.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 09:58:21.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37800791184117760 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 09:58:21.186 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37800791184117760 [0;39m <==      Total: 15
2023-05-12 09:58:21.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37800791184117760 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 09:58:21.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37800791184117760 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 09:58:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37800849170370560 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:58:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800849170370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:58:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800849170370560 [0;39m ==> Parameters: 
2023-05-12 09:58:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800849170370560 [0;39m <==    Updates: 1
2023-05-12 09:58:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37800849170370560 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 09:59:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37800954048942080 [0;39m 生成今日电子书快照开始
2023-05-12 09:59:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37800954048942080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 09:59:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37800954048942080 [0;39m ==> Parameters: 
2023-05-12 09:59:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37800954048942080 [0;39m <==    Updates: 0
2023-05-12 09:59:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37800954048942080 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 09:59:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37800975020462080 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:59:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800975020462080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:59:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800975020462080 [0;39m ==> Parameters: 
2023-05-12 09:59:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37800975020462080 [0;39m <==    Updates: 1
2023-05-12 09:59:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37800975020462080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 09:59:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37801100811833344 [0;39m 更新电子书下的文档数据开始
2023-05-12 09:59:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801100811833344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 09:59:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801100811833344 [0;39m ==> Parameters: 
2023-05-12 09:59:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801100811833344 [0;39m <==    Updates: 1
2023-05-12 09:59:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37801100811833344 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:00:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37801205698793472 [0;39m 生成今日电子书快照开始
2023-05-12 10:00:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37801205698793472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:00:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37801205698793472 [0;39m ==> Parameters: 
2023-05-12 10:00:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37801205698793472 [0;39m <==    Updates: 0
2023-05-12 10:00:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37801205698793472 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:00:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37801226695479296 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:00:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801226695479296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:00:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801226695479296 [0;39m ==> Parameters: 
2023-05-12 10:00:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801226695479296 [0;39m <==    Updates: 1
2023-05-12 10:00:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37801226695479296 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:00:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37801352470073344 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:00:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801352470073344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:00:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801352470073344 [0;39m ==> Parameters: 
2023-05-12 10:00:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801352470073344 [0;39m <==    Updates: 1
2023-05-12 10:00:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37801352470073344 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:01:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37801457331867648 [0;39m 生成今日电子书快照开始
2023-05-12 10:01:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37801457331867648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:01:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37801457331867648 [0;39m ==> Parameters: 
2023-05-12 10:01:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37801457331867648 [0;39m <==    Updates: 0
2023-05-12 10:01:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37801457331867648 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:01:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37801478353719296 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:01:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801478353719296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:01:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801478353719296 [0;39m ==> Parameters: 
2023-05-12 10:01:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801478353719296 [0;39m <==    Updates: 1
2023-05-12 10:01:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37801478353719296 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 10:01:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37801604166062080 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:01:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801604166062080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:01:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801604166062080 [0;39m ==> Parameters: 
2023-05-12 10:01:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801604166062080 [0;39m <==    Updates: 1
2023-05-12 10:01:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37801604166062080 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:02:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37801708985913344 [0;39m 生成今日电子书快照开始
2023-05-12 10:02:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37801708985913344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:02:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37801708985913344 [0;39m ==> Parameters: 
2023-05-12 10:02:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37801708985913344 [0;39m <==    Updates: 0
2023-05-12 10:02:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37801708985913344 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:02:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37801729982599168 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:02:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801729982599168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:02:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801729982599168 [0;39m ==> Parameters: 
2023-05-12 10:02:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801729982599168 [0;39m <==    Updates: 1
2023-05-12 10:02:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37801729982599168 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 10:02:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37801855828496384 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:02:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801855828496384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:02:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801855828496384 [0;39m ==> Parameters: 
2023-05-12 10:02:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801855828496384 [0;39m <==    Updates: 1
2023-05-12 10:02:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37801855828496384 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:03:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37801960648347648 [0;39m 生成今日电子书快照开始
2023-05-12 10:03:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37801960648347648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:03:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37801960648347648 [0;39m ==> Parameters: 
2023-05-12 10:03:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37801960648347648 [0;39m <==    Updates: 0
2023-05-12 10:03:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37801960648347648 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:03:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37801981640839168 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:03:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801981640839168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801981640839168 [0;39m ==> Parameters: 
2023-05-12 10:03:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37801981640839168 [0;39m <==    Updates: 1
2023-05-12 10:03:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37801981640839168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:03:16.824 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37800065263341568 [0;39m 连接关闭，token：Pwa5VE8ZTG，session id：5！当前连接数：0
2023-05-12 10:03:18.754 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37799828469714944 [0;39m 有新连接：token：VwlCyMXRG4，session id：6，当前连接数：1
2023-05-12 10:03:18.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37802039849390080 [0;39m ------------- 开始 -------------
2023-05-12 10:03:18.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37802039849390080 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:03:18.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37802039853584384 [0;39m ------------- 开始 -------------
2023-05-12 10:03:18.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37802039849390080 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:03:18.886 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37802039853584384 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:03:18.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37802039853584384 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:03:18.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37802039853584384 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:03:18.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37802039857778688 [0;39m ------------- 开始 -------------
2023-05-12 10:03:18.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37802039849390080 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:03:18.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37802039853584384 [0;39m 请求参数: []
2023-05-12 10:03:18.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37802039849390080 [0;39m 请求参数: []
2023-05-12 10:03:18.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37802039857778688 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:03:18.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37802039857778688 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:03:18.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37802039857778688 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:03:18.889 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37802039849390080 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:03:18.889 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37802039853584384 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:03:18.889 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37802039857778688 [0;39m 请求参数: []
2023-05-12 10:03:18.889 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37802039853584384 [0;39m ==> Parameters: 
2023-05-12 10:03:18.889 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37802039849390080 [0;39m ==> Parameters: 
2023-05-12 10:03:18.890 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37802039857778688 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:03:18.890 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37802039849390080 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:03:18.890 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37802039857778688 [0;39m ==> Parameters: 
2023-05-12 10:03:18.890 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37802039853584384 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:03:18.891 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37802039849390080 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:03:18.891 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37802039853584384 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:03:18.891 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:03:18.891 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37802039849390080 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:03:18.891 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:03:18.891 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37802039853584384 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:03:18.891 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37802039849390080 [0;39m <==      Total: 2
2023-05-12 10:03:18.891 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37802039853584384 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:03:18.891 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:03:18.892 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37802039853584384 [0;39m <==      Total: 3
2023-05-12 10:03:18.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37802039849390080 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:03:18.892 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:03:18.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37802039849390080 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 10:03:18.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37802039853584384 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:03:18.892 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37802039853584384 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:03:18.892 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:03:18.893 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:03:18.893 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:03:18.894 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:03:18.894 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:03:18.894 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:03:18.895 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:03:18.895 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:03:18.895 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:03:18.895 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:03:18.895 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:03:18.896 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802039857778688 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:03:18.896 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37802039857778688 [0;39m <==      Total: 15
2023-05-12 10:03:18.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37802039857778688 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:03:18.896 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37802039857778688 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 10:03:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37802107474153472 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:03:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802107474153472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:03:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802107474153472 [0;39m ==> Parameters: 
2023-05-12 10:03:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802107474153472 [0;39m <==    Updates: 1
2023-05-12 10:03:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37802107474153472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:03:52.221 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37800791146369024 [0;39m 连接关闭，token：VwlCyMXRG4，session id：6！当前连接数：0
2023-05-12 10:03:53.823 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37800791184117760 [0;39m 有新连接：token：WXZVa0hDVX，session id：7，当前连接数：1
2023-05-12 10:03:53.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37802186952019968 [0;39m ------------- 开始 -------------
2023-05-12 10:03:53.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37802186956214272 [0;39m ------------- 开始 -------------
2023-05-12 10:03:53.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37802186952019968 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:03:53.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37802186956214272 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:03:53.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37802186952019968 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:03:53.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37802186956214272 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:03:53.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37802186952019968 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:03:53.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37802186956214272 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:03:53.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37802186952019968 [0;39m 请求参数: []
2023-05-12 10:03:53.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37802186956214272 [0;39m 请求参数: []
2023-05-12 10:03:53.959 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37802186956214272 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:03:53.959 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37802186952019968 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:03:53.959 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37802186952019968 [0;39m ==> Parameters: 
2023-05-12 10:03:53.959 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37802186956214272 [0;39m ==> Parameters: 
2023-05-12 10:03:53.960 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37802186956214272 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:03:53.960 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37802186952019968 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:03:53.960 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37802186956214272 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:03:53.960 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37802186952019968 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:03:53.961 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37802186956214272 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:03:53.961 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37802186952019968 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:03:53.961 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37802186952019968 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:03:53.961 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37802186952019968 [0;39m <==      Total: 3
2023-05-12 10:03:53.961 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37802186956214272 [0;39m <==      Total: 2
2023-05-12 10:03:53.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37802186972991488 [0;39m ------------- 开始 -------------
2023-05-12 10:03:53.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37802186956214272 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:03:53.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37802186952019968 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:03:53.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37802186972991488 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:03:53.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37802186956214272 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:03:53.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37802186952019968 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 10:03:53.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37802186972991488 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:03:53.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37802186972991488 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:03:53.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37802186972991488 [0;39m 请求参数: []
2023-05-12 10:03:53.963 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37802186972991488 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:03:53.963 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37802186972991488 [0;39m ==> Parameters: 
2023-05-12 10:03:53.964 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:03:53.965 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:03:53.965 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:03:53.965 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:03:53.965 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:03:53.965 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:03:53.966 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:03:53.966 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:03:53.966 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:03:53.966 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:03:53.966 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:03:53.966 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:03:53.966 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:03:53.967 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:03:53.967 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:03:53.967 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37802186972991488 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:03:53.967 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37802186972991488 [0;39m <==      Total: 15
2023-05-12 10:03:53.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37802186972991488 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:03:53.968 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37802186972991488 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:04:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37802212327559168 [0;39m 生成今日电子书快照开始
2023-05-12 10:04:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37802212327559168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:04:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37802212327559168 [0;39m ==> Parameters: 
2023-05-12 10:04:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37802212327559168 [0;39m <==    Updates: 0
2023-05-12 10:04:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37802212327559168 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:04:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37802233299079168 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:04:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802233299079168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:04:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802233299079168 [0;39m ==> Parameters: 
2023-05-12 10:04:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802233299079168 [0;39m <==    Updates: 1
2023-05-12 10:04:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37802233299079168 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 10:04:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37802359132393472 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:04:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802359132393472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:04:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802359132393472 [0;39m ==> Parameters: 
2023-05-12 10:04:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802359132393472 [0;39m <==    Updates: 1
2023-05-12 10:04:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37802359132393472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:05:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37802463998382080 [0;39m 生成今日电子书快照开始
2023-05-12 10:05:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37802463998382080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:05:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37802463998382080 [0;39m ==> Parameters: 
2023-05-12 10:05:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37802463998382080 [0;39m <==    Updates: 0
2023-05-12 10:05:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37802463998382080 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-12 10:05:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37802484936347648 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:05:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802484936347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:05:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802484936347648 [0;39m ==> Parameters: 
2023-05-12 10:05:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802484936347648 [0;39m <==    Updates: 1
2023-05-12 10:05:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37802484936347648 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:05:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37802610794827776 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:05:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802610794827776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:05:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802610794827776 [0;39m ==> Parameters: 
2023-05-12 10:05:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802610794827776 [0;39m <==    Updates: 1
2023-05-12 10:05:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37802610794827776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:06:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37802715623067648 [0;39m 生成今日电子书快照开始
2023-05-12 10:06:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37802715623067648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:06:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37802715623067648 [0;39m ==> Parameters: 
2023-05-12 10:06:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37802715623067648 [0;39m <==    Updates: 0
2023-05-12 10:06:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37802715623067648 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:06:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37802736636530688 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:06:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802736636530688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:06:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802736636530688 [0;39m ==> Parameters: 
2023-05-12 10:06:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802736636530688 [0;39m <==    Updates: 1
2023-05-12 10:06:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37802736636530688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:06:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37802862453067776 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:06:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802862453067776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:06:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802862453067776 [0;39m ==> Parameters: 
2023-05-12 10:06:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802862453067776 [0;39m <==    Updates: 1
2023-05-12 10:06:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37802862453067776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:07:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37802967344222208 [0;39m 生成今日电子书快照开始
2023-05-12 10:07:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37802967344222208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:07:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37802967344222208 [0;39m ==> Parameters: 
2023-05-12 10:07:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37802967344222208 [0;39m <==    Updates: 0
2023-05-12 10:07:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37802967344222208 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 10:07:05.084 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37802988596760576 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:07:05.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802988596760576 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:07:05.086 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802988596760576 [0;39m ==> Parameters: 
2023-05-12 10:07:05.088 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37802988596760576 [0;39m <==    Updates: 1
2023-05-12 10:07:05.088 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37802988596760576 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:07:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37803114098724864 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:07:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803114098724864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:07:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803114098724864 [0;39m ==> Parameters: 
2023-05-12 10:07:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803114098724864 [0;39m <==    Updates: 1
2023-05-12 10:07:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37803114098724864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:08:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37803218989879296 [0;39m 生成今日电子书快照开始
2023-05-12 10:08:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37803218989879296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:08:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37803218989879296 [0;39m ==> Parameters: 
2023-05-12 10:08:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37803218989879296 [0;39m <==    Updates: 0
2023-05-12 10:08:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37803218989879296 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 10:08:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37803239915261952 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:08:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803239915261952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:08:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803239915261952 [0;39m ==> Parameters: 
2023-05-12 10:08:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803239915261952 [0;39m <==    Updates: 1
2023-05-12 10:08:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37803239915261952 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:08:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37803365769547776 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:08:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803365769547776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:08:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803365769547776 [0;39m ==> Parameters: 
2023-05-12 10:08:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803365769547776 [0;39m <==    Updates: 1
2023-05-12 10:08:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37803365769547776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:09:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37803470652313600 [0;39m 生成今日电子书快照开始
2023-05-12 10:09:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37803470652313600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:09:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37803470652313600 [0;39m ==> Parameters: 
2023-05-12 10:09:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37803470652313600 [0;39m <==    Updates: 0
2023-05-12 10:09:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37803470652313600 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:09:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37803491581890560 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:09:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803491581890560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:09:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803491581890560 [0;39m ==> Parameters: 
2023-05-12 10:09:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803491581890560 [0;39m <==    Updates: 1
2023-05-12 10:09:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37803491581890560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:09:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37803617406816256 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:09:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803617406816256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:09:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803617406816256 [0;39m ==> Parameters: 
2023-05-12 10:09:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803617406816256 [0;39m <==    Updates: 1
2023-05-12 10:09:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37803617406816256 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:10:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37803722256027648 [0;39m 生成今日电子书快照开始
2023-05-12 10:10:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37803722256027648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:10:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37803722256027648 [0;39m ==> Parameters: 
2023-05-12 10:10:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37803722256027648 [0;39m <==    Updates: 0
2023-05-12 10:10:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37803722256027648 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 10:10:05.056 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37803743454040064 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:10:05.057 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803743454040064 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:10:05.058 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803743454040064 [0;39m ==> Parameters: 
2023-05-12 10:10:05.059 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803743454040064 [0;39m <==    Updates: 1
2023-05-12 10:10:05.060 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37803743454040064 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:10:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37803869081833472 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:10:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803869081833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:10:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803869081833472 [0;39m ==> Parameters: 
2023-05-12 10:10:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803869081833472 [0;39m <==    Updates: 1
2023-05-12 10:10:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37803869081833472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:11:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37803973943627776 [0;39m 生成今日电子书快照开始
2023-05-12 10:11:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37803973943627776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37803973943627776 [0;39m ==> Parameters: 
2023-05-12 10:11:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37803973943627776 [0;39m <==    Updates: 0
2023-05-12 10:11:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37803973943627776 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:11:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37803994915147776 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:11:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803994915147776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:11:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803994915147776 [0;39m ==> Parameters: 
2023-05-12 10:11:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37803994915147776 [0;39m <==    Updates: 1
2023-05-12 10:11:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37803994915147776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:11:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37804120727490560 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:11:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804120727490560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:11:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804120727490560 [0;39m ==> Parameters: 
2023-05-12 10:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804120727490560 [0;39m <==    Updates: 1
2023-05-12 10:11:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37804120727490560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:12:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37804225618644992 [0;39m 生成今日电子书快照开始
2023-05-12 10:12:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37804225618644992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:12:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37804225618644992 [0;39m ==> Parameters: 
2023-05-12 10:12:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37804225618644992 [0;39m <==    Updates: 0
2023-05-12 10:12:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37804225618644992 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 10:12:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37804246560804864 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:12:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804246560804864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:12:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804246560804864 [0;39m ==> Parameters: 
2023-05-12 10:12:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804246560804864 [0;39m <==    Updates: 1
2023-05-12 10:12:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37804246560804864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:12:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37804372415090688 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:12:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804372415090688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:12:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804372415090688 [0;39m ==> Parameters: 
2023-05-12 10:12:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804372415090688 [0;39m <==    Updates: 1
2023-05-12 10:12:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37804372415090688 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:13:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37804477264302080 [0;39m 生成今日电子书快照开始
2023-05-12 10:13:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37804477264302080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:13:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37804477264302080 [0;39m ==> Parameters: 
2023-05-12 10:13:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37804477264302080 [0;39m <==    Updates: 0
2023-05-12 10:13:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37804477264302080 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:13:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37804498248404992 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:13:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804498248404992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:13:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804498248404992 [0;39m ==> Parameters: 
2023-05-12 10:13:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804498248404992 [0;39m <==    Updates: 1
2023-05-12 10:13:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37804498248404992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:13:20.285 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：WXZVa0hDVX，session id：7！当前连接数：0
2023-05-12 10:13:20.347 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 10:13:20.348 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-12 10:13:20.349 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-12 10:13:20.349 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-12 10:13:20.356 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-12 10:13:20.498 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10911] result: true
2023-05-12 10:13:20.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-12 10:13:20.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10909] result: true
2023-05-12 10:13:20.569 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-12 10:13:20.569 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-12 10:13:27.018 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-12 10:13:27.037 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 6752 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-12 10:13:27.038 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-12 10:13:27.121 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-12 10:13:27.123 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-12 10:13:27.771 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-12 10:13:27.773 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-12 10:13:27.797 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2023-05-12 10:13:28.014 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$1c976e75] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.026 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.525 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.527 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$bed1e376] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.528 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.528 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.530 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.531 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.539 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.541 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.541 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.555 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.556 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.559 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.561 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:28.575 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:29.606 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:29.607 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:13:30.008 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-12 10:13:30.014 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-12 10:13:30.015 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-12 10:13:30.015 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-12 10:13:30.094 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-12 10:13:30.094 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2970 ms
2023-05-12 10:13:30.736 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-12 10:13:31.004 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-12 10:13:31.041 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-12 10:13:31.440 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 10:13:31.441 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-12 10:13:31.450 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-12 10:13:31.464 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-12 10:13:31.475 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 4.88 seconds (JVM running for 6.745)
2023-05-12 10:13:31.477 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-12 10:13:31.477 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-12 10:13:35.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37804624111079424 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:13:35.043 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m37804624111079424 [0;39m HikariPool-1 - Starting...
2023-05-12 10:13:35.651 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m37804624111079424 [0;39m HikariPool-1 - Start completed.
2023-05-12 10:13:35.655 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804624111079424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:13:35.669 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804624111079424 [0;39m ==> Parameters: 
2023-05-12 10:13:35.671 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804624111079424 [0;39m <==    Updates: 1
2023-05-12 10:13:35.673 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37804624111079424 [0;39m 更新电子书下的文档数据结束，耗时：651毫秒
2023-05-12 10:14:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37804728935124992 [0;39m 生成今日电子书快照开始
2023-05-12 10:14:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37804728935124992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:14:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37804728935124992 [0;39m ==> Parameters: 
2023-05-12 10:14:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37804728935124992 [0;39m <==    Updates: 0
2023-05-12 10:14:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37804728935124992 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:14:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37804749877284864 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:14:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804749877284864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:14:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804749877284864 [0;39m ==> Parameters: 
2023-05-12 10:14:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804749877284864 [0;39m <==    Updates: 1
2023-05-12 10:14:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37804749877284864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:14:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37804875731570688 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:14:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804875731570688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:14:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804875731570688 [0;39m ==> Parameters: 
2023-05-12 10:14:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37804875731570688 [0;39m <==    Updates: 1
2023-05-12 10:14:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37804875731570688 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:15:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37804980547227648 [0;39m 生成今日电子书快照开始
2023-05-12 10:15:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37804980547227648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:15:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37804980547227648 [0;39m ==> Parameters: 
2023-05-12 10:15:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37804980547227648 [0;39m <==    Updates: 0
2023-05-12 10:15:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37804980547227648 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:15:04.905 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-12 10:15:04.906 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-12 10:15:04.907 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-12 10:15:04.957 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：QtULLjGKhu，session id：0，当前连接数：1
2023-05-12 10:15:04.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37805001430667265 [0;39m ------------- 开始 -------------
2023-05-12 10:15:04.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37805001430667266 [0;39m ------------- 开始 -------------
2023-05-12 10:15:04.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37805001430667264 [0;39m ------------- 开始 -------------
2023-05-12 10:15:04.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37805001430667266 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:15:04.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37805001430667265 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:15:04.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37805001430667264 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:15:04.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37805001430667266 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:15:04.984 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37805001430667264 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:15:04.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37805001430667265 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:15:04.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37805001430667266 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:15:04.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37805001430667265 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:15:04.985 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37805001430667264 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:15:04.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37805001430667264 [0;39m 请求参数: []
2023-05-12 10:15:04.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37805001430667266 [0;39m 请求参数: []
2023-05-12 10:15:04.987 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37805001430667265 [0;39m 请求参数: []
2023-05-12 10:15:04.993 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37805001430667264 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:15:04.994 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37805001430667264 [0;39m ==> Parameters: 
2023-05-12 10:15:04.996 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37805001430667265 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:15:04.997 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37805001430667265 [0;39m ==> Parameters: 
2023-05-12 10:15:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37805001556496384 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:15:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805001556496384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:15:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805001556496384 [0;39m ==> Parameters: 
2023-05-12 10:15:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805001556496384 [0;39m <==    Updates: 1
2023-05-12 10:15:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37805001556496384 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-12 10:15:05.018 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37805001430667266 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:15:05.019 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37805001430667266 [0;39m ==> Parameters: 
2023-05-12 10:15:05.020 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37805001430667264 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:15:05.020 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37805001430667265 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:15:05.021 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:15:05.021 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:15:05.021 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37805001430667264 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:15:05.021 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37805001430667265 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:15:05.022 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:15:05.022 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:15:05.022 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37805001430667264 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:15:05.022 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:15:05.023 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37805001430667265 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:15:05.023 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:15:05.023 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37805001430667264 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:15:05.023 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37805001430667265 [0;39m <==      Total: 2
2023-05-12 10:15:05.023 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37805001430667264 [0;39m <==      Total: 3
2023-05-12 10:15:05.023 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:15:05.024 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:15:05.024 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:15:05.025 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:15:05.025 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:15:05.025 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:15:05.026 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:15:05.026 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:15:05.027 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:15:05.027 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805001430667266 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:15:05.028 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37805001430667266 [0;39m <==      Total: 15
2023-05-12 10:15:05.035 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37805001430667264 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:15:05.035 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37805001430667265 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:15:05.035 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37805001430667265 [0;39m ------------- 结束 耗时：54 ms -------------
2023-05-12 10:15:05.035 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37805001430667264 [0;39m ------------- 结束 耗时：54 ms -------------
2023-05-12 10:15:05.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37805001430667266 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:15:05.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37805001430667266 [0;39m ------------- 结束 耗时：60 ms -------------
2023-05-12 10:15:11.850 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:15:11.851 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m                  [0;39m ------------- LoginInterceptor 结束 耗时：1 ms -------------
2023-05-12 10:15:11.858 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:15:11.859 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/regirster
2023-05-12 10:15:11.859 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：null
2023-05-12 10:15:11.859 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :49   [32m                  [0;39m token为空，请求被拦截
2023-05-12 10:15:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37805127352061952 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:15:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805127352061952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:15:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805127352061952 [0;39m ==> Parameters: 
2023-05-12 10:15:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805127352061952 [0;39m <==    Updates: 1
2023-05-12 10:15:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37805127352061952 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:16:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37805232230633472 [0;39m 生成今日电子书快照开始
2023-05-12 10:16:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37805232230633472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:16:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37805232230633472 [0;39m ==> Parameters: 
2023-05-12 10:16:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37805232230633472 [0;39m <==    Updates: 0
2023-05-12 10:16:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37805232230633472 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:16:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37805253227319296 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:16:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805253227319296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:16:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805253227319296 [0;39m ==> Parameters: 
2023-05-12 10:16:05.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805253227319296 [0;39m <==    Updates: 1
2023-05-12 10:16:05.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37805253227319296 [0;39m 更新电子书下的文档数据结束，耗时：12毫秒
2023-05-12 10:16:35.025 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37805379102576640 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:16:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805379102576640 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:16:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805379102576640 [0;39m ==> Parameters: 
2023-05-12 10:16:35.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805379102576640 [0;39m <==    Updates: 1
2023-05-12 10:16:35.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37805379102576640 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:17:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37805483880484864 [0;39m 生成今日电子书快照开始
2023-05-12 10:17:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37805483880484864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:17:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37805483880484864 [0;39m ==> Parameters: 
2023-05-12 10:17:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37805483880484864 [0;39m <==    Updates: 0
2023-05-12 10:17:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37805483880484864 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:17:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37805504852004864 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:17:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805504852004864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:17:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805504852004864 [0;39m ==> Parameters: 
2023-05-12 10:17:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805504852004864 [0;39m <==    Updates: 1
2023-05-12 10:17:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37805504852004864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:17:24.930 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：QtULLjGKhu，session id：0！当前连接数：0
2023-05-12 10:17:24.976 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 10:17:24.978 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-12 10:17:24.979 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-12 10:17:24.980 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-12 10:17:24.989 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-12 10:17:25.001 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-12 10:17:25.002 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10911] result: true
2023-05-12 10:17:25.003 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10909] result: true
2023-05-12 10:17:25.006 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-12 10:17:25.007 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-12 10:17:29.079 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-12 10:17:29.083 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 18076 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-12 10:17:29.084 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-12 10:17:29.131 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-12 10:17:29.132 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-12 10:17:29.854 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-12 10:17:29.856 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-12 10:17:29.879 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2023-05-12 10:17:30.051 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$1c7bd806] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.058 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.415 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.416 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$beb64d07] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.417 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.418 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.420 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.420 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.422 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.424 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.424 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.434 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.435 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.437 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.440 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:30.453 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:31.479 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:31.480 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:17:31.863 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-12 10:17:31.869 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-12 10:17:31.869 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-12 10:17:31.869 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-12 10:17:31.949 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-12 10:17:31.949 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2817 ms
2023-05-12 10:17:32.603 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-12 10:17:32.928 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-12 10:17:32.975 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-12 10:17:33.369 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 10:17:33.370 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-12 10:17:33.380 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-12 10:17:33.397 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-12 10:17:33.409 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 4.68 seconds (JVM running for 5.578)
2023-05-12 10:17:33.411 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-12 10:17:33.411 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-12 10:17:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37805630689513472 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:17:35.033 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m37805630689513472 [0;39m HikariPool-1 - Starting...
2023-05-12 10:17:36.745 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m37805630689513472 [0;39m HikariPool-1 - Start completed.
2023-05-12 10:17:36.751 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805630689513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:17:36.771 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805630689513472 [0;39m ==> Parameters: 
2023-05-12 10:17:36.774 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805630689513472 [0;39m <==    Updates: 1
2023-05-12 10:17:36.776 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37805630689513472 [0;39m 更新电子书下的文档数据结束，耗时：1767毫秒
2023-05-12 10:17:49.052 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-12 10:17:49.052 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-12 10:17:49.053 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2023-05-12 10:17:49.106 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：f6Q7L5baup，session id：0，当前连接数：1
2023-05-12 10:17:49.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37805690919718912 [0;39m ------------- 开始 -------------
2023-05-12 10:17:49.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37805690919718913 [0;39m ------------- 开始 -------------
2023-05-12 10:17:49.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37805690919718912 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:17:49.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37805690919718912 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:17:49.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37805690919718913 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:17:49.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37805690919718912 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:17:49.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37805690919718913 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:17:49.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37805690919718913 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:17:49.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37805690919718914 [0;39m ------------- 开始 -------------
2023-05-12 10:17:49.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37805690919718914 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:17:49.371 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37805690919718914 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:17:49.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37805690919718914 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:17:49.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37805690919718912 [0;39m 请求参数: []
2023-05-12 10:17:49.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37805690919718914 [0;39m 请求参数: []
2023-05-12 10:17:49.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37805690919718913 [0;39m 请求参数: []
2023-05-12 10:17:49.385 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37805690919718913 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:17:49.385 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37805690919718913 [0;39m ==> Parameters: 
2023-05-12 10:17:49.388 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37805690919718914 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:17:49.388 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37805690919718914 [0;39m ==> Parameters: 
2023-05-12 10:17:49.402 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37805690919718912 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:17:49.403 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37805690919718912 [0;39m ==> Parameters: 
2023-05-12 10:17:49.403 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37805690919718914 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:17:49.403 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37805690919718913 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:17:49.404 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:17:49.404 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:17:49.404 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37805690919718914 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:17:49.404 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37805690919718913 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:17:49.405 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:17:49.408 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37805690919718914 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:17:49.408 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37805690919718913 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:17:49.412 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:17:49.412 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37805690919718914 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:17:49.412 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37805690919718913 [0;39m <==      Total: 2
2023-05-12 10:17:49.413 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:17:49.413 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37805690919718914 [0;39m <==      Total: 3
2023-05-12 10:17:49.413 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:17:49.413 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:17:49.414 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:17:49.414 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:17:49.415 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:17:49.415 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:17:49.416 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:17:49.416 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:17:49.416 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:17:49.417 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:17:49.417 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37805690919718912 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:17:49.417 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37805690919718912 [0;39m <==      Total: 15
2023-05-12 10:17:49.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37805690919718914 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:17:49.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37805690919718913 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:17:49.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37805690919718914 [0;39m ------------- 结束 耗时：56 ms -------------
2023-05-12 10:17:49.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37805690919718913 [0;39m ------------- 结束 耗时：56 ms -------------
2023-05-12 10:17:49.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37805690919718912 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:17:49.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37805690919718912 [0;39m ------------- 结束 耗时：61 ms -------------
2023-05-12 10:17:56.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37805719751364608 [0;39m ------------- 开始 -------------
2023-05-12 10:17:56.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37805719751364608 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:17:56.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37805719751364608 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:17:56.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37805719751364608 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:17:56.244 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37805719751364608 [0;39m 请求参数: [{"loginName":"test232","name":"3213"}]
2023-05-12 10:17:56.247 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37805719751364608 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:17:56.249 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37805719751364608 [0;39m ==> Parameters: null, test232(String), 3213(String), 45fed52de602b991165418dcb949cc4c(String)
2023-05-12 10:17:56.301 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m37805719751364608 [0;39m 系统异常：
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null
### The error may exist in file [D:\work\jiawawiki\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user (id, login_name, `name`,        `password`)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null
; Column 'id' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy97.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy111.insert(Unknown Source)
	at com.jiawa.wiki.service.UserService.regirster(UserService.java:145)
	at com.jiawa.wiki.controller.UserController.regirster(UserController.java:75)
	at com.jiawa.wiki.controller.UserController$$FastClassBySpringCGLIB$$5f26ceea.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.UserController$$EnhancerBySpringCGLIB$$48384889.regirster(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
2023-05-12 10:17:56.304 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37805719751364608 [0;39m Resolved [org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null
### The error may exist in file [D:\work\jiawawiki\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user (id, login_name, `name`,        `password`)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null
; Column 'id' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null]
2023-05-12 10:18:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37805735551307776 [0;39m 生成今日电子书快照开始
2023-05-12 10:18:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37805735551307776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:18:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37805735551307776 [0;39m ==> Parameters: 
2023-05-12 10:18:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37805735551307776 [0;39m <==    Updates: 0
2023-05-12 10:18:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37805735551307776 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:18:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37805756522827776 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:18:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805756522827776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:18:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805756522827776 [0;39m ==> Parameters: 
2023-05-12 10:18:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805756522827776 [0;39m <==    Updates: 1
2023-05-12 10:18:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37805756522827776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:18:35.020 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37805882398085120 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:18:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805882398085120 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:18:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805882398085120 [0;39m ==> Parameters: 
2023-05-12 10:18:35.024 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37805882398085120 [0;39m <==    Updates: 1
2023-05-12 10:18:35.024 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37805882398085120 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 10:19:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37805987217936384 [0;39m 生成今日电子书快照开始
2023-05-12 10:19:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37805987217936384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:19:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37805987217936384 [0;39m ==> Parameters: 
2023-05-12 10:19:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37805987217936384 [0;39m <==    Updates: 0
2023-05-12 10:19:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37805987217936384 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:19:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37806008168484864 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:19:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806008168484864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:19:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806008168484864 [0;39m ==> Parameters: 
2023-05-12 10:19:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806008168484864 [0;39m <==    Updates: 1
2023-05-12 10:19:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37806008168484864 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-12 10:19:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37806134031159296 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:19:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806134031159296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:19:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806134031159296 [0;39m ==> Parameters: 
2023-05-12 10:19:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806134031159296 [0;39m <==    Updates: 1
2023-05-12 10:19:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37806134031159296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:20:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37806238842621952 [0;39m 生成今日电子书快照开始
2023-05-12 10:20:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37806238842621952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:20:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37806238842621952 [0;39m ==> Parameters: 
2023-05-12 10:20:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37806238842621952 [0;39m <==    Updates: 0
2023-05-12 10:20:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37806238842621952 [0;39m 生成今日电子书快照结束，耗时：1毫秒
2023-05-12 10:20:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37806259856084992 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:20:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806259856084992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:20:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806259856084992 [0;39m ==> Parameters: 
2023-05-12 10:20:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806259856084992 [0;39m <==    Updates: 1
2023-05-12 10:20:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37806259856084992 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 10:20:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37806385672622080 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:20:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806385672622080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:20:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806385672622080 [0;39m ==> Parameters: 
2023-05-12 10:20:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806385672622080 [0;39m <==    Updates: 1
2023-05-12 10:20:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37806385672622080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:21:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37806490526027776 [0;39m 生成今日电子书快照开始
2023-05-12 10:21:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37806490526027776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:21:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37806490526027776 [0;39m ==> Parameters: 
2023-05-12 10:21:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37806490526027776 [0;39m <==    Updates: 0
2023-05-12 10:21:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37806490526027776 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:21:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37806511501742080 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:21:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806511501742080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:21:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806511501742080 [0;39m ==> Parameters: 
2023-05-12 10:21:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806511501742080 [0;39m <==    Updates: 1
2023-05-12 10:21:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37806511501742080 [0;39m 更新电子书下的文档数据结束，耗时：10毫秒
2023-05-12 10:21:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37806637318279168 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:21:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806637318279168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:21:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806637318279168 [0;39m ==> Parameters: 
2023-05-12 10:21:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806637318279168 [0;39m <==    Updates: 1
2023-05-12 10:21:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37806637318279168 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 10:22:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37806742205239296 [0;39m 生成今日电子书快照开始
2023-05-12 10:22:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37806742205239296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:22:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37806742205239296 [0;39m ==> Parameters: 
2023-05-12 10:22:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37806742205239296 [0;39m <==    Updates: 0
2023-05-12 10:22:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37806742205239296 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:22:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37806763147399168 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:22:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806763147399168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:22:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806763147399168 [0;39m ==> Parameters: 
2023-05-12 10:22:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806763147399168 [0;39m <==    Updates: 1
2023-05-12 10:22:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37806763147399168 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 10:22:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37806888980713472 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:22:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806888980713472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:22:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806888980713472 [0;39m ==> Parameters: 
2023-05-12 10:22:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37806888980713472 [0;39m <==    Updates: 1
2023-05-12 10:22:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37806888980713472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:23:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37806993825730560 [0;39m 生成今日电子书快照开始
2023-05-12 10:23:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37806993825730560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:23:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37806993825730560 [0;39m ==> Parameters: 
2023-05-12 10:23:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37806993825730560 [0;39m <==    Updates: 0
2023-05-12 10:23:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37806993825730560 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:23:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37807014814027776 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:23:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807014814027776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:23:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807014814027776 [0;39m ==> Parameters: 
2023-05-12 10:23:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807014814027776 [0;39m <==    Updates: 1
2023-05-12 10:23:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37807014814027776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:23:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37807140626370560 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:23:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807140626370560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:23:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807140626370560 [0;39m ==> Parameters: 
2023-05-12 10:23:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807140626370560 [0;39m <==    Updates: 1
2023-05-12 10:23:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37807140626370560 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:24:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37807245488164864 [0;39m 生成今日电子书快照开始
2023-05-12 10:24:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37807245488164864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37807245488164864 [0;39m ==> Parameters: 
2023-05-12 10:24:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37807245488164864 [0;39m <==    Updates: 0
2023-05-12 10:24:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37807245488164864 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 10:24:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37807266459684864 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:24:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807266459684864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:24:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807266459684864 [0;39m ==> Parameters: 
2023-05-12 10:24:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807266459684864 [0;39m <==    Updates: 1
2023-05-12 10:24:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37807266459684864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:24:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37807392288804864 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:24:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807392288804864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:24:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807392288804864 [0;39m ==> Parameters: 
2023-05-12 10:24:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807392288804864 [0;39m <==    Updates: 1
2023-05-12 10:24:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37807392288804864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:25:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37807497154793472 [0;39m 生成今日电子书快照开始
2023-05-12 10:25:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37807497154793472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:25:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37807497154793472 [0;39m ==> Parameters: 
2023-05-12 10:25:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37807497154793472 [0;39m <==    Updates: 0
2023-05-12 10:25:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37807497154793472 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:25:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37807518109536256 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:25:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807518109536256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:25:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807518109536256 [0;39m ==> Parameters: 
2023-05-12 10:25:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807518109536256 [0;39m <==    Updates: 1
2023-05-12 10:25:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37807518109536256 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 10:25:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37807643942850560 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:25:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807643942850560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:25:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807643942850560 [0;39m ==> Parameters: 
2023-05-12 10:25:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807643942850560 [0;39m <==    Updates: 1
2023-05-12 10:25:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37807643942850560 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 10:26:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37807748800450560 [0;39m 生成今日电子书快照开始
2023-05-12 10:26:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37807748800450560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:26:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37807748800450560 [0;39m ==> Parameters: 
2023-05-12 10:26:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37807748800450560 [0;39m <==    Updates: 0
2023-05-12 10:26:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37807748800450560 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:26:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37807769813913600 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:26:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807769813913600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:26:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807769813913600 [0;39m ==> Parameters: 
2023-05-12 10:26:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807769813913600 [0;39m <==    Updates: 1
2023-05-12 10:26:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37807769813913600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:26:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37807895601090560 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:26:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807895601090560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:26:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807895601090560 [0;39m ==> Parameters: 
2023-05-12 10:26:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37807895601090560 [0;39m <==    Updates: 1
2023-05-12 10:26:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37807895601090560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:27:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37808000458690560 [0;39m 生成今日电子书快照开始
2023-05-12 10:27:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37808000458690560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:27:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37808000458690560 [0;39m ==> Parameters: 
2023-05-12 10:27:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37808000458690560 [0;39m <==    Updates: 0
2023-05-12 10:27:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37808000458690560 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:27:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37808021438599168 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:27:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808021438599168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:27:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808021438599168 [0;39m ==> Parameters: 
2023-05-12 10:27:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808021438599168 [0;39m <==    Updates: 1
2023-05-12 10:27:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37808021438599168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:27:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37808147284496384 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:27:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808147284496384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:27:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808147284496384 [0;39m ==> Parameters: 
2023-05-12 10:27:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808147284496384 [0;39m <==    Updates: 1
2023-05-12 10:27:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37808147284496384 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:28:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37808252158873600 [0;39m 生成今日电子书快照开始
2023-05-12 10:28:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37808252158873600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:28:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37808252158873600 [0;39m ==> Parameters: 
2023-05-12 10:28:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37808252158873600 [0;39m <==    Updates: 0
2023-05-12 10:28:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37808252158873600 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:28:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37808273092644864 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:28:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808273092644864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:28:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808273092644864 [0;39m ==> Parameters: 
2023-05-12 10:28:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808273092644864 [0;39m <==    Updates: 1
2023-05-12 10:28:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37808273092644864 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 10:28:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37808398913376256 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:28:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808398913376256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:28:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808398913376256 [0;39m ==> Parameters: 
2023-05-12 10:28:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808398913376256 [0;39m <==    Updates: 1
2023-05-12 10:28:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37808398913376256 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:28:35.084 ERROR com.jiawa.wiki.websocket.WebSocketServer          :57   [32m                  [0;39m 发生错误
java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1231)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1141)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:72)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-12 10:28:35.084 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：f6Q7L5baup，session id：0！当前连接数：0
2023-05-12 10:30:26.900 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37808868239216640 [0;39m 生成今日电子书快照开始
2023-05-12 10:30:26.900 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37808868239216640 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:30:26.900 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37808868239216640 [0;39m ==> Parameters: 
2023-05-12 10:30:26.900 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37808868239216640 [0;39m <==    Updates: 0
2023-05-12 10:30:26.900 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37808868239216640 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 10:30:26.900 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37808868239216641 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:30:26.900 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808868239216641 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:30:26.900 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808868239216641 [0;39m ==> Parameters: 
2023-05-12 10:30:26.900 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808868239216641 [0;39m <==    Updates: 1
2023-05-12 10:30:26.900 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37808868239216641 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:30:33.970 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m56s908ms136µs200ns).
2023-05-12 10:30:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37808902263410688 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:30:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808902263410688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:30:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808902263410688 [0;39m ==> Parameters: 
2023-05-12 10:30:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37808902263410688 [0;39m <==    Updates: 1
2023-05-12 10:30:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37808902263410688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:31:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37809007112622080 [0;39m 生成今日电子书快照开始
2023-05-12 10:31:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37809007112622080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:31:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37809007112622080 [0;39m ==> Parameters: 
2023-05-12 10:31:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37809007112622080 [0;39m <==    Updates: 0
2023-05-12 10:31:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37809007112622080 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 10:31:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37809028079947776 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:31:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809028079947776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:31:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809028079947776 [0;39m ==> Parameters: 
2023-05-12 10:31:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809028079947776 [0;39m <==    Updates: 1
2023-05-12 10:31:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37809028079947776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:31:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37809153883901952 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:31:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809153883901952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:31:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809153883901952 [0;39m ==> Parameters: 
2023-05-12 10:31:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809153883901952 [0;39m <==    Updates: 1
2023-05-12 10:31:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37809153883901952 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 10:32:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37809258800222208 [0;39m 生成今日电子书快照开始
2023-05-12 10:32:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37809258800222208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:32:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37809258800222208 [0;39m ==> Parameters: 
2023-05-12 10:32:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37809258800222208 [0;39m <==    Updates: 0
2023-05-12 10:32:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37809258800222208 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 10:32:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37809279742382080 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:32:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809279742382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:32:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809279742382080 [0;39m ==> Parameters: 
2023-05-12 10:32:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809279742382080 [0;39m <==    Updates: 1
2023-05-12 10:32:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37809279742382080 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:32:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37809405533753344 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:32:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809405533753344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:32:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809405533753344 [0;39m ==> Parameters: 
2023-05-12 10:32:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809405533753344 [0;39m <==    Updates: 1
2023-05-12 10:32:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37809405533753344 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:33:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37809510433296384 [0;39m 生成今日电子书快照开始
2023-05-12 10:33:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37809510433296384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:33:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37809510433296384 [0;39m ==> Parameters: 
2023-05-12 10:33:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37809510433296384 [0;39m <==    Updates: 0
2023-05-12 10:33:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37809510433296384 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:33:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37809531417399296 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:33:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809531417399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:33:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809531417399296 [0;39m ==> Parameters: 
2023-05-12 10:33:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809531417399296 [0;39m <==    Updates: 1
2023-05-12 10:33:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37809531417399296 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:33:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37809657217159168 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:33:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809657217159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:33:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809657217159168 [0;39m ==> Parameters: 
2023-05-12 10:33:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809657217159168 [0;39m <==    Updates: 1
2023-05-12 10:33:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37809657217159168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:34:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37809762057981952 [0;39m 生成今日电子书快照开始
2023-05-12 10:34:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37809762057981952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:34:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37809762057981952 [0;39m ==> Parameters: 
2023-05-12 10:34:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37809762057981952 [0;39m <==    Updates: 0
2023-05-12 10:34:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37809762057981952 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:34:05.007 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：wqPcozFxvB，session id：1，当前连接数：1
2023-05-12 10:34:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37809783071444992 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:34:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809783071444992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:34:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809783071444992 [0;39m ==> Parameters: 
2023-05-12 10:34:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809783071444992 [0;39m <==    Updates: 1
2023-05-12 10:34:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37809783071444992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:34:05.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37809783767699456 [0;39m ------------- 开始 -------------
2023-05-12 10:34:05.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37809783767699456 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:34:05.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37809783767699456 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:34:05.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37809783767699456 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:34:05.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37809783767699456 [0;39m 请求参数: []
2023-05-12 10:34:05.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37809783776088064 [0;39m ------------- 开始 -------------
2023-05-12 10:34:05.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37809783776088064 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:34:05.181 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37809783767699456 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:34:05.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37809783776088064 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:34:05.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37809783776088064 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:34:05.181 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37809783767699456 [0;39m ==> Parameters: 
2023-05-12 10:34:05.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37809783776088064 [0;39m 请求参数: []
2023-05-12 10:34:05.183 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37809783767699456 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:34:05.183 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37809783776088064 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:34:05.183 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37809783767699456 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:34:05.183 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37809783776088064 [0;39m ==> Parameters: 
2023-05-12 10:34:05.183 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37809783767699456 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:34:05.184 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37809783767699456 [0;39m <==      Total: 2
2023-05-12 10:34:05.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37809783767699456 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:34:05.185 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37809783776088064 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:34:05.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37809783767699456 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:34:05.185 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37809783776088064 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:34:05.185 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37809783776088064 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:34:05.186 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37809783776088064 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:34:05.186 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37809783776088064 [0;39m <==      Total: 3
2023-05-12 10:34:05.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37809783776088064 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:34:05.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37809783776088064 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:34:05.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37809783805448192 [0;39m ------------- 开始 -------------
2023-05-12 10:34:05.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37809783805448192 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:34:05.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37809783805448192 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:34:05.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37809783805448192 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:34:05.191 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37809783805448192 [0;39m 请求参数: []
2023-05-12 10:34:05.192 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37809783805448192 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:34:05.192 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37809783805448192 [0;39m ==> Parameters: 
2023-05-12 10:34:05.193 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:34:05.193 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:34:05.195 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:34:05.195 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:34:05.195 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:34:05.196 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:34:05.196 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:34:05.196 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:34:05.196 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:34:05.197 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:34:05.197 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:34:05.197 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:34:05.198 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:34:05.198 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:34:05.198 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:34:05.198 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809783805448192 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:34:05.199 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37809783805448192 [0;39m <==      Total: 15
2023-05-12 10:34:05.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37809783805448192 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:34:05.201 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37809783805448192 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 10:34:10.151 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37809804621778944 [0;39m ------------- 开始 -------------
2023-05-12 10:34:10.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37809804621778944 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:34:10.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37809804621778944 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:34:10.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37809804621778944 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:34:10.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37809804621778944 [0;39m 请求参数: [{"loginName":"test23","name":"321321"}]
2023-05-12 10:34:10.153 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37809804621778944 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:34:10.153 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37809804621778944 [0;39m ==> Parameters: null, test23(String), 321321(String), ee53d4213c897ad632bb8d824762f918(String)
2023-05-12 10:34:10.161 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37809804621778944 [0;39m <==    Updates: 1
2023-05-12 10:34:10.161 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37809804621778944 [0;39m 返回结果: {"success":true}
2023-05-12 10:34:10.161 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37809804621778944 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 10:34:16.255 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37805719751364608 [0;39m 连接关闭，token：wqPcozFxvB，session id：1！当前连接数：0
2023-05-12 10:34:17.960 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：4MYWj26ckQ，session id：2，当前连接数：1
2023-05-12 10:34:18.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37809837890998272 [0;39m ------------- 开始 -------------
2023-05-12 10:34:18.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37809837890998272 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:34:18.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37809837890998272 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:34:18.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37809837890998272 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:34:18.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37809837890998272 [0;39m 请求参数: []
2023-05-12 10:34:18.084 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37809837890998272 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:34:18.085 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37809837890998272 [0;39m ==> Parameters: 
2023-05-12 10:34:18.086 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37809837890998272 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:34:18.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37809837903581184 [0;39m ------------- 开始 -------------
2023-05-12 10:34:18.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37809837903581184 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:34:18.086 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37809837890998272 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:34:18.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37809837903581184 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:34:18.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37809837903581184 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:34:18.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37809837903581184 [0;39m 请求参数: []
2023-05-12 10:34:18.087 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37809837890998272 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:34:18.087 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37809837890998272 [0;39m <==      Total: 2
2023-05-12 10:34:18.087 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37809837903581184 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:34:18.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37809837890998272 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:34:18.087 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37809837903581184 [0;39m ==> Parameters: 
2023-05-12 10:34:18.087 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37809837890998272 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:34:18.088 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37809837903581184 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:34:18.088 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37809837903581184 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:34:18.089 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37809837903581184 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:34:18.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37809837916164096 [0;39m ------------- 开始 -------------
2023-05-12 10:34:18.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37809837916164096 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:34:18.089 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37809837903581184 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:34:18.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37809837916164096 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:34:18.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37809837916164096 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:34:18.090 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37809837903581184 [0;39m <==      Total: 3
2023-05-12 10:34:18.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37809837916164096 [0;39m 请求参数: []
2023-05-12 10:34:18.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37809837903581184 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:34:18.090 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37809837903581184 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:34:18.090 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37809837916164096 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:34:18.090 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37809837916164096 [0;39m ==> Parameters: 
2023-05-12 10:34:18.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:34:18.091 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:34:18.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:34:18.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:34:18.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:34:18.092 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:34:18.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:34:18.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:34:18.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:34:18.093 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:34:18.094 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:34:18.094 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:34:18.094 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:34:18.094 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:34:18.095 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:34:18.095 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37809837916164096 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:34:18.095 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37809837916164096 [0;39m <==      Total: 15
2023-05-12 10:34:18.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37809837916164096 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:34:18.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37809837916164096 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 10:34:21.978 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37809854227812352 [0;39m ------------- 开始 -------------
2023-05-12 10:34:21.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37809854227812352 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:34:21.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37809854227812352 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:34:21.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37809854227812352 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:34:21.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37809854227812352 [0;39m 请求参数: [{"loginName":"test32","name":"312"}]
2023-05-12 10:34:21.980 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37809854227812352 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:34:21.981 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37809854227812352 [0;39m ==> Parameters: null, test32(String), 312(String), ee53d4213c897ad632bb8d824762f918(String)
2023-05-12 10:34:21.989 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37809854227812352 [0;39m <==    Updates: 1
2023-05-12 10:34:21.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37809854227812352 [0;39m 返回结果: {"success":true}
2023-05-12 10:34:21.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37809854227812352 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 10:34:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37809908862816256 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:34:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809908862816256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:34:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809908862816256 [0;39m ==> Parameters: 
2023-05-12 10:34:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37809908862816256 [0;39m <==    Updates: 1
2023-05-12 10:34:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37809908862816256 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:35:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37810013762359296 [0;39m 生成今日电子书快照开始
2023-05-12 10:35:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37810013762359296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:35:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37810013762359296 [0;39m ==> Parameters: 
2023-05-12 10:35:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37810013762359296 [0;39m <==    Updates: 0
2023-05-12 10:35:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37810013762359296 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:35:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37810034725490688 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:35:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810034725490688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:35:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810034725490688 [0;39m ==> Parameters: 
2023-05-12 10:35:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810034725490688 [0;39m <==    Updates: 1
2023-05-12 10:35:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37810034725490688 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-12 10:35:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37810160516861952 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:35:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810160516861952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:35:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810160516861952 [0;39m ==> Parameters: 
2023-05-12 10:35:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810160516861952 [0;39m <==    Updates: 1
2023-05-12 10:35:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37810160516861952 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:36:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37810265374461952 [0;39m 生成今日电子书快照开始
2023-05-12 10:36:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37810265374461952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:36:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37810265374461952 [0;39m ==> Parameters: 
2023-05-12 10:36:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37810265374461952 [0;39m <==    Updates: 0
2023-05-12 10:36:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37810265374461952 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 10:36:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37810286350176256 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:36:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810286350176256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:36:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810286350176256 [0;39m ==> Parameters: 
2023-05-12 10:36:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810286350176256 [0;39m <==    Updates: 1
2023-05-12 10:36:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37810286350176256 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:36:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37810412208656384 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:36:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810412208656384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:36:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810412208656384 [0;39m ==> Parameters: 
2023-05-12 10:36:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810412208656384 [0;39m <==    Updates: 1
2023-05-12 10:36:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37810412208656384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:37:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37810517070450688 [0;39m 生成今日电子书快照开始
2023-05-12 10:37:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37810517070450688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:37:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37810517070450688 [0;39m ==> Parameters: 
2023-05-12 10:37:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37810517070450688 [0;39m <==    Updates: 0
2023-05-12 10:37:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37810517070450688 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 10:37:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37810538000027648 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:37:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810538000027648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:37:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810538000027648 [0;39m ==> Parameters: 
2023-05-12 10:37:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810538000027648 [0;39m <==    Updates: 1
2023-05-12 10:37:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37810538000027648 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 10:37:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37810663850119168 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:37:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810663850119168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:37:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810663850119168 [0;39m ==> Parameters: 
2023-05-12 10:37:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810663850119168 [0;39m <==    Updates: 1
2023-05-12 10:37:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37810663850119168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:38:00.035 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37810768825159680 [0;39m 生成今日电子书快照开始
2023-05-12 10:38:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37810768825159680 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:38:00.037 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37810768825159680 [0;39m ==> Parameters: 
2023-05-12 10:38:00.039 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37810768825159680 [0;39m <==    Updates: 0
2023-05-12 10:38:00.039 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37810768825159680 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:38:05.043 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37810789830234112 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:38:05.049 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810789830234112 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:38:05.054 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810789830234112 [0;39m ==> Parameters: 
2023-05-12 10:38:05.056 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810789830234112 [0;39m <==    Updates: 1
2023-05-12 10:38:05.056 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37810789830234112 [0;39m 更新电子书下的文档数据结束，耗时：13毫秒
2023-05-12 10:38:23.664 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37809804621778944 [0;39m 连接关闭，token：4MYWj26ckQ，session id：2！当前连接数：0
2023-05-12 10:38:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37810915495776256 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:38:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810915495776256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:38:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810915495776256 [0;39m ==> Parameters: 
2023-05-12 10:38:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37810915495776256 [0;39m <==    Updates: 1
2023-05-12 10:38:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37810915495776256 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 10:38:38.339 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37805719751364608 [0;39m 有新连接：token：jVwRSeUyJh，session id：3，当前连接数：1
2023-05-12 10:38:38.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37810930058399744 [0;39m ------------- 开始 -------------
2023-05-12 10:38:38.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37810930058399744 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:38:38.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37810930058399744 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:38:38.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37810930058399744 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:38:38.477 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37810930058399744 [0;39m 请求参数: []
2023-05-12 10:38:38.477 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37810930058399744 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:38:38.478 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37810930058399744 [0;39m ==> Parameters: 
2023-05-12 10:38:38.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37810930070982656 [0;39m ------------- 开始 -------------
2023-05-12 10:38:38.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37810930070982656 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:38:38.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37810930070982656 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:38:38.479 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37810930058399744 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:38:38.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37810930070982656 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:38:38.479 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37810930058399744 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:38:38.479 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37810930070982656 [0;39m 请求参数: []
2023-05-12 10:38:38.480 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37810930070982656 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:38:38.480 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37810930070982656 [0;39m ==> Parameters: 
2023-05-12 10:38:38.481 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37810930058399744 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:38:38.481 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37810930070982656 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:38:38.481 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37810930058399744 [0;39m <==      Total: 2
2023-05-12 10:38:38.481 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37810930070982656 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:38:38.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37810930058399744 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:38:38.482 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37810930058399744 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:38:38.482 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37810930070982656 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:38:38.482 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37810930070982656 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:38:38.482 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37810930070982656 [0;39m <==      Total: 3
2023-05-12 10:38:38.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37810930070982656 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:38:38.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37810930070982656 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:38:38.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37810930100342784 [0;39m ------------- 开始 -------------
2023-05-12 10:38:38.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37810930100342784 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:38:38.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37810930100342784 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:38:38.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37810930100342784 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:38:38.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37810930100342784 [0;39m 请求参数: []
2023-05-12 10:38:38.487 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37810930100342784 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:38:38.487 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37810930100342784 [0;39m ==> Parameters: 
2023-05-12 10:38:38.488 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:38:38.489 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:38:38.489 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:38:38.489 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:38:38.490 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:38:38.490 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:38:38.490 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:38:38.490 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:38:38.491 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:38:38.491 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:38:38.491 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:38:38.491 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:38:38.492 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:38:38.492 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:38:38.492 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:38:38.492 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37810930100342784 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:38:38.493 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37810930100342784 [0;39m <==      Total: 15
2023-05-12 10:38:38.493 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37810930100342784 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:38:38.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37810930100342784 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 10:38:50.377 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37810979970617344 [0;39m ------------- 开始 -------------
2023-05-12 10:38:50.377 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37810979970617344 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:38:50.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37810979970617344 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:38:50.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37810979970617344 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:38:50.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37810979970617344 [0;39m 请求参数: [{"loginName":"1231","name":"32131"}]
2023-05-12 10:38:50.380 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37810979970617344 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:38:50.380 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37810979970617344 [0;39m ==> Parameters: null, 1231(String), 32131(String), 544f4e7aceeab82ffab9301d2d72a625(String)
2023-05-12 10:38:50.391 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37810979970617344 [0;39m <==    Updates: 1
2023-05-12 10:38:50.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37810979970617344 [0;39m 返回结果: {"success":true}
2023-05-12 10:38:50.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37810979970617344 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-12 10:38:58.215 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37809854227812352 [0;39m 连接关闭，token：jVwRSeUyJh，session id：3！当前连接数：0
2023-05-12 10:38:59.561 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37809783776088064 [0;39m 有新连接：token：rHoDs7bVuP，session id：4，当前连接数：1
2023-05-12 10:38:59.696 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811019061530624 [0;39m ------------- 开始 -------------
2023-05-12 10:38:59.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811019065724928 [0;39m ------------- 开始 -------------
2023-05-12 10:38:59.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811019061530624 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:38:59.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811019065724928 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:38:59.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811019065724928 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:38:59.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811019061530624 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:38:59.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811019065724928 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:38:59.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811019061530624 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:38:59.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811019065724928 [0;39m 请求参数: []
2023-05-12 10:38:59.697 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811019061530624 [0;39m 请求参数: []
2023-05-12 10:38:59.698 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37811019065724928 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:38:59.698 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37811019061530624 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:38:59.698 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37811019061530624 [0;39m ==> Parameters: 
2023-05-12 10:38:59.698 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37811019065724928 [0;39m ==> Parameters: 
2023-05-12 10:38:59.701 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37811019061530624 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:38:59.701 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811019065724928 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:38:59.701 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37811019061530624 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:38:59.701 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811019065724928 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:38:59.701 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37811019061530624 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:38:59.701 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811019065724928 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:38:59.702 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37811019061530624 [0;39m <==      Total: 2
2023-05-12 10:38:59.702 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811019065724928 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:38:59.702 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37811019065724928 [0;39m <==      Total: 3
2023-05-12 10:38:59.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811019061530624 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:38:59.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811019061530624 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:38:59.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811019065724928 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:38:59.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811019065724928 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:38:59.705 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811019099279360 [0;39m ------------- 开始 -------------
2023-05-12 10:38:59.705 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811019099279360 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:38:59.705 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811019099279360 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:38:59.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811019099279360 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:38:59.706 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811019099279360 [0;39m 请求参数: []
2023-05-12 10:38:59.706 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37811019099279360 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:38:59.707 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37811019099279360 [0;39m ==> Parameters: 
2023-05-12 10:38:59.708 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:38:59.709 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:38:59.709 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:38:59.709 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:38:59.709 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:38:59.710 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:38:59.710 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:38:59.710 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:38:59.710 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:38:59.711 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:38:59.711 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:38:59.711 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:38:59.711 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:38:59.712 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:38:59.712 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:38:59.712 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811019099279360 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:38:59.712 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37811019099279360 [0;39m <==      Total: 15
2023-05-12 10:38:59.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811019099279360 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:38:59.713 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811019099279360 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 10:39:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37811020382736384 [0;39m 生成今日电子书快照开始
2023-05-12 10:39:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37811020382736384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:39:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37811020382736384 [0;39m ==> Parameters: 
2023-05-12 10:39:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37811020382736384 [0;39m <==    Updates: 0
2023-05-12 10:39:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37811020382736384 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 10:39:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37811041316507648 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:39:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811041316507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:39:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811041316507648 [0;39m ==> Parameters: 
2023-05-12 10:39:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811041316507648 [0;39m <==    Updates: 1
2023-05-12 10:39:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37811041316507648 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:39:05.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811041345867776 [0;39m ------------- 开始 -------------
2023-05-12 10:39:05.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811041345867776 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:39:05.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811041345867776 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:39:05.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811041345867776 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:39:05.009 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811041345867776 [0;39m 请求参数: [{"loginName":"123"}]
2023-05-12 10:39:05.026 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811041345867776 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:39:05.027 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811041345867776 [0;39m ==> Parameters: 123(String)
2023-05-12 10:39:05.028 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811041345867776 [0;39m <==      Total: 0
2023-05-12 10:39:05.029 INFO  com.jiawa.wiki.service.UserService                :128  [32m37811041345867776 [0;39m 用户名不存在, 123
2023-05-12 10:39:05.030 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37811041345867776 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:39:05.030 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37811041345867776 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:39:08.237 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811054885081088 [0;39m ------------- 开始 -------------
2023-05-12 10:39:08.237 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811054885081088 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:39:08.237 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811054885081088 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:39:08.237 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811054885081088 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:39:08.237 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811054885081088 [0;39m 请求参数: [{"loginName":"123"}]
2023-05-12 10:39:08.238 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811054885081088 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:39:08.238 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811054885081088 [0;39m ==> Parameters: 123(String)
2023-05-12 10:39:08.240 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811054885081088 [0;39m <==      Total: 0
2023-05-12 10:39:08.240 INFO  com.jiawa.wiki.service.UserService                :128  [32m37811054885081088 [0;39m 用户名不存在, 123
2023-05-12 10:39:08.240 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37811054885081088 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:39:08.241 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37811054885081088 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:39:29.544 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811144253116416 [0;39m ------------- 开始 -------------
2023-05-12 10:39:29.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811144253116416 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:39:29.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811144253116416 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:39:29.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811144253116416 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:39:29.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811144253116416 [0;39m 请求参数: [{"loginName":"1231"}]
2023-05-12 10:39:29.547 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811144253116416 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:39:29.547 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811144253116416 [0;39m ==> Parameters: 1231(String)
2023-05-12 10:39:29.548 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811144253116416 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:39:29.548 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811144253116416 [0;39m <==        Row: 4, 1231, 32131, 544f4e7aceeab82ffab9301d2d72a625
2023-05-12 10:39:29.549 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811144253116416 [0;39m <==      Total: 1
2023-05-12 10:39:29.549 INFO  com.jiawa.wiki.service.UserService                :137  [32m37811144253116416 [0;39m 密码不对, 输入密码：b9b237df8bd22c295180ea0109cb7e67, 数据库密码：544f4e7aceeab82ffab9301d2d72a625
2023-05-12 10:39:29.549 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37811144253116416 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:39:29.550 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37811144253116416 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:39:31.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811153618997248 [0;39m ------------- 开始 -------------
2023-05-12 10:39:31.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811153618997248 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:39:31.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811153618997248 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:39:31.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811153618997248 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:39:31.777 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811153618997248 [0;39m 请求参数: [{"loginName":"1231"}]
2023-05-12 10:39:31.780 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811153618997248 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:39:31.781 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811153618997248 [0;39m ==> Parameters: 1231(String)
2023-05-12 10:39:31.781 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811153618997248 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:39:31.782 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811153618997248 [0;39m <==        Row: 4, 1231, 32131, 544f4e7aceeab82ffab9301d2d72a625
2023-05-12 10:39:31.782 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811153618997248 [0;39m <==      Total: 1
2023-05-12 10:39:31.782 INFO  com.jiawa.wiki.service.UserService                :137  [32m37811153618997248 [0;39m 密码不对, 输入密码：aa6f5f0aa265fe54cc0cf5e288ee0918, 数据库密码：544f4e7aceeab82ffab9301d2d72a625
2023-05-12 10:39:31.783 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37811153618997248 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:39:31.783 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37811153618997248 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:39:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37811167200153600 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:39:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811167200153600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:39:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811167200153600 [0;39m ==> Parameters: 
2023-05-12 10:39:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811167200153600 [0;39m <==    Updates: 1
2023-05-12 10:39:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37811167200153600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:39:41.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811193091592192 [0;39m ------------- 开始 -------------
2023-05-12 10:39:41.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811193091592192 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:39:41.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811193091592192 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:39:41.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811193091592192 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:39:41.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811193091592192 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-12 10:39:41.191 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811193091592192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:39:41.191 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811193091592192 [0;39m ==> Parameters: test(String)
2023-05-12 10:39:41.192 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811193091592192 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:39:41.192 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811193091592192 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 10:39:41.193 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811193091592192 [0;39m <==      Total: 1
2023-05-12 10:39:41.212 INFO  com.jiawa.wiki.controller.UserController          :85   [32m37811193091592192 [0;39m 生成单点登录token：37811193192255488，并放入redis中
2023-05-12 10:39:41.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811193091592192 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"测试","token":"37811193192255488"},"success":true}
2023-05-12 10:39:41.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811193091592192 [0;39m ------------- 结束 耗时：190 ms -------------
2023-05-12 10:39:42.701 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37809783776088064 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:39:42.702 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37809783776088064 [0;39m ------------- LoginInterceptor 结束 耗时：1 ms -------------
2023-05-12 10:39:42.706 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37811019061530624 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:39:42.706 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37811019061530624 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 10:39:42.706 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37811019061530624 [0;39m 登录校验开始，token：37811193192255488
2023-05-12 10:39:42.709 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37811019061530624 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37811193192255488"}
2023-05-12 10:39:42.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811199601152000 [0;39m ------------- 开始 -------------
2023-05-12 10:39:42.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811199601152000 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 10:39:42.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811199601152000 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 10:39:42.740 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811199601152000 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:39:42.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811199601152000 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 10:39:42.794 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37811199601152000 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 10:39:42.795 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37811199601152000 [0;39m ==> Parameters: 
2023-05-12 10:39:42.797 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37811199601152000 [0;39m <==    Columns: count(0)
2023-05-12 10:39:42.797 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37811199601152000 [0;39m <==        Row: 4
2023-05-12 10:39:42.799 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37811199601152000 [0;39m <==      Total: 1
2023-05-12 10:39:42.801 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811199601152000 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 10:39:42.802 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811199601152000 [0;39m ==> Parameters: 10(Integer)
2023-05-12 10:39:42.802 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811199601152000 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:39:42.803 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811199601152000 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 10:39:42.803 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811199601152000 [0;39m <==        Row: 2, test23, 321321, ee53d4213c897ad632bb8d824762f918
2023-05-12 10:39:42.803 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811199601152000 [0;39m <==        Row: 3, test32, 312, ee53d4213c897ad632bb8d824762f918
2023-05-12 10:39:42.803 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811199601152000 [0;39m <==        Row: 4, 1231, 32131, 544f4e7aceeab82ffab9301d2d72a625
2023-05-12 10:39:42.804 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811199601152000 [0;39m <==      Total: 4
2023-05-12 10:39:42.806 INFO  com.jiawa.wiki.service.UserService                :50   [32m37811199601152000 [0;39m 总行数：4
2023-05-12 10:39:42.806 INFO  com.jiawa.wiki.service.UserService                :51   [32m37811199601152000 [0;39m 总页数：1
2023-05-12 10:39:42.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811199601152000 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":2,"loginName":"test23","name":"321321"},{"id":3,"loginName":"test32","name":"312"},{"id":4,"loginName":"1231","name":"32131"}],"total":4},"success":true}
2023-05-12 10:39:42.813 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811199601152000 [0;39m ------------- 结束 耗时：73 ms -------------
2023-05-12 10:39:42.816 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37811199601152000 [0;39m ------------- LoginInterceptor 结束 耗时：110 ms -------------
2023-05-12 10:39:46.418 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37811019065724928 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:39:46.419 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37811019065724928 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 10:39:46.421 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37811019099279360 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:39:46.421 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37811019099279360 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/reset-password
2023-05-12 10:39:46.421 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37811019099279360 [0;39m 登录校验开始，token：37811193192255488
2023-05-12 10:39:46.422 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37811019099279360 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37811193192255488"}
2023-05-12 10:39:46.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811215069745152 [0;39m ------------- 开始 -------------
2023-05-12 10:39:46.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811215069745152 [0;39m 请求地址: http://127.0.0.1:8880/user/reset-password POST
2023-05-12 10:39:46.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811215069745152 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.resetPassword
2023-05-12 10:39:46.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811215069745152 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:39:46.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811215069745152 [0;39m 请求参数: [{"id":4}]
2023-05-12 10:39:46.437 DEBUG c.j.w.m.UserMapper.updateByPrimaryKeySelective    :137  [32m37811215069745152 [0;39m ==>  Preparing: update user SET `password` = ? where id = ?
2023-05-12 10:39:46.437 DEBUG c.j.w.m.UserMapper.updateByPrimaryKeySelective    :137  [32m37811215069745152 [0;39m ==> Parameters: aa6f5f0aa265fe54cc0cf5e288ee0918(String), 4(Long)
2023-05-12 10:39:46.445 DEBUG c.j.w.m.UserMapper.updateByPrimaryKeySelective    :137  [32m37811215069745152 [0;39m <==    Updates: 1
2023-05-12 10:39:46.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811215069745152 [0;39m 返回结果: {"success":true}
2023-05-12 10:39:46.446 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811215069745152 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-12 10:39:46.447 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37811215069745152 [0;39m ------------- LoginInterceptor 结束 耗时：26 ms -------------
2023-05-12 10:39:46.463 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37805719751364608 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:39:46.464 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37805719751364608 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 10:39:46.464 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37805719751364608 [0;39m 登录校验开始，token：37811193192255488
2023-05-12 10:39:46.464 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37805719751364608 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37811193192255488"}
2023-05-12 10:39:46.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811215224934400 [0;39m ------------- 开始 -------------
2023-05-12 10:39:46.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811215224934400 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 10:39:46.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811215224934400 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 10:39:46.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811215224934400 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:39:46.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811215224934400 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 10:39:46.467 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37811215224934400 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 10:39:46.467 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37811215224934400 [0;39m ==> Parameters: 
2023-05-12 10:39:46.475 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37811215224934400 [0;39m <==    Columns: count(0)
2023-05-12 10:39:46.475 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37811215224934400 [0;39m <==        Row: 4
2023-05-12 10:39:46.475 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37811215224934400 [0;39m <==      Total: 1
2023-05-12 10:39:46.476 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811215224934400 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 10:39:46.476 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811215224934400 [0;39m ==> Parameters: 10(Integer)
2023-05-12 10:39:46.477 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811215224934400 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:39:46.477 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811215224934400 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 10:39:46.478 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811215224934400 [0;39m <==        Row: 2, test23, 321321, ee53d4213c897ad632bb8d824762f918
2023-05-12 10:39:46.479 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811215224934400 [0;39m <==        Row: 3, test32, 312, ee53d4213c897ad632bb8d824762f918
2023-05-12 10:39:46.479 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37811215224934400 [0;39m <==        Row: 4, 1231, 32131, aa6f5f0aa265fe54cc0cf5e288ee0918
2023-05-12 10:39:46.479 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37811215224934400 [0;39m <==      Total: 4
2023-05-12 10:39:46.480 INFO  com.jiawa.wiki.service.UserService                :50   [32m37811215224934400 [0;39m 总行数：4
2023-05-12 10:39:46.480 INFO  com.jiawa.wiki.service.UserService                :51   [32m37811215224934400 [0;39m 总页数：1
2023-05-12 10:39:46.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811215224934400 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":2,"loginName":"test23","name":"321321"},{"id":3,"loginName":"test32","name":"312"},{"id":4,"loginName":"1231","name":"32131"}],"total":4},"success":true}
2023-05-12 10:39:46.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811215224934400 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-12 10:39:46.482 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37811215224934400 [0;39m ------------- LoginInterceptor 结束 耗时：19 ms -------------
2023-05-12 10:39:48.886 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37811041345867776 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:39:48.887 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37811041345867776 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 10:39:48.890 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37811054885081088 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:39:48.890 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37811054885081088 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/37811193192255488
2023-05-12 10:39:48.890 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37811054885081088 [0;39m 登录校验开始，token：37811193192255488
2023-05-12 10:39:48.891 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37811054885081088 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37811193192255488"}
2023-05-12 10:39:48.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811225450647552 [0;39m ------------- 开始 -------------
2023-05-12 10:39:48.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811225450647552 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/37811193192255488 GET
2023-05-12 10:39:48.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811225450647552 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-12 10:39:48.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811225450647552 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:39:48.904 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811225450647552 [0;39m 请求参数: ["37811193192255488"]
2023-05-12 10:39:48.906 INFO  com.jiawa.wiki.controller.UserController          :96   [32m37811225450647552 [0;39m 从redis中删除token: 37811193192255488
2023-05-12 10:39:48.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811225450647552 [0;39m 返回结果: {"success":true}
2023-05-12 10:39:48.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811225450647552 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 10:39:48.907 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37811225450647552 [0;39m ------------- LoginInterceptor 结束 耗时：17 ms -------------
2023-05-12 10:39:51.622 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37811144253116416 [0;39m 连接关闭，token：rHoDs7bVuP，session id：4！当前连接数：0
2023-05-12 10:39:52.924 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37811153618997248 [0;39m 有新连接：token：ir3gDoyBsS，session id：5，当前连接数：1
2023-05-12 10:39:53.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811242844426240 [0;39m ------------- 开始 -------------
2023-05-12 10:39:53.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811242844426240 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:39:53.050 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811242844426240 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:39:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811242844426240 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:39:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811242848620544 [0;39m ------------- 开始 -------------
2023-05-12 10:39:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811242844426240 [0;39m 请求参数: []
2023-05-12 10:39:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811242848620545 [0;39m ------------- 开始 -------------
2023-05-12 10:39:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811242848620544 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:39:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811242848620544 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:39:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811242848620545 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:39:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811242848620544 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:39:53.051 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37811242844426240 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:39:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811242848620544 [0;39m 请求参数: []
2023-05-12 10:39:53.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811242848620545 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:39:53.052 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37811242844426240 [0;39m ==> Parameters: 
2023-05-12 10:39:53.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811242848620545 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:39:53.052 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811242848620545 [0;39m 请求参数: []
2023-05-12 10:39:53.052 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37811242848620544 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:39:53.052 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37811242848620544 [0;39m ==> Parameters: 
2023-05-12 10:39:53.052 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37811242848620545 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:39:53.053 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37811242844426240 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:39:53.053 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37811242848620545 [0;39m ==> Parameters: 
2023-05-12 10:39:53.053 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:39:53.053 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37811242844426240 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:39:53.053 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:39:53.053 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:39:53.053 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37811242844426240 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:39:53.053 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811242848620545 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:39:53.054 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:39:53.054 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37811242844426240 [0;39m <==      Total: 2
2023-05-12 10:39:53.054 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811242848620545 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:39:53.054 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:39:53.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811242844426240 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:39:53.061 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811242844426240 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 10:39:53.061 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:39:53.061 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811242848620545 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:39:53.061 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:39:53.061 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811242848620545 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:39:53.061 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37811242848620545 [0;39m <==      Total: 3
2023-05-12 10:39:53.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811242848620545 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:39:53.061 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:39:53.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811242848620545 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 10:39:53.062 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:39:53.062 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:39:53.062 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:39:53.063 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:39:53.063 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:39:53.063 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:39:53.063 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:39:53.064 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811242848620544 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:39:53.064 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37811242848620544 [0;39m <==      Total: 15
2023-05-12 10:39:53.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811242848620544 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:39:53.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811242848620544 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 10:40:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37811272061947904 [0;39m 生成今日电子书快照开始
2023-05-12 10:40:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37811272061947904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:40:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37811272061947904 [0;39m ==> Parameters: 
2023-05-12 10:40:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37811272061947904 [0;39m <==    Updates: 0
2023-05-12 10:40:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37811272061947904 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:40:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37811292995719168 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:40:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811292995719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:40:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811292995719168 [0;39m ==> Parameters: 
2023-05-12 10:40:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811292995719168 [0;39m <==    Updates: 1
2023-05-12 10:40:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37811292995719168 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 10:40:10.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811315779178496 [0;39m ------------- 开始 -------------
2023-05-12 10:40:10.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811315779178496 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:40:10.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811315779178496 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:40:10.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811315779178496 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:40:10.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811315779178496 [0;39m 请求参数: [{"loginName":"1231","name":"11"}]
2023-05-12 10:40:10.439 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37811315779178496 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:40:10.439 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37811315779178496 [0;39m ==> Parameters: null, 1231(String), 11(String), c20ad4d76fe97759aa27a0c99bff6710(String)
2023-05-12 10:40:10.455 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m37811315779178496 [0;39m 系统异常：
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1231' for key 'user.login_name_unique'
### The error may exist in file [D:\work\jiawawiki\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user (id, login_name, `name`,        `password`)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1231' for key 'user.login_name_unique'
; Duplicate entry '1231' for key 'user.login_name_unique'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1231' for key 'user.login_name_unique'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy97.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy111.insert(Unknown Source)
	at com.jiawa.wiki.service.UserService.regirster(UserService.java:145)
	at com.jiawa.wiki.controller.UserController.regirster(UserController.java:75)
	at com.jiawa.wiki.controller.UserController$$FastClassBySpringCGLIB$$5f26ceea.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor104.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.UserController$$EnhancerBySpringCGLIB$$48384889.regirster(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1231' for key 'user.login_name_unique'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor68.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor73.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 81 common frames omitted
2023-05-12 10:40:10.457 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37811315779178496 [0;39m Resolved [org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1231' for key 'user.login_name_unique'
### The error may exist in file [D:\work\jiawawiki\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user (id, login_name, `name`,        `password`)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1231' for key 'user.login_name_unique'
; Duplicate entry '1231' for key 'user.login_name_unique'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1231' for key 'user.login_name_unique']
2023-05-12 10:40:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37811418816450560 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:40:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811418816450560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:40:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811418816450560 [0;39m ==> Parameters: 
2023-05-12 10:40:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811418816450560 [0;39m <==    Updates: 1
2023-05-12 10:40:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37811418816450560 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 10:41:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37811523674050560 [0;39m 生成今日电子书快照开始
2023-05-12 10:41:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37811523674050560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:41:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37811523674050560 [0;39m ==> Parameters: 
2023-05-12 10:41:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37811523674050560 [0;39m <==    Updates: 0
2023-05-12 10:41:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37811523674050560 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:41:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37811544653959168 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:41:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811544653959168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:41:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811544653959168 [0;39m ==> Parameters: 
2023-05-12 10:41:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811544653959168 [0;39m <==    Updates: 1
2023-05-12 10:41:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37811544653959168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:41:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37811670466301952 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:41:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811670466301952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:41:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811670466301952 [0;39m ==> Parameters: 
2023-05-12 10:41:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811670466301952 [0;39m <==    Updates: 1
2023-05-12 10:41:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37811670466301952 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:41:45.797 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37811225450647552 [0;39m 连接关闭，token：ir3gDoyBsS，session id：5！当前连接数：0
2023-05-12 10:41:47.374 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37811144253116416 [0;39m 有新连接：token：unHiB7LREc，session id：6，当前连接数：1
2023-05-12 10:41:47.527 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811722995765248 [0;39m ------------- 开始 -------------
2023-05-12 10:41:47.527 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811722995765248 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:41:47.528 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811722995765248 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:41:47.528 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811722995765248 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:41:47.528 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811722995765248 [0;39m 请求参数: []
2023-05-12 10:41:47.528 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37811722995765248 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:41:47.529 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37811722995765248 [0;39m ==> Parameters: 
2023-05-12 10:41:47.530 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37811722995765248 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:41:47.531 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37811722995765248 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:41:47.531 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37811722995765248 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:41:47.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811723012542464 [0;39m ------------- 开始 -------------
2023-05-12 10:41:47.531 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37811722995765248 [0;39m <==      Total: 2
2023-05-12 10:41:47.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811723012542464 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:41:47.531 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811723012542464 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:41:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811722995765248 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:41:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811723012542464 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:41:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811722995765248 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 10:41:47.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811723012542464 [0;39m 请求参数: []
2023-05-12 10:41:47.532 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37811723012542464 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:41:47.532 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37811723012542464 [0;39m ==> Parameters: 
2023-05-12 10:41:47.533 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811723012542464 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:41:47.534 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811723012542464 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:41:47.534 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811723012542464 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:41:47.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811723025125376 [0;39m ------------- 开始 -------------
2023-05-12 10:41:47.534 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811723012542464 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:41:47.534 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811723025125376 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:41:47.534 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37811723012542464 [0;39m <==      Total: 3
2023-05-12 10:41:47.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811723025125376 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:41:47.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811723012542464 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:41:47.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811723025125376 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:41:47.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811723012542464 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:41:47.535 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811723025125376 [0;39m 请求参数: []
2023-05-12 10:41:47.536 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37811723025125376 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:41:47.536 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37811723025125376 [0;39m ==> Parameters: 
2023-05-12 10:41:47.537 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:41:47.537 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:41:47.538 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:41:47.538 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:41:47.539 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:41:47.539 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:41:47.539 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:41:47.539 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:41:47.540 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:41:47.540 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:41:47.540 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:41:47.540 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:41:47.541 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:41:47.541 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:41:47.541 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:41:47.541 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811723025125376 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:41:47.541 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37811723025125376 [0;39m <==      Total: 15
2023-05-12 10:41:47.542 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811723025125376 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:41:47.542 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811723025125376 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 10:41:54.944 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811754104918016 [0;39m ------------- 开始 -------------
2023-05-12 10:41:54.944 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811754104918016 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:41:54.944 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811754104918016 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:41:54.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811754104918016 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:41:54.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811754104918016 [0;39m 请求参数: [{"loginName":"1231","name":"21"}]
2023-05-12 10:41:54.946 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37811754104918016 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:41:54.946 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37811754104918016 [0;39m ==> Parameters: null, 1231(String), 21(String), c20ad4d76fe97759aa27a0c99bff6710(String)
2023-05-12 10:41:54.953 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37811754104918016 [0;39m <==    Updates: 1
2023-05-12 10:41:54.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811754104918016 [0;39m 返回结果: {"success":true}
2023-05-12 10:41:54.954 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811754104918016 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 10:42:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37811775328096256 [0;39m 生成今日电子书快照开始
2023-05-12 10:42:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37811775328096256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:42:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37811775328096256 [0;39m ==> Parameters: 
2023-05-12 10:42:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37811775328096256 [0;39m <==    Updates: 0
2023-05-12 10:42:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37811775328096256 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 10:42:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37811796295421952 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:42:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811796295421952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:42:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811796295421952 [0;39m ==> Parameters: 
2023-05-12 10:42:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811796295421952 [0;39m <==    Updates: 1
2023-05-12 10:42:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37811796295421952 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:42:18.386 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37811315779178496 [0;39m 连接关闭，token：unHiB7LREc，session id：6！当前连接数：0
2023-05-12 10:42:20.076 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37811215069745152 [0;39m 有新连接：token：rqIPM21ret，session id：7，当前连接数：1
2023-05-12 10:42:20.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811860149506048 [0;39m ------------- 开始 -------------
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811860149506048 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811860149506048 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811860153700353 [0;39m ------------- 开始 -------------
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811860153700352 [0;39m ------------- 开始 -------------
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811860149506048 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811860153700353 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811860153700352 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811860149506048 [0;39m 请求参数: []
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811860153700353 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811860153700352 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811860153700353 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811860153700352 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:42:20.229 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811860153700352 [0;39m 请求参数: []
2023-05-12 10:42:20.228 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811860153700353 [0;39m 请求参数: []
2023-05-12 10:42:20.229 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37811860149506048 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:42:20.229 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37811860153700353 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:42:20.229 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37811860149506048 [0;39m ==> Parameters: 
2023-05-12 10:42:20.229 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37811860153700353 [0;39m ==> Parameters: 
2023-05-12 10:42:20.229 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37811860153700352 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:42:20.230 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37811860153700352 [0;39m ==> Parameters: 
2023-05-12 10:42:20.230 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811860153700353 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:42:20.230 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37811860149506048 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:42:20.230 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:42:20.230 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811860153700353 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:42:20.230 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37811860149506048 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:42:20.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:42:20.231 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811860153700353 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:42:20.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:42:20.231 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37811860153700353 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:42:20.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:42:20.231 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37811860149506048 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:42:20.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:42:20.231 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37811860153700353 [0;39m <==      Total: 3
2023-05-12 10:42:20.231 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:42:20.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811860153700353 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:42:20.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811860153700353 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:42:20.232 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:42:20.232 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:42:20.232 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37811860149506048 [0;39m <==      Total: 2
2023-05-12 10:42:20.232 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:42:20.232 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:42:20.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811860149506048 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:42:20.233 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:42:20.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811860149506048 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:42:20.233 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:42:20.233 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:42:20.233 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:42:20.233 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:42:20.234 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37811860153700352 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:42:20.234 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37811860153700352 [0;39m <==      Total: 15
2023-05-12 10:42:20.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811860153700352 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:42:20.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811860153700352 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 10:42:26.945 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37811888326840320 [0;39m ------------- 开始 -------------
2023-05-12 10:42:26.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37811888326840320 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:42:26.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37811888326840320 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:42:26.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37811888326840320 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:42:26.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37811888326840320 [0;39m 请求参数: [{"loginName":"123","name":"123"}]
2023-05-12 10:42:26.948 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37811888326840320 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:42:26.948 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37811888326840320 [0;39m ==> Parameters: null, 123(String), 123(String), 202cb962ac59075b964b07152d234b70(String)
2023-05-12 10:42:26.961 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37811888326840320 [0;39m <==    Updates: 1
2023-05-12 10:42:26.961 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37811888326840320 [0;39m 返回结果: {"success":true}
2023-05-12 10:42:26.962 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37811888326840320 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-12 10:42:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37811922145513472 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:42:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811922145513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:42:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811922145513472 [0;39m ==> Parameters: 
2023-05-12 10:42:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37811922145513472 [0;39m <==    Updates: 1
2023-05-12 10:42:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37811922145513472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:43:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37812026973753344 [0;39m 生成今日电子书快照开始
2023-05-12 10:43:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37812026973753344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:43:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37812026973753344 [0;39m ==> Parameters: 
2023-05-12 10:43:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37812026973753344 [0;39m <==    Updates: 0
2023-05-12 10:43:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37812026973753344 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-12 10:43:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37812047999799296 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:43:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812047999799296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:43:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812047999799296 [0;39m ==> Parameters: 
2023-05-12 10:43:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812047999799296 [0;39m <==    Updates: 1
2023-05-12 10:43:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37812047999799296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:43:31.377 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37811754104918016 [0;39m 连接关闭，token：rqIPM21ret，session id：7！当前连接数：0
2023-05-12 10:43:32.741 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37811315779178496 [0;39m 有新连接：token：BHbAfJICLk，session id：8，当前连接数：1
2023-05-12 10:43:32.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812164840525824 [0;39m ------------- 开始 -------------
2023-05-12 10:43:32.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812164840525825 [0;39m ------------- 开始 -------------
2023-05-12 10:43:32.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812164840525824 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:43:32.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812164840525825 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:43:32.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812164840525824 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:43:32.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812164840525825 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:43:32.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812164840525824 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:43:32.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812164840525825 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:43:32.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812164840525824 [0;39m 请求参数: []
2023-05-12 10:43:32.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812164840525825 [0;39m 请求参数: []
2023-05-12 10:43:32.872 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37812164840525824 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:43:32.872 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37812164840525825 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:43:32.872 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37812164840525824 [0;39m ==> Parameters: 
2023-05-12 10:43:32.872 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37812164840525825 [0;39m ==> Parameters: 
2023-05-12 10:43:32.873 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37812164840525824 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:43:32.873 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812164840525825 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:43:32.874 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37812164840525824 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:43:32.874 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812164840525825 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:43:32.874 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812164840525825 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:43:32.874 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37812164840525824 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:43:32.874 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812164840525825 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:43:32.874 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37812164840525824 [0;39m <==      Total: 2
2023-05-12 10:43:32.875 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37812164840525825 [0;39m <==      Total: 3
2023-05-12 10:43:32.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812164840525824 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:43:32.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812164840525824 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:43:32.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812164840525825 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:43:32.875 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812164840525825 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:43:32.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812164874080256 [0;39m ------------- 开始 -------------
2023-05-12 10:43:32.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812164874080256 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:43:32.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812164874080256 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:43:32.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812164874080256 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:43:32.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812164874080256 [0;39m 请求参数: []
2023-05-12 10:43:32.879 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37812164874080256 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:43:32.880 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37812164874080256 [0;39m ==> Parameters: 
2023-05-12 10:43:32.881 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:43:32.881 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:43:32.881 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:43:32.881 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:43:32.882 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:43:32.882 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:43:32.882 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:43:32.882 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:43:32.882 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:43:32.883 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:43:32.883 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:43:32.883 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:43:32.883 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:43:32.884 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:43:32.884 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:43:32.884 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812164874080256 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:43:32.884 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37812164874080256 [0;39m <==      Total: 15
2023-05-12 10:43:32.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812164874080256 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:43:32.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812164874080256 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:43:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37812173807947776 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:43:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812173807947776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:43:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812173807947776 [0;39m ==> Parameters: 
2023-05-12 10:43:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812173807947776 [0;39m <==    Updates: 1
2023-05-12 10:43:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37812173807947776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:43:37.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812185686216704 [0;39m ------------- 开始 -------------
2023-05-12 10:43:37.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812185686216704 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:43:37.841 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812185686216704 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:43:37.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812185686216704 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:43:37.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812185686216704 [0;39m 请求参数: [{"loginName":"1","name":"1"}]
2023-05-12 10:43:37.842 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37812185686216704 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:43:37.843 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37812185686216704 [0;39m ==> Parameters: null, 1(String), 1(String), c4ca4238a0b923820dcc509a6f75849b(String)
2023-05-12 10:43:37.844 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37812185686216704 [0;39m <==    Updates: 1
2023-05-12 10:43:37.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812185686216704 [0;39m 返回结果: {"success":true}
2023-05-12 10:43:37.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812185686216704 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:44:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37812278648770560 [0;39m 生成今日电子书快照开始
2023-05-12 10:44:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37812278648770560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:44:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37812278648770560 [0;39m ==> Parameters: 
2023-05-12 10:44:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37812278648770560 [0;39m <==    Updates: 0
2023-05-12 10:44:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37812278648770560 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 10:44:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37812299628679168 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:44:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812299628679168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:44:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812299628679168 [0;39m ==> Parameters: 
2023-05-12 10:44:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812299628679168 [0;39m <==    Updates: 1
2023-05-12 10:44:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37812299628679168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:44:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37812425449410560 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:44:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812425449410560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:44:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812425449410560 [0;39m ==> Parameters: 
2023-05-12 10:44:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812425449410560 [0;39m <==    Updates: 1
2023-05-12 10:44:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37812425449410560 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 10:44:46.814 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37811723025125376 [0;39m 连接关闭，token：BHbAfJICLk，session id：8！当前连接数：0
2023-05-12 10:44:48.182 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37811754104918016 [0;39m 有新连接：token：0fiCI9vOeB，session id：9，当前连接数：1
2023-05-12 10:44:48.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812481254625280 [0;39m ------------- 开始 -------------
2023-05-12 10:44:48.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812481254625281 [0;39m ------------- 开始 -------------
2023-05-12 10:44:48.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812481254625281 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:44:48.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812481254625280 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:44:48.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812481254625281 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:44:48.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812481254625280 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:44:48.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812481254625281 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:44:48.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812481254625280 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:44:48.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812481254625280 [0;39m 请求参数: []
2023-05-12 10:44:48.311 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812481254625281 [0;39m 请求参数: []
2023-05-12 10:44:48.311 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37812481254625281 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:44:48.311 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37812481254625280 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:44:48.312 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37812481254625280 [0;39m ==> Parameters: 
2023-05-12 10:44:48.312 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37812481254625281 [0;39m ==> Parameters: 
2023-05-12 10:44:48.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812481263013888 [0;39m ------------- 开始 -------------
2023-05-12 10:44:48.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812481263013888 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:44:48.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812481263013888 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:44:48.312 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812481263013888 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:44:48.313 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812481254625281 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:44:48.313 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37812481254625280 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:44:48.313 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812481263013888 [0;39m 请求参数: []
2023-05-12 10:44:48.313 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812481254625281 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:44:48.313 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37812481254625280 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:44:48.313 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812481254625281 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:44:48.313 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37812481254625280 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:44:48.313 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37812481263013888 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:44:48.313 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37812481254625280 [0;39m <==      Total: 2
2023-05-12 10:44:48.313 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812481254625281 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:44:48.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812481254625280 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:44:48.314 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37812481254625281 [0;39m <==      Total: 3
2023-05-12 10:44:48.314 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37812481263013888 [0;39m ==> Parameters: 
2023-05-12 10:44:48.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812481254625280 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:44:48.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812481254625281 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:44:48.314 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812481254625281 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:44:48.314 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:44:48.315 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:44:48.315 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:44:48.315 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:44:48.315 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:44:48.316 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:44:48.316 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:44:48.316 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:44:48.316 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:44:48.316 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:44:48.317 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:44:48.317 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:44:48.317 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:44:48.317 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:44:48.320 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:44:48.320 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812481263013888 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:44:48.321 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37812481263013888 [0;39m <==      Total: 15
2023-05-12 10:44:48.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812481263013888 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:44:48.321 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812481263013888 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 10:45:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37812530340564992 [0;39m 生成今日电子书快照开始
2023-05-12 10:45:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37812530340564992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:45:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37812530340564992 [0;39m ==> Parameters: 
2023-05-12 10:45:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37812530340564992 [0;39m <==    Updates: 0
2023-05-12 10:45:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37812530340564992 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-12 10:45:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37812551274336256 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:45:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812551274336256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:45:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812551274336256 [0;39m ==> Parameters: 
2023-05-12 10:45:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812551274336256 [0;39m <==    Updates: 1
2023-05-12 10:45:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37812551274336256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:45:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37812677099261952 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:45:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812677099261952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:45:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812677099261952 [0;39m ==> Parameters: 
2023-05-12 10:45:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812677099261952 [0;39m <==    Updates: 1
2023-05-12 10:45:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37812677099261952 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:45:59.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812781533237248 [0;39m ------------- 开始 -------------
2023-05-12 10:45:59.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812781533237248 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:45:59.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812781533237248 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:45:59.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812781533237248 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:45:59.903 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812781533237248 [0;39m 请求参数: [{"loginName":"1","name":"1"}]
2023-05-12 10:45:59.904 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37812781533237248 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:45:59.905 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37812781533237248 [0;39m ==> Parameters: null, 1(String), 1(String), c4ca4238a0b923820dcc509a6f75849b(String)
2023-05-12 10:45:59.906 ERROR com.jiawa.wiki.config.ControllerExceptionHandler  :59   [32m37812781533237248 [0;39m 系统异常：
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'user.login_name_unique'
### The error may exist in file [D:\work\jiawawiki\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user (id, login_name, `name`,        `password`)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'user.login_name_unique'
; Duplicate entry '1' for key 'user.login_name_unique'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'user.login_name_unique'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy97.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy111.insert(Unknown Source)
	at com.jiawa.wiki.service.UserService.regirster(UserService.java:145)
	at com.jiawa.wiki.controller.UserController.regirster(UserController.java:75)
	at com.jiawa.wiki.controller.UserController$$FastClassBySpringCGLIB$$5f26ceea.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jiawa.wiki.aspect.LogAspect.doAround(LogAspect.java:86)
	at sun.reflect.GeneratedMethodAccessor104.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)
	at com.jiawa.wiki.controller.UserController$$EnhancerBySpringCGLIB$$48384889.regirster(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'user.login_name_unique'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor68.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor73.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy133.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 81 common frames omitted
2023-05-12 10:45:59.907 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37812781533237248 [0;39m Resolved [org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'user.login_name_unique'
### The error may exist in file [D:\work\jiawawiki\target\classes\mapper\UserMapper.xml]
### The error may involve com.jiawa.wiki.mapper.UserMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user (id, login_name, `name`,        `password`)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'user.login_name_unique'
; Duplicate entry '1' for key 'user.login_name_unique'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1' for key 'user.login_name_unique']
2023-05-12 10:46:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37812781952667648 [0;39m 生成今日电子书快照开始
2023-05-12 10:46:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37812781952667648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:46:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37812781952667648 [0;39m ==> Parameters: 
2023-05-12 10:46:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37812781952667648 [0;39m <==    Updates: 0
2023-05-12 10:46:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37812781952667648 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:46:02.134 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37811723012542464 [0;39m 连接关闭，token：0fiCI9vOeB，session id：9！当前连接数：0
2023-05-12 10:46:03.724 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37811723025125376 [0;39m 有新连接：token：ue8k0SpGi5，session id：a，当前连接数：1
2023-05-12 10:46:03.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812798289481728 [0;39m ------------- 开始 -------------
2023-05-12 10:46:03.897 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812798289481728 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:46:03.898 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812798289481728 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:46:03.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812798289481728 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:46:03.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812798289481728 [0;39m 请求参数: []
2023-05-12 10:46:03.900 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37812798289481728 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:46:03.900 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37812798289481728 [0;39m ==> Parameters: 
2023-05-12 10:46:03.901 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37812798289481728 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:46:03.901 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37812798289481728 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:46:03.902 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37812798289481728 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:46:03.902 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37812798289481728 [0;39m <==      Total: 2
2023-05-12 10:46:03.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812798289481728 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:46:03.902 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812798289481728 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 10:46:03.908 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812798335619072 [0;39m ------------- 开始 -------------
2023-05-12 10:46:03.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812798339813376 [0;39m ------------- 开始 -------------
2023-05-12 10:46:03.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812798339813376 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:46:03.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812798339813376 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:46:03.909 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812798339813376 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:46:03.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812798339813376 [0;39m 请求参数: []
2023-05-12 10:46:03.910 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37812798339813376 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:46:03.911 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37812798339813376 [0;39m ==> Parameters: 
2023-05-12 10:46:03.910 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812798335619072 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:46:03.911 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812798335619072 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:46:03.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812798335619072 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:46:03.912 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812798339813376 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:46:03.912 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812798335619072 [0;39m 请求参数: []
2023-05-12 10:46:03.912 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812798339813376 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:46:03.912 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812798339813376 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:46:03.913 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812798339813376 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:46:03.912 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37812798335619072 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:46:03.913 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37812798339813376 [0;39m <==      Total: 3
2023-05-12 10:46:03.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812798339813376 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:46:03.914 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812798339813376 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 10:46:03.914 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37812798335619072 [0;39m ==> Parameters: 
2023-05-12 10:46:03.915 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:46:03.915 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:46:03.915 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:46:03.916 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:46:03.916 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:46:03.916 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:46:03.916 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:46:03.916 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:46:03.917 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:46:03.917 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:46:03.917 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:46:03.917 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:46:03.917 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:46:03.917 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:46:03.919 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:46:03.919 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812798335619072 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:46:03.919 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37812798335619072 [0;39m <==      Total: 15
2023-05-12 10:46:03.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812798335619072 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:46:03.920 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812798335619072 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 10:46:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37812802919993344 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:46:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812802919993344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:46:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812802919993344 [0;39m ==> Parameters: 
2023-05-12 10:46:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812802919993344 [0;39m <==    Updates: 1
2023-05-12 10:46:05.001 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37812802919993344 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:46:08.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812819646877696 [0;39m ------------- 开始 -------------
2023-05-12 10:46:08.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812819646877696 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:46:08.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812819646877696 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:46:08.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812819646877696 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:46:08.990 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812819646877696 [0;39m 请求参数: [{"loginName":"3","name":"3"}]
2023-05-12 10:46:08.991 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37812819646877696 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:46:08.991 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37812819646877696 [0;39m ==> Parameters: null, 3(String), 3(String), eccbc87e4b5ce2fe28308fd9f2a7baf3(String)
2023-05-12 10:46:08.993 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37812819646877696 [0;39m <==    Updates: 1
2023-05-12 10:46:08.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812819646877696 [0;39m 返回结果: {"success":true}
2023-05-12 10:46:08.993 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812819646877696 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:46:14.377 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812842245787648 [0;39m ------------- 开始 -------------
2023-05-12 10:46:14.377 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812842245787648 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:46:14.377 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812842245787648 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:46:14.377 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812842245787648 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:46:14.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812842245787648 [0;39m 请求参数: [{"loginName":"3"}]
2023-05-12 10:46:14.379 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37812842245787648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:46:14.379 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37812842245787648 [0;39m ==> Parameters: 3(String)
2023-05-12 10:46:14.380 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37812842245787648 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:46:14.380 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37812842245787648 [0;39m <==        Row: 10, 3, 3, eccbc87e4b5ce2fe28308fd9f2a7baf3
2023-05-12 10:46:14.380 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37812842245787648 [0;39m <==      Total: 1
2023-05-12 10:46:14.380 INFO  com.jiawa.wiki.service.UserService                :137  [32m37812842245787648 [0;39m 密码不对, 输入密码：93a6c6a957e1f1ea3a3c49122d8cbe4e, 数据库密码：eccbc87e4b5ce2fe28308fd9f2a7baf3
2023-05-12 10:46:14.381 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37812842245787648 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:46:14.382 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37812842245787648 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:46:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37812928774279168 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:46:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812928774279168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:46:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812928774279168 [0;39m ==> Parameters: 
2023-05-12 10:46:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37812928774279168 [0;39m <==    Updates: 1
2023-05-12 10:46:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37812928774279168 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:46:44.232 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37812185686216704 [0;39m 连接关闭，token：ue8k0SpGi5，session id：a！当前连接数：0
2023-05-12 10:46:45.581 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37811722995765248 [0;39m 有新连接：token：56HsBCJKzb，session id：b，当前连接数：1
2023-05-12 10:46:45.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812973728829440 [0;39m ------------- 开始 -------------
2023-05-12 10:46:45.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812973728829440 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:46:45.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812973728829440 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:46:45.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812973728829440 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:46:45.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812973728829440 [0;39m 请求参数: []
2023-05-12 10:46:45.727 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37812973728829440 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:46:45.727 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37812973728829440 [0;39m ==> Parameters: 
2023-05-12 10:46:45.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812973737218048 [0;39m ------------- 开始 -------------
2023-05-12 10:46:45.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812973737218048 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:46:45.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812973737218048 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:46:45.728 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37812973728829440 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:46:45.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812973737218048 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:46:45.729 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37812973728829440 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:46:45.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812973737218048 [0;39m 请求参数: []
2023-05-12 10:46:45.730 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37812973728829440 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:46:45.730 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37812973737218048 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:46:45.730 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37812973728829440 [0;39m <==      Total: 2
2023-05-12 10:46:45.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37812973749800960 [0;39m ------------- 开始 -------------
2023-05-12 10:46:45.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37812973749800960 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:46:45.730 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37812973737218048 [0;39m ==> Parameters: 
2023-05-12 10:46:45.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812973728829440 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:46:45.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812973728829440 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:46:45.732 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:46:45.732 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:46:45.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37812973749800960 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:46:45.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37812973749800960 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:46:45.732 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:46:45.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37812973749800960 [0;39m 请求参数: []
2023-05-12 10:46:45.732 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:46:45.732 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37812973749800960 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:46:45.732 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:46:45.732 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:46:45.732 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37812973749800960 [0;39m ==> Parameters: 
2023-05-12 10:46:45.733 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:46:45.733 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:46:45.733 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:46:45.733 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812973749800960 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:46:45.733 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:46:45.733 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812973749800960 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:46:45.733 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:46:45.734 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:46:45.734 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812973749800960 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:46:45.734 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:46:45.734 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:46:45.734 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37812973749800960 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:46:45.734 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:46:45.734 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37812973749800960 [0;39m <==      Total: 3
2023-05-12 10:46:45.735 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37812973737218048 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:46:45.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812973749800960 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:46:45.735 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37812973737218048 [0;39m <==      Total: 15
2023-05-12 10:46:45.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812973749800960 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 10:46:45.735 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37812973737218048 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:46:45.736 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37812973737218048 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 10:46:52.003 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813000060669952 [0;39m ------------- 开始 -------------
2023-05-12 10:46:52.004 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813000060669952 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:46:52.004 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813000060669952 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:46:52.004 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813000060669952 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:46:52.004 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813000060669952 [0;39m 请求参数: [{"loginName":"4","name":"4"}]
2023-05-12 10:46:52.005 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37813000060669952 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:46:52.005 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37813000060669952 [0;39m ==> Parameters: null, 4(String), 4(String), a87ff679a2f3e71d9181a67b7542122c(String)
2023-05-12 10:46:52.014 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37813000060669952 [0;39m <==    Updates: 1
2023-05-12 10:46:52.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813000060669952 [0;39m 返回结果: {"success":true}
2023-05-12 10:46:52.015 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813000060669952 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 10:47:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37813033602519040 [0;39m 生成今日电子书快照开始
2023-05-12 10:47:00.000 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37813033602519040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:47:00.000 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37813033602519040 [0;39m ==> Parameters: 
2023-05-12 10:47:00.000 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37813033602519040 [0;39m <==    Updates: 0
2023-05-12 10:47:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37813033602519040 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 10:47:01.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813041689137152 [0;39m ------------- 开始 -------------
2023-05-12 10:47:01.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813041689137152 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:47:01.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813041689137152 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:47:01.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813041689137152 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:47:01.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813041689137152 [0;39m 请求参数: [{"loginName":"4"}]
2023-05-12 10:47:01.931 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813041689137152 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:47:01.931 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813041689137152 [0;39m ==> Parameters: 4(String)
2023-05-12 10:47:01.932 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813041689137152 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:47:01.933 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813041689137152 [0;39m <==        Row: 11, 4, 4, a87ff679a2f3e71d9181a67b7542122c
2023-05-12 10:47:01.933 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813041689137152 [0;39m <==      Total: 1
2023-05-12 10:47:01.933 INFO  com.jiawa.wiki.service.UserService                :137  [32m37813041689137152 [0;39m 密码不对, 输入密码：8621246ddb05c1bc6cba1e463a90ad23, 数据库密码：a87ff679a2f3e71d9181a67b7542122c
2023-05-12 10:47:01.934 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37813041689137152 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:47:01.935 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37813041689137152 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:47:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37813054574039040 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:47:05.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813054574039040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:47:05.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813054574039040 [0;39m ==> Parameters: 
2023-05-12 10:47:05.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813054574039040 [0;39m <==    Updates: 1
2023-05-12 10:47:05.000 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37813054574039040 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:47:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37813180445102080 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:47:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813180445102080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:47:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813180445102080 [0;39m ==> Parameters: 
2023-05-12 10:47:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813180445102080 [0;39m <==    Updates: 1
2023-05-12 10:47:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37813180445102080 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 10:48:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37813285336256512 [0;39m 生成今日电子书快照开始
2023-05-12 10:48:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37813285336256512 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:48:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37813285336256512 [0;39m ==> Parameters: 
2023-05-12 10:48:00.022 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37813285336256512 [0;39m <==    Updates: 0
2023-05-12 10:48:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37813285336256512 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 10:48:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37813306270027776 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:48:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813306270027776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:48:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813306270027776 [0;39m ==> Parameters: 
2023-05-12 10:48:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813306270027776 [0;39m <==    Updates: 1
2023-05-12 10:48:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37813306270027776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:48:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37813432086564864 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:48:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813432086564864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:48:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813432086564864 [0;39m ==> Parameters: 
2023-05-12 10:48:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813432086564864 [0;39m <==    Updates: 1
2023-05-12 10:48:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37813432086564864 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 10:49:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37813536952553472 [0;39m 生成今日电子书快照开始
2023-05-12 10:49:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37813536952553472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:49:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37813536952553472 [0;39m ==> Parameters: 
2023-05-12 10:49:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37813536952553472 [0;39m <==    Updates: 0
2023-05-12 10:49:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37813536952553472 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:49:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37813557945044992 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:49:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813557945044992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:49:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813557945044992 [0;39m ==> Parameters: 
2023-05-12 10:49:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813557945044992 [0;39m <==    Updates: 1
2023-05-12 10:49:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37813557945044992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:49:23.864 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：56HsBCJKzb，session id：b！当前连接数：0
2023-05-12 10:49:23.929 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 10:49:23.929 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-12 10:49:23.929 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-12 10:49:23.929 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-12 10:49:23.940 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-12 10:49:24.105 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-12 10:49:24.105 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10911] result: true
2023-05-12 10:49:24.107 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10909] result: true
2023-05-12 10:49:24.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10911] result: true
2023-05-12 10:49:24.109 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-12 10:49:24.109 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-12 10:49:24.109 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-12 10:49:29.159 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-12 10:49:29.163 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 4836 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-12 10:49:29.164 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-12 10:49:29.219 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-12 10:49:29.219 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-12 10:49:29.979 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-12 10:49:29.979 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-12 10:49:30.014 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2023-05-12 10:49:30.229 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$696aac5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.244 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.732 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.739 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$a8d11fc6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.739 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.739 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.739 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.739 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.739 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.749 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.749 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.759 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.759 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.759 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.764 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:30.769 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:31.798 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:31.801 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:49:32.239 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-12 10:49:32.249 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-12 10:49:32.249 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-12 10:49:32.249 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-12 10:49:32.343 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-12 10:49:32.344 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 3125 ms
2023-05-12 10:49:32.973 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-12 10:49:33.239 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-12 10:49:33.273 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-12 10:49:33.638 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 10:49:33.638 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-12 10:49:33.649 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-12 10:49:33.662 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-12 10:49:33.670 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 4.876 seconds (JVM running for 6.558)
2023-05-12 10:49:33.672 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-12 10:49:33.672 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-12 10:49:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37813683728027648 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:49:35.069 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m37813683728027648 [0;39m HikariPool-1 - Starting...
2023-05-12 10:49:35.829 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m37813683728027648 [0;39m HikariPool-1 - Start completed.
2023-05-12 10:49:35.838 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813683728027648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:49:35.849 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813683728027648 [0;39m ==> Parameters: 
2023-05-12 10:49:35.855 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813683728027648 [0;39m <==    Updates: 1
2023-05-12 10:49:35.857 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37813683728027648 [0;39m 更新电子书下的文档数据结束，耗时：855毫秒
2023-05-12 10:49:39.600 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-12 10:49:39.600 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-12 10:49:39.609 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2023-05-12 10:49:39.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813703940378624 [0;39m ------------- 开始 -------------
2023-05-12 10:49:39.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813703940378624 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:49:39.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813703940378624 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:49:39.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813703940378624 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:49:39.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813703940378624 [0;39m 请求参数: [{"loginName":"2","name":"2"}]
2023-05-12 10:49:39.834 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37813703940378624 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:49:39.836 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37813703940378624 [0;39m ==> Parameters: null, 2(String), 2(String), c81e728d9d4c2f636f067f89cc14862c(String)
2023-05-12 10:49:39.844 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37813703940378624 [0;39m <==    Updates: 1
2023-05-12 10:49:39.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813703940378624 [0;39m 返回结果: {"success":true}
2023-05-12 10:49:39.846 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813703940378624 [0;39m ------------- 结束 耗时：25 ms -------------
2023-05-12 10:49:44.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813723016073216 [0;39m ------------- 开始 -------------
2023-05-12 10:49:44.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813723016073216 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:49:44.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813723016073216 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:49:44.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813723016073216 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:49:44.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813723016073216 [0;39m 请求参数: [{"loginName":"2"}]
2023-05-12 10:49:44.398 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813723016073216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:49:44.398 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813723016073216 [0;39m ==> Parameters: 2(String)
2023-05-12 10:49:44.410 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813723016073216 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:49:44.411 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813723016073216 [0;39m <==        Row: 12, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 10:49:44.413 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813723016073216 [0;39m <==      Total: 1
2023-05-12 10:49:44.413 INFO  com.jiawa.wiki.service.UserService                :137  [32m37813723016073216 [0;39m 密码不对, 输入密码：3fa1c98763d799d9e636a9a621c5da88, 数据库密码：c81e728d9d4c2f636f067f89cc14862c
2023-05-12 10:49:44.418 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37813723016073216 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:49:44.421 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37813723016073216 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:49:46.536 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813732105129984 [0;39m ------------- 开始 -------------
2023-05-12 10:49:46.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813732105129984 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:49:46.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813732105129984 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:49:46.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813732105129984 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:49:46.538 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813732105129984 [0;39m 请求参数: [{"loginName":"2"}]
2023-05-12 10:49:46.541 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813732105129984 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:49:46.543 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813732105129984 [0;39m ==> Parameters: 2(String)
2023-05-12 10:49:46.545 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813732105129984 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:49:46.545 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813732105129984 [0;39m <==        Row: 12, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 10:49:46.546 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813732105129984 [0;39m <==      Total: 1
2023-05-12 10:49:46.546 INFO  com.jiawa.wiki.service.UserService                :137  [32m37813732105129984 [0;39m 密码不对, 输入密码：81e5fea0fc3a9b0effc0542112264c0f, 数据库密码：c81e728d9d4c2f636f067f89cc14862c
2023-05-12 10:49:46.547 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37813732105129984 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:49:46.548 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37813732105129984 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:49:47.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813734277779456 [0;39m ------------- 开始 -------------
2023-05-12 10:49:47.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813734277779456 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:49:47.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813734277779456 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:49:47.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813734277779456 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:49:47.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813734277779456 [0;39m 请求参数: [{"loginName":"2"}]
2023-05-12 10:49:47.058 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813734277779456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:49:47.059 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813734277779456 [0;39m ==> Parameters: 2(String)
2023-05-12 10:49:47.059 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813734277779456 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:49:47.060 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813734277779456 [0;39m <==        Row: 12, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 10:49:47.061 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813734277779456 [0;39m <==      Total: 1
2023-05-12 10:49:47.061 INFO  com.jiawa.wiki.service.UserService                :137  [32m37813734277779456 [0;39m 密码不对, 输入密码：5c4f942d33c5f85cb4913962fc38a1b5, 数据库密码：c81e728d9d4c2f636f067f89cc14862c
2023-05-12 10:49:47.061 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37813734277779456 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:49:47.063 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37813734277779456 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:49:47.212 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813734940479488 [0;39m ------------- 开始 -------------
2023-05-12 10:49:47.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813734940479488 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:49:47.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813734940479488 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:49:47.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813734940479488 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:49:47.213 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813734940479488 [0;39m 请求参数: [{"loginName":"2"}]
2023-05-12 10:49:47.216 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813734940479488 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:49:47.216 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813734940479488 [0;39m ==> Parameters: 2(String)
2023-05-12 10:49:47.217 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813734940479488 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:49:47.217 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813734940479488 [0;39m <==        Row: 12, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 10:49:47.218 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813734940479488 [0;39m <==      Total: 1
2023-05-12 10:49:47.219 INFO  com.jiawa.wiki.service.UserService                :137  [32m37813734940479488 [0;39m 密码不对, 输入密码：d93df90b9c99495854cf5ee07b89a9ac, 数据库密码：c81e728d9d4c2f636f067f89cc14862c
2023-05-12 10:49:47.219 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37813734940479488 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:49:47.220 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37813734940479488 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:49:47.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813736123273216 [0;39m ------------- 开始 -------------
2023-05-12 10:49:47.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813736123273216 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:49:47.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813736123273216 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:49:47.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813736123273216 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:49:47.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813736123273216 [0;39m 请求参数: [{"loginName":"2"}]
2023-05-12 10:49:47.497 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813736123273216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:49:47.497 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813736123273216 [0;39m ==> Parameters: 2(String)
2023-05-12 10:49:47.498 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813736123273216 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:49:47.499 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813736123273216 [0;39m <==        Row: 12, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 10:49:47.499 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813736123273216 [0;39m <==      Total: 1
2023-05-12 10:49:47.500 INFO  com.jiawa.wiki.service.UserService                :137  [32m37813736123273216 [0;39m 密码不对, 输入密码：c4c3284b86a444f89c180ed6ad24cb24, 数据库密码：c81e728d9d4c2f636f067f89cc14862c
2023-05-12 10:49:47.501 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37813736123273216 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:49:47.502 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37813736123273216 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:49:53.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813762157318144 [0;39m ------------- 开始 -------------
2023-05-12 10:49:53.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813762157318144 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:49:53.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813762157318144 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:49:53.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813762157318144 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:49:53.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813762157318144 [0;39m 请求参数: [{"loginName":"6","name":"6"}]
2023-05-12 10:49:53.704 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37813762157318144 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:49:53.705 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37813762157318144 [0;39m ==> Parameters: null, 6(String), 6(String), 1679091c5a880faf6fb5e6087eb1b2dc(String)
2023-05-12 10:49:53.713 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37813762157318144 [0;39m <==    Updates: 1
2023-05-12 10:49:53.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813762157318144 [0;39m 返回结果: {"success":true}
2023-05-12 10:49:53.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813762157318144 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 10:49:57.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813777009348608 [0;39m ------------- 开始 -------------
2023-05-12 10:49:57.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813777009348608 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:49:57.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813777009348608 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:49:57.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813777009348608 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:49:57.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813777009348608 [0;39m 请求参数: [{"loginName":"6"}]
2023-05-12 10:49:57.245 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813777009348608 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:49:57.246 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813777009348608 [0;39m ==> Parameters: 6(String)
2023-05-12 10:49:57.247 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813777009348608 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:49:57.247 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813777009348608 [0;39m <==        Row: 13, 6, 6, 1679091c5a880faf6fb5e6087eb1b2dc
2023-05-12 10:49:57.248 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813777009348608 [0;39m <==      Total: 1
2023-05-12 10:49:57.248 INFO  com.jiawa.wiki.service.UserService                :137  [32m37813777009348608 [0;39m 密码不对, 输入密码：e74068aff0254152893ae819c1f66f28, 数据库密码：1679091c5a880faf6fb5e6087eb1b2dc
2023-05-12 10:49:57.249 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37813777009348608 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:49:57.249 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37813777009348608 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:50:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37813788585627648 [0;39m 生成今日电子书快照开始
2023-05-12 10:50:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37813788585627648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:50:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37813788585627648 [0;39m ==> Parameters: 
2023-05-12 10:50:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37813788585627648 [0;39m <==    Updates: 0
2023-05-12 10:50:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37813788585627648 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 10:50:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37813809603284992 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:50:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813809603284992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:50:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813809603284992 [0;39m ==> Parameters: 
2023-05-12 10:50:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813809603284992 [0;39m <==    Updates: 1
2023-05-12 10:50:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37813809603284992 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 10:50:30.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813916927135744 [0;39m ------------- 开始 -------------
2023-05-12 10:50:30.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813916927135744 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:50:30.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813916927135744 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:50:30.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813916927135744 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:50:30.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813916927135744 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-12 10:50:30.605 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813916927135744 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:50:30.606 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813916927135744 [0;39m ==> Parameters: test(String)
2023-05-12 10:50:30.607 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813916927135744 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:50:30.607 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813916927135744 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 10:50:30.607 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813916927135744 [0;39m <==      Total: 1
2023-05-12 10:50:30.615 INFO  com.jiawa.wiki.controller.UserController          :85   [32m37813916927135744 [0;39m 生成单点登录token：37813916985856000，并放入redis中
2023-05-12 10:50:30.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813916927135744 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"测试","token":"37813916985856000"},"success":true}
2023-05-12 10:50:30.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813916927135744 [0;39m ------------- 结束 耗时：142 ms -------------
2023-05-12 10:50:31.966 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:50:31.966 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 10:50:31.966 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：37813916985856000
2023-05-12 10:50:31.969 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37813916985856000"}
2023-05-12 10:50:31.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813922769801216 [0;39m ------------- 开始 -------------
2023-05-12 10:50:31.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813922769801216 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 10:50:31.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813922769801216 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 10:50:31.994 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813922769801216 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:50:31.996 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813922769801216 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 10:50:32.023 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37813922769801216 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 10:50:32.023 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37813922769801216 [0;39m ==> Parameters: 
2023-05-12 10:50:32.025 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37813922769801216 [0;39m <==    Columns: count(0)
2023-05-12 10:50:32.025 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37813922769801216 [0;39m <==        Row: 1
2023-05-12 10:50:32.026 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37813922769801216 [0;39m <==      Total: 1
2023-05-12 10:50:32.029 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813922769801216 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 10:50:32.029 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813922769801216 [0;39m ==> Parameters: 10(Integer)
2023-05-12 10:50:32.030 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813922769801216 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:50:32.030 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813922769801216 [0;39m <==        Row: 1, test, 测试, e70e2222a9d67c4f2eae107533359aa4
2023-05-12 10:50:32.030 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813922769801216 [0;39m <==      Total: 1
2023-05-12 10:50:32.032 INFO  com.jiawa.wiki.service.UserService                :50   [32m37813922769801216 [0;39m 总行数：1
2023-05-12 10:50:32.032 INFO  com.jiawa.wiki.service.UserService                :51   [32m37813922769801216 [0;39m 总页数：1
2023-05-12 10:50:32.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813922769801216 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"}],"total":1},"success":true}
2023-05-12 10:50:32.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813922769801216 [0;39m ------------- 结束 耗时：45 ms -------------
2023-05-12 10:50:32.051 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37813922769801216 [0;39m ------------- LoginInterceptor 结束 耗时：85 ms -------------
2023-05-12 10:50:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37813935424016384 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:50:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813935424016384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:50:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813935424016384 [0;39m ==> Parameters: 
2023-05-12 10:50:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37813935424016384 [0;39m <==    Updates: 1
2023-05-12 10:50:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37813935424016384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:50:37.603 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813703940378624 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:50:37.604 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37813703940378624 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/reset-password
2023-05-12 10:50:37.604 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37813703940378624 [0;39m 登录校验开始，token：37813916985856000
2023-05-12 10:50:37.605 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37813703940378624 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37813916985856000"}
2023-05-12 10:50:37.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813946341789696 [0;39m ------------- 开始 -------------
2023-05-12 10:50:37.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813946341789696 [0;39m 请求地址: http://127.0.0.1:8880/user/reset-password POST
2023-05-12 10:50:37.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813946341789696 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.resetPassword
2023-05-12 10:50:37.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813946341789696 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:50:37.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813946341789696 [0;39m 请求参数: [{"id":1}]
2023-05-12 10:50:37.626 DEBUG c.j.w.m.UserMapper.updateByPrimaryKeySelective    :137  [32m37813946341789696 [0;39m ==>  Preparing: update user SET `password` = ? where id = ?
2023-05-12 10:50:37.626 DEBUG c.j.w.m.UserMapper.updateByPrimaryKeySelective    :137  [32m37813946341789696 [0;39m ==> Parameters: db0887127059810ba9f80186d795edb5(String), 1(Long)
2023-05-12 10:50:37.636 DEBUG c.j.w.m.UserMapper.updateByPrimaryKeySelective    :137  [32m37813946341789696 [0;39m <==    Updates: 1
2023-05-12 10:50:37.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813946341789696 [0;39m 返回结果: {"success":true}
2023-05-12 10:50:37.637 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813946341789696 [0;39m ------------- 结束 耗时：23 ms -------------
2023-05-12 10:50:37.638 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37813946341789696 [0;39m ------------- LoginInterceptor 结束 耗时：34 ms -------------
2023-05-12 10:50:37.656 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813723016073216 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:50:37.657 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37813723016073216 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 10:50:37.658 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37813723016073216 [0;39m 登录校验开始，token：37813916985856000
2023-05-12 10:50:37.659 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37813723016073216 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37813916985856000"}
2023-05-12 10:50:37.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813946534727680 [0;39m ------------- 开始 -------------
2023-05-12 10:50:37.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813946534727680 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 10:50:37.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813946534727680 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 10:50:37.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813946534727680 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:50:37.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813946534727680 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 10:50:37.663 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37813946534727680 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 10:50:37.663 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37813946534727680 [0;39m ==> Parameters: 
2023-05-12 10:50:37.669 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37813946534727680 [0;39m <==    Columns: count(0)
2023-05-12 10:50:37.669 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37813946534727680 [0;39m <==        Row: 1
2023-05-12 10:50:37.671 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37813946534727680 [0;39m <==      Total: 1
2023-05-12 10:50:37.671 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813946534727680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 10:50:37.671 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813946534727680 [0;39m ==> Parameters: 10(Integer)
2023-05-12 10:50:37.673 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813946534727680 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:50:37.674 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813946534727680 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 10:50:37.674 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813946534727680 [0;39m <==      Total: 1
2023-05-12 10:50:37.675 INFO  com.jiawa.wiki.service.UserService                :50   [32m37813946534727680 [0;39m 总行数：1
2023-05-12 10:50:37.675 INFO  com.jiawa.wiki.service.UserService                :51   [32m37813946534727680 [0;39m 总页数：1
2023-05-12 10:50:37.675 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813946534727680 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"}],"total":1},"success":true}
2023-05-12 10:50:37.675 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813946534727680 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-12 10:50:37.677 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37813946534727680 [0;39m ------------- LoginInterceptor 结束 耗时：20 ms -------------
2023-05-12 10:50:40.458 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813732105129984 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:50:40.460 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37813732105129984 [0;39m ------------- LoginInterceptor 结束 耗时：2 ms -------------
2023-05-12 10:50:40.470 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813734277779456 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:50:40.470 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37813734277779456 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/37813916985856000
2023-05-12 10:50:40.471 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37813734277779456 [0;39m 登录校验开始，token：37813916985856000
2023-05-12 10:50:40.473 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37813734277779456 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37813916985856000"}
2023-05-12 10:50:40.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813958366859264 [0;39m ------------- 开始 -------------
2023-05-12 10:50:40.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813958366859264 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/37813916985856000 GET
2023-05-12 10:50:40.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813958366859264 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-12 10:50:40.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813958366859264 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:50:40.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813958366859264 [0;39m 请求参数: ["37813916985856000"]
2023-05-12 10:50:40.483 INFO  com.jiawa.wiki.controller.UserController          :96   [32m37813958366859264 [0;39m 从redis中删除token: 37813916985856000
2023-05-12 10:50:40.483 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813958366859264 [0;39m 返回结果: {"success":true}
2023-05-12 10:50:40.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813958366859264 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:50:40.489 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37813958366859264 [0;39m ------------- LoginInterceptor 结束 耗时：19 ms -------------
2023-05-12 10:50:42.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813967267172352 [0;39m ------------- 开始 -------------
2023-05-12 10:50:42.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813967267172352 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:50:42.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813967267172352 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:50:42.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813967267172352 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:50:42.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813967267172352 [0;39m 请求参数: []
2023-05-12 10:50:42.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813967262978048 [0;39m ------------- 开始 -------------
2023-05-12 10:50:42.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813967262978048 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:50:42.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813967262978048 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:50:42.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813967262978048 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:50:42.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813967271366656 [0;39m ------------- 开始 -------------
2023-05-12 10:50:42.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813967262978048 [0;39m 请求参数: []
2023-05-12 10:50:42.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813967271366656 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:50:42.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813967271366656 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:50:42.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813967271366656 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:50:42.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813967271366656 [0;39m 请求参数: []
2023-05-12 10:50:42.609 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37813967267172352 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:50:42.610 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37813967267172352 [0;39m ==> Parameters: 
2023-05-12 10:50:42.612 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37813967267172352 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:50:42.613 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37813967267172352 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:50:42.617 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37813967271366656 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:50:42.617 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37813967267172352 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:50:42.617 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37813967262978048 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:50:42.617 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37813967271366656 [0;39m ==> Parameters: 
2023-05-12 10:50:42.617 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37813967262978048 [0;39m ==> Parameters: 
2023-05-12 10:50:42.617 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37813967267172352 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:50:42.618 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37813967267172352 [0;39m <==      Total: 3
2023-05-12 10:50:42.619 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37813967262978048 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:50:42.619 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37813967262978048 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:50:42.619 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:50:42.620 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:50:42.620 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37813967262978048 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:50:42.620 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:50:42.621 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37813967262978048 [0;39m <==      Total: 2
2023-05-12 10:50:42.621 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:50:42.623 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:50:42.623 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:50:42.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:50:42.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:50:42.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813967267172352 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:50:42.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813967267172352 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-12 10:50:42.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813967262978048 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:50:42.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:50:42.624 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813967262978048 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-12 10:50:42.624 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:50:42.625 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:50:42.625 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:50:42.626 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:50:42.628 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:50:42.628 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:50:42.629 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813967271366656 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:50:42.629 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37813967271366656 [0;39m <==      Total: 15
2023-05-12 10:50:42.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813967271366656 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:50:42.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813967271366656 [0;39m ------------- 结束 耗时：36 ms -------------
2023-05-12 10:50:44.782 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37813777009348608 [0;39m 有新连接：token：2xdR6PvXdK，session id：0，当前连接数：1
2023-05-12 10:50:44.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813976830185472 [0;39m ------------- 开始 -------------
2023-05-12 10:50:44.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813976830185473 [0;39m ------------- 开始 -------------
2023-05-12 10:50:44.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813976830185472 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:50:44.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813976830185473 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:50:44.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813976830185473 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:50:44.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813976830185472 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:50:44.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813976830185473 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:50:44.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813976830185472 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:50:44.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813976830185473 [0;39m 请求参数: []
2023-05-12 10:50:44.883 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813976830185472 [0;39m 请求参数: []
2023-05-12 10:50:44.884 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37813976830185472 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:50:44.884 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37813976830185473 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:50:44.884 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37813976830185472 [0;39m ==> Parameters: 
2023-05-12 10:50:44.884 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37813976830185473 [0;39m ==> Parameters: 
2023-05-12 10:50:44.886 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37813976830185472 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:50:44.886 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37813976830185472 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:50:44.886 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37813976830185473 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:50:44.886 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37813976830185473 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:50:44.886 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37813976830185472 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:50:44.887 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37813976830185473 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:50:44.887 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37813976830185472 [0;39m <==      Total: 2
2023-05-12 10:50:44.887 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37813976830185473 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:50:44.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813976830185472 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:50:44.887 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813976830185472 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:50:44.887 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37813976830185473 [0;39m <==      Total: 3
2023-05-12 10:50:44.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813976830185473 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:50:44.888 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813976830185473 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 10:50:44.890 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813976859545600 [0;39m ------------- 开始 -------------
2023-05-12 10:50:44.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813976859545600 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:50:44.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813976859545600 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:50:44.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813976859545600 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:50:44.891 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813976859545600 [0;39m 请求参数: []
2023-05-12 10:50:44.891 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37813976859545600 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:50:44.892 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37813976859545600 [0;39m ==> Parameters: 
2023-05-12 10:50:44.893 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:50:44.893 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:50:44.894 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:50:44.895 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:50:44.895 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:50:44.895 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:50:44.896 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:50:44.896 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:50:44.896 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:50:44.896 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:50:44.897 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:50:44.897 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:50:44.897 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:50:44.897 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:50:44.897 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:50:44.897 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37813976859545600 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:50:44.899 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37813976859545600 [0;39m <==      Total: 15
2023-05-12 10:50:44.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813976859545600 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:50:44.901 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813976859545600 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 10:50:50.358 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37813999793999872 [0;39m ------------- 开始 -------------
2023-05-12 10:50:50.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37813999793999872 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:50:50.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37813999793999872 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:50:50.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37813999793999872 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:50:50.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37813999793999872 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-12 10:50:50.361 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813999793999872 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:50:50.361 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813999793999872 [0;39m ==> Parameters: test(String)
2023-05-12 10:50:50.362 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813999793999872 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:50:50.362 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37813999793999872 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 10:50:50.362 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37813999793999872 [0;39m <==      Total: 1
2023-05-12 10:50:50.363 INFO  com.jiawa.wiki.controller.UserController          :85   [32m37813999793999872 [0;39m 生成单点登录token：37813999814971392，并放入redis中
2023-05-12 10:50:50.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37813999793999872 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"测试","token":"37813999814971392"},"success":true}
2023-05-12 10:50:50.364 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37813999793999872 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:51:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37814040302587904 [0;39m 生成今日电子书快照开始
2023-05-12 10:51:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37814040302587904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:51:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37814040302587904 [0;39m ==> Parameters: 
2023-05-12 10:51:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37814040302587904 [0;39m <==    Updates: 0
2023-05-12 10:51:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37814040302587904 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 10:51:00.161 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813732105129984 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:00.161 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37813732105129984 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 10:51:00.161 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37813732105129984 [0;39m 登录校验开始，token：37813999814971392
2023-05-12 10:51:00.164 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37813732105129984 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37813999814971392"}
2023-05-12 10:51:00.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814040927539200 [0;39m ------------- 开始 -------------
2023-05-12 10:51:00.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814040927539200 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 10:51:00.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814040927539200 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 10:51:00.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814040927539200 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:00.166 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814040927539200 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 10:51:00.167 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814040927539200 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 10:51:00.167 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814040927539200 [0;39m ==> Parameters: 
2023-05-12 10:51:00.171 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37814040927539200 [0;39m <==    Columns: count(0)
2023-05-12 10:51:00.171 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37814040927539200 [0;39m <==        Row: 1
2023-05-12 10:51:00.171 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814040927539200 [0;39m <==      Total: 1
2023-05-12 10:51:00.172 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814040927539200 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 10:51:00.172 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814040927539200 [0;39m ==> Parameters: 10(Integer)
2023-05-12 10:51:00.175 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814040927539200 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:51:00.176 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814040927539200 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 10:51:00.176 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814040927539200 [0;39m <==      Total: 1
2023-05-12 10:51:00.176 INFO  com.jiawa.wiki.service.UserService                :50   [32m37814040927539200 [0;39m 总行数：1
2023-05-12 10:51:00.177 INFO  com.jiawa.wiki.service.UserService                :51   [32m37814040927539200 [0;39m 总页数：1
2023-05-12 10:51:00.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814040927539200 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"}],"total":1},"success":true}
2023-05-12 10:51:00.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814040927539200 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 10:51:00.178 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814040927539200 [0;39m ------------- LoginInterceptor 结束 耗时：17 ms -------------
2023-05-12 10:51:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37814061232164864 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:51:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814061232164864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:51:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814061232164864 [0;39m ==> Parameters: 
2023-05-12 10:51:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814061232164864 [0;39m <==    Updates: 1
2023-05-12 10:51:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37814061232164864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:51:12.119 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813958366859264 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:12.119 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37813958366859264 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 10:51:12.123 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813967267172352 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:12.123 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37813967267172352 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/save
2023-05-12 10:51:12.123 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37813967267172352 [0;39m 登录校验开始，token：37813999814971392
2023-05-12 10:51:12.127 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37813967267172352 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37813999814971392"}
2023-05-12 10:51:12.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814091120775168 [0;39m ------------- 开始 -------------
2023-05-12 10:51:12.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814091120775168 [0;39m 请求地址: http://127.0.0.1:8880/user/save POST
2023-05-12 10:51:12.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814091120775168 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.save
2023-05-12 10:51:12.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814091120775168 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:12.132 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814091120775168 [0;39m 请求参数: [{"loginName":"test23","name":"1231"}]
2023-05-12 10:51:12.143 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814091120775168 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:51:12.144 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814091120775168 [0;39m ==> Parameters: test23(String)
2023-05-12 10:51:12.145 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814091120775168 [0;39m <==      Total: 0
2023-05-12 10:51:12.145 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37814091120775168 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:51:12.145 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37814091120775168 [0;39m ==> Parameters: 37814091175301120(Long), test23(String), 1231(String), f3c660a48fa4cfd111d9421a5b220d6d(String)
2023-05-12 10:51:12.152 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37814091120775168 [0;39m <==    Updates: 1
2023-05-12 10:51:12.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814091120775168 [0;39m 返回结果: {"success":true}
2023-05-12 10:51:12.152 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814091120775168 [0;39m ------------- 结束 耗时：20 ms -------------
2023-05-12 10:51:12.152 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814091120775168 [0;39m ------------- LoginInterceptor 结束 耗时：29 ms -------------
2023-05-12 10:51:12.182 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813967262978048 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:12.182 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37813967262978048 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 10:51:12.182 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37813967262978048 [0;39m 登录校验开始，token：37813999814971392
2023-05-12 10:51:12.184 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37813967262978048 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37813999814971392"}
2023-05-12 10:51:12.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814091343073280 [0;39m ------------- 开始 -------------
2023-05-12 10:51:12.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814091343073280 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 10:51:12.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814091343073280 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 10:51:12.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814091343073280 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:12.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814091343073280 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 10:51:12.189 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814091343073280 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 10:51:12.189 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814091343073280 [0;39m ==> Parameters: 
2023-05-12 10:51:12.194 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37814091343073280 [0;39m <==    Columns: count(0)
2023-05-12 10:51:12.194 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37814091343073280 [0;39m <==        Row: 2
2023-05-12 10:51:12.195 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814091343073280 [0;39m <==      Total: 1
2023-05-12 10:51:12.195 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814091343073280 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 10:51:12.196 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814091343073280 [0;39m ==> Parameters: 10(Integer)
2023-05-12 10:51:12.197 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814091343073280 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:51:12.197 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814091343073280 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 10:51:12.199 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814091343073280 [0;39m <==        Row: 37814091175301120, test23, 1231, f3c660a48fa4cfd111d9421a5b220d6d
2023-05-12 10:51:12.199 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814091343073280 [0;39m <==      Total: 2
2023-05-12 10:51:12.199 INFO  com.jiawa.wiki.service.UserService                :50   [32m37814091343073280 [0;39m 总行数：2
2023-05-12 10:51:12.200 INFO  com.jiawa.wiki.service.UserService                :51   [32m37814091343073280 [0;39m 总页数：1
2023-05-12 10:51:12.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814091343073280 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814091175301120,"loginName":"test23","name":"1231"}],"total":2},"success":true}
2023-05-12 10:51:12.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814091343073280 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-12 10:51:12.200 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814091343073280 [0;39m ------------- LoginInterceptor 结束 耗时：18 ms -------------
2023-05-12 10:51:19.250 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813967271366656 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:19.250 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37813967271366656 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/save
2023-05-12 10:51:19.251 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37813967271366656 [0;39m 登录校验开始，token：37813999814971392
2023-05-12 10:51:19.251 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37813967271366656 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37813999814971392"}
2023-05-12 10:51:19.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814120984219648 [0;39m ------------- 开始 -------------
2023-05-12 10:51:19.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814120984219648 [0;39m 请求地址: http://127.0.0.1:8880/user/save POST
2023-05-12 10:51:19.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814120984219648 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.save
2023-05-12 10:51:19.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814120984219648 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:19.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814120984219648 [0;39m 请求参数: [{"loginName":"1","name":"1"}]
2023-05-12 10:51:19.255 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814120984219648 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:51:19.255 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814120984219648 [0;39m ==> Parameters: 1(String)
2023-05-12 10:51:19.256 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814120984219648 [0;39m <==      Total: 0
2023-05-12 10:51:19.257 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37814120984219648 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:51:19.257 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37814120984219648 [0;39m ==> Parameters: 37814121005191168(Long), 1(String), 1(String), b9b237df8bd22c295180ea0109cb7e67(String)
2023-05-12 10:51:19.266 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37814120984219648 [0;39m <==    Updates: 1
2023-05-12 10:51:19.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814120984219648 [0;39m 返回结果: {"success":true}
2023-05-12 10:51:19.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814120984219648 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-12 10:51:19.268 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814120984219648 [0;39m ------------- LoginInterceptor 结束 耗时：18 ms -------------
2023-05-12 10:51:19.296 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813777009348608 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:19.296 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37813777009348608 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 10:51:19.296 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37813777009348608 [0;39m 登录校验开始，token：37813999814971392
2023-05-12 10:51:19.301 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37813777009348608 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37813999814971392"}
2023-05-12 10:51:19.302 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814121193934848 [0;39m ------------- 开始 -------------
2023-05-12 10:51:19.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814121193934848 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 10:51:19.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814121193934848 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 10:51:19.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814121193934848 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:19.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814121193934848 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 10:51:19.307 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814121193934848 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 10:51:19.308 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814121193934848 [0;39m ==> Parameters: 
2023-05-12 10:51:19.313 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37814121193934848 [0;39m <==    Columns: count(0)
2023-05-12 10:51:19.313 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37814121193934848 [0;39m <==        Row: 3
2023-05-12 10:51:19.314 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814121193934848 [0;39m <==      Total: 1
2023-05-12 10:51:19.314 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814121193934848 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 10:51:19.314 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814121193934848 [0;39m ==> Parameters: 10(Integer)
2023-05-12 10:51:19.315 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814121193934848 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:51:19.315 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814121193934848 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 10:51:19.316 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814121193934848 [0;39m <==        Row: 37814091175301120, test23, 1231, f3c660a48fa4cfd111d9421a5b220d6d
2023-05-12 10:51:19.316 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814121193934848 [0;39m <==        Row: 37814121005191168, 1, 1, b9b237df8bd22c295180ea0109cb7e67
2023-05-12 10:51:19.318 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814121193934848 [0;39m <==      Total: 3
2023-05-12 10:51:19.319 INFO  com.jiawa.wiki.service.UserService                :50   [32m37814121193934848 [0;39m 总行数：3
2023-05-12 10:51:19.319 INFO  com.jiawa.wiki.service.UserService                :51   [32m37814121193934848 [0;39m 总页数：1
2023-05-12 10:51:19.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814121193934848 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814091175301120,"loginName":"test23","name":"1231"},{"id":37814121005191168,"loginName":"1","name":"1"}],"total":3},"success":true}
2023-05-12 10:51:19.319 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814121193934848 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-12 10:51:19.320 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814121193934848 [0;39m ------------- LoginInterceptor 结束 耗时：24 ms -------------
2023-05-12 10:51:22.075 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813976830185472 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:22.075 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37813976830185472 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 10:51:22.078 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813976830185473 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:22.078 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37813976830185473 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/37813999814971392
2023-05-12 10:51:22.079 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37813976830185473 [0;39m 登录校验开始，token：37813999814971392
2023-05-12 10:51:22.079 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37813976830185473 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37813999814971392"}
2023-05-12 10:51:22.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814132845711360 [0;39m ------------- 开始 -------------
2023-05-12 10:51:22.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814132845711360 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/37813999814971392 GET
2023-05-12 10:51:22.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814132845711360 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-12 10:51:22.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814132845711360 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:22.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814132845711360 [0;39m 请求参数: ["37813999814971392"]
2023-05-12 10:51:22.081 INFO  com.jiawa.wiki.controller.UserController          :96   [32m37814132845711360 [0;39m 从redis中删除token: 37813999814971392
2023-05-12 10:51:22.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814132845711360 [0;39m 返回结果: {"success":true}
2023-05-12 10:51:22.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814132845711360 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-12 10:51:22.083 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814132845711360 [0;39m ------------- LoginInterceptor 结束 耗时：5 ms -------------
2023-05-12 10:51:24.110 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814141360148480 [0;39m ------------- 开始 -------------
2023-05-12 10:51:24.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814141360148480 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:51:24.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814141360148480 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:51:24.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814141360148480 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:24.111 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814141360148480 [0;39m 请求参数: []
2023-05-12 10:51:24.112 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37814141360148480 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:51:24.113 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37814141360148480 [0;39m ==> Parameters: 
2023-05-12 10:51:24.114 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37814141360148480 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:51:24.114 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37814141360148480 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:51:24.115 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37814141360148480 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:51:24.115 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37814141360148480 [0;39m <==      Total: 2
2023-05-12 10:51:24.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814141360148480 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:51:24.116 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814141360148480 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:51:24.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814141410480128 [0;39m ------------- 开始 -------------
2023-05-12 10:51:24.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814141410480128 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:51:24.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814141410480128 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:51:24.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814141410480128 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:24.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814141414674432 [0;39m ------------- 开始 -------------
2023-05-12 10:51:24.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814141410480128 [0;39m 请求参数: []
2023-05-12 10:51:24.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814141414674432 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:51:24.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814141414674432 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:51:24.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814141414674432 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:24.124 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37814141410480128 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:51:24.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814141414674432 [0;39m 请求参数: []
2023-05-12 10:51:24.124 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37814141410480128 [0;39m ==> Parameters: 
2023-05-12 10:51:24.126 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37814141410480128 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:51:24.125 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37814141414674432 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:51:24.126 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37814141410480128 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:51:24.127 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37814141414674432 [0;39m ==> Parameters: 
2023-05-12 10:51:24.127 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37814141410480128 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:51:24.127 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37814141410480128 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:51:24.127 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:51:24.127 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37814141410480128 [0;39m <==      Total: 3
2023-05-12 10:51:24.128 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:51:24.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814141410480128 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:51:24.128 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:51:24.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814141410480128 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:51:24.128 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:51:24.129 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:51:24.129 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:51:24.130 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:51:24.130 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:51:24.130 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:51:24.130 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:51:24.131 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:51:24.131 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:51:24.131 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:51:24.131 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:51:24.131 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:51:24.132 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814141414674432 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:51:24.132 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37814141414674432 [0;39m <==      Total: 15
2023-05-12 10:51:24.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814141414674432 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:51:24.133 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814141414674432 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 10:51:27.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814155922771968 [0;39m ------------- 开始 -------------
2023-05-12 10:51:27.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814155922771968 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:51:27.582 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814155922771968 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:51:27.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814155922771968 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:27.583 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814155922771968 [0;39m 请求参数: [{"loginName":"1"}]
2023-05-12 10:51:27.585 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814155922771968 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:51:27.586 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814155922771968 [0;39m ==> Parameters: 1(String)
2023-05-12 10:51:27.587 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814155922771968 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:51:27.587 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814155922771968 [0;39m <==        Row: 37814121005191168, 1, 1, b9b237df8bd22c295180ea0109cb7e67
2023-05-12 10:51:27.587 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814155922771968 [0;39m <==      Total: 1
2023-05-12 10:51:27.588 INFO  com.jiawa.wiki.controller.UserController          :85   [32m37814155922771968 [0;39m 生成单点登录token：37814155947937792，并放入redis中
2023-05-12 10:51:27.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814155922771968 [0;39m 返回结果: {"content":{"id":37814121005191168,"loginName":"1","name":"1","token":"37814155947937792"},"success":true}
2023-05-12 10:51:27.589 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814155922771968 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 10:51:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37814187044507648 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:51:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814187044507648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:51:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814187044507648 [0;39m ==> Parameters: 
2023-05-12 10:51:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814187044507648 [0;39m <==    Updates: 1
2023-05-12 10:51:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37814187044507648 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 10:51:35.665 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37814091120775168 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:35.665 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37814091120775168 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 10:51:35.665 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37814091120775168 [0;39m 登录校验开始，token：37814155947937792
2023-05-12 10:51:35.666 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37814091120775168 [0;39m 已登录：{"id":37814121005191168,"loginName":"1","name":"1","token":"37814155947937792"}
2023-05-12 10:51:35.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814189833719808 [0;39m ------------- 开始 -------------
2023-05-12 10:51:35.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814189833719808 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 10:51:35.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814189833719808 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 10:51:35.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814189833719808 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:35.667 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814189833719808 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 10:51:35.668 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814189833719808 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 10:51:35.669 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814189833719808 [0;39m ==> Parameters: 
2023-05-12 10:51:35.670 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37814189833719808 [0;39m <==    Columns: count(0)
2023-05-12 10:51:35.670 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37814189833719808 [0;39m <==        Row: 3
2023-05-12 10:51:35.670 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814189833719808 [0;39m <==      Total: 1
2023-05-12 10:51:35.670 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814189833719808 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 10:51:35.671 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814189833719808 [0;39m ==> Parameters: 10(Integer)
2023-05-12 10:51:35.671 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814189833719808 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:51:35.672 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814189833719808 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 10:51:35.672 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814189833719808 [0;39m <==        Row: 37814091175301120, test23, 1231, f3c660a48fa4cfd111d9421a5b220d6d
2023-05-12 10:51:35.672 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814189833719808 [0;39m <==        Row: 37814121005191168, 1, 1, b9b237df8bd22c295180ea0109cb7e67
2023-05-12 10:51:35.672 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814189833719808 [0;39m <==      Total: 3
2023-05-12 10:51:35.673 INFO  com.jiawa.wiki.service.UserService                :50   [32m37814189833719808 [0;39m 总行数：3
2023-05-12 10:51:35.673 INFO  com.jiawa.wiki.service.UserService                :51   [32m37814189833719808 [0;39m 总页数：1
2023-05-12 10:51:35.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814189833719808 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814091175301120,"loginName":"test23","name":"1231"},{"id":37814121005191168,"loginName":"1","name":"1"}],"total":3},"success":true}
2023-05-12 10:51:35.673 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814189833719808 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:51:35.674 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814189833719808 [0;39m ------------- LoginInterceptor 结束 耗时：9 ms -------------
2023-05-12 10:51:38.697 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37814091343073280 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:38.699 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814091343073280 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 10:51:38.703 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37814120984219648 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:38.703 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37814120984219648 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/delete/37814091175301120
2023-05-12 10:51:38.703 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37814120984219648 [0;39m 登录校验开始，token：37814155947937792
2023-05-12 10:51:38.705 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37814120984219648 [0;39m 已登录：{"id":37814121005191168,"loginName":"1","name":"1","token":"37814155947937792"}
2023-05-12 10:51:38.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814202580209664 [0;39m ------------- 开始 -------------
2023-05-12 10:51:38.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814202580209664 [0;39m 请求地址: http://127.0.0.1:8880/user/delete/37814091175301120 DELETE
2023-05-12 10:51:38.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814202580209664 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.delete
2023-05-12 10:51:38.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814202580209664 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:38.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814202580209664 [0;39m 请求参数: [37814091175301120]
2023-05-12 10:51:38.708 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m37814202580209664 [0;39m ==>  Preparing: delete from user where id = ?
2023-05-12 10:51:38.709 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m37814202580209664 [0;39m ==> Parameters: 37814091175301120(Long)
2023-05-12 10:51:38.718 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m37814202580209664 [0;39m <==    Updates: 1
2023-05-12 10:51:38.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814202580209664 [0;39m 返回结果: {"success":true}
2023-05-12 10:51:38.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814202580209664 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 10:51:38.719 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814202580209664 [0;39m ------------- LoginInterceptor 结束 耗时：16 ms -------------
2023-05-12 10:51:38.739 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37814121193934848 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:38.740 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37814121193934848 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 10:51:38.740 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37814121193934848 [0;39m 登录校验开始，token：37814155947937792
2023-05-12 10:51:38.741 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37814121193934848 [0;39m 已登录：{"id":37814121005191168,"loginName":"1","name":"1","token":"37814155947937792"}
2023-05-12 10:51:38.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814202731204608 [0;39m ------------- 开始 -------------
2023-05-12 10:51:38.742 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814202731204608 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 10:51:38.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814202731204608 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 10:51:38.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814202731204608 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:38.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814202731204608 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 10:51:38.745 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814202731204608 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 10:51:38.745 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814202731204608 [0;39m ==> Parameters: 
2023-05-12 10:51:38.751 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37814202731204608 [0;39m <==    Columns: count(0)
2023-05-12 10:51:38.752 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37814202731204608 [0;39m <==        Row: 2
2023-05-12 10:51:38.752 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814202731204608 [0;39m <==      Total: 1
2023-05-12 10:51:38.753 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814202731204608 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 10:51:38.753 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814202731204608 [0;39m ==> Parameters: 10(Integer)
2023-05-12 10:51:38.754 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814202731204608 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:51:38.754 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814202731204608 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 10:51:38.755 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814202731204608 [0;39m <==        Row: 37814121005191168, 1, 1, b9b237df8bd22c295180ea0109cb7e67
2023-05-12 10:51:38.755 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814202731204608 [0;39m <==      Total: 2
2023-05-12 10:51:38.755 INFO  com.jiawa.wiki.service.UserService                :50   [32m37814202731204608 [0;39m 总行数：2
2023-05-12 10:51:38.756 INFO  com.jiawa.wiki.service.UserService                :51   [32m37814202731204608 [0;39m 总页数：1
2023-05-12 10:51:38.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814202731204608 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191168,"loginName":"1","name":"1"}],"total":2},"success":true}
2023-05-12 10:51:38.756 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814202731204608 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-12 10:51:38.757 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814202731204608 [0;39m ------------- LoginInterceptor 结束 耗时：17 ms -------------
2023-05-12 10:51:39.777 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37813976830185472 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:39.779 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37813976830185472 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 10:51:39.781 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37814132845711360 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:39.782 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37814132845711360 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/delete/37814121005191168
2023-05-12 10:51:39.782 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37814132845711360 [0;39m 登录校验开始，token：37814155947937792
2023-05-12 10:51:39.783 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37814132845711360 [0;39m 已登录：{"id":37814121005191168,"loginName":"1","name":"1","token":"37814155947937792"}
2023-05-12 10:51:39.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814207097475072 [0;39m ------------- 开始 -------------
2023-05-12 10:51:39.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814207097475072 [0;39m 请求地址: http://127.0.0.1:8880/user/delete/37814121005191168 DELETE
2023-05-12 10:51:39.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814207097475072 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.delete
2023-05-12 10:51:39.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814207097475072 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:39.783 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814207097475072 [0;39m 请求参数: [37814121005191168]
2023-05-12 10:51:39.784 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m37814207097475072 [0;39m ==>  Preparing: delete from user where id = ?
2023-05-12 10:51:39.784 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m37814207097475072 [0;39m ==> Parameters: 37814121005191168(Long)
2023-05-12 10:51:39.792 DEBUG c.jiawa.wiki.mapper.UserMapper.deleteByPrimaryKey :137  [32m37814207097475072 [0;39m <==    Updates: 1
2023-05-12 10:51:39.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814207097475072 [0;39m 返回结果: {"success":true}
2023-05-12 10:51:39.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814207097475072 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 10:51:39.794 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814207097475072 [0;39m ------------- LoginInterceptor 结束 耗时：12 ms -------------
2023-05-12 10:51:39.809 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37814141360148480 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:39.809 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37814141360148480 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 10:51:39.810 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37814141360148480 [0;39m 登录校验开始，token：37814155947937792
2023-05-12 10:51:39.811 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37814141360148480 [0;39m 已登录：{"id":37814121005191168,"loginName":"1","name":"1","token":"37814155947937792"}
2023-05-12 10:51:39.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814207214915584 [0;39m ------------- 开始 -------------
2023-05-12 10:51:39.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814207214915584 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 10:51:39.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814207214915584 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 10:51:39.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814207214915584 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:39.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814207214915584 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 10:51:39.813 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814207214915584 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 10:51:39.813 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814207214915584 [0;39m ==> Parameters: 
2023-05-12 10:51:39.856 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37814207214915584 [0;39m <==    Columns: count(0)
2023-05-12 10:51:39.856 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37814207214915584 [0;39m <==        Row: 1
2023-05-12 10:51:39.856 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37814207214915584 [0;39m <==      Total: 1
2023-05-12 10:51:39.857 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814207214915584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 10:51:39.857 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814207214915584 [0;39m ==> Parameters: 10(Integer)
2023-05-12 10:51:39.859 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814207214915584 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:51:39.860 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37814207214915584 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 10:51:39.860 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37814207214915584 [0;39m <==      Total: 1
2023-05-12 10:51:39.860 INFO  com.jiawa.wiki.service.UserService                :50   [32m37814207214915584 [0;39m 总行数：1
2023-05-12 10:51:39.860 INFO  com.jiawa.wiki.service.UserService                :51   [32m37814207214915584 [0;39m 总页数：1
2023-05-12 10:51:39.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814207214915584 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"}],"total":1},"success":true}
2023-05-12 10:51:39.861 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814207214915584 [0;39m ------------- 结束 耗时：50 ms -------------
2023-05-12 10:51:39.862 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814207214915584 [0;39m ------------- LoginInterceptor 结束 耗时：53 ms -------------
2023-05-12 10:51:44.437 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37814141410480128 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:44.437 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814141410480128 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 10:51:44.441 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37814141414674432 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 10:51:44.442 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37814141414674432 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/37814155947937792
2023-05-12 10:51:44.442 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37814141414674432 [0;39m 登录校验开始，token：37814155947937792
2023-05-12 10:51:44.443 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37814141414674432 [0;39m 已登录：{"id":37814121005191168,"loginName":"1","name":"1","token":"37814155947937792"}
2023-05-12 10:51:44.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814226642931712 [0;39m ------------- 开始 -------------
2023-05-12 10:51:44.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814226642931712 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/37814155947937792 GET
2023-05-12 10:51:44.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814226642931712 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-12 10:51:44.443 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814226642931712 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:44.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814226642931712 [0;39m 请求参数: ["37814155947937792"]
2023-05-12 10:51:44.444 INFO  com.jiawa.wiki.controller.UserController          :96   [32m37814226642931712 [0;39m 从redis中删除token: 37814155947937792
2023-05-12 10:51:44.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814226642931712 [0;39m 返回结果: {"success":true}
2023-05-12 10:51:44.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814226642931712 [0;39m ------------- 结束 耗时：1 ms -------------
2023-05-12 10:51:44.445 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37814226642931712 [0;39m ------------- LoginInterceptor 结束 耗时：3 ms -------------
2023-05-12 10:51:45.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814231663513600 [0;39m ------------- 开始 -------------
2023-05-12 10:51:45.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814231663513600 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:51:45.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814231663513600 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:51:45.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814231663513600 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:45.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814231663513600 [0;39m 请求参数: []
2023-05-12 10:51:45.641 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37814231663513600 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:51:45.642 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37814231663513600 [0;39m ==> Parameters: 
2023-05-12 10:51:45.643 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37814231663513600 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:51:45.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814231676096512 [0;39m ------------- 开始 -------------
2023-05-12 10:51:45.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814231676096512 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:51:45.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814231676096512 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:51:45.643 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37814231663513600 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:51:45.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814231676096512 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:45.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814231676096512 [0;39m 请求参数: []
2023-05-12 10:51:45.644 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37814231676096512 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:51:45.644 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37814231676096512 [0;39m ==> Parameters: 
2023-05-12 10:51:45.645 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37814231663513600 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:51:45.645 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37814231676096512 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:51:45.645 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37814231663513600 [0;39m <==      Total: 2
2023-05-12 10:51:45.645 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37814231676096512 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:51:45.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814231663513600 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:51:45.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814231663513600 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 10:51:45.646 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37814231676096512 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:51:45.646 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37814231676096512 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:51:45.646 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37814231676096512 [0;39m <==      Total: 3
2023-05-12 10:51:45.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814231676096512 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:51:45.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814231676096512 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 10:51:45.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37814231701262336 [0;39m ------------- 开始 -------------
2023-05-12 10:51:45.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37814231701262336 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:51:45.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37814231701262336 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:51:45.649 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37814231701262336 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:51:45.650 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37814231701262336 [0;39m 请求参数: []
2023-05-12 10:51:45.651 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37814231701262336 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:51:45.651 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37814231701262336 [0;39m ==> Parameters: 
2023-05-12 10:51:45.652 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:51:45.653 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:51:45.653 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:51:45.653 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:51:45.653 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:51:45.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:51:45.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:51:45.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:51:45.654 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:51:45.655 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:51:45.655 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:51:45.655 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:51:45.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:51:45.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:51:45.656 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:51:45.657 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37814231701262336 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:51:45.657 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37814231701262336 [0;39m <==      Total: 15
2023-05-12 10:51:45.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37814231701262336 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:51:45.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37814231701262336 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 10:52:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37814291897913344 [0;39m 生成今日电子书快照开始
2023-05-12 10:52:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37814291897913344 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:52:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37814291897913344 [0;39m ==> Parameters: 
2023-05-12 10:52:00.001 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37814291897913344 [0;39m <==    Updates: 0
2023-05-12 10:52:00.001 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37814291897913344 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 10:52:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37814312877821952 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:52:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814312877821952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:52:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814312877821952 [0;39m ==> Parameters: 
2023-05-12 10:52:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814312877821952 [0;39m <==    Updates: 1
2023-05-12 10:52:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37814312877821952 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:52:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37814438715330560 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:52:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814438715330560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:52:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814438715330560 [0;39m ==> Parameters: 
2023-05-12 10:52:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814438715330560 [0;39m <==    Updates: 1
2023-05-12 10:52:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37814438715330560 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:53:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37814543631650816 [0;39m 生成今日电子书快照开始
2023-05-12 10:53:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37814543631650816 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:53:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37814543631650816 [0;39m ==> Parameters: 
2023-05-12 10:53:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37814543631650816 [0;39m <==    Updates: 0
2023-05-12 10:53:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37814543631650816 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 10:53:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37814564536061952 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:53:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814564536061952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:53:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814564536061952 [0;39m ==> Parameters: 
2023-05-12 10:53:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814564536061952 [0;39m <==    Updates: 1
2023-05-12 10:53:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37814564536061952 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:53:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37814690369376256 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:53:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814690369376256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:53:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814690369376256 [0;39m ==> Parameters: 
2023-05-12 10:53:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814690369376256 [0;39m <==    Updates: 1
2023-05-12 10:53:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37814690369376256 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:54:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37814795226976256 [0;39m 生成今日电子书快照开始
2023-05-12 10:54:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37814795226976256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:54:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37814795226976256 [0;39m ==> Parameters: 
2023-05-12 10:54:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37814795226976256 [0;39m <==    Updates: 0
2023-05-12 10:54:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37814795226976256 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 10:54:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37814816198496256 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:54:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814816198496256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:54:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814816198496256 [0;39m ==> Parameters: 
2023-05-12 10:54:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814816198496256 [0;39m <==    Updates: 1
2023-05-12 10:54:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37814816198496256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:54:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37814942023421952 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:54:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814942023421952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:54:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814942023421952 [0;39m ==> Parameters: 
2023-05-12 10:54:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37814942023421952 [0;39m <==    Updates: 1
2023-05-12 10:54:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37814942023421952 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:55:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37815046918770688 [0;39m 生成今日电子书快照开始
2023-05-12 10:55:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37815046918770688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:55:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37815046918770688 [0;39m ==> Parameters: 
2023-05-12 10:55:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37815046918770688 [0;39m <==    Updates: 0
2023-05-12 10:55:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37815046918770688 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:55:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37815067860930560 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:55:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815067860930560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:55:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815067860930560 [0;39m ==> Parameters: 
2023-05-12 10:55:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815067860930560 [0;39m <==    Updates: 1
2023-05-12 10:55:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37815067860930560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:55:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37815193690050560 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:55:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815193690050560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:55:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815193690050560 [0;39m ==> Parameters: 
2023-05-12 10:55:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815193690050560 [0;39m <==    Updates: 1
2023-05-12 10:55:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37815193690050560 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 10:56:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37815298568622080 [0;39m 生成今日电子书快照开始
2023-05-12 10:56:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37815298568622080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:56:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37815298568622080 [0;39m ==> Parameters: 
2023-05-12 10:56:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37815298568622080 [0;39m <==    Updates: 0
2023-05-12 10:56:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37815298568622080 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 10:56:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37815319548530688 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:56:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815319548530688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:56:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815319548530688 [0;39m ==> Parameters: 
2023-05-12 10:56:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815319548530688 [0;39m <==    Updates: 1
2023-05-12 10:56:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37815319548530688 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-12 10:56:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37815445377650688 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:56:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815445377650688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:56:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815445377650688 [0;39m ==> Parameters: 
2023-05-12 10:56:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815445377650688 [0;39m <==    Updates: 1
2023-05-12 10:56:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37815445377650688 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 10:57:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37815550256222208 [0;39m 生成今日电子书快照开始
2023-05-12 10:57:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37815550256222208 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:57:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37815550256222208 [0;39m ==> Parameters: 
2023-05-12 10:57:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37815550256222208 [0;39m <==    Updates: 0
2023-05-12 10:57:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37815550256222208 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 10:57:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37815571169021952 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:57:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815571169021952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:57:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815571169021952 [0;39m ==> Parameters: 
2023-05-12 10:57:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815571169021952 [0;39m <==    Updates: 1
2023-05-12 10:57:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37815571169021952 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:57:35.022 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37815697077833728 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:57:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815697077833728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:57:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815697077833728 [0;39m ==> Parameters: 
2023-05-12 10:57:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815697077833728 [0;39m <==    Updates: 1
2023-05-12 10:57:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37815697077833728 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 10:57:52.761 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：2xdR6PvXdK，session id：0！当前连接数：0
2023-05-12 10:57:52.818 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 10:57:52.820 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2023-05-12 10:57:52.822 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2023-05-12 10:57:52.822 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2023-05-12 10:57:52.832 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2023-05-12 10:57:53.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-12 10:57:53.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10909] result: true
2023-05-12 10:57:53.058 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10911] result: true
2023-05-12 10:57:53.063 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-12 10:57:53.064 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :267  [32m                  [0;39m Invocation of destroy method failed on bean with name 'rocketMQTemplate': java.lang.IllegalStateException: Shutdown in progress
2023-05-12 10:57:53.065 WARN  o.s.beans.factory.support.DisposableBeanAdapter   :349  [32m                  [0;39m Destroy method 'shutdown' on bean with name 'defaultMQProducer' threw an exception: java.lang.IllegalStateException: Shutdown in progress
2023-05-12 10:57:58.277 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-12 10:57:58.282 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 4844 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-12 10:57:58.282 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-12 10:57:58.326 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-12 10:57:58.327 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-12 10:57:58.973 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-12 10:57:58.975 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-12 10:57:58.999 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2023-05-12 10:57:59.183 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$e8639923] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.193 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.595 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.595 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$8a9e0e24] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.595 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.604 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.604 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.604 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.604 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.604 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.604 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.621 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.621 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.621 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.621 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:57:59.637 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:58:00.592 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:58:00.592 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 10:58:00.969 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-12 10:58:00.975 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-12 10:58:00.976 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-12 10:58:00.976 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-12 10:58:01.048 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-12 10:58:01.048 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2720 ms
2023-05-12 10:58:01.625 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-12 10:58:01.893 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-12 10:58:01.932 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-12 10:58:02.302 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 10:58:02.304 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-12 10:58:02.315 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-12 10:58:02.322 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-12 10:58:02.332 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 4.416 seconds (JVM running for 5.613)
2023-05-12 10:58:02.332 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-12 10:58:02.332 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-12 10:58:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37815822890176512 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:58:05.034 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m37815822890176512 [0;39m HikariPool-1 - Starting...
2023-05-12 10:58:05.645 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m37815822890176512 [0;39m HikariPool-1 - Start completed.
2023-05-12 10:58:05.652 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815822890176512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:58:05.662 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815822890176512 [0;39m ==> Parameters: 
2023-05-12 10:58:05.669 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815822890176512 [0;39m <==    Updates: 1
2023-05-12 10:58:05.672 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37815822890176512 [0;39m 更新电子书下的文档数据结束，耗时：654毫秒
2023-05-12 10:58:12.942 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-12 10:58:12.944 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-12 10:58:12.944 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2023-05-12 10:58:13.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37815856503328768 [0;39m ------------- 开始 -------------
2023-05-12 10:58:13.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37815856503328768 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:58:13.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37815856503328768 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:58:13.032 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37815856503328768 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:58:13.036 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37815856503328768 [0;39m 请求参数: [{"loginName":"1","name":"1"}]
2023-05-12 10:58:13.063 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37815856503328768 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:58:13.063 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37815856503328768 [0;39m ==> Parameters: 1(String)
2023-05-12 10:58:13.072 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37815856503328768 [0;39m <==      Total: 0
2023-05-12 10:58:13.077 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37815856503328768 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:58:13.077 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37815856503328768 [0;39m ==> Parameters: null, 1(String), 1(String), c4ca4238a0b923820dcc509a6f75849b(String)
2023-05-12 10:58:13.087 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37815856503328768 [0;39m <==    Updates: 1
2023-05-12 10:58:13.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37815856503328768 [0;39m 返回结果: {"success":true}
2023-05-12 10:58:13.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37815856503328768 [0;39m ------------- 结束 耗时：60 ms -------------
2023-05-12 10:58:15.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37815868801028096 [0;39m ------------- 开始 -------------
2023-05-12 10:58:15.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37815868801028096 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:58:15.965 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37815868801028096 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:58:15.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37815868801028096 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:58:15.966 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37815868801028096 [0;39m 请求参数: [{"loginName":"1","name":"1"}]
2023-05-12 10:58:15.968 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37815868801028096 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:58:15.969 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37815868801028096 [0;39m ==> Parameters: 1(String)
2023-05-12 10:58:15.970 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37815868801028096 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:58:15.970 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37815868801028096 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 10:58:15.972 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37815868801028096 [0;39m <==      Total: 1
2023-05-12 10:58:15.974 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37815868801028096 [0;39m 业务异常：登录名已存在
2023-05-12 10:58:15.976 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37815868801028096 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 登录名已存在]
2023-05-12 10:58:24.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37815904414863360 [0;39m ------------- 开始 -------------
2023-05-12 10:58:24.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37815904414863360 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 10:58:24.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37815904414863360 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 10:58:24.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37815904414863360 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:58:24.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37815904414863360 [0;39m 请求参数: [{"loginName":"1"}]
2023-05-12 10:58:24.468 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37815904414863360 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:58:24.469 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37815904414863360 [0;39m ==> Parameters: 1(String)
2023-05-12 10:58:24.473 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37815904414863360 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 10:58:24.474 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37815904414863360 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 10:58:24.474 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37815904414863360 [0;39m <==      Total: 1
2023-05-12 10:58:24.475 INFO  com.jiawa.wiki.service.UserService                :137  [32m37815904414863360 [0;39m 密码不对, 输入密码：b9b237df8bd22c295180ea0109cb7e67, 数据库密码：c4ca4238a0b923820dcc509a6f75849b
2023-05-12 10:58:24.475 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37815904414863360 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 10:58:24.477 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37815904414863360 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 10:58:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37815948698324992 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:58:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815948698324992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:58:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815948698324992 [0;39m ==> Parameters: 
2023-05-12 10:58:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37815948698324992 [0;39m <==    Updates: 1
2023-05-12 10:58:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37815948698324992 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 10:59:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37816053526564864 [0;39m 生成今日电子书快照开始
2023-05-12 10:59:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37816053526564864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 10:59:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37816053526564864 [0;39m ==> Parameters: 
2023-05-12 10:59:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37816053526564864 [0;39m <==    Updates: 0
2023-05-12 10:59:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37816053526564864 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-12 10:59:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37816074493890560 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:59:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816074493890560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:59:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816074493890560 [0;39m ==> Parameters: 
2023-05-12 10:59:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816074493890560 [0;39m <==    Updates: 1
2023-05-12 10:59:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37816074493890560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 10:59:05.183 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：T2ZU4E2aFB，session id：0，当前连接数：1
2023-05-12 10:59:05.302 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37816075739598848 [0;39m ------------- 开始 -------------
2023-05-12 10:59:05.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37816075739598848 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 10:59:05.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37816075739598848 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 10:59:05.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37816075739598848 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:59:05.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37816075739598848 [0;39m 请求参数: []
2023-05-12 10:59:05.307 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37816075739598848 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:59:05.308 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37816075739598848 [0;39m ==> Parameters: 
2023-05-12 10:59:05.309 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37816075739598848 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 10:59:05.309 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37816075768958976 [0;39m ------------- 开始 -------------
2023-05-12 10:59:05.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37816075768958976 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 10:59:05.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37816075768958976 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 10:59:05.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37816075768958976 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:59:05.310 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37816075768958976 [0;39m 请求参数: []
2023-05-12 10:59:05.310 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37816075739598848 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 10:59:05.314 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37816075768958976 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 10:59:05.315 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37816075739598848 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 10:59:05.315 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37816075768958976 [0;39m ==> Parameters: 
2023-05-12 10:59:05.315 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37816075739598848 [0;39m <==      Total: 2
2023-05-12 10:59:05.316 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37816075768958976 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 10:59:05.317 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37816075768958976 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 10:59:05.317 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37816075768958976 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 10:59:05.318 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37816075768958976 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 10:59:05.318 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37816075768958976 [0;39m <==      Total: 3
2023-05-12 10:59:05.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37816075739598848 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 10:59:05.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37816075768958976 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 10:59:05.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37816075739598848 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-12 10:59:05.324 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37816075768958976 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-12 10:59:05.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37816075836067840 [0;39m ------------- 开始 -------------
2023-05-12 10:59:05.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37816075836067840 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 10:59:05.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37816075836067840 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 10:59:05.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37816075836067840 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:59:05.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37816075836067840 [0;39m 请求参数: []
2023-05-12 10:59:05.335 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37816075836067840 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 10:59:05.336 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37816075836067840 [0;39m ==> Parameters: 
2023-05-12 10:59:05.338 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 10:59:05.344 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 10:59:05.346 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 10:59:05.346 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 10:59:05.347 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 10:59:05.347 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 10:59:05.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 10:59:05.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 10:59:05.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 10:59:05.349 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 10:59:05.349 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 10:59:05.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 10:59:05.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 10:59:05.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 10:59:05.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 10:59:05.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37816075836067840 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 10:59:05.352 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37816075836067840 [0;39m <==      Total: 15
2023-05-12 10:59:05.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37816075836067840 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 10:59:05.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37816075836067840 [0;39m ------------- 结束 耗时：35 ms -------------
2023-05-12 10:59:11.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37816103535251456 [0;39m ------------- 开始 -------------
2023-05-12 10:59:11.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37816103535251456 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 10:59:11.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37816103535251456 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 10:59:11.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37816103535251456 [0;39m 远程地址: 127.0.0.1
2023-05-12 10:59:11.930 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37816103535251456 [0;39m 请求参数: [{"loginName":"2","name":"2"}]
2023-05-12 10:59:11.931 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816103535251456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 10:59:11.931 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816103535251456 [0;39m ==> Parameters: 2(String)
2023-05-12 10:59:11.932 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816103535251456 [0;39m <==      Total: 0
2023-05-12 10:59:11.933 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37816103535251456 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 10:59:11.934 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37816103535251456 [0;39m ==> Parameters: null, 2(String), 2(String), c81e728d9d4c2f636f067f89cc14862c(String)
2023-05-12 10:59:11.937 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37816103535251456 [0;39m <==    Updates: 1
2023-05-12 10:59:11.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37816103535251456 [0;39m 返回结果: {"success":true}
2023-05-12 10:59:11.939 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37816103535251456 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 10:59:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37816200343982080 [0;39m 更新电子书下的文档数据开始
2023-05-12 10:59:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816200343982080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 10:59:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816200343982080 [0;39m ==> Parameters: 
2023-05-12 10:59:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816200343982080 [0;39m <==    Updates: 1
2023-05-12 10:59:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37816200343982080 [0;39m 更新电子书下的文档数据结束，耗时：10毫秒
2023-05-12 11:00:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37816305197387776 [0;39m 生成今日电子书快照开始
2023-05-12 11:00:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37816305197387776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:00:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37816305197387776 [0;39m ==> Parameters: 
2023-05-12 11:00:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37816305197387776 [0;39m <==    Updates: 0
2023-05-12 11:00:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37816305197387776 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-12 11:00:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37816326156324864 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:00:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816326156324864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:00:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816326156324864 [0;39m ==> Parameters: 
2023-05-12 11:00:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816326156324864 [0;39m <==    Updates: 1
2023-05-12 11:00:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37816326156324864 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 11:00:34.429 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37816449565331456 [0;39m ------------- 开始 -------------
2023-05-12 11:00:34.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37816449565331456 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 11:00:34.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37816449565331456 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 11:00:34.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37816449565331456 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:00:34.430 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37816449565331456 [0;39m 请求参数: [{"loginName":"4"}]
2023-05-12 11:00:34.433 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816449565331456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:00:34.434 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816449565331456 [0;39m ==> Parameters: 4(String)
2023-05-12 11:00:34.435 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816449565331456 [0;39m <==      Total: 0
2023-05-12 11:00:34.435 INFO  com.jiawa.wiki.service.UserService                :128  [32m37816449565331456 [0;39m 用户名不存在, 4
2023-05-12 11:00:34.435 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37816449565331456 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 11:00:34.435 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37816449565331456 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 11:00:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37816451968667648 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:00:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816451968667648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:00:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816451968667648 [0;39m ==> Parameters: 
2023-05-12 11:00:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816451968667648 [0;39m <==    Updates: 1
2023-05-12 11:00:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37816451968667648 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:00:43.614 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37816488090013696 [0;39m ------------- 开始 -------------
2023-05-12 11:00:43.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37816488090013696 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 11:00:43.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37816488090013696 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 11:00:43.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37816488090013696 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:00:43.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37816488090013696 [0;39m 请求参数: [{"loginName":"4"}]
2023-05-12 11:00:43.617 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816488090013696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:00:43.618 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816488090013696 [0;39m ==> Parameters: 4(String)
2023-05-12 11:00:43.619 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816488090013696 [0;39m <==      Total: 0
2023-05-12 11:00:43.619 INFO  com.jiawa.wiki.service.UserService                :128  [32m37816488090013696 [0;39m 用户名不存在, 4
2023-05-12 11:00:43.620 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37816488090013696 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 11:00:43.621 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37816488090013696 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 11:01:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37816556868210688 [0;39m 生成今日电子书快照开始
2023-05-12 11:01:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37816556868210688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:01:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37816556868210688 [0;39m ==> Parameters: 
2023-05-12 11:01:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37816556868210688 [0;39m <==    Updates: 0
2023-05-12 11:01:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37816556868210688 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 11:01:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37816577864896512 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:01:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816577864896512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:01:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816577864896512 [0;39m ==> Parameters: 
2023-05-12 11:01:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816577864896512 [0;39m <==    Updates: 1
2023-05-12 11:01:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37816577864896512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:01:35.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37816703694016512 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:01:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816703694016512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:01:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816703694016512 [0;39m ==> Parameters: 
2023-05-12 11:01:35.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816703694016512 [0;39m <==    Updates: 1
2023-05-12 11:01:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37816703694016512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:01:49.216 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37816763244744704 [0;39m ------------- 开始 -------------
2023-05-12 11:01:49.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37816763244744704 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 11:01:49.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37816763244744704 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 11:01:49.217 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37816763244744704 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:01:49.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37816763244744704 [0;39m 请求参数: [{"loginName":"4"}]
2023-05-12 11:01:49.219 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816763244744704 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:01:49.219 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816763244744704 [0;39m ==> Parameters: 4(String)
2023-05-12 11:01:49.222 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816763244744704 [0;39m <==      Total: 0
2023-05-12 11:01:49.223 INFO  com.jiawa.wiki.service.UserService                :128  [32m37816763244744704 [0;39m 用户名不存在, 4
2023-05-12 11:01:49.223 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37816763244744704 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 11:01:49.224 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37816763244744704 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 11:01:59.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37816805875650560 [0;39m ------------- 开始 -------------
2023-05-12 11:01:59.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37816805875650560 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 11:01:59.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37816805875650560 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 11:01:59.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37816805875650560 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:01:59.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37816805875650560 [0;39m 请求参数: [{"loginName":"4"}]
2023-05-12 11:01:59.382 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816805875650560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:01:59.383 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816805875650560 [0;39m ==> Parameters: 4(String)
2023-05-12 11:01:59.384 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816805875650560 [0;39m <==      Total: 0
2023-05-12 11:01:59.385 INFO  com.jiawa.wiki.service.UserService                :128  [32m37816805875650560 [0;39m 用户名不存在, 4
2023-05-12 11:01:59.385 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37816805875650560 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 11:01:59.387 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37816805875650560 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 11:02:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37816808501284864 [0;39m 生成今日电子书快照开始
2023-05-12 11:02:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37816808501284864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:02:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37816808501284864 [0;39m ==> Parameters: 
2023-05-12 11:02:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37816808501284864 [0;39m <==    Updates: 0
2023-05-12 11:02:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37816808501284864 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-12 11:02:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37816829514747904 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:02:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816829514747904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:02:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816829514747904 [0;39m ==> Parameters: 
2023-05-12 11:02:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816829514747904 [0;39m <==    Updates: 1
2023-05-12 11:02:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37816829514747904 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 11:02:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37816955331284992 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:02:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816955331284992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:02:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816955331284992 [0;39m ==> Parameters: 
2023-05-12 11:02:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37816955331284992 [0;39m <==    Updates: 1
2023-05-12 11:02:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37816955331284992 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 11:02:42.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37816984829825024 [0;39m ------------- 开始 -------------
2023-05-12 11:02:42.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37816984829825024 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 11:02:42.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37816984829825024 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 11:02:42.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37816984829825024 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:02:42.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37816984829825024 [0;39m 请求参数: [{"loginName":"4","name":"4"}]
2023-05-12 11:02:42.049 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816984829825024 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:02:42.050 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816984829825024 [0;39m ==> Parameters: 4(String)
2023-05-12 11:02:42.050 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37816984829825024 [0;39m <==      Total: 0
2023-05-12 11:02:42.051 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37816984829825024 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 11:02:42.053 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37816984829825024 [0;39m ==> Parameters: null, 4(String), 4(String), a87ff679a2f3e71d9181a67b7542122c(String)
2023-05-12 11:02:42.060 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37816984829825024 [0;39m <==    Updates: 1
2023-05-12 11:02:42.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37816984829825024 [0;39m 返回结果: {"success":true}
2023-05-12 11:02:42.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37816984829825024 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-12 11:02:47.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37817009408446464 [0;39m ------------- 开始 -------------
2023-05-12 11:02:47.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37817009408446464 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 11:02:47.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37817009408446464 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 11:02:47.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37817009408446464 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:02:47.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37817009408446464 [0;39m 请求参数: [{"loginName":"4"}]
2023-05-12 11:02:47.909 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37817009408446464 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:02:47.909 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37817009408446464 [0;39m ==> Parameters: 4(String)
2023-05-12 11:02:47.910 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37817009408446464 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 11:02:47.911 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37817009408446464 [0;39m <==        Row: 37814121005191171, 4, 4, a87ff679a2f3e71d9181a67b7542122c
2023-05-12 11:02:47.911 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37817009408446464 [0;39m <==      Total: 1
2023-05-12 11:02:47.912 INFO  com.jiawa.wiki.service.UserService                :137  [32m37817009408446464 [0;39m 密码不对, 输入密码：8621246ddb05c1bc6cba1e463a90ad23, 数据库密码：a87ff679a2f3e71d9181a67b7542122c
2023-05-12 11:02:47.912 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37817009408446464 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 11:02:47.914 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37817009408446464 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 11:03:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37817060184690688 [0;39m 生成今日电子书快照开始
2023-05-12 11:03:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37817060184690688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:03:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37817060184690688 [0;39m ==> Parameters: 
2023-05-12 11:03:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37817060184690688 [0;39m <==    Updates: 0
2023-05-12 11:03:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37817060184690688 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 11:03:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37817081122656256 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:03:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817081122656256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:03:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817081122656256 [0;39m ==> Parameters: 
2023-05-12 11:03:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817081122656256 [0;39m <==    Updates: 1
2023-05-12 11:03:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37817081122656256 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:03:23.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37817158197186560 [0;39m ------------- 开始 -------------
2023-05-12 11:03:23.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37817158197186560 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 11:03:23.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37817158197186560 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 11:03:23.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37817158197186560 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:03:23.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37817158197186560 [0;39m 请求参数: [{"loginName":"4"}]
2023-05-12 11:03:23.384 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37817158197186560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:03:23.385 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37817158197186560 [0;39m ==> Parameters: 4(String)
2023-05-12 11:03:23.386 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37817158197186560 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 11:03:23.386 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37817158197186560 [0;39m <==        Row: 37814121005191171, 4, 4, a87ff679a2f3e71d9181a67b7542122c
2023-05-12 11:03:23.386 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37817158197186560 [0;39m <==      Total: 1
2023-05-12 11:03:23.387 INFO  com.jiawa.wiki.service.UserService                :137  [32m37817158197186560 [0;39m 密码不对, 输入密码：015f7c462fff85f0b94e280f35b5f3a5, 数据库密码：a87ff679a2f3e71d9181a67b7542122c
2023-05-12 11:03:23.387 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37817158197186560 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 11:03:23.388 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37817158197186560 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 11:03:35.022 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37817207027273728 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:03:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817207027273728 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:03:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817207027273728 [0;39m ==> Parameters: 
2023-05-12 11:03:35.025 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817207027273728 [0;39m <==    Updates: 1
2023-05-12 11:03:35.025 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37817207027273728 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 11:04:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37817311800987648 [0;39m 生成今日电子书快照开始
2023-05-12 11:04:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37817311800987648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:04:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37817311800987648 [0;39m ==> Parameters: 
2023-05-12 11:04:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37817311800987648 [0;39m <==    Updates: 0
2023-05-12 11:04:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37817311800987648 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 11:04:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37817332797673472 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:04:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817332797673472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:04:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817332797673472 [0;39m ==> Parameters: 
2023-05-12 11:04:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817332797673472 [0;39m <==    Updates: 1
2023-05-12 11:04:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37817332797673472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 11:04:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37817458610016256 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:04:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817458610016256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:04:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817458610016256 [0;39m ==> Parameters: 
2023-05-12 11:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817458610016256 [0;39m <==    Updates: 1
2023-05-12 11:04:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37817458610016256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 11:05:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37817563484393472 [0;39m 生成今日电子书快照开始
2023-05-12 11:05:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37817563484393472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:05:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37817563484393472 [0;39m ==> Parameters: 
2023-05-12 11:05:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37817563484393472 [0;39m <==    Updates: 0
2023-05-12 11:05:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37817563484393472 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 11:05:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37817584485273600 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:05:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817584485273600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:05:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817584485273600 [0;39m ==> Parameters: 
2023-05-12 11:05:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817584485273600 [0;39m <==    Updates: 1
2023-05-12 11:05:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37817584485273600 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 11:05:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37817710251479040 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:05:35.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817710251479040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:05:35.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817710251479040 [0;39m ==> Parameters: 
2023-05-12 11:05:35.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817710251479040 [0;39m <==    Updates: 1
2023-05-12 11:05:35.000 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37817710251479040 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:06:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37817815109079040 [0;39m 生成今日电子书快照开始
2023-05-12 11:06:00.000 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37817815109079040 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:06:00.000 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37817815109079040 [0;39m ==> Parameters: 
2023-05-12 11:06:00.000 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37817815109079040 [0;39m <==    Updates: 0
2023-05-12 11:06:00.000 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37817815109079040 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:06:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37817836156096512 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:06:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817836156096512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:06:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817836156096512 [0;39m ==> Parameters: 
2023-05-12 11:06:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817836156096512 [0;39m <==    Updates: 1
2023-05-12 11:06:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37817836156096512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:06:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37817961955856384 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:06:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817961955856384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:06:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817961955856384 [0;39m ==> Parameters: 
2023-05-12 11:06:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37817961955856384 [0;39m <==    Updates: 1
2023-05-12 11:06:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37817961955856384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:06:37.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37817971367874560 [0;39m ------------- 开始 -------------
2023-05-12 11:06:37.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37817971367874560 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 11:06:37.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37817971367874560 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 11:06:37.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37817971367874560 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:06:37.255 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37817971367874560 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-12 11:06:37.258 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37817971367874560 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:06:37.258 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37817971367874560 [0;39m ==> Parameters: test(String)
2023-05-12 11:06:37.259 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37817971367874560 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 11:06:37.260 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37817971367874560 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 11:06:37.260 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37817971367874560 [0;39m <==      Total: 1
2023-05-12 11:06:37.260 INFO  com.jiawa.wiki.service.UserService                :137  [32m37817971367874560 [0;39m 密码不对, 输入密码：e70e2222a9d67c4f2eae107533359aa4, 数据库密码：db0887127059810ba9f80186d795edb5
2023-05-12 11:06:37.261 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37817971367874560 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 11:06:37.262 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37817971367874560 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 11:06:40.218 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37817983795597312 [0;39m ------------- 开始 -------------
2023-05-12 11:06:40.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37817983795597312 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 11:06:40.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37817983795597312 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 11:06:40.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37817983795597312 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:06:40.219 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37817983795597312 [0;39m 请求参数: [{"loginName":"test1"}]
2023-05-12 11:06:40.221 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37817983795597312 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:06:40.221 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37817983795597312 [0;39m ==> Parameters: test1(String)
2023-05-12 11:06:40.223 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37817983795597312 [0;39m <==      Total: 0
2023-05-12 11:06:40.223 INFO  com.jiawa.wiki.service.UserService                :128  [32m37817983795597312 [0;39m 用户名不存在, test1
2023-05-12 11:06:40.223 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37817983795597312 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 11:06:40.225 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37817983795597312 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 11:06:45.739 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818006952349696 [0;39m ------------- 开始 -------------
2023-05-12 11:06:45.739 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818006952349696 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 11:06:45.739 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818006952349696 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 11:06:45.739 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818006952349696 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:06:45.739 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818006952349696 [0;39m 请求参数: [{"loginName":"test"}]
2023-05-12 11:06:45.739 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818006952349696 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:06:45.739 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818006952349696 [0;39m ==> Parameters: test(String)
2023-05-12 11:06:45.755 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818006952349696 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 11:06:45.756 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818006952349696 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 11:06:45.757 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818006952349696 [0;39m <==      Total: 1
2023-05-12 11:06:45.765 INFO  com.jiawa.wiki.controller.UserController          :86   [32m37818006952349696 [0;39m 生成单点登录token：37818007061401600，并放入redis中
2023-05-12 11:06:45.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818006952349696 [0;39m 返回结果: {"content":{"id":1,"loginName":"test","name":"测试","token":"37818007061401600"},"success":true}
2023-05-12 11:06:45.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818006952349696 [0;39m ------------- 结束 耗时：140 ms -------------
2023-05-12 11:06:46.950 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m                  [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 11:06:46.951 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m                  [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 11:06:46.951 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m                  [0;39m 登录校验开始，token：37818007061401600
2023-05-12 11:06:46.954 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m                  [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37818007061401600"}
2023-05-12 11:06:46.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818012161675264 [0;39m ------------- 开始 -------------
2023-05-12 11:06:46.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818012161675264 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 11:06:46.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818012161675264 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 11:06:46.982 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818012161675264 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:06:46.983 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818012161675264 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 11:06:47.013 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37818012161675264 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 11:06:47.013 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37818012161675264 [0;39m ==> Parameters: 
2023-05-12 11:06:47.015 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37818012161675264 [0;39m <==    Columns: count(0)
2023-05-12 11:06:47.015 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37818012161675264 [0;39m <==        Row: 4
2023-05-12 11:06:47.016 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37818012161675264 [0;39m <==      Total: 1
2023-05-12 11:06:47.020 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818012161675264 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 11:06:47.020 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818012161675264 [0;39m ==> Parameters: 10(Integer)
2023-05-12 11:06:47.021 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818012161675264 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 11:06:47.021 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818012161675264 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 11:06:47.021 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818012161675264 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 11:06:47.021 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818012161675264 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 11:06:47.022 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818012161675264 [0;39m <==        Row: 37814121005191171, 4, 4, a87ff679a2f3e71d9181a67b7542122c
2023-05-12 11:06:47.022 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818012161675264 [0;39m <==      Total: 4
2023-05-12 11:06:47.023 INFO  com.jiawa.wiki.service.UserService                :50   [32m37818012161675264 [0;39m 总行数：4
2023-05-12 11:06:47.023 INFO  com.jiawa.wiki.service.UserService                :51   [32m37818012161675264 [0;39m 总页数：1
2023-05-12 11:06:47.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818012161675264 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"}],"total":4},"success":true}
2023-05-12 11:06:47.028 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818012161675264 [0;39m ------------- 结束 耗时：47 ms -------------
2023-05-12 11:06:47.040 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37818012161675264 [0;39m ------------- LoginInterceptor 结束 耗时：89 ms -------------
2023-05-12 11:06:51.417 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37816763244744704 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 11:06:51.417 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37816763244744704 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/reset-password
2023-05-12 11:06:51.418 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37816763244744704 [0;39m 登录校验开始，token：37818007061401600
2023-05-12 11:06:51.419 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37816763244744704 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37818007061401600"}
2023-05-12 11:06:51.427 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818030809550848 [0;39m ------------- 开始 -------------
2023-05-12 11:06:51.427 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818030809550848 [0;39m 请求地址: http://127.0.0.1:8880/user/reset-password POST
2023-05-12 11:06:51.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818030809550848 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.resetPassword
2023-05-12 11:06:51.428 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818030809550848 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:06:51.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818030809550848 [0;39m 请求参数: [{"id":37814121005191171}]
2023-05-12 11:06:51.442 DEBUG c.j.w.m.UserMapper.updateByPrimaryKeySelective    :137  [32m37818030809550848 [0;39m ==>  Preparing: update user SET `password` = ? where id = ?
2023-05-12 11:06:51.443 DEBUG c.j.w.m.UserMapper.updateByPrimaryKeySelective    :137  [32m37818030809550848 [0;39m ==> Parameters: 8621246ddb05c1bc6cba1e463a90ad23(String), 37814121005191171(Long)
2023-05-12 11:06:51.450 DEBUG c.j.w.m.UserMapper.updateByPrimaryKeySelective    :137  [32m37818030809550848 [0;39m <==    Updates: 1
2023-05-12 11:06:51.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818030809550848 [0;39m 返回结果: {"success":true}
2023-05-12 11:06:51.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818030809550848 [0;39m ------------- 结束 耗时：24 ms -------------
2023-05-12 11:06:51.452 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37818030809550848 [0;39m ------------- LoginInterceptor 结束 耗时：35 ms -------------
2023-05-12 11:06:51.467 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37816805875650560 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 11:06:51.467 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37816805875650560 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 11:06:51.467 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37816805875650560 [0;39m 登录校验开始，token：37818007061401600
2023-05-12 11:06:51.472 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37816805875650560 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37818007061401600"}
2023-05-12 11:06:51.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818031002488832 [0;39m ------------- 开始 -------------
2023-05-12 11:06:51.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818031002488832 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 11:06:51.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818031002488832 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 11:06:51.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818031002488832 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:06:51.473 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818031002488832 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 11:06:51.478 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37818031002488832 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 11:06:51.479 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37818031002488832 [0;39m ==> Parameters: 
2023-05-12 11:06:51.483 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37818031002488832 [0;39m <==    Columns: count(0)
2023-05-12 11:06:51.484 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37818031002488832 [0;39m <==        Row: 4
2023-05-12 11:06:51.484 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37818031002488832 [0;39m <==      Total: 1
2023-05-12 11:06:51.485 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818031002488832 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 11:06:51.485 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818031002488832 [0;39m ==> Parameters: 10(Integer)
2023-05-12 11:06:51.486 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818031002488832 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 11:06:51.486 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818031002488832 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 11:06:51.487 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818031002488832 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 11:06:51.488 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818031002488832 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 11:06:51.488 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818031002488832 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 11:06:51.488 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818031002488832 [0;39m <==      Total: 4
2023-05-12 11:06:51.489 INFO  com.jiawa.wiki.service.UserService                :50   [32m37818031002488832 [0;39m 总行数：4
2023-05-12 11:06:51.489 INFO  com.jiawa.wiki.service.UserService                :51   [32m37818031002488832 [0;39m 总页数：1
2023-05-12 11:06:51.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818031002488832 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"}],"total":4},"success":true}
2023-05-12 11:06:51.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818031002488832 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-12 11:06:51.491 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37818031002488832 [0;39m ------------- LoginInterceptor 结束 耗时：24 ms -------------
2023-05-12 11:06:55.606 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37816984829825024 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 11:06:55.607 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37816984829825024 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 11:06:55.641 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37817009408446464 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 11:06:55.642 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37817009408446464 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/37818007061401600
2023-05-12 11:06:55.651 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37817009408446464 [0;39m 登录校验开始，token：37818007061401600
2023-05-12 11:06:55.651 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37817009408446464 [0;39m 已登录：{"id":1,"loginName":"test","name":"测试","token":"37818007061401600"}
2023-05-12 11:06:55.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818048551456768 [0;39m ------------- 开始 -------------
2023-05-12 11:06:55.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818048551456768 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/37818007061401600 GET
2023-05-12 11:06:55.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818048551456768 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-12 11:06:55.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818048551456768 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:06:55.658 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818048551456768 [0;39m 请求参数: ["37818007061401600"]
2023-05-12 11:06:55.659 INFO  com.jiawa.wiki.controller.UserController          :97   [32m37818048551456768 [0;39m 从redis中删除token: 37818007061401600
2023-05-12 11:06:55.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818048551456768 [0;39m 返回结果: {"success":true}
2023-05-12 11:06:55.660 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818048551456768 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 11:06:55.660 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37818048551456768 [0;39m ------------- LoginInterceptor 结束 耗时：18 ms -------------
2023-05-12 11:06:59.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818062614958080 [0;39m ------------- 开始 -------------
2023-05-12 11:06:59.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818062614958080 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 11:06:59.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818062614958080 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 11:06:59.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818062614958080 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:06:59.010 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818062614958080 [0;39m 请求参数: [{"loginName":"4"}]
2023-05-12 11:06:59.021 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818062614958080 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:06:59.023 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818062614958080 [0;39m ==> Parameters: 4(String)
2023-05-12 11:06:59.023 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818062614958080 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 11:06:59.023 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818062614958080 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 11:06:59.024 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818062614958080 [0;39m <==      Total: 1
2023-05-12 11:06:59.024 INFO  com.jiawa.wiki.controller.UserController          :86   [32m37818062614958080 [0;39m 生成单点登录token：37818062673678336，并放入redis中
2023-05-12 11:06:59.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818062614958080 [0;39m 返回结果: {"content":{"id":37814121005191171,"loginName":"4","name":"4","token":"37818062673678336"},"success":true}
2023-05-12 11:06:59.025 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818062614958080 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-12 11:07:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37818066813456384 [0;39m 生成今日电子书快照开始
2023-05-12 11:07:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37818066813456384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:07:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37818066813456384 [0;39m ==> Parameters: 
2023-05-12 11:07:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37818066813456384 [0;39m <==    Updates: 0
2023-05-12 11:07:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37818066813456384 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:07:03.501 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m                  [0;39m 连接关闭，token：T2ZU4E2aFB，session id：0！当前连接数：0
2023-05-12 11:07:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37818087755616256 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:07:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818087755616256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:07:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818087755616256 [0;39m ==> Parameters: 
2023-05-12 11:07:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818087755616256 [0;39m <==    Updates: 1
2023-05-12 11:07:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37818087755616256 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 11:07:05.244 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37817971367874560 [0;39m 有新连接：token：jL4Go8q1mI，session id：1，当前连接数：1
2023-05-12 11:07:05.402 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37817983795597312 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 11:07:05.402 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37817983795597312 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 11:07:05.402 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37817983795597312 [0;39m 登录校验开始，token：37818062673678336
2023-05-12 11:07:05.403 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37817983795597312 [0;39m 已登录：{"id":37814121005191171,"loginName":"4","name":"4","token":"37818062673678336"}
2023-05-12 11:07:05.403 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818089429143552 [0;39m ------------- 开始 -------------
2023-05-12 11:07:05.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818089429143552 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 11:07:05.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818089429143552 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 11:07:05.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818089429143552 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:07:05.404 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818089429143552 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 11:07:05.405 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37818089429143552 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 11:07:05.406 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37818089429143552 [0;39m ==> Parameters: 
2023-05-12 11:07:05.408 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37818089429143552 [0;39m <==    Columns: count(0)
2023-05-12 11:07:05.408 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37818089429143552 [0;39m <==        Row: 4
2023-05-12 11:07:05.408 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37818089429143552 [0;39m <==      Total: 1
2023-05-12 11:07:05.409 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818089429143552 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 11:07:05.410 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818089429143552 [0;39m ==> Parameters: 10(Integer)
2023-05-12 11:07:05.411 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818089429143552 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 11:07:05.411 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818089429143552 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 11:07:05.412 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818089429143552 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 11:07:05.412 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818089429143552 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 11:07:05.412 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818089429143552 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 11:07:05.413 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818089429143552 [0;39m <==      Total: 4
2023-05-12 11:07:05.413 INFO  com.jiawa.wiki.service.UserService                :50   [32m37818089429143552 [0;39m 总行数：4
2023-05-12 11:07:05.413 INFO  com.jiawa.wiki.service.UserService                :51   [32m37818089429143552 [0;39m 总页数：1
2023-05-12 11:07:05.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818089429143552 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"}],"total":4},"success":true}
2023-05-12 11:07:05.414 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818089429143552 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 11:07:05.415 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37818089429143552 [0;39m ------------- LoginInterceptor 结束 耗时：13 ms -------------
2023-05-12 11:07:14.000 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37818006952349696 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 11:07:14.001 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37818006952349696 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 11:07:14.009 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37818012161675264 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 11:07:14.009 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37818012161675264 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/logout/37818062673678336
2023-05-12 11:07:14.009 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37818012161675264 [0;39m 登录校验开始，token：37818062673678336
2023-05-12 11:07:14.010 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37818012161675264 [0;39m 已登录：{"id":37814121005191171,"loginName":"4","name":"4","token":"37818062673678336"}
2023-05-12 11:07:14.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818125533712384 [0;39m ------------- 开始 -------------
2023-05-12 11:07:14.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818125533712384 [0;39m 请求地址: http://127.0.0.1:8880/user/logout/37818062673678336 GET
2023-05-12 11:07:14.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818125533712384 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.logout
2023-05-12 11:07:14.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818125533712384 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:07:14.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818125533712384 [0;39m 请求参数: ["37818062673678336"]
2023-05-12 11:07:14.012 INFO  com.jiawa.wiki.controller.UserController          :97   [32m37818125533712384 [0;39m 从redis中删除token: 37818062673678336
2023-05-12 11:07:14.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818125533712384 [0;39m 返回结果: {"success":true}
2023-05-12 11:07:14.012 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818125533712384 [0;39m ------------- 结束 耗时：1 ms -------------
2023-05-12 11:07:14.012 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37818125533712384 [0;39m ------------- LoginInterceptor 结束 耗时：3 ms -------------
2023-05-12 11:07:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37818213567959040 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:07:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818213567959040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:07:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818213567959040 [0;39m ==> Parameters: 
2023-05-12 11:07:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818213567959040 [0;39m <==    Updates: 1
2023-05-12 11:07:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37818213567959040 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:08:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37818318471696384 [0;39m 生成今日电子书快照开始
2023-05-12 11:08:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37818318471696384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:08:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37818318471696384 [0;39m ==> Parameters: 
2023-05-12 11:08:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37818318471696384 [0;39m <==    Updates: 0
2023-05-12 11:08:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37818318471696384 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:08:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37818339443216384 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:08:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818339443216384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:08:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818339443216384 [0;39m ==> Parameters: 
2023-05-12 11:08:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818339443216384 [0;39m <==    Updates: 1
2023-05-12 11:08:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37818339443216384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:08:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37818465268142080 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:08:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818465268142080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:08:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818465268142080 [0;39m ==> Parameters: 
2023-05-12 11:08:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818465268142080 [0;39m <==    Updates: 1
2023-05-12 11:08:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37818465268142080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:08:41.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818490605932544 [0;39m ------------- 开始 -------------
2023-05-12 11:08:41.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818490605932544 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 11:08:41.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818490605932544 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 11:08:41.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818490605932544 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:08:41.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818490605932544 [0;39m 请求参数: []
2023-05-12 11:08:41.054 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37818490605932544 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 11:08:41.054 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37818490605932544 [0;39m ==> Parameters: 
2023-05-12 11:08:41.054 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37818490605932544 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 11:08:41.057 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37818490605932544 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 11:08:41.057 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37818490605932544 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 11:08:41.057 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37818490605932544 [0;39m <==      Total: 2
2023-05-12 11:08:41.058 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818490605932544 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 11:08:41.058 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818490605932544 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 11:08:41.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818490660458496 [0;39m ------------- 开始 -------------
2023-05-12 11:08:41.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818490660458496 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 11:08:41.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818490660458496 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 11:08:41.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818490660458496 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:08:41.065 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818490660458496 [0;39m 请求参数: []
2023-05-12 11:08:41.066 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37818490660458496 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 11:08:41.066 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37818490660458496 [0;39m ==> Parameters: 
2023-05-12 11:08:41.068 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37818490660458496 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 11:08:41.068 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37818490660458496 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 11:08:41.069 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37818490660458496 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 11:08:41.069 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37818490660458496 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 11:08:41.070 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37818490660458496 [0;39m <==      Total: 3
2023-05-12 11:08:41.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818490660458496 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 11:08:41.070 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818490660458496 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 11:08:41.073 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818490698207232 [0;39m ------------- 开始 -------------
2023-05-12 11:08:41.073 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818490698207232 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 11:08:41.073 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818490698207232 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 11:08:41.073 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818490698207232 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:08:41.073 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818490698207232 [0;39m 请求参数: []
2023-05-12 11:08:41.074 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37818490698207232 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 11:08:41.074 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37818490698207232 [0;39m ==> Parameters: 
2023-05-12 11:08:41.075 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 11:08:41.076 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 11:08:41.077 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 11:08:41.078 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 11:08:41.078 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 11:08:41.078 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 11:08:41.079 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 11:08:41.079 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 11:08:41.079 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 11:08:41.079 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 11:08:41.080 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 11:08:41.080 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 11:08:41.080 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 11:08:41.080 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 11:08:41.081 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 11:08:41.081 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818490698207232 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 11:08:41.082 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37818490698207232 [0;39m <==      Total: 15
2023-05-12 11:08:41.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818490698207232 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 11:08:41.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818490698207232 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 11:08:41.741 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37818062614958080 [0;39m 连接关闭，token：jL4Go8q1mI，session id：1！当前连接数：0
2023-05-12 11:08:43.190 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：whjhGeU8k0，session id：2，当前连接数：1
2023-05-12 11:08:43.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818500147974145 [0;39m ------------- 开始 -------------
2023-05-12 11:08:43.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818500147974144 [0;39m ------------- 开始 -------------
2023-05-12 11:08:43.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818500147974145 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 11:08:43.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818500147974144 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 11:08:43.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818500147974145 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 11:08:43.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818500147974145 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:08:43.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818500152168448 [0;39m ------------- 开始 -------------
2023-05-12 11:08:43.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818500152168448 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 11:08:43.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818500147974145 [0;39m 请求参数: []
2023-05-12 11:08:43.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818500147974144 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 11:08:43.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818500152168448 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 11:08:43.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818500152168448 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:08:43.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818500147974144 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:08:43.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818500152168448 [0;39m 请求参数: []
2023-05-12 11:08:43.328 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818500147974144 [0;39m 请求参数: []
2023-05-12 11:08:43.328 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37818500147974145 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 11:08:43.329 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37818500152168448 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 11:08:43.329 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37818500147974145 [0;39m ==> Parameters: 
2023-05-12 11:08:43.329 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37818500152168448 [0;39m ==> Parameters: 
2023-05-12 11:08:43.330 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 11:08:43.330 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37818500147974145 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 11:08:43.330 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 11:08:43.330 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37818500147974144 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 11:08:43.330 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37818500147974145 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 11:08:43.330 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 11:08:43.330 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37818500147974144 [0;39m ==> Parameters: 
2023-05-12 11:08:43.330 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37818500147974145 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 11:08:43.330 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 11:08:43.330 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37818500147974145 [0;39m <==      Total: 2
2023-05-12 11:08:43.331 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 11:08:43.331 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 11:08:43.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818500147974145 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 11:08:43.331 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818500147974145 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 11:08:43.331 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37818500147974144 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 11:08:43.331 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 11:08:43.331 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 11:08:43.331 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 11:08:43.331 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37818500147974144 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 11:08:43.332 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 11:08:43.332 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 11:08:43.332 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37818500147974144 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 11:08:43.332 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 11:08:43.332 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 11:08:43.332 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37818500147974144 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 11:08:43.333 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 11:08:43.333 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37818500147974144 [0;39m <==      Total: 3
2023-05-12 11:08:43.333 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 11:08:43.333 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818500152168448 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 11:08:43.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818500147974144 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 11:08:43.333 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818500147974144 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 11:08:43.333 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37818500152168448 [0;39m <==      Total: 15
2023-05-12 11:08:43.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818500152168448 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 11:08:43.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818500152168448 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 11:08:49.629 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818526584672256 [0;39m ------------- 开始 -------------
2023-05-12 11:08:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818526584672256 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 11:08:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818526584672256 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 11:08:49.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818526584672256 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:08:49.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818526584672256 [0;39m 请求参数: [{"loginName":"s","name":"s"}]
2023-05-12 11:08:49.633 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818526584672256 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:08:49.633 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818526584672256 [0;39m ==> Parameters: s(String)
2023-05-12 11:08:49.633 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818526584672256 [0;39m <==      Total: 0
2023-05-12 11:08:49.633 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37818526584672256 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 11:08:49.633 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37818526584672256 [0;39m ==> Parameters: null, s(String), s(String), 03c7c0ace395d80182db07ae2c30f034(String)
2023-05-12 11:08:49.643 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37818526584672256 [0;39m <==    Updates: 1
2023-05-12 11:08:49.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818526584672256 [0;39m 返回结果: {"success":true}
2023-05-12 11:08:49.643 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818526584672256 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-12 11:08:53.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818542497861632 [0;39m ------------- 开始 -------------
2023-05-12 11:08:53.423 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818542497861632 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 11:08:53.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818542497861632 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 11:08:53.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818542497861632 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:08:53.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818542497861632 [0;39m 请求参数: [{"loginName":"s"}]
2023-05-12 11:08:53.426 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818542497861632 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:08:53.426 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818542497861632 [0;39m ==> Parameters: s(String)
2023-05-12 11:08:53.426 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818542497861632 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 11:08:53.426 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818542497861632 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 11:08:53.426 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818542497861632 [0;39m <==      Total: 1
2023-05-12 11:08:53.426 INFO  com.jiawa.wiki.service.UserService                :137  [32m37818542497861632 [0;39m 密码不对, 输入密码：754c643e0802c02629d94d4ae523d66c, 数据库密码：03c7c0ace395d80182db07ae2c30f034
2023-05-12 11:08:53.426 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37818542497861632 [0;39m 业务异常：用户名不存在或密码错误
2023-05-12 11:08:53.430 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37818542497861632 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 用户名不存在或密码错误]
2023-05-12 11:09:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37818570134130688 [0;39m 生成今日电子书快照开始
2023-05-12 11:09:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37818570134130688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:09:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37818570134130688 [0;39m ==> Parameters: 
2023-05-12 11:09:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37818570134130688 [0;39m <==    Updates: 0
2023-05-12 11:09:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37818570134130688 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:09:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37818591126622208 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:09:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818591126622208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:09:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818591126622208 [0;39m ==> Parameters: 
2023-05-12 11:09:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818591126622208 [0;39m <==    Updates: 1
2023-05-12 11:09:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37818591126622208 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:09:32.899 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37818490605932544 [0;39m 连接关闭，token：whjhGeU8k0，session id：2！当前连接数：0
2023-05-12 11:09:34.883 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37818490660458496 [0;39m 有新连接：token：NekfrZ3Ldj，session id：3，当前连接数：1
2023-05-12 11:09:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37818716922187776 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:09:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818716922187776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:09:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818716922187776 [0;39m ==> Parameters: 
2023-05-12 11:09:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818716922187776 [0;39m <==    Updates: 1
2023-05-12 11:09:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37818716922187776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 11:09:35.058 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818717127708672 [0;39m ------------- 开始 -------------
2023-05-12 11:09:35.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818717127708672 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 11:09:35.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818717127708672 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 11:09:35.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818717127708672 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:09:35.060 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818717127708672 [0;39m 请求参数: []
2023-05-12 11:09:35.060 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37818717127708672 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 11:09:35.060 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37818717127708672 [0;39m ==> Parameters: 
2023-05-12 11:09:35.061 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37818717127708672 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 11:09:35.062 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37818717127708672 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 11:09:35.062 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818717144485888 [0;39m ------------- 开始 -------------
2023-05-12 11:09:35.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818717148680192 [0;39m ------------- 开始 -------------
2023-05-12 11:09:35.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818717144485888 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 11:09:35.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818717148680192 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 11:09:35.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818717144485888 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 11:09:35.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818717148680192 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 11:09:35.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818717144485888 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:09:35.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818717148680192 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:09:35.063 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37818717127708672 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 11:09:35.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818717144485888 [0;39m 请求参数: []
2023-05-12 11:09:35.063 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818717148680192 [0;39m 请求参数: []
2023-05-12 11:09:35.063 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37818717127708672 [0;39m <==      Total: 2
2023-05-12 11:09:35.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818717127708672 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 11:09:35.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818717127708672 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 11:09:35.064 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37818717144485888 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 11:09:35.064 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37818717144485888 [0;39m ==> Parameters: 
2023-05-12 11:09:35.065 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37818717148680192 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 11:09:35.065 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37818717148680192 [0;39m ==> Parameters: 
2023-05-12 11:09:35.065 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 11:09:35.065 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 11:09:35.066 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37818717148680192 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 11:09:35.066 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37818717148680192 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 11:09:35.066 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 11:09:35.066 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37818717148680192 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 11:09:35.066 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 11:09:35.067 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37818717148680192 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 11:09:35.067 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 11:09:35.067 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37818717148680192 [0;39m <==      Total: 3
2023-05-12 11:09:35.067 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 11:09:35.067 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818717148680192 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 11:09:35.067 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818717148680192 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 11:09:35.067 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 11:09:35.068 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 11:09:35.068 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 11:09:35.068 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 11:09:35.068 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 11:09:35.069 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 11:09:35.069 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 11:09:35.069 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 11:09:35.069 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 11:09:35.070 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37818717144485888 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 11:09:35.070 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37818717144485888 [0;39m <==      Total: 15
2023-05-12 11:09:35.071 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818717144485888 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 11:09:35.071 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818717144485888 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 11:09:42.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818749218328576 [0;39m ------------- 开始 -------------
2023-05-12 11:09:42.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818749218328576 [0;39m 请求地址: http://127.0.0.1:8880/user/regirster POST
2023-05-12 11:09:42.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818749218328576 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.regirster
2023-05-12 11:09:42.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818749218328576 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:09:42.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818749218328576 [0;39m 请求参数: [{"loginName":"c","name":"c"}]
2023-05-12 11:09:42.711 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818749218328576 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:09:42.711 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818749218328576 [0;39m ==> Parameters: c(String)
2023-05-12 11:09:42.712 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818749218328576 [0;39m <==      Total: 0
2023-05-12 11:09:42.712 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37818749218328576 [0;39m ==>  Preparing: insert into user (id, login_name, `name`, `password`) values (?, ?, ?, ?)
2023-05-12 11:09:42.713 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37818749218328576 [0;39m ==> Parameters: null, c(String), c(String), 8e30ae412d4db47c704dca300d053a8f(String)
2023-05-12 11:09:42.721 DEBUG com.jiawa.wiki.mapper.UserMapper.insert           :137  [32m37818749218328576 [0;39m <==    Updates: 1
2023-05-12 11:09:42.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818749218328576 [0;39m 返回结果: {"success":true}
2023-05-12 11:09:42.722 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818749218328576 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 11:09:49.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37818775936045056 [0;39m ------------- 开始 -------------
2023-05-12 11:09:49.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37818775936045056 [0;39m 请求地址: http://127.0.0.1:8880/user/login POST
2023-05-12 11:09:49.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37818775936045056 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.login
2023-05-12 11:09:49.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37818775936045056 [0;39m 远程地址: 127.0.0.1
2023-05-12 11:09:49.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37818775936045056 [0;39m 请求参数: [{"loginName":"c"}]
2023-05-12 11:09:49.081 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818775936045056 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2023-05-12 11:09:49.081 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818775936045056 [0;39m ==> Parameters: c(String)
2023-05-12 11:09:49.082 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818775936045056 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 11:09:49.082 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37818775936045056 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 11:09:49.083 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37818775936045056 [0;39m <==      Total: 1
2023-05-12 11:09:49.083 INFO  com.jiawa.wiki.controller.UserController          :86   [32m37818775936045056 [0;39m 生成单点登录token：37818775952822272，并放入redis中
2023-05-12 11:09:49.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37818775936045056 [0;39m 返回结果: {"content":{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"},"success":true}
2023-05-12 11:09:49.084 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37818775936045056 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 11:10:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37818821788176384 [0;39m 生成今日电子书快照开始
2023-05-12 11:10:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37818821788176384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:10:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37818821788176384 [0;39m ==> Parameters: 
2023-05-12 11:10:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37818821788176384 [0;39m <==    Updates: 0
2023-05-12 11:10:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37818821788176384 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:10:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37818842755502080 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:10:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818842755502080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:10:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818842755502080 [0;39m ==> Parameters: 
2023-05-12 11:10:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818842755502080 [0;39m <==    Updates: 1
2023-05-12 11:10:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37818842755502080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:10:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37818968609787904 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:10:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818968609787904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:10:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818968609787904 [0;39m ==> Parameters: 
2023-05-12 11:10:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37818968609787904 [0;39m <==    Updates: 1
2023-05-12 11:10:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37818968609787904 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:11:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37819073446416384 [0;39m 生成今日电子书快照开始
2023-05-12 11:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37819073446416384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37819073446416384 [0;39m ==> Parameters: 
2023-05-12 11:11:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37819073446416384 [0;39m <==    Updates: 0
2023-05-12 11:11:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37819073446416384 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:11:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37819094422130688 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:11:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819094422130688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:11:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819094422130688 [0;39m ==> Parameters: 
2023-05-12 11:11:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819094422130688 [0;39m <==    Updates: 1
2023-05-12 11:11:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37819094422130688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:11:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37819220251250688 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:11:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819220251250688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:11:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819220251250688 [0;39m ==> Parameters: 
2023-05-12 11:11:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819220251250688 [0;39m <==    Updates: 1
2023-05-12 11:11:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37819220251250688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:12:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37819325100462080 [0;39m 生成今日电子书快照开始
2023-05-12 11:12:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37819325100462080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:12:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37819325100462080 [0;39m ==> Parameters: 
2023-05-12 11:12:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37819325100462080 [0;39m <==    Updates: 0
2023-05-12 11:12:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37819325100462080 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:12:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37819346055204864 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:12:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819346055204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:12:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819346055204864 [0;39m ==> Parameters: 
2023-05-12 11:12:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819346055204864 [0;39m <==    Updates: 1
2023-05-12 11:12:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37819346055204864 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:12:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37819471901102080 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819471901102080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819471901102080 [0;39m ==> Parameters: 
2023-05-12 11:12:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819471901102080 [0;39m <==    Updates: 1
2023-05-12 11:12:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37819471901102080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:13:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37819576767090688 [0;39m 生成今日电子书快照开始
2023-05-12 11:13:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37819576767090688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:13:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37819576767090688 [0;39m ==> Parameters: 
2023-05-12 11:13:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37819576767090688 [0;39m <==    Updates: 0
2023-05-12 11:13:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37819576767090688 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:13:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37819597734416384 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:13:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819597734416384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:13:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819597734416384 [0;39m ==> Parameters: 
2023-05-12 11:13:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819597734416384 [0;39m <==    Updates: 1
2023-05-12 11:13:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37819597734416384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:13:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37819723559342080 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:13:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819723559342080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:13:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819723559342080 [0;39m ==> Parameters: 
2023-05-12 11:13:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819723559342080 [0;39m <==    Updates: 1
2023-05-12 11:13:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37819723559342080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:14:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37819828429524992 [0;39m 生成今日电子书快照开始
2023-05-12 11:14:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37819828429524992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:14:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37819828429524992 [0;39m ==> Parameters: 
2023-05-12 11:14:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37819828429524992 [0;39m <==    Updates: 0
2023-05-12 11:14:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37819828429524992 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:14:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37819849392656384 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:14:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819849392656384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:14:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819849392656384 [0;39m ==> Parameters: 
2023-05-12 11:14:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819849392656384 [0;39m <==    Updates: 1
2023-05-12 11:14:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37819849392656384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:14:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37819975225970688 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:14:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819975225970688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:14:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819975225970688 [0;39m ==> Parameters: 
2023-05-12 11:14:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37819975225970688 [0;39m <==    Updates: 1
2023-05-12 11:14:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37819975225970688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:15:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37820080121319424 [0;39m 生成今日电子书快照开始
2023-05-12 11:15:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37820080121319424 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:15:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37820080121319424 [0;39m ==> Parameters: 
2023-05-12 11:15:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37820080121319424 [0;39m <==    Updates: 0
2023-05-12 11:15:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37820080121319424 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:15:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37820101021536256 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:15:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820101021536256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:15:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820101021536256 [0;39m ==> Parameters: 
2023-05-12 11:15:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820101021536256 [0;39m <==    Updates: 1
2023-05-12 11:15:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37820101021536256 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:15:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37820226892599296 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:15:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820226892599296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:15:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820226892599296 [0;39m ==> Parameters: 
2023-05-12 11:15:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820226892599296 [0;39m <==    Updates: 1
2023-05-12 11:15:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37820226892599296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:16:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37820331754393600 [0;39m 生成今日电子书快照开始
2023-05-12 11:16:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37820331754393600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:16:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37820331754393600 [0;39m ==> Parameters: 
2023-05-12 11:16:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37820331754393600 [0;39m <==    Updates: 0
2023-05-12 11:16:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37820331754393600 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:16:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37820352683970560 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:16:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820352683970560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:16:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820352683970560 [0;39m ==> Parameters: 
2023-05-12 11:16:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820352683970560 [0;39m <==    Updates: 1
2023-05-12 11:16:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37820352683970560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:16:35.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37820478538256384 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:16:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820478538256384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:16:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820478538256384 [0;39m ==> Parameters: 
2023-05-12 11:16:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820478538256384 [0;39m <==    Updates: 1
2023-05-12 11:16:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37820478538256384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:17:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37820583391662080 [0;39m 生成今日电子书快照开始
2023-05-12 11:17:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37820583391662080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:17:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37820583391662080 [0;39m ==> Parameters: 
2023-05-12 11:17:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37820583391662080 [0;39m <==    Updates: 0
2023-05-12 11:17:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37820583391662080 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:17:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37820604384153600 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820604384153600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820604384153600 [0;39m ==> Parameters: 
2023-05-12 11:17:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820604384153600 [0;39m <==    Updates: 1
2023-05-12 11:17:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37820604384153600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:17:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37820730200690688 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:17:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820730200690688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:17:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820730200690688 [0;39m ==> Parameters: 
2023-05-12 11:17:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820730200690688 [0;39m <==    Updates: 1
2023-05-12 11:17:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37820730200690688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:18:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37820835075067904 [0;39m 生成今日电子书快照开始
2023-05-12 11:18:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37820835075067904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:18:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37820835075067904 [0;39m ==> Parameters: 
2023-05-12 11:18:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37820835075067904 [0;39m <==    Updates: 0
2023-05-12 11:18:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37820835075067904 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:18:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37820856025616384 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:18:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820856025616384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:18:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820856025616384 [0;39m ==> Parameters: 
2023-05-12 11:18:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820856025616384 [0;39m <==    Updates: 1
2023-05-12 11:18:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37820856025616384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:18:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37820981829570560 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:18:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820981829570560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:18:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820981829570560 [0;39m ==> Parameters: 
2023-05-12 11:18:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37820981829570560 [0;39m <==    Updates: 1
2023-05-12 11:18:35.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37820981829570560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:19:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37821086712336384 [0;39m 生成今日电子书快照开始
2023-05-12 11:19:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37821086712336384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:19:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37821086712336384 [0;39m ==> Parameters: 
2023-05-12 11:19:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37821086712336384 [0;39m <==    Updates: 0
2023-05-12 11:19:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37821086712336384 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:19:05.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37821107658690560 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37821107658690560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37821107658690560 [0;39m ==> Parameters: 
2023-05-12 11:19:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37821107658690560 [0;39m <==    Updates: 1
2023-05-12 11:19:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37821107658690560 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:19:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37821233529753600 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:19:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37821233529753600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:19:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37821233529753600 [0;39m ==> Parameters: 
2023-05-12 11:19:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37821233529753600 [0;39m <==    Updates: 1
2023-05-12 11:19:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37821233529753600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:20:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37821338408325120 [0;39m 生成今日电子书快照开始
2023-05-12 11:20:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37821338408325120 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 11:20:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37821338408325120 [0;39m ==> Parameters: 
2023-05-12 11:20:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37821338408325120 [0;39m <==    Updates: 0
2023-05-12 11:20:00.020 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37821338408325120 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 11:20:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37821359337902080 [0;39m 更新电子书下的文档数据开始
2023-05-12 11:20:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37821359337902080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 11:20:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37821359337902080 [0;39m ==> Parameters: 
2023-05-12 11:20:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37821359337902080 [0;39m <==    Updates: 1
2023-05-12 11:20:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37821359337902080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 11:20:10.903 ERROR com.jiawa.wiki.websocket.WebSocketServer          :57   [32m37818490605932544 [0;39m 发生错误
java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1231)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1141)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:72)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-05-12 11:20:10.903 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37818490605932544 [0;39m 连接关闭，token：NekfrZ3Ldj，session id：3！当前连接数：0
2023-05-12 12:25:32.832 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[192.168.10.22:10909] result: true
2023-05-12 12:25:32.834 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-12 12:25:32.837 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-12 12:25:33.087 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2023-05-12 12:25:52.392 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37837915858014208 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:25:52.392 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37837915858014208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:25:52.392 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37837915858014208 [0;39m ==> Parameters: 
2023-05-12 12:25:52.392 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37837915858014208 [0;39m <==    Updates: 1
2023-05-12 12:25:52.392 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37837915858014208 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:25:52.392 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37837915858014209 [0;39m 生成今日电子书快照开始
2023-05-12 12:25:52.392 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37837915858014209 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:25:52.392 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37837915858014209 [0;39m ==> Parameters: 
2023-05-12 12:25:52.392 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37837915858014209 [0;39m <==    Updates: 0
2023-05-12 12:25:52.392 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37837915858014209 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 12:25:53.524 WARN  com.zaxxer.hikari.pool.HikariPool                 :787  [32m                  [0;39m HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h5m47s396ms971µs200ns).
2023-05-12 12:26:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37837947801833472 [0;39m 生成今日电子书快照开始
2023-05-12 12:26:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37837947801833472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:26:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37837947801833472 [0;39m ==> Parameters: 
2023-05-12 12:26:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37837947801833472 [0;39m <==    Updates: 0
2023-05-12 12:26:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37837947801833472 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 12:26:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37837968773353472 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:26:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37837968773353472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:26:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37837968773353472 [0;39m ==> Parameters: 
2023-05-12 12:26:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37837968773353472 [0;39m <==    Updates: 1
2023-05-12 12:26:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37837968773353472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:26:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37838094623444992 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:26:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838094623444992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:26:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838094623444992 [0;39m ==> Parameters: 
2023-05-12 12:26:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838094623444992 [0;39m <==    Updates: 1
2023-05-12 12:26:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37838094623444992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:26:48.995 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37818490660458496 [0;39m 有新连接：token：6KcjvGAHtK，session id：4，当前连接数：1
2023-05-12 12:26:49.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37838153951875072 [0;39m ------------- 开始 -------------
2023-05-12 12:26:49.159 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37838153951875072 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:26:49.160 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37838153951875072 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:26:49.160 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37838153951875072 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:26:49.160 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37838153951875072 [0;39m 请求参数: []
2023-05-12 12:26:49.160 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37838153951875072 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:26:49.161 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37838153951875072 [0;39m ==> Parameters: 
2023-05-12 12:26:49.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37838153968652288 [0;39m ------------- 开始 -------------
2023-05-12 12:26:49.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37838153968652288 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:26:49.162 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37838153951875072 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:26:49.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37838153968652289 [0;39m ------------- 开始 -------------
2023-05-12 12:26:49.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37838153968652288 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:26:49.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37838153968652289 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:26:49.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37838153968652288 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:26:49.162 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37838153951875072 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:26:49.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37838153968652289 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:26:49.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37838153968652288 [0;39m 请求参数: []
2023-05-12 12:26:49.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37838153968652289 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:26:49.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37838153968652289 [0;39m 请求参数: []
2023-05-12 12:26:49.162 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37838153951875072 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 12:26:49.163 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37838153951875072 [0;39m <==      Total: 2
2023-05-12 12:26:49.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37838153951875072 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 12:26:49.164 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37838153968652288 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:26:49.164 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37838153951875072 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:26:49.164 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37838153968652288 [0;39m ==> Parameters: 
2023-05-12 12:26:49.165 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37838153968652289 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:26:49.165 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37838153968652289 [0;39m ==> Parameters: 
2023-05-12 12:26:49.165 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:26:49.166 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:26:49.166 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:26:49.166 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37838153968652289 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:26:49.166 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:26:49.166 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37838153968652289 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:26:49.166 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:26:49.166 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37838153968652289 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:26:49.167 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:26:49.167 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37838153968652289 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:26:49.167 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:26:49.167 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37838153968652289 [0;39m <==      Total: 3
2023-05-12 12:26:49.167 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:26:49.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37838153968652289 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:26:49.168 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:26:49.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37838153968652289 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:26:49.168 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:26:49.168 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:26:49.168 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:26:49.168 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:26:49.169 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:26:49.169 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:26:49.169 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838153968652288 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:26:49.169 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37838153968652288 [0;39m <==      Total: 15
2023-05-12 12:26:49.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37838153968652288 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:26:49.170 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37838153968652288 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 12:26:52.370 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37818500152168448 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:26:52.371 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37818500152168448 [0;39m ------------- LoginInterceptor 结束 耗时：1 ms -------------
2023-05-12 12:26:52.373 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37818542497861632 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:26:52.373 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37818542497861632 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:26:52.373 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37818542497861632 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:26:52.374 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37818542497861632 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:26:52.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37838167440756736 [0;39m ------------- 开始 -------------
2023-05-12 12:26:52.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37838167440756736 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:26:52.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37838167440756736 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:26:52.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37838167440756736 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:26:52.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37838167440756736 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:26:52.377 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37838167440756736 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:26:52.378 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37838167440756736 [0;39m ==> Parameters: 
2023-05-12 12:26:52.379 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37838167440756736 [0;39m <==    Columns: count(0)
2023-05-12 12:26:52.379 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37838167440756736 [0;39m <==        Row: 6
2023-05-12 12:26:52.379 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37838167440756736 [0;39m <==      Total: 1
2023-05-12 12:26:52.380 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37838167440756736 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:26:52.380 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37838167440756736 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:26:52.381 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37838167440756736 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:26:52.381 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37838167440756736 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:26:52.381 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37838167440756736 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:26:52.381 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37838167440756736 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:26:52.381 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37838167440756736 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:26:52.382 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37838167440756736 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:26:52.382 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37838167440756736 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:26:52.382 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37838167440756736 [0;39m <==      Total: 6
2023-05-12 12:26:52.382 INFO  com.jiawa.wiki.service.UserService                :50   [32m37838167440756736 [0;39m 总行数：6
2023-05-12 12:26:52.382 INFO  com.jiawa.wiki.service.UserService                :51   [32m37838167440756736 [0;39m 总页数：1
2023-05-12 12:26:52.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37838167440756736 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:26:52.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37838167440756736 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 12:26:52.386 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37838167440756736 [0;39m ------------- LoginInterceptor 结束 耗时：13 ms -------------
2023-05-12 12:26:53.184 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37838170838142976 [0;39m ------------- 开始 -------------
2023-05-12 12:26:53.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37838170838142976 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:26:53.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37838170838142976 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:26:53.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37838170838142976 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:26:53.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37838170838142976 [0;39m 请求参数: []
2023-05-12 12:26:53.187 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37838170838142976 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:26:53.188 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37838170838142976 [0;39m ==> Parameters: 
2023-05-12 12:26:53.189 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37838170838142976 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:26:53.189 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37838170838142976 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:26:53.190 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37838170838142976 [0;39m <==        Row: 2023-05-12, 10, 7, 0, 0
2023-05-12 12:26:53.190 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37838170838142976 [0;39m <==      Total: 2
2023-05-12 12:26:53.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37838170838142976 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 12:26:53.190 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37838170838142976 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:26:53.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37838170875891712 [0;39m ------------- 开始 -------------
2023-05-12 12:26:53.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37838170875891712 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:26:53.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37838170875891712 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:26:53.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37838170875891712 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:26:53.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37838170875891712 [0;39m 请求参数: []
2023-05-12 12:26:53.194 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37838170875891712 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:26:53.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37838170880086016 [0;39m ------------- 开始 -------------
2023-05-12 12:26:53.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37838170880086016 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:26:53.194 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37838170875891712 [0;39m ==> Parameters: 
2023-05-12 12:26:53.194 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37838170880086016 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:26:53.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37838170880086016 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:26:53.195 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37838170880086016 [0;39m 请求参数: []
2023-05-12 12:26:53.195 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37838170875891712 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:26:53.195 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37838170880086016 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:26:53.195 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37838170875891712 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:26:53.196 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37838170880086016 [0;39m ==> Parameters: 
2023-05-12 12:26:53.196 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37838170875891712 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:26:53.196 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37838170875891712 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:26:53.196 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:26:53.196 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37838170875891712 [0;39m <==      Total: 3
2023-05-12 12:26:53.196 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:26:53.197 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:26:53.197 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:26:53.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37838170875891712 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:26:53.197 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:26:53.197 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37838170875891712 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:26:53.198 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:26:53.204 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:26:53.204 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:26:53.204 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:26:53.205 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:26:53.205 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:26:53.205 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:26:53.205 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:26:53.206 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:26:53.206 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:26:53.206 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37838170880086016 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:26:53.206 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37838170880086016 [0;39m <==      Total: 15
2023-05-12 12:26:53.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37838170880086016 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:26:53.207 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37838170880086016 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 12:27:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37838199485239296 [0;39m 生成今日电子书快照开始
2023-05-12 12:27:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37838199485239296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:27:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37838199485239296 [0;39m ==> Parameters: 
2023-05-12 12:27:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37838199485239296 [0;39m <==    Updates: 0
2023-05-12 12:27:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37838199485239296 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 12:27:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37838220460953600 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:27:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838220460953600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:27:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838220460953600 [0;39m ==> Parameters: 
2023-05-12 12:27:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838220460953600 [0;39m <==    Updates: 1
2023-05-12 12:27:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37838220460953600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:27:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37838346260713472 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:27:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838346260713472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:27:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838346260713472 [0;39m ==> Parameters: 
2023-05-12 12:27:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838346260713472 [0;39m <==    Updates: 1
2023-05-12 12:27:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37838346260713472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:28:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37838451143479296 [0;39m 生成今日电子书快照开始
2023-05-12 12:28:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37838451143479296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:28:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37838451143479296 [0;39m ==> Parameters: 
2023-05-12 12:28:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37838451143479296 [0;39m <==    Updates: 0
2023-05-12 12:28:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37838451143479296 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 12:28:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37838472089833472 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:28:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838472089833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:28:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838472089833472 [0;39m ==> Parameters: 
2023-05-12 12:28:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838472089833472 [0;39m <==    Updates: 1
2023-05-12 12:28:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37838472089833472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 12:28:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37838597944119296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:28:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838597944119296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:28:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838597944119296 [0;39m ==> Parameters: 
2023-05-12 12:28:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838597944119296 [0;39m <==    Updates: 1
2023-05-12 12:28:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37838597944119296 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 12:29:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37838702797524992 [0;39m 生成今日电子书快照开始
2023-05-12 12:29:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37838702797524992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:29:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37838702797524992 [0;39m ==> Parameters: 
2023-05-12 12:29:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37838702797524992 [0;39m <==    Updates: 0
2023-05-12 12:29:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37838702797524992 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 12:29:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37838723773239296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:29:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838723773239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:29:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838723773239296 [0;39m ==> Parameters: 
2023-05-12 12:29:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838723773239296 [0;39m <==    Updates: 1
2023-05-12 12:29:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37838723773239296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:29:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37838849564610560 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:29:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838849564610560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:29:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838849564610560 [0;39m ==> Parameters: 
2023-05-12 12:29:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838849564610560 [0;39m <==    Updates: 1
2023-05-12 12:29:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37838849564610560 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:30:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37838954430599168 [0;39m 生成今日电子书快照开始
2023-05-12 12:30:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37838954430599168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:30:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37838954430599168 [0;39m ==> Parameters: 
2023-05-12 12:30:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37838954430599168 [0;39m <==    Updates: 0
2023-05-12 12:30:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37838954430599168 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 12:30:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37838975402119168 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:30:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838975402119168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:30:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838975402119168 [0;39m ==> Parameters: 
2023-05-12 12:30:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37838975402119168 [0;39m <==    Updates: 1
2023-05-12 12:30:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37838975402119168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:30:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37839101218656256 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:30:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839101218656256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:30:35.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839101218656256 [0;39m ==> Parameters: 
2023-05-12 12:30:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839101218656256 [0;39m <==    Updates: 1
2023-05-12 12:30:35.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37839101218656256 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:31:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37839206072061952 [0;39m 生成今日电子书快照开始
2023-05-12 12:31:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37839206072061952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:31:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37839206072061952 [0;39m ==> Parameters: 
2023-05-12 12:31:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37839206072061952 [0;39m <==    Updates: 0
2023-05-12 12:31:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37839206072061952 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 12:31:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37839227077136384 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:31:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839227077136384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:31:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839227077136384 [0;39m ==> Parameters: 
2023-05-12 12:31:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839227077136384 [0;39m <==    Updates: 1
2023-05-12 12:31:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37839227077136384 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:31:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37839352914644992 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:31:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839352914644992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:31:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839352914644992 [0;39m ==> Parameters: 
2023-05-12 12:31:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839352914644992 [0;39m <==    Updates: 1
2023-05-12 12:31:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37839352914644992 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 12:32:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37839457784827904 [0;39m 生成今日电子书快照开始
2023-05-12 12:32:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37839457784827904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:32:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37839457784827904 [0;39m ==> Parameters: 
2023-05-12 12:32:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37839457784827904 [0;39m <==    Updates: 0
2023-05-12 12:32:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37839457784827904 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 12:32:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37839478747959296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:32:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839478747959296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:32:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839478747959296 [0;39m ==> Parameters: 
2023-05-12 12:32:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839478747959296 [0;39m <==    Updates: 1
2023-05-12 12:32:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37839478747959296 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 12:32:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37839604547719168 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:32:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839604547719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:32:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839604547719168 [0;39m ==> Parameters: 
2023-05-12 12:32:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839604547719168 [0;39m <==    Updates: 1
2023-05-12 12:32:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37839604547719168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:33:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37839709434679296 [0;39m 生成今日电子书快照开始
2023-05-12 12:33:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37839709434679296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:33:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37839709434679296 [0;39m ==> Parameters: 
2023-05-12 12:33:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37839709434679296 [0;39m <==    Updates: 0
2023-05-12 12:33:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37839709434679296 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 12:33:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37839730418782208 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:33:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839730418782208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:33:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839730418782208 [0;39m ==> Parameters: 
2023-05-12 12:33:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839730418782208 [0;39m <==    Updates: 1
2023-05-12 12:33:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37839730418782208 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 12:33:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37839856235319296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:33:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839856235319296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:33:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839856235319296 [0;39m ==> Parameters: 
2023-05-12 12:33:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839856235319296 [0;39m <==    Updates: 1
2023-05-12 12:33:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37839856235319296 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 12:34:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37839961097113600 [0;39m 生成今日电子书快照开始
2023-05-12 12:34:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37839961097113600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:34:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37839961097113600 [0;39m ==> Parameters: 
2023-05-12 12:34:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37839961097113600 [0;39m <==    Updates: 0
2023-05-12 12:34:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37839961097113600 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 12:34:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37839982060244992 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:34:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839982060244992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:34:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839982060244992 [0;39m ==> Parameters: 
2023-05-12 12:34:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37839982060244992 [0;39m <==    Updates: 1
2023-05-12 12:34:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37839982060244992 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 12:34:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37840107893559296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:34:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840107893559296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:34:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840107893559296 [0;39m ==> Parameters: 
2023-05-12 12:34:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840107893559296 [0;39m <==    Updates: 1
2023-05-12 12:34:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37840107893559296 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 12:35:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37840212742770688 [0;39m 生成今日电子书快照开始
2023-05-12 12:35:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37840212742770688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:35:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37840212742770688 [0;39m ==> Parameters: 
2023-05-12 12:35:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37840212742770688 [0;39m <==    Updates: 0
2023-05-12 12:35:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37840212742770688 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 12:35:05.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37840233701707776 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:35:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840233701707776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:35:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840233701707776 [0;39m ==> Parameters: 
2023-05-12 12:35:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840233701707776 [0;39m <==    Updates: 1
2023-05-12 12:35:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37840233701707776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:35:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37840359551799296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:35:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840359551799296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:35:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840359551799296 [0;39m ==> Parameters: 
2023-05-12 12:35:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840359551799296 [0;39m <==    Updates: 1
2023-05-12 12:35:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37840359551799296 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 12:36:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37840464405204992 [0;39m 生成今日电子书快照开始
2023-05-12 12:36:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37840464405204992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:36:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37840464405204992 [0;39m ==> Parameters: 
2023-05-12 12:36:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37840464405204992 [0;39m <==    Updates: 0
2023-05-12 12:36:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37840464405204992 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 12:36:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37840485355753472 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:36:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840485355753472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:36:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840485355753472 [0;39m ==> Parameters: 
2023-05-12 12:36:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840485355753472 [0;39m <==    Updates: 1
2023-05-12 12:36:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37840485355753472 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:36:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37840611180679168 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:36:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840611180679168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:36:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840611180679168 [0;39m ==> Parameters: 
2023-05-12 12:36:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840611180679168 [0;39m <==    Updates: 1
2023-05-12 12:36:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37840611180679168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:37:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37840716071833600 [0;39m 生成今日电子书快照开始
2023-05-12 12:37:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37840716071833600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:37:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37840716071833600 [0;39m ==> Parameters: 
2023-05-12 12:37:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37840716071833600 [0;39m <==    Updates: 0
2023-05-12 12:37:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37840716071833600 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 12:37:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37840737022382080 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:37:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840737022382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:37:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840737022382080 [0;39m ==> Parameters: 
2023-05-12 12:37:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840737022382080 [0;39m <==    Updates: 1
2023-05-12 12:37:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37840737022382080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:37:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37840862876667904 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:37:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840862876667904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:37:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840862876667904 [0;39m ==> Parameters: 
2023-05-12 12:37:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840862876667904 [0;39m <==    Updates: 1
2023-05-12 12:37:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37840862876667904 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:38:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37840967704907776 [0;39m 生成今日电子书快照开始
2023-05-12 12:38:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37840967704907776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:38:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37840967704907776 [0;39m ==> Parameters: 
2023-05-12 12:38:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37840967704907776 [0;39m <==    Updates: 0
2023-05-12 12:38:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37840967704907776 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 12:38:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37840988697399296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:38:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840988697399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:38:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840988697399296 [0;39m ==> Parameters: 
2023-05-12 12:38:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37840988697399296 [0;39m <==    Updates: 1
2023-05-12 12:38:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37840988697399296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:38:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37841114505547776 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:38:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841114505547776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:38:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841114505547776 [0;39m ==> Parameters: 
2023-05-12 12:38:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841114505547776 [0;39m <==    Updates: 1
2023-05-12 12:38:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37841114505547776 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:38:51.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841184101634048 [0;39m ------------- 开始 -------------
2023-05-12 12:38:51.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841184101634048 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:38:51.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841184101634048 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:38:51.603 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841184101634048 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:38:51.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841184101634048 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 12:38:51.620 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841184101634048 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:38:51.621 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841184101634048 [0;39m ==> Parameters: 101(Long)
2023-05-12 12:38:51.621 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841184101634048 [0;39m <==    Columns: count(0)
2023-05-12 12:38:51.622 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841184101634048 [0;39m <==        Row: 1
2023-05-12 12:38:51.622 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841184101634048 [0;39m <==      Total: 1
2023-05-12 12:38:51.622 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841184101634048 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:38:51.624 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841184101634048 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 12:38:51.624 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841184101634048 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:38:51.624 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841184101634048 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:38:51.624 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841184101634048 [0;39m <==      Total: 1
2023-05-12 12:38:51.625 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841184101634048 [0;39m 总行数：1
2023-05-12 12:38:51.625 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841184101634048 [0;39m 总页数：1
2023-05-12 12:38:51.630 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841184101634048 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-12 12:38:51.631 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841184101634048 [0;39m ------------- 结束 耗时：29 ms -------------
2023-05-12 12:38:53.785 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37818500152168448 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:38:53.785 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37818500152168448 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:38:53.785 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37818500152168448 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:38:53.786 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37818500152168448 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:38:53.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841193266188288 [0;39m ------------- 开始 -------------
2023-05-12 12:38:53.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841193266188288 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:38:53.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841193266188288 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:38:53.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841193266188288 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:38:53.787 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841193266188288 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:38:53.789 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841193266188288 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:38:53.789 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841193266188288 [0;39m ==> Parameters: 
2023-05-12 12:38:53.798 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37841193266188288 [0;39m <==    Columns: count(0)
2023-05-12 12:38:53.799 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37841193266188288 [0;39m <==        Row: 6
2023-05-12 12:38:53.799 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841193266188288 [0;39m <==      Total: 1
2023-05-12 12:38:53.800 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841193266188288 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:38:53.800 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841193266188288 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:38:53.800 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841193266188288 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:38:53.801 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841193266188288 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:38:53.801 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841193266188288 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:38:53.801 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841193266188288 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:38:53.802 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841193266188288 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:38:53.802 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841193266188288 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:38:53.802 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841193266188288 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:38:53.802 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841193266188288 [0;39m <==      Total: 6
2023-05-12 12:38:53.803 INFO  com.jiawa.wiki.service.UserService                :50   [32m37841193266188288 [0;39m 总行数：6
2023-05-12 12:38:53.803 INFO  com.jiawa.wiki.service.UserService                :51   [32m37841193266188288 [0;39m 总页数：1
2023-05-12 12:38:53.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841193266188288 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:38:53.803 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841193266188288 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-12 12:38:53.804 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37841193266188288 [0;39m ------------- LoginInterceptor 结束 耗时：19 ms -------------
2023-05-12 12:38:57.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841207254192128 [0;39m ------------- 开始 -------------
2023-05-12 12:38:57.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841207254192128 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:38:57.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841207254192128 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:38:57.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841207254192128 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:38:57.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841207254192128 [0;39m 请求参数: []
2023-05-12 12:38:57.124 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841207254192128 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:38:57.124 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841207254192128 [0;39m ==> Parameters: 
2023-05-12 12:38:57.125 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:38:57.125 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:38:57.125 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:38:57.125 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:38:57.126 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:38:57.126 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:38:57.127 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:38:57.127 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:38:57.127 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:38:57.127 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:38:57.127 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:38:57.127 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:38:57.128 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:38:57.128 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:38:57.128 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:38:57.129 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841207254192128 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:38:57.129 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841207254192128 [0;39m <==      Total: 15
2023-05-12 12:38:57.130 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841207254192128 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:38:57.130 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841207254192128 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 12:38:57.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841207484878848 [0;39m ------------- 开始 -------------
2023-05-12 12:38:57.177 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841207484878848 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:38:57.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841207484878848 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:38:57.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841207484878848 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:38:57.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841207484878848 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:38:57.183 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841207484878848 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 12:38:57.183 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841207484878848 [0;39m ==> Parameters: 
2023-05-12 12:38:57.192 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841207484878848 [0;39m <==    Columns: count(0)
2023-05-12 12:38:57.192 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841207484878848 [0;39m <==        Row: 5
2023-05-12 12:38:57.193 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841207484878848 [0;39m <==      Total: 1
2023-05-12 12:38:57.194 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841207484878848 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 12:38:57.194 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841207484878848 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:38:57.195 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841207484878848 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:38:57.195 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841207484878848 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 10, 7
2023-05-12 12:38:57.196 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841207484878848 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:38:57.196 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841207484878848 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:38:57.196 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841207484878848 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:38:57.197 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841207484878848 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:38:57.197 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841207484878848 [0;39m <==      Total: 5
2023-05-12 12:38:57.198 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841207484878848 [0;39m 总行数：5
2023-05-12 12:38:57.198 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841207484878848 [0;39m 总页数：1
2023-05-12 12:38:57.198 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841207484878848 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":10,"voteCount":7},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-12 12:38:57.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841207484878848 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-12 12:39:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37841219354759168 [0;39m 生成今日电子书快照开始
2023-05-12 12:39:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37841219354759168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:39:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37841219354759168 [0;39m ==> Parameters: 
2023-05-12 12:39:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37841219354759168 [0;39m <==    Updates: 0
2023-05-12 12:39:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37841219354759168 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 12:39:00.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841222332715008 [0;39m ------------- 开始 -------------
2023-05-12 12:39:00.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841222332715008 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:39:00.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841222332715008 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:39:00.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841222332715008 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:39:00.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841222332715008 [0;39m 请求参数: []
2023-05-12 12:39:00.719 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841222332715008 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:39:00.719 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841222332715008 [0;39m ==> Parameters: 
2023-05-12 12:39:00.720 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:39:00.720 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:39:00.720 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:39:00.721 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:39:00.721 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:39:00.721 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:39:00.721 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:39:00.722 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:39:00.722 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:39:00.722 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:39:00.722 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:39:00.722 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:39:00.723 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:39:00.723 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:39:00.723 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:39:00.723 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841222332715008 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:39:00.723 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841222332715008 [0;39m <==      Total: 15
2023-05-12 12:39:00.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841222332715008 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:39:00.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841222332715008 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 12:39:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37841240351444992 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:39:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841240351444992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:39:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841240351444992 [0;39m ==> Parameters: 
2023-05-12 12:39:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841240351444992 [0;39m <==    Updates: 1
2023-05-12 12:39:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37841240351444992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:39:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37841366176370688 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:39:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841366176370688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:39:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841366176370688 [0;39m ==> Parameters: 
2023-05-12 12:39:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841366176370688 [0;39m <==    Updates: 1
2023-05-12 12:39:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37841366176370688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:40:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37841471000416256 [0;39m 生成今日电子书快照开始
2023-05-12 12:40:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37841471000416256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:40:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37841471000416256 [0;39m ==> Parameters: 
2023-05-12 12:40:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37841471000416256 [0;39m <==    Updates: 0
2023-05-12 12:40:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37841471000416256 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 12:40:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37841492018073600 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:40:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841492018073600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:40:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841492018073600 [0;39m ==> Parameters: 
2023-05-12 12:40:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841492018073600 [0;39m <==    Updates: 1
2023-05-12 12:40:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37841492018073600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:40:08.836 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37838153951875072 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:40:08.837 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37838153951875072 [0;39m ------------- LoginInterceptor 结束 耗时：1 ms -------------
2023-05-12 12:40:08.838 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37838153951875072 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:40:08.838 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37838153951875072 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/category/save
2023-05-12 12:40:08.838 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37838153951875072 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:40:08.839 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37838153951875072 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:40:08.844 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841508078063616 [0;39m ------------- 开始 -------------
2023-05-12 12:40:08.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841508078063616 [0;39m 请求地址: http://127.0.0.1:8880/category/save POST
2023-05-12 12:40:08.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841508078063616 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.save
2023-05-12 12:40:08.845 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841508078063616 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:08.847 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841508078063616 [0;39m 请求参数: [{"id":500,"name":"其它","parent":0,"sort":500}]
2023-05-12 12:40:08.850 DEBUG c.j.wiki.mapper.CategoryMapper.updateByPrimaryKey :137  [32m37841508078063616 [0;39m ==>  Preparing: update category set parent = ?, `name` = ?, sort = ? where id = ?
2023-05-12 12:40:08.850 DEBUG c.j.wiki.mapper.CategoryMapper.updateByPrimaryKey :137  [32m37841508078063616 [0;39m ==> Parameters: 0(Long), 其它(String), 500(Integer), 500(Long)
2023-05-12 12:40:08.851 DEBUG c.j.wiki.mapper.CategoryMapper.updateByPrimaryKey :137  [32m37841508078063616 [0;39m <==    Updates: 1
2023-05-12 12:40:08.851 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841508078063616 [0;39m 返回结果: {"success":true}
2023-05-12 12:40:08.851 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841508078063616 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:40:08.852 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37841508078063616 [0;39m ------------- LoginInterceptor 结束 耗时：14 ms -------------
2023-05-12 12:40:08.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841508182921216 [0;39m ------------- 开始 -------------
2023-05-12 12:40:08.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841508182921216 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:40:08.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841508182921216 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:40:08.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841508182921216 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:08.869 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841508182921216 [0;39m 请求参数: []
2023-05-12 12:40:08.869 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841508182921216 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:40:08.869 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841508182921216 [0;39m ==> Parameters: 
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:40:08.871 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841508182921216 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:40:08.871 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841508182921216 [0;39m <==      Total: 15
2023-05-12 12:40:08.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841508182921216 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:40:08.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841508182921216 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-12 12:40:18.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841548473405440 [0;39m ------------- 开始 -------------
2023-05-12 12:40:18.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841548473405440 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:40:18.475 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841548473405440 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:40:18.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841548473405440 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:18.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841548473405440 [0;39m 请求参数: []
2023-05-12 12:40:18.476 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841548473405440 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:40:18.477 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841548473405440 [0;39m ==> Parameters: 
2023-05-12 12:40:18.477 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:40:18.478 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:40:18.478 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:40:18.478 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:40:18.478 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:40:18.479 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:40:18.479 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:40:18.479 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:40:18.479 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:40:18.479 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:40:18.480 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:40:18.480 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:40:18.480 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:40:18.480 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:40:18.480 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:40:18.480 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841548473405440 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:40:18.481 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841548473405440 [0;39m <==      Total: 15
2023-05-12 12:40:18.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841548473405440 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:40:18.481 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841548473405440 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:40:18.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841548586651648 [0;39m ------------- 开始 -------------
2023-05-12 12:40:18.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841548586651648 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:40:18.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841548586651648 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:40:18.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841548586651648 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:18.503 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841548586651648 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:40:18.504 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841548586651648 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 12:40:18.504 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841548586651648 [0;39m ==> Parameters: 
2023-05-12 12:40:18.505 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841548586651648 [0;39m <==    Columns: count(0)
2023-05-12 12:40:18.506 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841548586651648 [0;39m <==        Row: 5
2023-05-12 12:40:18.506 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841548586651648 [0;39m <==      Total: 1
2023-05-12 12:40:18.506 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841548586651648 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 12:40:18.507 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841548586651648 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:40:18.507 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841548586651648 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:40:18.507 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841548586651648 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 10, 7
2023-05-12 12:40:18.507 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841548586651648 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:40:18.507 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841548586651648 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:40:18.507 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841548586651648 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:40:18.509 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841548586651648 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:40:18.509 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841548586651648 [0;39m <==      Total: 5
2023-05-12 12:40:18.509 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841548586651648 [0;39m 总行数：5
2023-05-12 12:40:18.509 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841548586651648 [0;39m 总页数：1
2023-05-12 12:40:18.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841548586651648 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":10,"voteCount":7},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-12 12:40:18.509 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841548586651648 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:40:20.032 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37841207254192128 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:40:20.033 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37841207254192128 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:40:20.033 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37841207254192128 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:40:20.033 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37841207254192128 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:40:20.033 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841555008131072 [0;39m ------------- 开始 -------------
2023-05-12 12:40:20.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841555008131072 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:40:20.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841555008131072 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:40:20.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841555008131072 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:20.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841555008131072 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:40:20.035 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841555008131072 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:40:20.035 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841555008131072 [0;39m ==> Parameters: 
2023-05-12 12:40:20.036 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37841555008131072 [0;39m <==    Columns: count(0)
2023-05-12 12:40:20.036 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37841555008131072 [0;39m <==        Row: 6
2023-05-12 12:40:20.036 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841555008131072 [0;39m <==      Total: 1
2023-05-12 12:40:20.036 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841555008131072 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:40:20.037 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841555008131072 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:40:20.037 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841555008131072 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:40:20.037 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841555008131072 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:40:20.038 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841555008131072 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:40:20.038 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841555008131072 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:40:20.038 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841555008131072 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:40:20.038 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841555008131072 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:40:20.038 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841555008131072 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:40:20.039 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841555008131072 [0;39m <==      Total: 6
2023-05-12 12:40:20.039 INFO  com.jiawa.wiki.service.UserService                :50   [32m37841555008131072 [0;39m 总行数：6
2023-05-12 12:40:20.039 INFO  com.jiawa.wiki.service.UserService                :51   [32m37841555008131072 [0;39m 总页数：1
2023-05-12 12:40:20.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841555008131072 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:40:20.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841555008131072 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:40:20.040 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37841555008131072 [0;39m ------------- LoginInterceptor 结束 耗时：7 ms -------------
2023-05-12 12:40:20.489 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841556920733696 [0;39m ------------- 开始 -------------
2023-05-12 12:40:20.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841556920733696 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:40:20.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841556920733696 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:40:20.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841556920733696 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:20.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841556920733696 [0;39m 请求参数: []
2023-05-12 12:40:20.490 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841556920733696 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:40:20.491 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841556920733696 [0;39m ==> Parameters: 
2023-05-12 12:40:20.491 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:40:20.491 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:40:20.492 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:40:20.492 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:40:20.492 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:40:20.492 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:40:20.492 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:40:20.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:40:20.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:40:20.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:40:20.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:40:20.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:40:20.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:40:20.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:40:20.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:40:20.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841556920733696 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:40:20.494 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841556920733696 [0;39m <==      Total: 15
2023-05-12 12:40:20.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841556920733696 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:40:20.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841556920733696 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:40:20.506 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841556992036864 [0;39m ------------- 开始 -------------
2023-05-12 12:40:20.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841556992036864 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:40:20.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841556992036864 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:40:20.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841556992036864 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:20.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841556992036864 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:40:20.508 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841556992036864 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 12:40:20.508 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841556992036864 [0;39m ==> Parameters: 
2023-05-12 12:40:20.509 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841556992036864 [0;39m <==    Columns: count(0)
2023-05-12 12:40:20.509 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841556992036864 [0;39m <==        Row: 5
2023-05-12 12:40:20.509 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841556992036864 [0;39m <==      Total: 1
2023-05-12 12:40:20.509 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841556992036864 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 12:40:20.510 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841556992036864 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:40:20.510 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841556992036864 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:40:20.511 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841556992036864 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 6, 10, 7
2023-05-12 12:40:20.511 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841556992036864 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:40:20.511 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841556992036864 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:40:20.511 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841556992036864 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:40:20.511 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841556992036864 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:40:20.513 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841556992036864 [0;39m <==      Total: 5
2023-05-12 12:40:20.513 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841556992036864 [0;39m 总行数：5
2023-05-12 12:40:20.513 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841556992036864 [0;39m 总页数：1
2023-05-12 12:40:20.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841556992036864 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":6,"id":1,"name":"Spring Boot 入门教程","viewCount":10,"voteCount":7},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-12 12:40:20.514 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841556992036864 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 12:40:23.761 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841570644496384 [0;39m ------------- 开始 -------------
2023-05-12 12:40:23.761 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841570644496384 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 12:40:23.761 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841570644496384 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:40:23.761 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841570644496384 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:23.762 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841570644496384 [0;39m 请求参数: [1]
2023-05-12 12:40:23.769 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841570644496384 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:40:23.769 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841570644496384 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:40:23.769 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841570644496384 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:40:23.769 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841570644496384 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 5, 3
2023-05-12 12:40:23.769 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841570644496384 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 1, 1
2023-05-12 12:40:23.772 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841570644496384 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 2, 1
2023-05-12 12:40:23.772 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841570644496384 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 1, 1
2023-05-12 12:40:23.772 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841570644496384 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 0, 0
2023-05-12 12:40:23.773 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841570644496384 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 1, 1
2023-05-12 12:40:23.774 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841570644496384 [0;39m <==      Total: 6
2023-05-12 12:40:23.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841570644496384 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":5,"voteCount":3},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":1,"voteCount":1},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":1,"voteCount":1},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":0,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":1,"voteCount":1}],"success":true}
2023-05-12 12:40:23.779 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841570644496384 [0;39m ------------- 结束 耗时：18 ms -------------
2023-05-12 12:40:25.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841578819194880 [0;39m ------------- 开始 -------------
2023-05-12 12:40:25.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841578819194880 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/5 GET
2023-05-12 12:40:25.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841578819194880 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:40:25.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841578819194880 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:25.712 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841578819194880 [0;39m 请求参数: [5]
2023-05-12 12:40:25.713 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841578819194880 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:40:25.713 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841578819194880 [0;39m ==> Parameters: 5(Long)
2023-05-12 12:40:25.725 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841578819194880 [0;39m <==      Total: 0
2023-05-12 12:40:25.725 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841578819194880 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:40:25.725 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841578819194880 [0;39m ==> Parameters: 5(Long)
2023-05-12 12:40:25.729 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841578819194880 [0;39m <==    Updates: 1
2023-05-12 12:40:25.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841578819194880 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:40:25.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841578819194880 [0;39m ------------- 结束 耗时：19 ms -------------
2023-05-12 12:40:27.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841585802711040 [0;39m ------------- 开始 -------------
2023-05-12 12:40:27.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841585802711040 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/6 GET
2023-05-12 12:40:27.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841585802711040 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:40:27.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841585802711040 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:27.375 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841585802711040 [0;39m 请求参数: [6]
2023-05-12 12:40:27.378 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841585802711040 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:40:27.378 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841585802711040 [0;39m ==> Parameters: 6(Long)
2023-05-12 12:40:27.379 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841585802711040 [0;39m <==      Total: 0
2023-05-12 12:40:27.380 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841585802711040 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:40:27.380 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841585802711040 [0;39m ==> Parameters: 6(Long)
2023-05-12 12:40:27.383 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841585802711040 [0;39m <==    Updates: 1
2023-05-12 12:40:27.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841585802711040 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:40:27.383 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841585802711040 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 12:40:31.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841602374406144 [0;39m ------------- 开始 -------------
2023-05-12 12:40:31.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841602374406144 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-12 12:40:31.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841602374406144 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:40:31.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841602374406144 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:31.327 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841602374406144 [0;39m 请求参数: [2]
2023-05-12 12:40:31.328 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841602374406144 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:40:31.328 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841602374406144 [0;39m ==> Parameters: 2(Long)
2023-05-12 12:40:31.328 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841602374406144 [0;39m <==      Total: 0
2023-05-12 12:40:31.330 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841602374406144 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:40:31.330 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841602374406144 [0;39m ==> Parameters: 2(Long)
2023-05-12 12:40:31.337 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841602374406144 [0;39m <==    Updates: 1
2023-05-12 12:40:31.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841602374406144 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:40:31.337 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841602374406144 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 12:40:35.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37841617796861952 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:40:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841617796861952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:40:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841617796861952 [0;39m ==> Parameters: 
2023-05-12 12:40:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841617796861952 [0;39m <==    Updates: 1
2023-05-12 12:40:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37841617796861952 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-12 12:40:52.158 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37841556920733696 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:40:52.159 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37841556920733696 [0;39m ------------- LoginInterceptor 结束 耗时：0 ms -------------
2023-05-12 12:40:52.161 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37841556992036864 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:40:52.161 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37841556992036864 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-12 12:40:52.161 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37841556992036864 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:40:52.162 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37841556992036864 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:40:52.176 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :29   [32m37841556992036864 [0;39m 参数校验失败：【顺序】不能为空
2023-05-12 12:40:52.177 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37841556992036864 [0;39m Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.jiawa.wiki.resp.CommonResp com.jiawa.wiki.controller.DocController.save(com.jiawa.wiki.req.DocSaveReq): [Field error in object 'docSaveReq' on field 'sort': rejected value [null]; codes [NotNull.docSaveReq.sort,NotNull.sort,NotNull.java.lang.Integer,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [docSaveReq.sort,sort]; arguments []; default message [sort]]; default message [【顺序】不能为空]] ]
2023-05-12 12:40:55.464 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37841222332715008 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:40:55.465 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37841222332715008 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-12 12:40:55.465 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37841222332715008 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:40:55.465 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37841222332715008 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:40:55.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841703620710400 [0;39m ------------- 开始 -------------
2023-05-12 12:40:55.465 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841703620710400 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-12 12:40:55.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841703620710400 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-12 12:40:55.467 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841703620710400 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:55.469 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841703620710400 [0;39m 请求参数: [{"content":"","ebookId":1,"name":"文档2.2.2","parent":5,"sort":1}]
2023-05-12 12:40:55.477 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m37841703620710400 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-12 12:40:55.478 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m37841703620710400 [0;39m ==> Parameters: 37841703666847744(Long), 1(Long), 5(Long), 文档2.2.2(String), 1(Integer), 0(Integer), 0(Integer)
2023-05-12 12:40:55.478 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m37841703620710400 [0;39m <==    Updates: 1
2023-05-12 12:40:55.479 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m37841703620710400 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-12 12:40:55.479 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m37841703620710400 [0;39m ==> Parameters: 37841703666847744(Long), (String)
2023-05-12 12:40:55.479 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m37841703620710400 [0;39m <==    Updates: 1
2023-05-12 12:40:55.488 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841703620710400 [0;39m 返回结果: {"success":true}
2023-05-12 12:40:55.489 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841703620710400 [0;39m ------------- 结束 耗时：24 ms -------------
2023-05-12 12:40:55.490 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37841703620710400 [0;39m ------------- LoginInterceptor 结束 耗时：25 ms -------------
2023-05-12 12:40:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841703750733824 [0;39m ------------- 开始 -------------
2023-05-12 12:40:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841703750733824 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 12:40:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841703750733824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:40:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841703750733824 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:40:55.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841703750733824 [0;39m 请求参数: [1]
2023-05-12 12:40:55.498 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841703750733824 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:40:55.498 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841703750733824 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:40:55.499 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841703750733824 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:40:55.499 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841703750733824 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 5, 3
2023-05-12 12:40:55.499 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841703750733824 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 2, 1
2023-05-12 12:40:55.499 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841703750733824 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 2, 1
2023-05-12 12:40:55.500 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841703750733824 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 2, 1
2023-05-12 12:40:55.500 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841703750733824 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 0, 0
2023-05-12 12:40:55.500 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841703750733824 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 0, 0
2023-05-12 12:40:55.500 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841703750733824 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 2, 1
2023-05-12 12:40:55.500 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841703750733824 [0;39m <==      Total: 7
2023-05-12 12:40:55.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841703750733824 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":5,"voteCount":3},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":0,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":2,"voteCount":1}],"success":true}
2023-05-12 12:40:55.501 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841703750733824 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:41:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37841722650267648 [0;39m 生成今日电子书快照开始
2023-05-12 12:41:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37841722650267648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:41:00.002 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37841722650267648 [0;39m ==> Parameters: 
2023-05-12 12:41:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37841722650267648 [0;39m <==    Updates: 0
2023-05-12 12:41:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37841722650267648 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-12 12:41:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37841743663730688 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:41:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841743663730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:41:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841743663730688 [0;39m ==> Parameters: 
2023-05-12 12:41:05.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841743663730688 [0;39m <==    Updates: 1
2023-05-12 12:41:05.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37841743663730688 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-12 12:41:05.691 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37818717148680192 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:41:05.691 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37818717148680192 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-12 12:41:05.691 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37818717148680192 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:41:05.691 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37818717148680192 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:41:05.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841746520051712 [0;39m ------------- 开始 -------------
2023-05-12 12:41:05.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841746520051712 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-12 12:41:05.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841746520051712 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-12 12:41:05.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841746520051712 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:05.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841746520051712 [0;39m 请求参数: [{"content":"","ebookId":1,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1}]
2023-05-12 12:41:05.695 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m37841746520051712 [0;39m ==>  Preparing: insert into doc (id, ebook_id, parent, `name`, sort, view_count, vote_count) values (?, ?, ?, ?, ?, ?, ?)
2023-05-12 12:41:05.696 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m37841746520051712 [0;39m ==> Parameters: 37841746528440320(Long), 1(Long), 37841703666847744(Long), 文档2.2.2.1(String), 1(Integer), 0(Integer), 0(Integer)
2023-05-12 12:41:05.698 DEBUG com.jiawa.wiki.mapper.DocMapper.insert            :137  [32m37841746520051712 [0;39m <==    Updates: 1
2023-05-12 12:41:05.698 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m37841746520051712 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-12 12:41:05.698 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m37841746520051712 [0;39m ==> Parameters: 37841746528440320(Long), (String)
2023-05-12 12:41:05.699 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m37841746520051712 [0;39m <==    Updates: 1
2023-05-12 12:41:05.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841746520051712 [0;39m 返回结果: {"success":true}
2023-05-12 12:41:05.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841746520051712 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 12:41:05.701 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37841746520051712 [0;39m ------------- LoginInterceptor 结束 耗时：10 ms -------------
2023-05-12 12:41:05.708 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841746582966272 [0;39m ------------- 开始 -------------
2023-05-12 12:41:05.708 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841746582966272 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 12:41:05.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841746582966272 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:41:05.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841746582966272 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:05.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841746582966272 [0;39m 请求参数: [1]
2023-05-12 12:41:05.711 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841746582966272 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:41:05.711 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841746582966272 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:41:05.712 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841746582966272 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:41:05.712 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841746582966272 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 5, 3
2023-05-12 12:41:05.714 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841746582966272 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 2, 1
2023-05-12 12:41:05.714 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841746582966272 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 2, 1
2023-05-12 12:41:05.715 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841746582966272 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 2, 1
2023-05-12 12:41:05.715 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841746582966272 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 0, 0
2023-05-12 12:41:05.715 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841746582966272 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 0, 0
2023-05-12 12:41:05.716 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841746582966272 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 0, 0
2023-05-12 12:41:05.716 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841746582966272 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 2, 1
2023-05-12 12:41:05.716 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841746582966272 [0;39m <==      Total: 8
2023-05-12 12:41:05.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841746582966272 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":5,"voteCount":3},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":0,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":2,"voteCount":1}],"success":true}
2023-05-12 12:41:05.718 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841746582966272 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 12:41:08.594 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37841508182921216 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:41:08.594 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37841508182921216 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:41:08.594 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37841508182921216 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:41:08.595 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37841508182921216 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:41:08.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841758691921920 [0;39m ------------- 开始 -------------
2023-05-12 12:41:08.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841758691921920 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:41:08.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841758691921920 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:41:08.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841758691921920 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:08.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841758691921920 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:41:08.596 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841758691921920 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:41:08.597 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841758691921920 [0;39m ==> Parameters: 
2023-05-12 12:41:08.598 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37841758691921920 [0;39m <==    Columns: count(0)
2023-05-12 12:41:08.598 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37841758691921920 [0;39m <==        Row: 6
2023-05-12 12:41:08.598 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841758691921920 [0;39m <==      Total: 1
2023-05-12 12:41:08.598 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841758691921920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:41:08.599 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841758691921920 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:41:08.599 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841758691921920 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:41:08.599 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841758691921920 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:41:08.600 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841758691921920 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:41:08.600 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841758691921920 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:41:08.600 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841758691921920 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:41:08.600 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841758691921920 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:41:08.600 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841758691921920 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:41:08.601 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841758691921920 [0;39m <==      Total: 6
2023-05-12 12:41:08.601 INFO  com.jiawa.wiki.service.UserService                :50   [32m37841758691921920 [0;39m 总行数：6
2023-05-12 12:41:08.601 INFO  com.jiawa.wiki.service.UserService                :51   [32m37841758691921920 [0;39m 总页数：1
2023-05-12 12:41:08.601 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841758691921920 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:41:08.602 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841758691921920 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:41:08.602 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37841758691921920 [0;39m ------------- LoginInterceptor 结束 耗时：8 ms -------------
2023-05-12 12:41:09.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841760713576449 [0;39m ------------- 开始 -------------
2023-05-12 12:41:09.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841760713576448 [0;39m ------------- 开始 -------------
2023-05-12 12:41:09.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841760713576449 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:41:09.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841760713576449 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:41:09.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841760713576449 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:09.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841760713576449 [0;39m 请求参数: []
2023-05-12 12:41:09.077 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841760713576448 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:41:09.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841760713576448 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:41:09.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841760713576448 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:09.079 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37841760713576449 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:41:09.079 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841760713576448 [0;39m 请求参数: []
2023-05-12 12:41:09.080 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37841760713576449 [0;39m ==> Parameters: 
2023-05-12 12:41:09.080 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37841760713576448 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:41:09.081 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37841760713576448 [0;39m ==> Parameters: 
2023-05-12 12:41:09.081 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37841760713576449 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:41:09.081 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37841760713576449 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:41:09.082 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37841760713576448 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:41:09.082 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37841760713576449 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:41:09.082 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37841760713576448 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:41:09.082 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37841760713576449 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:41:09.082 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37841760713576448 [0;39m <==        Row: 2023-05-12, 13, 7, 3, 0
2023-05-12 12:41:09.082 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37841760713576449 [0;39m <==      Total: 3
2023-05-12 12:41:09.083 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37841760713576448 [0;39m <==      Total: 2
2023-05-12 12:41:09.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841760713576449 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:41:09.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841760713576449 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:41:09.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841760713576448 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":13,"viewIncrease":3,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 12:41:09.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841760713576448 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:41:09.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841760738742272 [0;39m ------------- 开始 -------------
2023-05-12 12:41:09.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841760738742272 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:41:09.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841760738742272 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:41:09.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841760738742272 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:09.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841760738742272 [0;39m 请求参数: []
2023-05-12 12:41:09.085 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841760738742272 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:41:09.085 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841760738742272 [0;39m ==> Parameters: 
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:41:09.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841760738742272 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:41:09.085 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841760738742272 [0;39m <==      Total: 15
2023-05-12 12:41:09.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841760738742272 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:41:09.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841760738742272 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:41:09.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841764073213952 [0;39m ------------- 开始 -------------
2023-05-12 12:41:09.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841764073213952 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:41:09.878 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841764073213952 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:41:09.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841764073213952 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:09.879 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841764073213952 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-12 12:41:09.883 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841764073213952 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:41:09.885 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841764073213952 [0;39m ==> Parameters: 201(Long)
2023-05-12 12:41:09.885 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841764073213952 [0;39m <==    Columns: count(0)
2023-05-12 12:41:09.885 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841764073213952 [0;39m <==        Row: 0
2023-05-12 12:41:09.885 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841764073213952 [0;39m <==      Total: 1
2023-05-12 12:41:09.885 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841764073213952 [0;39m 总行数：0
2023-05-12 12:41:09.885 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841764073213952 [0;39m 总页数：0
2023-05-12 12:41:09.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841764073213952 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:41:09.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841764073213952 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:41:10.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841768649199616 [0;39m ------------- 开始 -------------
2023-05-12 12:41:10.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841768649199616 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:41:10.969 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841768649199616 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:41:10.970 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841768649199616 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:10.970 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841768649199616 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 12:41:10.973 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841768649199616 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:41:10.973 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841768649199616 [0;39m ==> Parameters: 101(Long)
2023-05-12 12:41:10.974 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841768649199616 [0;39m <==    Columns: count(0)
2023-05-12 12:41:10.974 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841768649199616 [0;39m <==        Row: 1
2023-05-12 12:41:10.974 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841768649199616 [0;39m <==      Total: 1
2023-05-12 12:41:10.974 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841768649199616 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:41:10.974 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841768649199616 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 12:41:10.974 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841768649199616 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:41:10.974 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841768649199616 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:41:10.974 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841768649199616 [0;39m <==      Total: 1
2023-05-12 12:41:10.974 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841768649199616 [0;39m 总行数：1
2023-05-12 12:41:10.974 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841768649199616 [0;39m 总页数：1
2023-05-12 12:41:10.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841768649199616 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-12 12:41:10.974 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841768649199616 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:41:11.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841772088528896 [0;39m ------------- 开始 -------------
2023-05-12 12:41:11.789 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841772088528896 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-12 12:41:11.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841772088528896 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:41:11.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841772088528896 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:11.790 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841772088528896 [0;39m 请求参数: [2]
2023-05-12 12:41:11.792 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841772088528896 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:41:11.792 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841772088528896 [0;39m ==> Parameters: 2(Long)
2023-05-12 12:41:11.793 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841772088528896 [0;39m <==      Total: 0
2023-05-12 12:41:11.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841772088528896 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 12:41:11.793 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841772088528896 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:41:12.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841775272005632 [0;39m ------------- 开始 -------------
2023-05-12 12:41:12.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841775272005632 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:41:12.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841775272005632 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:41:12.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841775272005632 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:12.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841775272005632 [0;39m 请求参数: []
2023-05-12 12:41:12.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841775276199936 [0;39m ------------- 开始 -------------
2023-05-12 12:41:12.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841775276199936 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:41:12.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841775276199936 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:41:12.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841775276199936 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:12.549 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841775276199936 [0;39m 请求参数: []
2023-05-12 12:41:12.550 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37841775276199936 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:41:12.550 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37841775272005632 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:41:12.550 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37841775276199936 [0;39m ==> Parameters: 
2023-05-12 12:41:12.550 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37841775272005632 [0;39m ==> Parameters: 
2023-05-12 12:41:12.551 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37841775272005632 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:41:12.551 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37841775276199936 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:41:12.552 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37841775276199936 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:41:12.552 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37841775272005632 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:41:12.552 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37841775276199936 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:41:12.552 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37841775272005632 [0;39m <==        Row: 2023-05-12, 13, 7, 3, 0
2023-05-12 12:41:12.552 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37841775276199936 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:41:12.552 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37841775276199936 [0;39m <==      Total: 3
2023-05-12 12:41:12.553 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37841775272005632 [0;39m <==      Total: 2
2023-05-12 12:41:12.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841775276199936 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:41:12.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841775276199936 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:41:12.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841775272005632 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":13,"viewIncrease":3,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 12:41:12.553 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841775272005632 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:41:12.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841775301365760 [0;39m ------------- 开始 -------------
2023-05-12 12:41:12.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841775301365760 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:41:12.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841775301365760 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:41:12.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841775301365760 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:12.555 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841775301365760 [0;39m 请求参数: []
2023-05-12 12:41:12.556 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841775301365760 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:41:12.556 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841775301365760 [0;39m ==> Parameters: 
2023-05-12 12:41:12.557 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:41:12.557 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:41:12.557 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:41:12.558 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:41:12.558 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:41:12.558 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:41:12.558 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:41:12.558 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:41:12.558 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:41:12.558 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:41:12.558 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:41:12.559 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:41:12.559 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:41:12.559 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:41:12.559 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:41:12.559 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841775301365760 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:41:12.560 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841775301365760 [0;39m <==      Total: 15
2023-05-12 12:41:12.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841775301365760 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:41:12.560 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841775301365760 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:41:13.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841777604038656 [0;39m ------------- 开始 -------------
2023-05-12 12:41:13.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841777604038656 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:41:13.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841777604038656 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:41:13.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841777604038656 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:13.105 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841777604038656 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-12 12:41:13.107 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841777604038656 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:41:13.107 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841777604038656 [0;39m ==> Parameters: 201(Long)
2023-05-12 12:41:13.108 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841777604038656 [0;39m <==    Columns: count(0)
2023-05-12 12:41:13.108 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841777604038656 [0;39m <==        Row: 0
2023-05-12 12:41:13.108 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841777604038656 [0;39m <==      Total: 1
2023-05-12 12:41:13.109 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841777604038656 [0;39m 总行数：0
2023-05-12 12:41:13.109 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841777604038656 [0;39m 总页数：0
2023-05-12 12:41:13.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841777604038656 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:41:13.109 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841777604038656 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:41:13.977 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841781265666048 [0;39m ------------- 开始 -------------
2023-05-12 12:41:13.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841781265666048 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:41:13.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841781265666048 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:41:13.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841781265666048 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:13.979 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841781265666048 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 12:41:13.980 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841781265666048 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:41:13.981 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841781265666048 [0;39m ==> Parameters: 202(Long)
2023-05-12 12:41:13.981 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841781265666048 [0;39m <==    Columns: count(0)
2023-05-12 12:41:13.981 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841781265666048 [0;39m <==        Row: 1
2023-05-12 12:41:13.981 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841781265666048 [0;39m <==      Total: 1
2023-05-12 12:41:13.981 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841781265666048 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:41:13.981 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841781265666048 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 12:41:13.981 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841781265666048 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:41:13.981 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841781265666048 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 7, 13, 7
2023-05-12 12:41:13.981 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841781265666048 [0;39m <==      Total: 1
2023-05-12 12:41:13.981 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841781265666048 [0;39m 总行数：1
2023-05-12 12:41:13.981 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841781265666048 [0;39m 总页数：1
2023-05-12 12:41:13.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841781265666048 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":7,"id":1,"name":"Spring Boot 入门教程","viewCount":13,"voteCount":7}],"total":1},"success":true}
2023-05-12 12:41:13.981 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841781265666048 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:41:14.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841784335896576 [0;39m ------------- 开始 -------------
2023-05-12 12:41:14.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841784335896576 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 12:41:14.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841784335896576 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:41:14.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841784335896576 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:14.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841784335896576 [0;39m 请求参数: [1]
2023-05-12 12:41:14.712 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841784335896576 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:41:14.712 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841784335896576 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:41:14.712 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841784335896576 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:41:14.713 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841784335896576 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 5, 3
2023-05-12 12:41:14.713 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841784335896576 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 2, 1
2023-05-12 12:41:14.713 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841784335896576 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 2, 1
2023-05-12 12:41:14.713 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841784335896576 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 2, 1
2023-05-12 12:41:14.713 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841784335896576 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 0, 0
2023-05-12 12:41:14.713 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841784335896576 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 0, 0
2023-05-12 12:41:14.713 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841784335896576 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 0, 0
2023-05-12 12:41:14.713 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841784335896576 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 2, 1
2023-05-12 12:41:14.714 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841784335896576 [0;39m <==      Total: 8
2023-05-12 12:41:14.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841784335896576 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":5,"voteCount":3},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":2,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":0,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":0,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":2,"voteCount":1}],"success":true}
2023-05-12 12:41:14.714 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841784335896576 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:41:14.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841784407199744 [0;39m ------------- 开始 -------------
2023-05-12 12:41:14.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841784407199744 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 12:41:14.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841784407199744 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:41:14.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841784407199744 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:14.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841784407199744 [0;39m 请求参数: [1]
2023-05-12 12:41:14.726 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841784407199744 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:41:14.727 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841784407199744 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:41:14.728 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841784407199744 [0;39m <==      Total: 0
2023-05-12 12:41:14.728 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841784407199744 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:41:14.728 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841784407199744 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:41:14.735 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841784407199744 [0;39m <==    Updates: 1
2023-05-12 12:41:14.736 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841784407199744 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:41:14.736 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841784407199744 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 12:41:15.858 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841789155151872 [0;39m ------------- 开始 -------------
2023-05-12 12:41:15.859 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841789155151872 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/37841746528440320 GET
2023-05-12 12:41:15.859 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841789155151872 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:41:15.859 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841789155151872 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:15.859 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841789155151872 [0;39m 请求参数: [37841746528440320]
2023-05-12 12:41:15.860 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841789155151872 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:41:15.860 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841789155151872 [0;39m ==> Parameters: 37841746528440320(Long)
2023-05-12 12:41:15.863 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37841789155151872 [0;39m <==    Columns: id, content
2023-05-12 12:41:15.863 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37841789155151872 [0;39m <==        Row: 37841746528440320, <<BLOB>>
2023-05-12 12:41:15.863 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841789155151872 [0;39m <==      Total: 1
2023-05-12 12:41:15.864 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841789155151872 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:41:15.864 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841789155151872 [0;39m ==> Parameters: 37841746528440320(Long)
2023-05-12 12:41:15.871 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841789155151872 [0;39m <==    Updates: 1
2023-05-12 12:41:15.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841789155151872 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:41:15.871 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841789155151872 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 12:41:16.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841791373938688 [0;39m ------------- 开始 -------------
2023-05-12 12:41:16.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841791373938688 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/37841703666847744 GET
2023-05-12 12:41:16.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841791373938688 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:41:16.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841791373938688 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:16.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841791373938688 [0;39m 请求参数: [37841703666847744]
2023-05-12 12:41:16.388 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841791373938688 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:41:16.388 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841791373938688 [0;39m ==> Parameters: 37841703666847744(Long)
2023-05-12 12:41:16.389 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37841791373938688 [0;39m <==    Columns: id, content
2023-05-12 12:41:16.389 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37841791373938688 [0;39m <==        Row: 37841703666847744, <<BLOB>>
2023-05-12 12:41:16.389 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841791373938688 [0;39m <==      Total: 1
2023-05-12 12:41:16.389 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841791373938688 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:41:16.390 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841791373938688 [0;39m ==> Parameters: 37841703666847744(Long)
2023-05-12 12:41:16.397 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841791373938688 [0;39m <==    Updates: 1
2023-05-12 12:41:16.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841791373938688 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:41:16.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841791373938688 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 12:41:16.784 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841793039077376 [0;39m ------------- 开始 -------------
2023-05-12 12:41:16.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841793039077376 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/6 GET
2023-05-12 12:41:16.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841793039077376 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:41:16.785 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841793039077376 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:16.786 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841793039077376 [0;39m 请求参数: [6]
2023-05-12 12:41:16.787 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841793039077376 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:41:16.787 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841793039077376 [0;39m ==> Parameters: 6(Long)
2023-05-12 12:41:16.788 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841793039077376 [0;39m <==      Total: 0
2023-05-12 12:41:16.788 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841793039077376 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:41:16.789 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841793039077376 [0;39m ==> Parameters: 6(Long)
2023-05-12 12:41:16.794 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841793039077376 [0;39m <==    Updates: 1
2023-05-12 12:41:16.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841793039077376 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:41:16.794 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841793039077376 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 12:41:17.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841794590969856 [0;39m ------------- 开始 -------------
2023-05-12 12:41:17.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841794590969856 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/5 GET
2023-05-12 12:41:17.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841794590969856 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:41:17.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841794590969856 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:17.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841794590969856 [0;39m 请求参数: [5]
2023-05-12 12:41:17.156 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841794590969856 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:41:17.156 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841794590969856 [0;39m ==> Parameters: 5(Long)
2023-05-12 12:41:17.157 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841794590969856 [0;39m <==      Total: 0
2023-05-12 12:41:17.157 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841794590969856 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:41:17.158 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841794590969856 [0;39m ==> Parameters: 5(Long)
2023-05-12 12:41:17.165 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841794590969856 [0;39m <==    Updates: 1
2023-05-12 12:41:17.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841794590969856 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:41:17.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841794590969856 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 12:41:17.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841796033810432 [0;39m ------------- 开始 -------------
2023-05-12 12:41:17.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841796033810432 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/4 GET
2023-05-12 12:41:17.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841796033810432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:41:17.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841796033810432 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:17.500 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841796033810432 [0;39m 请求参数: [4]
2023-05-12 12:41:17.500 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841796033810432 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:41:17.500 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841796033810432 [0;39m ==> Parameters: 4(Long)
2023-05-12 12:41:17.501 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841796033810432 [0;39m <==      Total: 0
2023-05-12 12:41:17.501 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841796033810432 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:41:17.501 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841796033810432 [0;39m ==> Parameters: 4(Long)
2023-05-12 12:41:17.509 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841796033810432 [0;39m <==    Updates: 1
2023-05-12 12:41:17.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841796033810432 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:41:17.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841796033810432 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 12:41:17.876 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841797619257344 [0;39m ------------- 开始 -------------
2023-05-12 12:41:17.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841797619257344 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/3 GET
2023-05-12 12:41:17.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841797619257344 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:41:17.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841797619257344 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:17.877 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841797619257344 [0;39m 请求参数: [3]
2023-05-12 12:41:17.877 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841797619257344 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:41:17.878 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841797619257344 [0;39m ==> Parameters: 3(Long)
2023-05-12 12:41:17.878 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841797619257344 [0;39m <==      Total: 0
2023-05-12 12:41:17.879 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841797619257344 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:41:17.879 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841797619257344 [0;39m ==> Parameters: 3(Long)
2023-05-12 12:41:17.885 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841797619257344 [0;39m <==    Updates: 1
2023-05-12 12:41:17.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841797619257344 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:41:17.885 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841797619257344 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 12:41:18.283 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841799326339072 [0;39m ------------- 开始 -------------
2023-05-12 12:41:18.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841799326339072 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-12 12:41:18.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841799326339072 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:41:18.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841799326339072 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:18.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841799326339072 [0;39m 请求参数: [2]
2023-05-12 12:41:18.286 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841799326339072 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:41:18.286 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841799326339072 [0;39m ==> Parameters: 2(Long)
2023-05-12 12:41:18.287 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841799326339072 [0;39m <==      Total: 0
2023-05-12 12:41:18.287 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841799326339072 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:41:18.287 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841799326339072 [0;39m ==> Parameters: 2(Long)
2023-05-12 12:41:18.290 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841799326339072 [0;39m <==    Updates: 1
2023-05-12 12:41:18.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841799326339072 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:41:18.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841799326339072 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:41:19.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841802618867712 [0;39m ------------- 开始 -------------
2023-05-12 12:41:19.068 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841802618867712 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/2 GET
2023-05-12 12:41:19.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841802618867712 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-12 12:41:19.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841802618867712 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:19.069 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841802618867712 [0;39m 请求参数: [2]
2023-05-12 12:41:19.069 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m37841802618867712 [0;39m key不存在，放入：DOC_VOTE_2_127.0.0.1，过期 5000 秒
2023-05-12 12:41:19.071 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37841802618867712 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-12 12:41:19.071 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37841802618867712 [0;39m ==> Parameters: 2(Long)
2023-05-12 12:41:19.078 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37841802618867712 [0;39m <==    Updates: 1
2023-05-12 12:41:19.079 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37841802618867712 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-12 12:41:19.079 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37841802618867712 [0;39m ==> Parameters: 2(Long)
2023-05-12 12:41:19.080 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m37841802618867712 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:41:19.080 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m37841802618867712 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 3, 2
2023-05-12 12:41:19.080 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37841802618867712 [0;39m <==      Total: 1
2023-05-12 12:41:19.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841802618867712 [0;39m 返回结果: {"success":true}
2023-05-12 12:41:19.709 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841802618867712 [0;39m ------------- 结束 耗时：641 ms -------------
2023-05-12 12:41:19.719 INFO  com.jiawa.wiki.rocketmq.VoteTopicConsumer         :25   [32m                  [0;39m ROCKETMQ收到消息：【文档1.1】被点赞！
2023-05-12 12:41:19.719 INFO  com.jiawa.wiki.websocket.WebSocketServer          :71   [32m                  [0;39m 推送消息：6KcjvGAHtK，内容：【文档1.1】被点赞！
2023-05-12 12:41:21.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841814123843584 [0;39m ------------- 开始 -------------
2023-05-12 12:41:21.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841814123843584 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/2 GET
2023-05-12 12:41:21.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841814123843584 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-12 12:41:21.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841814123843584 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:21.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841814123843584 [0;39m 请求参数: [2]
2023-05-12 12:41:21.813 INFO  com.jiawa.wiki.util.RedisUtil                     :28   [32m37841814123843584 [0;39m key已存在：DOC_VOTE_2_127.0.0.1
2023-05-12 12:41:21.814 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37841814123843584 [0;39m 业务异常：您已点赞过
2023-05-12 12:41:21.815 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37841814123843584 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 您已点赞过]
2023-05-12 12:41:23.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841820083949568 [0;39m ------------- 开始 -------------
2023-05-12 12:41:23.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841820083949568 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:41:23.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841820083949568 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:41:23.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841820083949568 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:23.233 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841820083949568 [0;39m 请求参数: []
2023-05-12 12:41:23.233 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841820083949568 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:41:23.233 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841820083949568 [0;39m ==> Parameters: 
2023-05-12 12:41:23.235 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:41:23.235 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:41:23.235 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:41:23.235 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:41:23.235 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:41:23.235 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:41:23.236 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:41:23.236 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:41:23.236 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:41:23.236 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:41:23.236 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:41:23.236 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:41:23.236 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:41:23.236 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:41:23.237 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:41:23.237 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841820083949568 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:41:23.237 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841820083949568 [0;39m <==      Total: 15
2023-05-12 12:41:23.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841820083949568 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:41:23.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841820083949568 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:41:23.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841820163641344 [0;39m ------------- 开始 -------------
2023-05-12 12:41:23.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841820163641344 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:41:23.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841820163641344 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:41:23.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841820163641344 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:23.251 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841820163641344 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:41:23.251 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841820163641344 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 12:41:23.251 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841820163641344 [0;39m ==> Parameters: 
2023-05-12 12:41:23.251 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841820163641344 [0;39m <==    Columns: count(0)
2023-05-12 12:41:23.251 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841820163641344 [0;39m <==        Row: 5
2023-05-12 12:41:23.251 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841820163641344 [0;39m <==      Total: 1
2023-05-12 12:41:23.251 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841820163641344 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 12:41:23.251 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841820163641344 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:41:23.251 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841820163641344 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:41:23.251 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841820163641344 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 7, 13, 7
2023-05-12 12:41:23.251 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841820163641344 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:41:23.251 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841820163641344 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:41:23.251 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841820163641344 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:41:23.257 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841820163641344 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:41:23.257 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841820163641344 [0;39m <==      Total: 5
2023-05-12 12:41:23.257 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841820163641344 [0;39m 总行数：5
2023-05-12 12:41:23.258 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841820163641344 [0;39m 总页数：1
2023-05-12 12:41:23.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841820163641344 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":7,"id":1,"name":"Spring Boot 入门教程","viewCount":13,"voteCount":7},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-12 12:41:23.258 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841820163641344 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:41:23.645 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37841781265666048 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:41:23.645 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37841781265666048 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:41:23.645 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37841781265666048 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:41:23.646 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37841781265666048 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:41:23.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841821820391424 [0;39m ------------- 开始 -------------
2023-05-12 12:41:23.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841821820391424 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:41:23.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841821820391424 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:41:23.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841821820391424 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:23.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841821820391424 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:41:23.648 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841821820391424 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:41:23.648 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841821820391424 [0;39m ==> Parameters: 
2023-05-12 12:41:23.649 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37841821820391424 [0;39m <==    Columns: count(0)
2023-05-12 12:41:23.649 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37841821820391424 [0;39m <==        Row: 6
2023-05-12 12:41:23.649 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841821820391424 [0;39m <==      Total: 1
2023-05-12 12:41:23.649 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841821820391424 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:41:23.650 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841821820391424 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:41:23.650 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841821820391424 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:41:23.650 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841821820391424 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:41:23.650 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841821820391424 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:41:23.650 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841821820391424 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:41:23.650 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841821820391424 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:41:23.650 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841821820391424 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:41:23.651 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841821820391424 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:41:23.651 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841821820391424 [0;39m <==      Total: 6
2023-05-12 12:41:23.651 INFO  com.jiawa.wiki.service.UserService                :50   [32m37841821820391424 [0;39m 总行数：6
2023-05-12 12:41:23.651 INFO  com.jiawa.wiki.service.UserService                :51   [32m37841821820391424 [0;39m 总页数：1
2023-05-12 12:41:23.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841821820391424 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:41:23.652 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841821820391424 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:41:23.652 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37841821820391424 [0;39m ------------- LoginInterceptor 结束 耗时：7 ms -------------
2023-05-12 12:41:24.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841825360384000 [0;39m ------------- 开始 -------------
2023-05-12 12:41:24.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841825360384001 [0;39m ------------- 开始 -------------
2023-05-12 12:41:24.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841825360384002 [0;39m ------------- 开始 -------------
2023-05-12 12:41:24.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841825360384002 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:41:24.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841825360384001 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:41:24.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841825360384002 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:41:24.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841825360384001 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:41:24.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841825360384000 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:41:24.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841825360384002 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:24.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841825360384001 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:24.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841825360384000 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:41:24.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841825360384002 [0;39m 请求参数: []
2023-05-12 12:41:24.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841825360384000 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:24.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841825360384001 [0;39m 请求参数: []
2023-05-12 12:41:24.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841825360384000 [0;39m 请求参数: []
2023-05-12 12:41:24.491 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841825360384001 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:41:24.491 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37841825360384002 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:41:24.491 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37841825360384000 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:41:24.492 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37841825360384002 [0;39m ==> Parameters: 
2023-05-12 12:41:24.492 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37841825360384000 [0;39m ==> Parameters: 
2023-05-12 12:41:24.492 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841825360384001 [0;39m ==> Parameters: 
2023-05-12 12:41:24.492 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37841825360384002 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:41:24.492 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:41:24.492 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37841825360384000 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:41:24.493 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37841825360384002 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:41:24.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:41:24.493 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37841825360384000 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:41:24.493 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37841825360384002 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:41:24.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:41:24.493 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37841825360384000 [0;39m <==        Row: 2023-05-12, 13, 7, 3, 0
2023-05-12 12:41:24.493 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37841825360384002 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:41:24.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:41:24.493 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37841825360384002 [0;39m <==      Total: 3
2023-05-12 12:41:24.493 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37841825360384000 [0;39m <==      Total: 2
2023-05-12 12:41:24.493 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:41:24.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841825360384002 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:41:24.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:41:24.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841825360384000 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":13,"viewIncrease":3,"voteCount":7,"voteIncrease":0}],"success":true}
2023-05-12 12:41:24.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841825360384002 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:41:24.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:41:24.494 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841825360384000 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:41:24.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:41:24.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:41:24.494 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:41:24.495 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:41:24.495 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:41:24.495 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:41:24.495 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:41:24.495 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:41:24.496 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841825360384001 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:41:24.496 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841825360384001 [0;39m <==      Total: 15
2023-05-12 12:41:24.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841825360384001 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:41:24.498 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841825360384001 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 12:41:25.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841830104141824 [0;39m ------------- 开始 -------------
2023-05-12 12:41:25.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841830104141824 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:41:25.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841830104141824 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:41:25.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841830104141824 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:25.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841830104141824 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-12 12:41:25.625 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841830104141824 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:41:25.625 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841830104141824 [0;39m ==> Parameters: 201(Long)
2023-05-12 12:41:25.625 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841830104141824 [0;39m <==    Columns: count(0)
2023-05-12 12:41:25.625 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841830104141824 [0;39m <==        Row: 0
2023-05-12 12:41:25.626 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841830104141824 [0;39m <==      Total: 1
2023-05-12 12:41:25.626 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841830104141824 [0;39m 总行数：0
2023-05-12 12:41:25.626 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841830104141824 [0;39m 总页数：0
2023-05-12 12:41:25.626 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841830104141824 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:41:25.627 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841830104141824 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:41:26.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841831861555200 [0;39m ------------- 开始 -------------
2023-05-12 12:41:26.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841831861555200 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:41:26.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841831861555200 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:41:26.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841831861555200 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:26.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841831861555200 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 12:41:26.042 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841831861555200 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:41:26.042 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841831861555200 [0;39m ==> Parameters: 202(Long)
2023-05-12 12:41:26.044 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841831861555200 [0;39m <==    Columns: count(0)
2023-05-12 12:41:26.044 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841831861555200 [0;39m <==        Row: 1
2023-05-12 12:41:26.044 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841831861555200 [0;39m <==      Total: 1
2023-05-12 12:41:26.045 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841831861555200 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:41:26.045 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841831861555200 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 12:41:26.045 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841831861555200 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:41:26.045 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841831861555200 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 7, 13, 7
2023-05-12 12:41:26.045 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841831861555200 [0;39m <==      Total: 1
2023-05-12 12:41:26.045 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841831861555200 [0;39m 总行数：1
2023-05-12 12:41:26.045 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841831861555200 [0;39m 总页数：1
2023-05-12 12:41:26.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841831861555200 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":7,"id":1,"name":"Spring Boot 入门教程","viewCount":13,"voteCount":7}],"total":1},"success":true}
2023-05-12 12:41:26.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841831861555200 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:41:26.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841833820295168 [0;39m ------------- 开始 -------------
2023-05-12 12:41:26.507 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841833820295168 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:41:26.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841833820295168 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:41:26.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841833820295168 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:26.508 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841833820295168 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-12 12:41:26.509 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841833820295168 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:41:26.509 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841833820295168 [0;39m ==> Parameters: 102(Long)
2023-05-12 12:41:26.510 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841833820295168 [0;39m <==    Columns: count(0)
2023-05-12 12:41:26.510 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841833820295168 [0;39m <==        Row: 0
2023-05-12 12:41:26.510 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841833820295168 [0;39m <==      Total: 1
2023-05-12 12:41:26.510 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841833820295168 [0;39m 总行数：0
2023-05-12 12:41:26.510 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841833820295168 [0;39m 总页数：0
2023-05-12 12:41:26.510 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841833820295168 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:41:26.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841833820295168 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:41:27.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841835955195904 [0;39m ------------- 开始 -------------
2023-05-12 12:41:27.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841835955195904 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:41:27.016 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841835955195904 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:41:27.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841835955195904 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:27.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841835955195904 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 12:41:27.017 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841835955195904 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:41:27.017 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841835955195904 [0;39m ==> Parameters: 101(Long)
2023-05-12 12:41:27.017 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841835955195904 [0;39m <==    Columns: count(0)
2023-05-12 12:41:27.017 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841835955195904 [0;39m <==        Row: 1
2023-05-12 12:41:27.017 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841835955195904 [0;39m <==      Total: 1
2023-05-12 12:41:27.017 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841835955195904 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:41:27.017 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841835955195904 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 12:41:27.017 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841835955195904 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:41:27.017 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841835955195904 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:41:27.017 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841835955195904 [0;39m <==      Total: 1
2023-05-12 12:41:27.017 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841835955195904 [0;39m 总行数：1
2023-05-12 12:41:27.017 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841835955195904 [0;39m 总页数：1
2023-05-12 12:41:27.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841835955195904 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-12 12:41:27.017 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841835955195904 [0;39m ------------- 结束 耗时：1 ms -------------
2023-05-12 12:41:27.719 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841838903791616 [0;39m ------------- 开始 -------------
2023-05-12 12:41:27.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841838903791616 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:41:27.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841838903791616 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:41:27.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841838903791616 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:27.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841838903791616 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-12 12:41:27.720 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841838903791616 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:41:27.720 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841838903791616 [0;39m ==> Parameters: 201(Long)
2023-05-12 12:41:27.723 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841838903791616 [0;39m <==    Columns: count(0)
2023-05-12 12:41:27.723 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841838903791616 [0;39m <==        Row: 0
2023-05-12 12:41:27.723 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841838903791616 [0;39m <==      Total: 1
2023-05-12 12:41:27.723 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841838903791616 [0;39m 总行数：0
2023-05-12 12:41:27.723 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841838903791616 [0;39m 总页数：0
2023-05-12 12:41:27.723 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841838903791616 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:41:27.723 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841838903791616 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:41:28.288 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841841290350592 [0;39m ------------- 开始 -------------
2023-05-12 12:41:28.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841841290350592 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:41:28.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841841290350592 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:41:28.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841841290350592 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:28.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841841290350592 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 12:41:28.290 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841841290350592 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:41:28.290 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841841290350592 [0;39m ==> Parameters: 202(Long)
2023-05-12 12:41:28.291 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841841290350592 [0;39m <==    Columns: count(0)
2023-05-12 12:41:28.291 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841841290350592 [0;39m <==        Row: 1
2023-05-12 12:41:28.291 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841841290350592 [0;39m <==      Total: 1
2023-05-12 12:41:28.291 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841841290350592 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:41:28.292 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841841290350592 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 12:41:28.292 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841841290350592 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:41:28.292 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841841290350592 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 7, 13, 7
2023-05-12 12:41:28.293 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841841290350592 [0;39m <==      Total: 1
2023-05-12 12:41:28.293 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841841290350592 [0;39m 总行数：1
2023-05-12 12:41:28.293 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841841290350592 [0;39m 总页数：1
2023-05-12 12:41:28.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841841290350592 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":7,"id":1,"name":"Spring Boot 入门教程","viewCount":13,"voteCount":7}],"total":1},"success":true}
2023-05-12 12:41:28.293 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841841290350592 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:41:29.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841844452855808 [0;39m ------------- 开始 -------------
2023-05-12 12:41:29.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841844452855808 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 12:41:29.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841844452855808 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:41:29.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841844452855808 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:29.044 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841844452855808 [0;39m 请求参数: [1]
2023-05-12 12:41:29.046 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841844452855808 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:41:29.046 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841844452855808 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:41:29.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841844452855808 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:41:29.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841844452855808 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 6, 3
2023-05-12 12:41:29.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841844452855808 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 3, 2
2023-05-12 12:41:29.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841844452855808 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 3, 1
2023-05-12 12:41:29.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841844452855808 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 3, 1
2023-05-12 12:41:29.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841844452855808 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 1, 0
2023-05-12 12:41:29.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841844452855808 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 1, 0
2023-05-12 12:41:29.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841844452855808 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 1, 0
2023-05-12 12:41:29.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841844452855808 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 3, 1
2023-05-12 12:41:29.048 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841844452855808 [0;39m <==      Total: 8
2023-05-12 12:41:29.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841844452855808 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":6,"voteCount":3},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":3,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":3,"voteCount":1}],"success":true}
2023-05-12 12:41:29.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841844452855808 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:41:29.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841844511576064 [0;39m ------------- 开始 -------------
2023-05-12 12:41:29.056 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841844511576064 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 12:41:29.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841844511576064 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:41:29.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841844511576064 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:29.057 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841844511576064 [0;39m 请求参数: [1]
2023-05-12 12:41:29.058 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841844511576064 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:41:29.058 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841844511576064 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:41:29.058 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37841844511576064 [0;39m <==      Total: 0
2023-05-12 12:41:29.058 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841844511576064 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:41:29.058 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841844511576064 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:41:29.066 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37841844511576064 [0;39m <==    Updates: 1
2023-05-12 12:41:29.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841844511576064 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:41:29.066 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841844511576064 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 12:41:30.718 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37841825360384001 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:41:30.718 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37841825360384001 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:41:30.718 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37841825360384001 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:41:30.719 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37841825360384001 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:41:30.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841851490897920 [0;39m ------------- 开始 -------------
2023-05-12 12:41:30.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841851490897920 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:41:30.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841851490897920 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:41:30.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841851490897920 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:30.720 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841851490897920 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:41:30.721 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841851490897920 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:41:30.721 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841851490897920 [0;39m ==> Parameters: 
2023-05-12 12:41:30.722 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37841851490897920 [0;39m <==    Columns: count(0)
2023-05-12 12:41:30.723 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37841851490897920 [0;39m <==        Row: 6
2023-05-12 12:41:30.723 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37841851490897920 [0;39m <==      Total: 1
2023-05-12 12:41:30.723 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841851490897920 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:41:30.723 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841851490897920 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:41:30.723 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841851490897920 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:41:30.724 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841851490897920 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:41:30.724 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841851490897920 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:41:30.724 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841851490897920 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:41:30.724 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841851490897920 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:41:30.725 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841851490897920 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:41:30.725 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37841851490897920 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:41:30.725 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37841851490897920 [0;39m <==      Total: 6
2023-05-12 12:41:30.725 INFO  com.jiawa.wiki.service.UserService                :50   [32m37841851490897920 [0;39m 总行数：6
2023-05-12 12:41:30.725 INFO  com.jiawa.wiki.service.UserService                :51   [32m37841851490897920 [0;39m 总页数：1
2023-05-12 12:41:30.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841851490897920 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:41:30.726 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841851490897920 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:41:30.726 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37841851490897920 [0;39m ------------- LoginInterceptor 结束 耗时：8 ms -------------
2023-05-12 12:41:31.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841854238167040 [0;39m ------------- 开始 -------------
2023-05-12 12:41:31.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841854238167040 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:41:31.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841854238167040 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:41:31.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841854238167040 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:31.376 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841854238167040 [0;39m 请求参数: []
2023-05-12 12:41:31.377 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841854238167040 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:41:31.377 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841854238167040 [0;39m ==> Parameters: 
2023-05-12 12:41:31.377 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:41:31.377 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:41:31.378 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:41:31.378 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:41:31.378 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:41:31.378 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:41:31.378 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:41:31.378 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:41:31.378 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:41:31.378 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:41:31.379 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:41:31.379 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:41:31.379 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:41:31.379 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:41:31.379 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:41:31.379 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37841854238167040 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:41:31.379 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37841854238167040 [0;39m <==      Total: 15
2023-05-12 12:41:31.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841854238167040 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:41:31.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841854238167040 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:41:31.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841854309470208 [0;39m ------------- 开始 -------------
2023-05-12 12:41:31.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841854309470208 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:41:31.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841854309470208 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:41:31.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841854309470208 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:31.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841854309470208 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:41:31.396 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841854309470208 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 12:41:31.397 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841854309470208 [0;39m ==> Parameters: 
2023-05-12 12:41:31.397 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841854309470208 [0;39m <==    Columns: count(0)
2023-05-12 12:41:31.397 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37841854309470208 [0;39m <==        Row: 5
2023-05-12 12:41:31.397 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37841854309470208 [0;39m <==      Total: 1
2023-05-12 12:41:31.397 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841854309470208 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 12:41:31.400 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841854309470208 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:41:31.400 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841854309470208 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:41:31.400 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841854309470208 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 7, 13, 7
2023-05-12 12:41:31.400 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841854309470208 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:41:31.400 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841854309470208 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:41:31.400 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841854309470208 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:41:31.400 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37841854309470208 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:41:31.400 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37841854309470208 [0;39m <==      Total: 5
2023-05-12 12:41:31.400 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37841854309470208 [0;39m 总行数：5
2023-05-12 12:41:31.400 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37841854309470208 [0;39m 总页数：1
2023-05-12 12:41:31.400 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841854309470208 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":7,"id":1,"name":"Spring Boot 入门教程","viewCount":13,"voteCount":7},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-12 12:41:31.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841854309470208 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-12 12:41:34.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37841867303424000 [0;39m ------------- 开始 -------------
2023-05-12 12:41:34.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37841867303424000 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 12:41:34.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37841867303424000 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:41:34.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37841867303424000 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:41:34.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37841867303424000 [0;39m 请求参数: [1]
2023-05-12 12:41:34.491 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841867303424000 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:41:34.493 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841867303424000 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:41:34.495 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841867303424000 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:41:34.495 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841867303424000 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 7, 3
2023-05-12 12:41:34.495 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841867303424000 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 3, 2
2023-05-12 12:41:34.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841867303424000 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 3, 1
2023-05-12 12:41:34.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841867303424000 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 3, 1
2023-05-12 12:41:34.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841867303424000 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 1, 0
2023-05-12 12:41:34.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841867303424000 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 1, 0
2023-05-12 12:41:34.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841867303424000 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 1, 0
2023-05-12 12:41:34.498 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37841867303424000 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 3, 1
2023-05-12 12:41:34.498 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37841867303424000 [0;39m <==      Total: 8
2023-05-12 12:41:34.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37841867303424000 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":7,"voteCount":3},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":3,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":3,"voteCount":1}],"success":true}
2023-05-12 12:41:34.499 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37841867303424000 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 12:41:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37841869471879168 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:41:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841869471879168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:41:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841869471879168 [0;39m ==> Parameters: 
2023-05-12 12:41:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841869471879168 [0;39m <==    Updates: 1
2023-05-12 12:41:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37841869471879168 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-12 12:42:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37841974350450688 [0;39m 生成今日电子书快照开始
2023-05-12 12:42:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37841974350450688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:42:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37841974350450688 [0;39m ==> Parameters: 
2023-05-12 12:42:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37841974350450688 [0;39m <==    Updates: 0
2023-05-12 12:42:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37841974350450688 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-12 12:42:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37841995275833344 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:42:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841995275833344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:42:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841995275833344 [0;39m ==> Parameters: 
2023-05-12 12:42:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37841995275833344 [0;39m <==    Updates: 1
2023-05-12 12:42:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37841995275833344 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:42:08.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842010903810048 [0;39m ------------- 开始 -------------
2023-05-12 12:42:08.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842010903810048 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 12:42:08.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842010903810048 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:42:08.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842010903810048 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:08.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842010903810048 [0;39m 请求参数: [1]
2023-05-12 12:42:08.730 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37842010903810048 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:42:08.730 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37842010903810048 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:42:08.731 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37842010903810048 [0;39m <==      Total: 0
2023-05-12 12:42:08.731 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37842010903810048 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:42:08.733 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37842010903810048 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:42:08.740 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37842010903810048 [0;39m <==    Updates: 1
2023-05-12 12:42:08.741 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842010903810048 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:42:08.741 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842010903810048 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-12 12:42:10.357 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37841835955195904 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:42:10.357 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37841835955195904 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/doc/save
2023-05-12 12:42:10.357 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37841835955195904 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:42:10.358 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37841835955195904 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:42:10.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842017748914176 [0;39m ------------- 开始 -------------
2023-05-12 12:42:10.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842017748914176 [0;39m 请求地址: http://127.0.0.1:8880/doc/save POST
2023-05-12 12:42:10.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842017748914176 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.save
2023-05-12 12:42:10.359 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842017748914176 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:10.360 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842017748914176 [0;39m 请求参数: [{"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":7,"voteCount":3}]
2023-05-12 12:42:10.362 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m37842017748914176 [0;39m ==>  Preparing: update doc set ebook_id = ?, parent = ?, `name` = ?, sort = ?, view_count = ?, vote_count = ? where id = ?
2023-05-12 12:42:10.362 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m37842017748914176 [0;39m ==> Parameters: 1(Long), 0(Long), 文档1(String), 1(Integer), 7(Integer), 3(Integer), 1(Long)
2023-05-12 12:42:10.363 DEBUG com.jiawa.wiki.mapper.DocMapper.updateByPrimaryKey:137  [32m37842017748914176 [0;39m <==    Updates: 1
2023-05-12 12:42:10.363 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m37842017748914176 [0;39m ==>  Preparing: update content set content = ? where id = ?
2023-05-12 12:42:10.364 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m37842017748914176 [0;39m ==> Parameters: <p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can "just run".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href="https://github.com/spring-projects/spring-boot/wiki#release-notes">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href="https://spring.io/projects/spring-boot#features"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href="https://spring.io/projects/spring-boot#getting-started"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href="https://spring.io/quickstart">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href="https://spring.io/guides/gs/spring-boot/">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href="https://spring.io/guides/gs/rest-service/">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href="https://spring.io/guides">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href="https://spring.io/projects/spring-boot#talks-and-videos"></a>Talks and videos</h2><ul><li><p><a href="https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href="https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave">What’s New in Spring Boot 2.0</a></p></li><li><p><a href="https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href="https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave">Test Driven Development with Spring Boot</a></p></li><li><p><a href="https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href="https://gitter.im/spring-projects/spring-boot">Spring Boot community on Gitter</a>!</p>(String), 1(Long)
2023-05-12 12:42:10.364 DEBUG c.j.w.m.ContentMapper.updateByPrimaryKeyWithBLOBs :137  [32m37842017748914176 [0;39m <==    Updates: 0
2023-05-12 12:42:10.364 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m37842017748914176 [0;39m ==>  Preparing: insert into content (id, content) values (?, ?)
2023-05-12 12:42:10.365 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m37842017748914176 [0;39m ==> Parameters: 1(Long), <p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can "just run".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href="https://github.com/spring-projects/spring-boot/wiki#release-notes">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href="https://spring.io/projects/spring-boot#features"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href="https://spring.io/projects/spring-boot#getting-started"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href="https://spring.io/quickstart">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href="https://spring.io/guides/gs/spring-boot/">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href="https://spring.io/guides/gs/rest-service/">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href="https://spring.io/guides">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href="https://spring.io/projects/spring-boot#talks-and-videos"></a>Talks and videos</h2><ul><li><p><a href="https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href="https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave">What’s New in Spring Boot 2.0</a></p></li><li><p><a href="https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href="https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave">Test Driven Development with Spring Boot</a></p></li><li><p><a href="https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href="https://gitter.im/spring-projects/spring-boot">Spring Boot community on Gitter</a>!</p>(String)
2023-05-12 12:42:10.365 DEBUG com.jiawa.wiki.mapper.ContentMapper.insert        :137  [32m37842017748914176 [0;39m <==    Updates: 1
2023-05-12 12:42:10.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842017748914176 [0;39m 返回结果: {"success":true}
2023-05-12 12:42:10.372 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842017748914176 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 12:42:10.373 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37842017748914176 [0;39m ------------- LoginInterceptor 结束 耗时：16 ms -------------
2023-05-12 12:42:10.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842017853771776 [0;39m ------------- 开始 -------------
2023-05-12 12:42:10.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842017853771776 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 12:42:10.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842017853771776 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:42:10.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842017853771776 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:10.384 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842017853771776 [0;39m 请求参数: [1]
2023-05-12 12:42:10.385 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37842017853771776 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:42:10.385 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37842017853771776 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:42:10.386 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842017853771776 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:42:10.386 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842017853771776 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 7, 3
2023-05-12 12:42:10.386 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842017853771776 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 3, 2
2023-05-12 12:42:10.386 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842017853771776 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 3, 1
2023-05-12 12:42:10.387 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842017853771776 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 3, 1
2023-05-12 12:42:10.387 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842017853771776 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 1, 0
2023-05-12 12:42:10.387 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842017853771776 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 1, 0
2023-05-12 12:42:10.387 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842017853771776 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 1, 0
2023-05-12 12:42:10.387 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842017853771776 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 3, 1
2023-05-12 12:42:10.388 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37842017853771776 [0;39m <==      Total: 8
2023-05-12 12:42:10.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842017853771776 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":7,"voteCount":3},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":3,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":3,"voteCount":1}],"success":true}
2023-05-12 12:42:10.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842017853771776 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:42:11.348 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37841841290350592 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:42:11.348 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37841841290350592 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:42:11.349 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37841841290350592 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:42:11.349 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37841841290350592 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:42:11.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842021905469440 [0;39m ------------- 开始 -------------
2023-05-12 12:42:11.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842021905469440 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:42:11.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842021905469440 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:42:11.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842021905469440 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:11.350 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842021905469440 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:42:11.352 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842021905469440 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:42:11.352 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842021905469440 [0;39m ==> Parameters: 
2023-05-12 12:42:11.353 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37842021905469440 [0;39m <==    Columns: count(0)
2023-05-12 12:42:11.353 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37842021905469440 [0;39m <==        Row: 6
2023-05-12 12:42:11.353 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842021905469440 [0;39m <==      Total: 1
2023-05-12 12:42:11.353 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842021905469440 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:42:11.354 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842021905469440 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:42:11.354 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842021905469440 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:42:11.354 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842021905469440 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:42:11.355 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842021905469440 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:42:11.355 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842021905469440 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:42:11.355 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842021905469440 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:42:11.355 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842021905469440 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:42:11.355 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842021905469440 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:42:11.355 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842021905469440 [0;39m <==      Total: 6
2023-05-12 12:42:11.355 INFO  com.jiawa.wiki.service.UserService                :50   [32m37842021905469440 [0;39m 总行数：6
2023-05-12 12:42:11.355 INFO  com.jiawa.wiki.service.UserService                :51   [32m37842021905469440 [0;39m 总页数：1
2023-05-12 12:42:11.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842021905469440 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:42:11.357 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842021905469440 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:42:11.357 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37842021905469440 [0;39m ------------- LoginInterceptor 结束 耗时：9 ms -------------
2023-05-12 12:42:11.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842023096651776 [0;39m ------------- 开始 -------------
2023-05-12 12:42:11.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842023096651778 [0;39m ------------- 开始 -------------
2023-05-12 12:42:11.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842023096651776 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:42:11.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842023096651777 [0;39m ------------- 开始 -------------
2023-05-12 12:42:11.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842023096651778 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:42:11.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842023096651776 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:42:11.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842023096651777 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:42:11.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842023096651778 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:42:11.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842023096651776 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:11.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842023096651778 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:11.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842023096651776 [0;39m 请求参数: []
2023-05-12 12:42:11.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842023096651777 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:42:11.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842023096651778 [0;39m 请求参数: []
2023-05-12 12:42:11.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842023096651777 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:11.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842023096651777 [0;39m 请求参数: []
2023-05-12 12:42:11.635 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37842023096651776 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:42:11.635 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842023096651778 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:42:11.636 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37842023096651777 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:42:11.636 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37842023096651776 [0;39m ==> Parameters: 
2023-05-12 12:42:11.636 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37842023096651777 [0;39m ==> Parameters: 
2023-05-12 12:42:11.636 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842023096651778 [0;39m ==> Parameters: 
2023-05-12 12:42:11.637 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37842023096651777 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:42:11.637 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37842023096651776 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:42:11.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:42:11.637 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37842023096651776 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:42:11.637 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37842023096651777 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:42:11.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:42:11.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:42:11.637 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37842023096651776 [0;39m <==        Row: 2023-05-12, 22, 8, 12, 1
2023-05-12 12:42:11.637 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37842023096651777 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:42:11.637 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:42:11.638 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37842023096651776 [0;39m <==      Total: 2
2023-05-12 12:42:11.638 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37842023096651777 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:42:11.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:42:11.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842023096651776 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":22,"viewIncrease":12,"voteCount":8,"voteIncrease":1}],"success":true}
2023-05-12 12:42:11.638 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37842023096651777 [0;39m <==      Total: 3
2023-05-12 12:42:11.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:42:11.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842023096651776 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:42:11.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842023096651777 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:42:11.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842023096651777 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:42:11.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:42:11.638 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:42:11.639 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:42:11.639 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:42:11.639 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:42:11.640 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:42:11.640 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:42:11.640 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:42:11.640 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:42:11.640 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842023096651778 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:42:11.641 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842023096651778 [0;39m <==      Total: 15
2023-05-12 12:42:11.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842023096651778 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:42:11.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842023096651778 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 12:42:12.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842027672637440 [0;39m ------------- 开始 -------------
2023-05-12 12:42:12.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842027672637440 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:42:12.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842027672637440 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:42:12.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842027672637440 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:12.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842027672637440 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 12:42:12.727 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842027672637440 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:42:12.728 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842027672637440 [0;39m ==> Parameters: 202(Long)
2023-05-12 12:42:12.729 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842027672637440 [0;39m <==    Columns: count(0)
2023-05-12 12:42:12.729 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842027672637440 [0;39m <==        Row: 1
2023-05-12 12:42:12.729 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842027672637440 [0;39m <==      Total: 1
2023-05-12 12:42:12.730 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842027672637440 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:42:12.731 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842027672637440 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 12:42:12.731 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842027672637440 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:42:12.731 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842027672637440 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 22, 8
2023-05-12 12:42:12.731 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842027672637440 [0;39m <==      Total: 1
2023-05-12 12:42:12.731 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37842027672637440 [0;39m 总行数：1
2023-05-12 12:42:12.731 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37842027672637440 [0;39m 总页数：1
2023-05-12 12:42:12.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842027672637440 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":22,"voteCount":8}],"total":1},"success":true}
2023-05-12 12:42:12.731 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842027672637440 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:42:13.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842030017253376 [0;39m ------------- 开始 -------------
2023-05-12 12:42:13.284 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842030017253376 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 12:42:13.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842030017253376 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:42:13.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842030017253376 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:13.285 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842030017253376 [0;39m 请求参数: [1]
2023-05-12 12:42:13.286 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37842030017253376 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:42:13.286 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37842030017253376 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:42:13.287 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842030017253376 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:42:13.287 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842030017253376 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 7, 3
2023-05-12 12:42:13.287 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842030017253376 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 3, 2
2023-05-12 12:42:13.287 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842030017253376 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 3, 1
2023-05-12 12:42:13.287 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842030017253376 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 3, 1
2023-05-12 12:42:13.289 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842030017253376 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 1, 0
2023-05-12 12:42:13.289 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842030017253376 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 1, 0
2023-05-12 12:42:13.289 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842030017253376 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 1, 0
2023-05-12 12:42:13.289 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37842030017253376 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 3, 1
2023-05-12 12:42:13.289 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37842030017253376 [0;39m <==      Total: 8
2023-05-12 12:42:13.289 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842030017253376 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":7,"voteCount":3},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":3,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":3,"voteCount":1}],"success":true}
2023-05-12 12:42:13.290 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842030017253376 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:42:13.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842030075973632 [0;39m ------------- 开始 -------------
2023-05-12 12:42:13.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842030075973632 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 12:42:13.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842030075973632 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:42:13.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842030075973632 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:13.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842030075973632 [0;39m 请求参数: [1]
2023-05-12 12:42:13.300 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37842030075973632 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:42:13.300 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37842030075973632 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:42:13.301 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37842030075973632 [0;39m <==    Columns: id, content
2023-05-12 12:42:13.301 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37842030075973632 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 12:42:13.301 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37842030075973632 [0;39m <==      Total: 1
2023-05-12 12:42:13.301 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37842030075973632 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:42:13.301 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37842030075973632 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:42:13.303 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37842030075973632 [0;39m <==    Updates: 1
2023-05-12 12:42:13.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842030075973632 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 12:42:13.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842030075973632 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:42:16.365 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842042939904000 [0;39m ------------- 开始 -------------
2023-05-12 12:42:16.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842042939904000 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/1 GET
2023-05-12 12:42:16.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842042939904000 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-12 12:42:16.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842042939904000 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:16.366 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842042939904000 [0;39m 请求参数: [1]
2023-05-12 12:42:16.367 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m37842042939904000 [0;39m key不存在，放入：DOC_VOTE_1_127.0.0.1，过期 5000 秒
2023-05-12 12:42:16.368 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37842042939904000 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-12 12:42:16.368 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37842042939904000 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:42:16.377 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m37842042939904000 [0;39m <==    Updates: 1
2023-05-12 12:42:16.378 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37842042939904000 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-12 12:42:16.378 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37842042939904000 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:42:16.378 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m37842042939904000 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:42:16.378 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m37842042939904000 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 8, 4
2023-05-12 12:42:16.378 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m37842042939904000 [0;39m <==      Total: 1
2023-05-12 12:42:16.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842042939904000 [0;39m 返回结果: {"success":true}
2023-05-12 12:42:16.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842042939904000 [0;39m ------------- 结束 耗时：15 ms -------------
2023-05-12 12:42:16.385 INFO  com.jiawa.wiki.rocketmq.VoteTopicConsumer         :25   [32m                  [0;39m ROCKETMQ收到消息：【文档1】被点赞！
2023-05-12 12:42:16.385 INFO  com.jiawa.wiki.websocket.WebSocketServer          :71   [32m                  [0;39m 推送消息：6KcjvGAHtK，内容：【文档1】被点赞！
2023-05-12 12:42:18.827 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842053266280448 [0;39m ------------- 开始 -------------
2023-05-12 12:42:18.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842053266280448 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-12 12:42:18.828 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842053266280448 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:42:18.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842053266280448 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:18.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842053266280448 [0;39m 请求参数: [2]
2023-05-12 12:42:18.830 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37842053266280448 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:42:18.830 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37842053266280448 [0;39m ==> Parameters: 2(Long)
2023-05-12 12:42:18.831 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37842053266280448 [0;39m <==      Total: 0
2023-05-12 12:42:18.831 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37842053266280448 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:42:18.831 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37842053266280448 [0;39m ==> Parameters: 2(Long)
2023-05-12 12:42:18.838 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37842053266280448 [0;39m <==    Updates: 1
2023-05-12 12:42:18.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842053266280448 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 12:42:18.840 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842053266280448 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 12:42:19.675 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842056823050240 [0;39m ------------- 开始 -------------
2023-05-12 12:42:19.675 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842056823050240 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/2 GET
2023-05-12 12:42:19.675 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842056823050240 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-12 12:42:19.675 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842056823050240 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:19.675 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842056823050240 [0;39m 请求参数: [2]
2023-05-12 12:42:19.677 INFO  com.jiawa.wiki.util.RedisUtil                     :28   [32m37842056823050240 [0;39m key已存在：DOC_VOTE_2_127.0.0.1
2023-05-12 12:42:19.677 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37842056823050240 [0;39m 业务异常：您已点赞过
2023-05-12 12:42:19.678 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37842056823050240 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 您已点赞过]
2023-05-12 12:42:21.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842062720241664 [0;39m ------------- 开始 -------------
2023-05-12 12:42:21.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842062720241664 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 12:42:21.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842062720241664 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:42:21.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842062720241664 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:21.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842062720241664 [0;39m 请求参数: [1]
2023-05-12 12:42:21.084 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37842062720241664 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:42:21.084 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37842062720241664 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:42:21.085 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37842062720241664 [0;39m <==    Columns: id, content
2023-05-12 12:42:21.085 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37842062720241664 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 12:42:21.085 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37842062720241664 [0;39m <==      Total: 1
2023-05-12 12:42:21.086 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37842062720241664 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:42:21.086 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37842062720241664 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:42:21.093 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37842062720241664 [0;39m <==    Updates: 1
2023-05-12 12:42:21.093 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842062720241664 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 12:42:21.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842062720241664 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 12:42:28.562 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37842023096651777 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:42:28.562 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37842023096651777 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:42:28.562 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37842023096651777 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:42:28.563 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37842023096651777 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:42:28.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842094102024192 [0;39m ------------- 开始 -------------
2023-05-12 12:42:28.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842094102024192 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:42:28.563 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842094102024192 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:42:28.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842094102024192 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:28.564 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842094102024192 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:42:28.564 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842094102024192 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:42:28.565 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842094102024192 [0;39m ==> Parameters: 
2023-05-12 12:42:28.566 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37842094102024192 [0;39m <==    Columns: count(0)
2023-05-12 12:42:28.566 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37842094102024192 [0;39m <==        Row: 6
2023-05-12 12:42:28.566 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842094102024192 [0;39m <==      Total: 1
2023-05-12 12:42:28.566 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842094102024192 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:42:28.567 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842094102024192 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:42:28.567 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842094102024192 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:42:28.567 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842094102024192 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:42:28.568 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842094102024192 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:42:28.568 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842094102024192 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:42:28.568 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842094102024192 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:42:28.568 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842094102024192 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:42:28.568 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842094102024192 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:42:28.569 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842094102024192 [0;39m <==      Total: 6
2023-05-12 12:42:28.569 INFO  com.jiawa.wiki.service.UserService                :50   [32m37842094102024192 [0;39m 总行数：6
2023-05-12 12:42:28.569 INFO  com.jiawa.wiki.service.UserService                :51   [32m37842094102024192 [0;39m 总页数：1
2023-05-12 12:42:28.569 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842094102024192 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:42:28.570 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842094102024192 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:42:28.570 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37842094102024192 [0;39m ------------- LoginInterceptor 结束 耗时：8 ms -------------
2023-05-12 12:42:29.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842096924790784 [0;39m ------------- 开始 -------------
2023-05-12 12:42:29.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842096924790784 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:42:29.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842096924790784 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:42:29.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842096924790784 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:29.238 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842096924790784 [0;39m 请求参数: []
2023-05-12 12:42:29.238 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842096924790784 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:42:29.238 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842096924790784 [0;39m ==> Parameters: 
2023-05-12 12:42:29.239 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:42:29.239 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:42:29.239 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:42:29.239 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:42:29.240 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:42:29.240 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:42:29.240 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:42:29.240 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:42:29.240 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:42:29.240 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:42:29.240 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:42:29.240 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:42:29.240 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:42:29.241 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:42:29.241 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:42:29.241 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842096924790784 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:42:29.241 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842096924790784 [0;39m <==      Total: 15
2023-05-12 12:42:29.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842096924790784 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:42:29.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842096924790784 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:42:29.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842096996093952 [0;39m ------------- 开始 -------------
2023-05-12 12:42:29.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842096996093952 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:42:29.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842096996093952 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:42:29.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842096996093952 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:29.253 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842096996093952 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:42:29.253 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842096996093952 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 12:42:29.253 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842096996093952 [0;39m ==> Parameters: 
2023-05-12 12:42:29.256 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842096996093952 [0;39m <==    Columns: count(0)
2023-05-12 12:42:29.256 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842096996093952 [0;39m <==        Row: 5
2023-05-12 12:42:29.256 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842096996093952 [0;39m <==      Total: 1
2023-05-12 12:42:29.256 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842096996093952 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 12:42:29.256 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842096996093952 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:42:29.256 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842096996093952 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:42:29.256 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842096996093952 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 22, 8
2023-05-12 12:42:29.256 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842096996093952 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:29.256 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842096996093952 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:29.256 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842096996093952 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:29.256 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842096996093952 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:29.256 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842096996093952 [0;39m <==      Total: 5
2023-05-12 12:42:29.256 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37842096996093952 [0;39m 总行数：5
2023-05-12 12:42:29.256 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37842096996093952 [0;39m 总页数：1
2023-05-12 12:42:29.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842096996093952 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":22,"voteCount":8},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-12 12:42:29.256 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842096996093952 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 12:42:29.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842099781111808 [0;39m ------------- 开始 -------------
2023-05-12 12:42:29.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842099781111808 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:42:29.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842099781111808 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:42:29.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842099781111808 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:29.918 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842099781111808 [0;39m 请求参数: []
2023-05-12 12:42:29.918 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842099781111808 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:42:29.918 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842099781111808 [0;39m ==> Parameters: 
2023-05-12 12:42:29.919 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:42:29.919 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:42:29.919 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:42:29.919 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:42:29.919 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:42:29.919 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:42:29.920 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:42:29.920 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:42:29.920 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:42:29.920 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:42:29.920 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:42:29.921 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:42:29.921 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:42:29.921 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:42:29.921 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:42:29.921 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842099781111808 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:42:29.922 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842099781111808 [0;39m <==      Total: 15
2023-05-12 12:42:29.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842099781111808 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:42:29.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842099781111808 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:42:30.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842102364803072 [0;39m ------------- 开始 -------------
2023-05-12 12:42:30.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842102364803072 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:42:30.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842102364803072 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:42:30.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842102364803072 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:30.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842102364803072 [0;39m 请求参数: []
2023-05-12 12:42:30.534 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842102364803072 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:42:30.534 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842102364803072 [0;39m ==> Parameters: 
2023-05-12 12:42:30.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:42:30.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:42:30.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:42:30.534 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:42:30.535 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:42:30.535 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:42:30.535 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:42:30.535 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:42:30.535 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:42:30.535 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:42:30.535 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:42:30.536 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:42:30.536 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:42:30.536 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:42:30.536 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:42:30.536 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842102364803072 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:42:30.536 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842102364803072 [0;39m <==      Total: 15
2023-05-12 12:42:30.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842102364803072 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:42:30.537 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842102364803072 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:42:30.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842102486437888 [0;39m ------------- 开始 -------------
2023-05-12 12:42:30.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842102486437888 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:42:30.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842102486437888 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:42:30.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842102486437888 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:30.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842102486437888 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:42:30.568 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842102486437888 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 12:42:30.568 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842102486437888 [0;39m ==> Parameters: 
2023-05-12 12:42:30.589 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842102486437888 [0;39m <==    Columns: count(0)
2023-05-12 12:42:30.589 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842102486437888 [0;39m <==        Row: 5
2023-05-12 12:42:30.589 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842102486437888 [0;39m <==      Total: 1
2023-05-12 12:42:30.589 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842102486437888 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 12:42:30.589 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842102486437888 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:42:30.594 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842102486437888 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:42:30.594 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842102486437888 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 22, 8
2023-05-12 12:42:30.594 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842102486437888 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:30.594 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842102486437888 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:30.594 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842102486437888 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:30.594 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842102486437888 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:30.595 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842102486437888 [0;39m <==      Total: 5
2023-05-12 12:42:30.596 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37842102486437888 [0;39m 总行数：5
2023-05-12 12:42:30.596 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37842102486437888 [0;39m 总页数：1
2023-05-12 12:42:30.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842102486437888 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":22,"voteCount":8},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-12 12:42:30.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842102486437888 [0;39m ------------- 结束 耗时：34 ms -------------
2023-05-12 12:42:30.928 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37842042939904000 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:42:30.928 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37842042939904000 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:42:30.928 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37842042939904000 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:42:30.929 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37842042939904000 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:42:30.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842104025747456 [0;39m ------------- 开始 -------------
2023-05-12 12:42:30.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842104025747456 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:42:30.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842104025747456 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:42:30.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842104025747456 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:30.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842104025747456 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:42:30.930 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842104025747456 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:42:30.930 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842104025747456 [0;39m ==> Parameters: 
2023-05-12 12:42:30.931 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37842104025747456 [0;39m <==    Columns: count(0)
2023-05-12 12:42:30.932 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37842104025747456 [0;39m <==        Row: 6
2023-05-12 12:42:30.932 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842104025747456 [0;39m <==      Total: 1
2023-05-12 12:42:30.932 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842104025747456 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:42:30.932 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842104025747456 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:42:30.933 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842104025747456 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:42:30.933 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842104025747456 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:42:30.933 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842104025747456 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:42:30.933 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842104025747456 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:42:30.933 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842104025747456 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:42:30.935 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842104025747456 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:42:30.935 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842104025747456 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:42:30.935 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842104025747456 [0;39m <==      Total: 6
2023-05-12 12:42:30.935 INFO  com.jiawa.wiki.service.UserService                :50   [32m37842104025747456 [0;39m 总行数：6
2023-05-12 12:42:30.935 INFO  com.jiawa.wiki.service.UserService                :51   [32m37842104025747456 [0;39m 总页数：1
2023-05-12 12:42:30.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842104025747456 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:42:30.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842104025747456 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:42:30.936 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37842104025747456 [0;39m ------------- LoginInterceptor 结束 耗时：8 ms -------------
2023-05-12 12:42:31.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842107364413440 [0;39m ------------- 开始 -------------
2023-05-12 12:42:31.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842107364413441 [0;39m ------------- 开始 -------------
2023-05-12 12:42:31.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842107364413442 [0;39m ------------- 开始 -------------
2023-05-12 12:42:31.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842107364413440 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:42:31.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842107364413442 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:42:31.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842107364413441 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:42:31.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842107364413442 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:42:31.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842107364413441 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:42:31.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842107364413442 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:31.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842107364413441 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:31.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842107364413442 [0;39m 请求参数: []
2023-05-12 12:42:31.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842107364413440 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:42:31.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842107364413441 [0;39m 请求参数: []
2023-05-12 12:42:31.727 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842107364413440 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:31.728 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842107364413440 [0;39m 请求参数: []
2023-05-12 12:42:31.728 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37842107364413441 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:42:31.728 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842107364413442 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:42:31.728 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37842107364413440 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:42:31.728 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37842107364413441 [0;39m ==> Parameters: 
2023-05-12 12:42:31.728 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37842107364413440 [0;39m ==> Parameters: 
2023-05-12 12:42:31.728 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842107364413442 [0;39m ==> Parameters: 
2023-05-12 12:42:31.729 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37842107364413440 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:42:31.729 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37842107364413441 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:42:31.729 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:42:31.729 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:42:31.729 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37842107364413440 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:42:31.729 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37842107364413441 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:42:31.729 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:42:31.729 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37842107364413440 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:42:31.729 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37842107364413441 [0;39m <==        Row: 2023-05-12, 22, 8, 12, 1
2023-05-12 12:42:31.729 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:42:31.729 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37842107364413440 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:42:31.729 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:42:31.729 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37842107364413441 [0;39m <==      Total: 2
2023-05-12 12:42:31.729 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37842107364413440 [0;39m <==      Total: 3
2023-05-12 12:42:31.729 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:42:31.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842107364413441 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":22,"viewIncrease":12,"voteCount":8,"voteIncrease":1}],"success":true}
2023-05-12 12:42:31.729 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842107364413440 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:42:31.729 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:42:31.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842107364413441 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:42:31.730 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842107364413440 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:42:31.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:42:31.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:42:31.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:42:31.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:42:31.730 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:42:31.731 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:42:31.731 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:42:31.731 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:42:31.731 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842107364413442 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:42:31.731 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842107364413442 [0;39m <==      Total: 15
2023-05-12 12:42:31.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842107364413442 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:42:31.732 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842107364413442 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:42:33.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842113962053632 [0;39m ------------- 开始 -------------
2023-05-12 12:42:33.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842113962053632 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:42:33.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842113962053632 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:42:33.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842113962053632 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:33.298 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842113962053632 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 12:42:33.299 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842113962053632 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:42:33.299 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842113962053632 [0;39m ==> Parameters: 101(Long)
2023-05-12 12:42:33.299 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842113962053632 [0;39m <==    Columns: count(0)
2023-05-12 12:42:33.299 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842113962053632 [0;39m <==        Row: 1
2023-05-12 12:42:33.299 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842113962053632 [0;39m <==      Total: 1
2023-05-12 12:42:33.299 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842113962053632 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:42:33.299 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842113962053632 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 12:42:33.299 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842113962053632 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:42:33.299 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842113962053632 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:33.299 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842113962053632 [0;39m <==      Total: 1
2023-05-12 12:42:33.299 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37842113962053632 [0;39m 总行数：1
2023-05-12 12:42:33.299 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37842113962053632 [0;39m 总页数：1
2023-05-12 12:42:33.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842113962053632 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-12 12:42:33.299 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842113962053632 [0;39m ------------- 结束 耗时：1 ms -------------
2023-05-12 12:42:33.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842115266482176 [0;39m ------------- 开始 -------------
2023-05-12 12:42:33.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842115266482176 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:42:33.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842115266482176 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:42:33.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842115266482176 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:33.609 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842115266482176 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-12 12:42:33.610 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842115266482176 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:42:33.610 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842115266482176 [0;39m ==> Parameters: 102(Long)
2023-05-12 12:42:33.610 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842115266482176 [0;39m <==    Columns: count(0)
2023-05-12 12:42:33.610 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842115266482176 [0;39m <==        Row: 0
2023-05-12 12:42:33.610 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842115266482176 [0;39m <==      Total: 1
2023-05-12 12:42:33.610 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37842115266482176 [0;39m 总行数：0
2023-05-12 12:42:33.610 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37842115266482176 [0;39m 总页数：0
2023-05-12 12:42:33.610 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842115266482176 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:42:33.610 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842115266482176 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 12:42:33.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842116549939200 [0;39m ------------- 开始 -------------
2023-05-12 12:42:33.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842116549939200 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:42:33.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842116549939200 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:42:33.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842116549939200 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:33.915 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842116549939200 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 12:42:33.917 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842116549939200 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:42:33.917 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842116549939200 [0;39m ==> Parameters: 202(Long)
2023-05-12 12:42:33.917 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842116549939200 [0;39m <==    Columns: count(0)
2023-05-12 12:42:33.917 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842116549939200 [0;39m <==        Row: 1
2023-05-12 12:42:33.917 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842116549939200 [0;39m <==      Total: 1
2023-05-12 12:42:33.917 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842116549939200 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:42:33.917 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842116549939200 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 12:42:33.917 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842116549939200 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:42:33.917 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842116549939200 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 22, 8
2023-05-12 12:42:33.917 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842116549939200 [0;39m <==      Total: 1
2023-05-12 12:42:33.917 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37842116549939200 [0;39m 总行数：1
2023-05-12 12:42:33.917 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37842116549939200 [0;39m 总页数：1
2023-05-12 12:42:33.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842116549939200 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":22,"voteCount":8}],"total":1},"success":true}
2023-05-12 12:42:33.917 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842116549939200 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-12 12:42:34.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842118538039296 [0;39m ------------- 开始 -------------
2023-05-12 12:42:34.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842118538039296 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:42:34.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842118538039296 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:42:34.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842118538039296 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:34.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842118538039296 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-12 12:42:34.389 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842118538039296 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:42:34.389 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842118538039296 [0;39m ==> Parameters: 201(Long)
2023-05-12 12:42:34.389 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842118538039296 [0;39m <==    Columns: count(0)
2023-05-12 12:42:34.389 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842118538039296 [0;39m <==        Row: 0
2023-05-12 12:42:34.389 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842118538039296 [0;39m <==      Total: 1
2023-05-12 12:42:34.389 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37842118538039296 [0;39m 总行数：0
2023-05-12 12:42:34.389 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37842118538039296 [0;39m 总页数：0
2023-05-12 12:42:34.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842118538039296 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:42:34.389 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842118538039296 [0;39m ------------- 结束 耗时：0 ms -------------
2023-05-12 12:42:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37842121125924864 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:42:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842121125924864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:42:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842121125924864 [0;39m ==> Parameters: 
2023-05-12 12:42:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842121125924864 [0;39m <==    Updates: 1
2023-05-12 12:42:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37842121125924864 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-12 12:42:35.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842123789307904 [0;39m ------------- 开始 -------------
2023-05-12 12:42:35.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842123789307904 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:42:35.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842123789307904 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:42:35.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842123789307904 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:35.641 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842123789307904 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 12:42:35.641 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842123789307904 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:42:35.641 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842123789307904 [0;39m ==> Parameters: 202(Long)
2023-05-12 12:42:35.641 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842123789307904 [0;39m <==    Columns: count(0)
2023-05-12 12:42:35.644 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842123789307904 [0;39m <==        Row: 1
2023-05-12 12:42:35.644 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842123789307904 [0;39m <==      Total: 1
2023-05-12 12:42:35.644 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842123789307904 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:42:35.645 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842123789307904 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 12:42:35.645 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842123789307904 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:42:35.645 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842123789307904 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 25, 9
2023-05-12 12:42:35.645 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842123789307904 [0;39m <==      Total: 1
2023-05-12 12:42:35.645 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37842123789307904 [0;39m 总行数：1
2023-05-12 12:42:35.645 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37842123789307904 [0;39m 总页数：1
2023-05-12 12:42:35.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842123789307904 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":25,"voteCount":9}],"total":1},"success":true}
2023-05-12 12:42:35.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842123789307904 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:42:36.153 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m37842102486437888 [0;39m 连接关闭，token：6KcjvGAHtK，session id：4！当前连接数：0
2023-05-12 12:42:38.023 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m37842104025747456 [0;39m 有新连接：token：Fgbrne9I4k，session id：5，当前连接数：1
2023-05-12 12:42:38.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842137433378816 [0;39m ------------- 开始 -------------
2023-05-12 12:42:38.894 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842137433378816 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:42:38.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842137433378816 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:42:38.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842137433378816 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:38.895 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842137433378816 [0;39m 请求参数: []
2023-05-12 12:42:38.896 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842137433378816 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:42:38.896 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842137433378816 [0;39m ==> Parameters: 
2023-05-12 12:42:38.896 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:42:38.896 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:42:38.896 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:42:38.896 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:42:38.898 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:42:38.898 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:42:38.898 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:42:38.898 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:42:38.898 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:42:38.898 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:42:38.899 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:42:38.899 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:42:38.899 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:42:38.899 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:42:38.899 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:42:38.905 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842137433378816 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:42:38.905 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842137433378816 [0;39m <==      Total: 15
2023-05-12 12:42:38.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842137433378816 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:42:38.906 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842137433378816 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 12:42:38.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842137550819328 [0;39m ------------- 开始 -------------
2023-05-12 12:42:38.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842137550819328 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:42:38.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842137550819328 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:42:38.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842137550819328 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:38.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842137550819328 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:42:38.922 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842137550819328 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 12:42:38.922 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842137550819328 [0;39m ==> Parameters: 
2023-05-12 12:42:38.922 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842137550819328 [0;39m <==    Columns: count(0)
2023-05-12 12:42:38.922 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842137550819328 [0;39m <==        Row: 5
2023-05-12 12:42:38.922 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842137550819328 [0;39m <==      Total: 1
2023-05-12 12:42:38.922 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842137550819328 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 12:42:38.922 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842137550819328 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:42:38.922 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842137550819328 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:42:38.922 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842137550819328 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 25, 9
2023-05-12 12:42:38.922 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842137550819328 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:38.922 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842137550819328 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:38.922 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842137550819328 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:38.922 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842137550819328 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:38.928 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842137550819328 [0;39m <==      Total: 5
2023-05-12 12:42:38.929 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37842137550819328 [0;39m 总行数：5
2023-05-12 12:42:38.929 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37842137550819328 [0;39m 总页数：1
2023-05-12 12:42:38.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842137550819328 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":25,"voteCount":9},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-12 12:42:38.929 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842137550819328 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:42:39.810 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37842107364413442 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:42:39.810 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37842107364413442 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:42:39.811 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37842107364413442 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:42:39.811 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37842107364413442 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:42:39.811 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842141279555584 [0;39m ------------- 开始 -------------
2023-05-12 12:42:39.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842141279555584 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:42:39.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842141279555584 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:42:39.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842141279555584 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:39.812 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842141279555584 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:42:39.813 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842141279555584 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:42:39.813 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842141279555584 [0;39m ==> Parameters: 
2023-05-12 12:42:39.814 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37842141279555584 [0;39m <==    Columns: count(0)
2023-05-12 12:42:39.814 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37842141279555584 [0;39m <==        Row: 6
2023-05-12 12:42:39.814 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842141279555584 [0;39m <==      Total: 1
2023-05-12 12:42:39.815 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842141279555584 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:42:39.815 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842141279555584 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:42:39.816 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842141279555584 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:42:39.816 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842141279555584 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:42:39.816 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842141279555584 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:42:39.817 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842141279555584 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:42:39.817 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842141279555584 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:42:39.817 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842141279555584 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:42:39.817 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842141279555584 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:42:39.817 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842141279555584 [0;39m <==      Total: 6
2023-05-12 12:42:39.818 INFO  com.jiawa.wiki.service.UserService                :50   [32m37842141279555584 [0;39m 总行数：6
2023-05-12 12:42:39.818 INFO  com.jiawa.wiki.service.UserService                :51   [32m37842141279555584 [0;39m 总页数：1
2023-05-12 12:42:39.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842141279555584 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:42:39.818 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842141279555584 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:42:39.819 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37842141279555584 [0;39m ------------- LoginInterceptor 结束 耗时：9 ms -------------
2023-05-12 12:42:40.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842143859052544 [0;39m ------------- 开始 -------------
2023-05-12 12:42:40.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842143859052544 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:42:40.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842143859052544 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:42:40.426 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842143859052544 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:40.427 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842143859052544 [0;39m 请求参数: []
2023-05-12 12:42:40.427 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842143859052544 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:42:40.427 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842143859052544 [0;39m ==> Parameters: 
2023-05-12 12:42:40.428 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:42:40.428 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:42:40.428 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:42:40.428 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:42:40.429 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:42:40.429 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:42:40.429 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:42:40.429 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:42:40.429 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:42:40.429 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:42:40.430 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:42:40.430 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:42:40.430 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:42:40.430 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:42:40.430 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:42:40.431 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842143859052544 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:42:40.431 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842143859052544 [0;39m <==      Total: 15
2023-05-12 12:42:40.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842143859052544 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:42:40.431 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842143859052544 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:42:40.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842143938744320 [0;39m ------------- 开始 -------------
2023-05-12 12:42:40.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842143938744320 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:42:40.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842143938744320 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:42:40.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842143938744320 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:40.445 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842143938744320 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:42:40.445 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842143938744320 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 12:42:40.445 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842143938744320 [0;39m ==> Parameters: 
2023-05-12 12:42:40.445 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842143938744320 [0;39m <==    Columns: count(0)
2023-05-12 12:42:40.445 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842143938744320 [0;39m <==        Row: 5
2023-05-12 12:42:40.445 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842143938744320 [0;39m <==      Total: 1
2023-05-12 12:42:40.445 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842143938744320 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 12:42:40.445 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842143938744320 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:42:40.445 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842143938744320 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:42:40.445 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842143938744320 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 25, 9
2023-05-12 12:42:40.445 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842143938744320 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:40.445 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842143938744320 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:40.445 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842143938744320 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:40.445 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842143938744320 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:40.445 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842143938744320 [0;39m <==      Total: 5
2023-05-12 12:42:40.445 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37842143938744320 [0;39m 总行数：5
2023-05-12 12:42:40.445 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37842143938744320 [0;39m 总页数：1
2023-05-12 12:42:40.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842143938744320 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":25,"voteCount":9},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-12 12:42:40.450 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842143938744320 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:42:40.840 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37842116549939200 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:42:40.840 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37842116549939200 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:42:40.840 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37842116549939200 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:42:40.842 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37842116549939200 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:42:40.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842145603883008 [0;39m ------------- 开始 -------------
2023-05-12 12:42:40.842 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842145603883008 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:42:40.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842145603883008 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:42:40.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842145603883008 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:40.843 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842145603883008 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:42:40.844 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842145603883008 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:42:40.844 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842145603883008 [0;39m ==> Parameters: 
2023-05-12 12:42:40.846 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37842145603883008 [0;39m <==    Columns: count(0)
2023-05-12 12:42:40.846 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37842145603883008 [0;39m <==        Row: 6
2023-05-12 12:42:40.846 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842145603883008 [0;39m <==      Total: 1
2023-05-12 12:42:40.846 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842145603883008 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:42:40.846 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842145603883008 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:42:40.847 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842145603883008 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:42:40.847 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842145603883008 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:42:40.847 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842145603883008 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:42:40.847 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842145603883008 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:42:40.847 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842145603883008 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:42:40.847 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842145603883008 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:42:40.848 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842145603883008 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:42:40.848 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842145603883008 [0;39m <==      Total: 6
2023-05-12 12:42:40.848 INFO  com.jiawa.wiki.service.UserService                :50   [32m37842145603883008 [0;39m 总行数：6
2023-05-12 12:42:40.848 INFO  com.jiawa.wiki.service.UserService                :51   [32m37842145603883008 [0;39m 总页数：1
2023-05-12 12:42:40.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842145603883008 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:42:40.848 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842145603883008 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:42:40.848 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37842145603883008 [0;39m ------------- LoginInterceptor 结束 耗时：8 ms -------------
2023-05-12 12:42:42.453 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842152360906752 [0;39m ------------- 开始 -------------
2023-05-12 12:42:42.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842152360906752 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:42:42.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842152360906752 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:42:42.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842152360906752 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:42.454 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842152360906752 [0;39m 请求参数: []
2023-05-12 12:42:42.455 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842152360906752 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:42:42.455 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842152360906752 [0;39m ==> Parameters: 
2023-05-12 12:42:42.455 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:42:42.455 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:42:42.456 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:42:42.456 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:42:42.456 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:42:42.456 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:42:42.456 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:42:42.456 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:42:42.456 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:42:42.456 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:42:42.456 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:42:42.458 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:42:42.458 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:42:42.458 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:42:42.458 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:42:42.458 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842152360906752 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:42:42.458 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842152360906752 [0;39m <==      Total: 15
2023-05-12 12:42:42.458 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842152360906752 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:42:42.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842152360906752 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:42:42.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842152432209920 [0;39m ------------- 开始 -------------
2023-05-12 12:42:42.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842152432209920 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:42:42.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842152432209920 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:42:42.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842152432209920 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:42.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842152432209920 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:42:42.471 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842152432209920 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 12:42:42.471 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842152432209920 [0;39m ==> Parameters: 
2023-05-12 12:42:42.471 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842152432209920 [0;39m <==    Columns: count(0)
2023-05-12 12:42:42.471 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842152432209920 [0;39m <==        Row: 5
2023-05-12 12:42:42.471 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842152432209920 [0;39m <==      Total: 1
2023-05-12 12:42:42.471 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842152432209920 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 12:42:42.471 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842152432209920 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:42:42.471 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842152432209920 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:42:42.471 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842152432209920 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 25, 9
2023-05-12 12:42:42.471 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842152432209920 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:42.471 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842152432209920 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:42.471 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842152432209920 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:42.471 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842152432209920 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:42.471 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842152432209920 [0;39m <==      Total: 5
2023-05-12 12:42:42.471 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37842152432209920 [0;39m 总行数：5
2023-05-12 12:42:42.471 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37842152432209920 [0;39m 总页数：1
2023-05-12 12:42:42.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842152432209920 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":25,"voteCount":9},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-12 12:42:42.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842152432209920 [0;39m ------------- 结束 耗时：1 ms -------------
2023-05-12 12:42:46.405 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37842102486437888 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:42:46.405 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37842102486437888 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:42:46.405 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37842102486437888 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:42:46.410 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37842102486437888 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:42:46.410 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842168957767680 [0;39m ------------- 开始 -------------
2023-05-12 12:42:46.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842168957767680 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:42:46.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842168957767680 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:42:46.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842168957767680 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:46.411 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842168957767680 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:42:46.412 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842168957767680 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:42:46.412 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842168957767680 [0;39m ==> Parameters: 
2023-05-12 12:42:46.414 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37842168957767680 [0;39m <==    Columns: count(0)
2023-05-12 12:42:46.414 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37842168957767680 [0;39m <==        Row: 6
2023-05-12 12:42:46.414 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37842168957767680 [0;39m <==      Total: 1
2023-05-12 12:42:46.415 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842168957767680 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:42:46.415 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842168957767680 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:42:46.416 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842168957767680 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:42:46.416 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842168957767680 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:42:46.416 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842168957767680 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:42:46.416 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842168957767680 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:42:46.416 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842168957767680 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:42:46.416 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842168957767680 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:42:46.416 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37842168957767680 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:42:46.416 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37842168957767680 [0;39m <==      Total: 6
2023-05-12 12:42:46.418 INFO  com.jiawa.wiki.service.UserService                :50   [32m37842168957767680 [0;39m 总行数：6
2023-05-12 12:42:46.418 INFO  com.jiawa.wiki.service.UserService                :51   [32m37842168957767680 [0;39m 总页数：1
2023-05-12 12:42:46.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842168957767680 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:42:46.418 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842168957767680 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 12:42:46.419 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37842168957767680 [0;39m ------------- LoginInterceptor 结束 耗时：14 ms -------------
2023-05-12 12:42:58.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842217712357376 [0;39m ------------- 开始 -------------
2023-05-12 12:42:58.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842217712357376 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:42:58.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842217712357376 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:42:58.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842217712357376 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:58.034 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842217712357376 [0;39m 请求参数: []
2023-05-12 12:42:58.034 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842217712357376 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:42:58.035 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842217712357376 [0;39m ==> Parameters: 
2023-05-12 12:42:58.035 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:42:58.035 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:42:58.036 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:42:58.036 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:42:58.036 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:42:58.036 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:42:58.036 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:42:58.036 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:42:58.036 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:42:58.037 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:42:58.037 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:42:58.037 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:42:58.037 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:42:58.037 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:42:58.037 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:42:58.037 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842217712357376 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:42:58.037 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842217712357376 [0;39m <==      Total: 15
2023-05-12 12:42:58.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842217712357376 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:42:58.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842217712357376 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:42:58.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842217783660544 [0;39m ------------- 开始 -------------
2023-05-12 12:42:58.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842217783660544 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:42:58.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842217783660544 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:42:58.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842217783660544 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:42:58.051 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842217783660544 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:42:58.052 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842217783660544 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 12:42:58.052 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842217783660544 [0;39m ==> Parameters: 
2023-05-12 12:42:58.054 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842217783660544 [0;39m <==    Columns: count(0)
2023-05-12 12:42:58.054 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37842217783660544 [0;39m <==        Row: 5
2023-05-12 12:42:58.054 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37842217783660544 [0;39m <==      Total: 1
2023-05-12 12:42:58.054 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842217783660544 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 12:42:58.054 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842217783660544 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:42:58.055 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842217783660544 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:42:58.055 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842217783660544 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 25, 9
2023-05-12 12:42:58.055 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842217783660544 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:58.055 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842217783660544 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:58.055 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842217783660544 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:58.055 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37842217783660544 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:42:58.055 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37842217783660544 [0;39m <==      Total: 5
2023-05-12 12:42:58.055 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37842217783660544 [0;39m 总行数：5
2023-05-12 12:42:58.055 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37842217783660544 [0;39m 总页数：1
2023-05-12 12:42:58.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842217783660544 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":25,"voteCount":9},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-12 12:42:58.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842217783660544 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:43:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37842225979330560 [0;39m 生成今日电子书快照开始
2023-05-12 12:43:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37842225979330560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:43:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37842225979330560 [0;39m ==> Parameters: 
2023-05-12 12:43:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37842225979330560 [0;39m <==    Updates: 0
2023-05-12 12:43:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37842225979330560 [0;39m 生成今日电子书快照结束，耗时：8毫秒
2023-05-12 12:43:04.080 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37842243071119360 [0;39m ------------- 开始 -------------
2023-05-12 12:43:04.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37842243071119360 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:43:04.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37842243071119360 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:43:04.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37842243071119360 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:43:04.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37842243071119360 [0;39m 请求参数: []
2023-05-12 12:43:04.082 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842243071119360 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:43:04.082 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842243071119360 [0;39m ==> Parameters: 
2023-05-12 12:43:04.083 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:43:04.083 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:43:04.083 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:43:04.083 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:43:04.084 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:43:04.084 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:43:04.084 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:43:04.084 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:43:04.084 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:43:04.084 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:43:04.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:43:04.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:43:04.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:43:04.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:43:04.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:43:04.085 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37842243071119360 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:43:04.086 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37842243071119360 [0;39m <==      Total: 15
2023-05-12 12:43:04.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37842243071119360 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:43:04.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37842243071119360 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:43:05.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37842246946656256 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:43:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842246946656256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:43:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842246946656256 [0;39m ==> Parameters: 
2023-05-12 12:43:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842246946656256 [0;39m <==    Updates: 1
2023-05-12 12:43:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37842246946656256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 12:43:35.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37842372830302208 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:43:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842372830302208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:43:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842372830302208 [0;39m ==> Parameters: 
2023-05-12 12:43:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842372830302208 [0;39m <==    Updates: 1
2023-05-12 12:43:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37842372830302208 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:44:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37842477645959168 [0;39m 生成今日电子书快照开始
2023-05-12 12:44:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37842477645959168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:44:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37842477645959168 [0;39m ==> Parameters: 
2023-05-12 12:44:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37842477645959168 [0;39m <==    Updates: 0
2023-05-12 12:44:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37842477645959168 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 12:44:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37842498659422208 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:44:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842498659422208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:44:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842498659422208 [0;39m ==> Parameters: 
2023-05-12 12:44:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842498659422208 [0;39m <==    Updates: 1
2023-05-12 12:44:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37842498659422208 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:44:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37842624475959296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:44:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842624475959296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:44:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842624475959296 [0;39m ==> Parameters: 
2023-05-12 12:44:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842624475959296 [0;39m <==    Updates: 1
2023-05-12 12:44:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37842624475959296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:45:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37842729308393472 [0;39m 生成今日电子书快照开始
2023-05-12 12:45:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37842729308393472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:45:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37842729308393472 [0;39m ==> Parameters: 
2023-05-12 12:45:00.024 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37842729308393472 [0;39m <==    Updates: 0
2023-05-12 12:45:00.024 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37842729308393472 [0;39m 生成今日电子书快照结束，耗时：16毫秒
2023-05-12 12:45:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37842750305079296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:45:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842750305079296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:45:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842750305079296 [0;39m ==> Parameters: 
2023-05-12 12:45:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842750305079296 [0;39m <==    Updates: 1
2023-05-12 12:45:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37842750305079296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:45:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37842876117422080 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:45:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842876117422080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:45:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842876117422080 [0;39m ==> Parameters: 
2023-05-12 12:45:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37842876117422080 [0;39m <==    Updates: 1
2023-05-12 12:45:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37842876117422080 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:46:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37842980966633472 [0;39m 生成今日电子书快照开始
2023-05-12 12:46:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37842980966633472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:46:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37842980966633472 [0;39m ==> Parameters: 
2023-05-12 12:46:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37842980966633472 [0;39m <==    Updates: 0
2023-05-12 12:46:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37842980966633472 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 12:46:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37843001963319296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:46:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843001963319296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:46:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843001963319296 [0;39m ==> Parameters: 
2023-05-12 12:46:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843001963319296 [0;39m <==    Updates: 1
2023-05-12 12:46:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37843001963319296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:46:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37843127792439296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:46:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843127792439296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:46:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843127792439296 [0;39m ==> Parameters: 
2023-05-12 12:46:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843127792439296 [0;39m <==    Updates: 1
2023-05-12 12:46:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37843127792439296 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 12:47:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37843232658427904 [0;39m 生成今日电子书快照开始
2023-05-12 12:47:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37843232658427904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:47:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37843232658427904 [0;39m ==> Parameters: 
2023-05-12 12:47:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37843232658427904 [0;39m <==    Updates: 0
2023-05-12 12:47:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37843232658427904 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 12:47:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37843253625753600 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:47:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843253625753600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:47:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843253625753600 [0;39m ==> Parameters: 
2023-05-12 12:47:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843253625753600 [0;39m <==    Updates: 1
2023-05-12 12:47:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37843253625753600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:47:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37843379425513472 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:47:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843379425513472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:47:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843379425513472 [0;39m ==> Parameters: 
2023-05-12 12:47:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843379425513472 [0;39m <==    Updates: 1
2023-05-12 12:47:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37843379425513472 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 12:48:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37843484316667904 [0;39m 生成今日电子书快照开始
2023-05-12 12:48:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37843484316667904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:48:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37843484316667904 [0;39m ==> Parameters: 
2023-05-12 12:48:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37843484316667904 [0;39m <==    Updates: 0
2023-05-12 12:48:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37843484316667904 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 12:48:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37843505288187904 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:48:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843505288187904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:48:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843505288187904 [0;39m ==> Parameters: 
2023-05-12 12:48:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843505288187904 [0;39m <==    Updates: 1
2023-05-12 12:48:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37843505288187904 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 12:48:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37843631113113600 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:48:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843631113113600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:48:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843631113113600 [0;39m ==> Parameters: 
2023-05-12 12:48:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843631113113600 [0;39m <==    Updates: 1
2023-05-12 12:48:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37843631113113600 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 12:49:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37843735962324992 [0;39m 生成今日电子书快照开始
2023-05-12 12:49:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37843735962324992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:49:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37843735962324992 [0;39m ==> Parameters: 
2023-05-12 12:49:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37843735962324992 [0;39m <==    Updates: 0
2023-05-12 12:49:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37843735962324992 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 12:49:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37843756912873472 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:49:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843756912873472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:49:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843756912873472 [0;39m ==> Parameters: 
2023-05-12 12:49:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843756912873472 [0;39m <==    Updates: 1
2023-05-12 12:49:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37843756912873472 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 12:49:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37843882737799168 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:49:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843882737799168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:49:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843882737799168 [0;39m ==> Parameters: 
2023-05-12 12:49:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37843882737799168 [0;39m <==    Updates: 1
2023-05-12 12:49:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37843882737799168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:50:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37843987633147904 [0;39m 生成今日电子书快照开始
2023-05-12 12:50:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37843987633147904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:50:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37843987633147904 [0;39m ==> Parameters: 
2023-05-12 12:50:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37843987633147904 [0;39m <==    Updates: 0
2023-05-12 12:50:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37843987633147904 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 12:50:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37844008592084992 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:50:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844008592084992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:50:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844008592084992 [0;39m ==> Parameters: 
2023-05-12 12:50:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844008592084992 [0;39m <==    Updates: 1
2023-05-12 12:50:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37844008592084992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:50:06.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844012958355456 [0;39m ------------- 开始 -------------
2023-05-12 12:50:06.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844012958355456 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:50:06.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844012958355456 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:50:06.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844012958355456 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:06.054 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844012958355456 [0;39m 请求参数: []
2023-05-12 12:50:06.055 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844012958355456 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:50:06.055 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844012958355456 [0;39m ==> Parameters: 
2023-05-12 12:50:06.056 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:50:06.056 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:50:06.056 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:50:06.056 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:50:06.056 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:50:06.056 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:50:06.056 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:50:06.058 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:50:06.058 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:50:06.058 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:50:06.058 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:50:06.058 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:50:06.058 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:50:06.058 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:50:06.058 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:50:06.058 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844012958355456 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:50:06.059 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844012958355456 [0;39m <==      Total: 15
2023-05-12 12:50:06.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844012958355456 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:50:06.059 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844012958355456 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:50:06.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844013105156096 [0;39m ------------- 开始 -------------
2023-05-12 12:50:06.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844013105156096 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:50:06.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844013105156096 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:50:06.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844013105156096 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:06.089 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844013105156096 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:50:06.090 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844013105156096 [0;39m ==>  Preparing: SELECT count(0) FROM ebook
2023-05-12 12:50:06.090 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844013105156096 [0;39m ==> Parameters: 
2023-05-12 12:50:06.097 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844013105156096 [0;39m <==    Columns: count(0)
2023-05-12 12:50:06.097 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844013105156096 [0;39m <==        Row: 5
2023-05-12 12:50:06.097 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844013105156096 [0;39m <==      Total: 1
2023-05-12 12:50:06.098 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844013105156096 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook LIMIT ?
2023-05-12 12:50:06.098 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844013105156096 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:50:06.099 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844013105156096 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:50:06.099 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844013105156096 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 25, 9
2023-05-12 12:50:06.099 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844013105156096 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:50:06.099 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844013105156096 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:50:06.099 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844013105156096 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:50:06.100 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844013105156096 [0;39m <==        Row: 5, Oracle 入门教程, null, null, 零基础入门 Oracle 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:50:06.100 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844013105156096 [0;39m <==      Total: 5
2023-05-12 12:50:06.100 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844013105156096 [0;39m 总行数：5
2023-05-12 12:50:06.100 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844013105156096 [0;39m 总页数：1
2023-05-12 12:50:06.100 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844013105156096 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":25,"voteCount":9},{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0},{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0},{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0},{"description":"零基础入门 Oracle 开发，企业级应用开发最佳首选框架","docCount":0,"id":5,"name":"Oracle 入门教程","viewCount":0,"voteCount":0}],"total":5},"success":true}
2023-05-12 12:50:06.101 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844013105156096 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 12:50:07.560 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :32   [32m37842152432209920 [0;39m ------------- LoginInterceptor 开始 -------------
2023-05-12 12:50:07.561 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :43   [32m37842152432209920 [0;39m 接口登录拦截：，path：http://127.0.0.1:8880/user/list
2023-05-12 12:50:07.561 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :47   [32m37842152432209920 [0;39m 登录校验开始，token：37818775952822272
2023-05-12 12:50:07.561 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :59   [32m37842152432209920 [0;39m 已登录：{"id":37814121005191173,"loginName":"c","name":"c","token":"37818775952822272"}
2023-05-12 12:50:07.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844019283365888 [0;39m ------------- 开始 -------------
2023-05-12 12:50:07.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844019283365888 [0;39m 请求地址: http://127.0.0.1:8880/user/list GET
2023-05-12 12:50:07.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844019283365888 [0;39m 类名方法: com.jiawa.wiki.controller.UserController.list
2023-05-12 12:50:07.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844019283365888 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:07.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844019283365888 [0;39m 请求参数: [{"page":1,"size":10}]
2023-05-12 12:50:07.563 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37844019283365888 [0;39m ==>  Preparing: SELECT count(0) FROM user
2023-05-12 12:50:07.563 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37844019283365888 [0;39m ==> Parameters: 
2023-05-12 12:50:07.565 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37844019283365888 [0;39m <==    Columns: count(0)
2023-05-12 12:50:07.565 TRACE c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :143  [32m37844019283365888 [0;39m <==        Row: 6
2023-05-12 12:50:07.565 DEBUG c.j.wiki.mapper.UserMapper.selectByExample_COUNT  :137  [32m37844019283365888 [0;39m <==      Total: 1
2023-05-12 12:50:07.565 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37844019283365888 [0;39m ==>  Preparing: select id, login_name, `name`, `password` from user LIMIT ?
2023-05-12 12:50:07.565 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37844019283365888 [0;39m ==> Parameters: 10(Integer)
2023-05-12 12:50:07.566 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37844019283365888 [0;39m <==    Columns: id, login_name, name, password
2023-05-12 12:50:07.566 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37844019283365888 [0;39m <==        Row: 1, test, 测试, db0887127059810ba9f80186d795edb5
2023-05-12 12:50:07.566 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37844019283365888 [0;39m <==        Row: 37814121005191169, 1, 1, c4ca4238a0b923820dcc509a6f75849b
2023-05-12 12:50:07.566 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37844019283365888 [0;39m <==        Row: 37814121005191170, 2, 2, c81e728d9d4c2f636f067f89cc14862c
2023-05-12 12:50:07.566 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37844019283365888 [0;39m <==        Row: 37814121005191171, 4, 4, 8621246ddb05c1bc6cba1e463a90ad23
2023-05-12 12:50:07.566 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37844019283365888 [0;39m <==        Row: 37814121005191172, s, s, 03c7c0ace395d80182db07ae2c30f034
2023-05-12 12:50:07.566 TRACE com.jiawa.wiki.mapper.UserMapper.selectByExample  :143  [32m37844019283365888 [0;39m <==        Row: 37814121005191173, c, c, 8e30ae412d4db47c704dca300d053a8f
2023-05-12 12:50:07.567 DEBUG com.jiawa.wiki.mapper.UserMapper.selectByExample  :137  [32m37844019283365888 [0;39m <==      Total: 6
2023-05-12 12:50:07.567 INFO  com.jiawa.wiki.service.UserService                :50   [32m37844019283365888 [0;39m 总行数：6
2023-05-12 12:50:07.567 INFO  com.jiawa.wiki.service.UserService                :51   [32m37844019283365888 [0;39m 总页数：1
2023-05-12 12:50:07.567 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844019283365888 [0;39m 返回结果: {"content":{"list":[{"id":1,"loginName":"test","name":"测试"},{"id":37814121005191169,"loginName":"1","name":"1"},{"id":37814121005191170,"loginName":"2","name":"2"},{"id":37814121005191171,"loginName":"4","name":"4"},{"id":37814121005191172,"loginName":"s","name":"s"},{"id":37814121005191173,"loginName":"c","name":"c"}],"total":6},"success":true}
2023-05-12 12:50:07.568 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844019283365888 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:50:07.568 INFO  com.jiawa.wiki.interceptor.LoginInterceptor       :68   [32m37844019283365888 [0;39m ------------- LoginInterceptor 结束 耗时：7 ms -------------
2023-05-12 12:50:09.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844026078138368 [0;39m ------------- 开始 -------------
2023-05-12 12:50:09.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844026078138369 [0;39m ------------- 开始 -------------
2023-05-12 12:50:09.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844026078138368 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:50:09.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844026078138369 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:50:09.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844026078138368 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:50:09.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844026078138369 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:50:09.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844026078138368 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:09.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844026078138369 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:09.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844026078138368 [0;39m 请求参数: []
2023-05-12 12:50:09.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844026078138369 [0;39m 请求参数: []
2023-05-12 12:50:09.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844026082332672 [0;39m ------------- 开始 -------------
2023-05-12 12:50:09.183 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844026078138368 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:50:09.183 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844026078138369 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:50:09.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844026082332672 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:50:09.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844026082332672 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:50:09.183 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844026078138368 [0;39m ==> Parameters: 
2023-05-12 12:50:09.183 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844026078138369 [0;39m ==> Parameters: 
2023-05-12 12:50:09.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844026082332672 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:09.184 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844026082332672 [0;39m 请求参数: []
2023-05-12 12:50:09.184 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844026082332672 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:50:09.184 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844026078138369 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:50:09.184 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844026078138368 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:50:09.184 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844026082332672 [0;39m ==> Parameters: 
2023-05-12 12:50:09.184 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844026078138369 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:50:09.184 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844026078138368 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:50:09.185 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844026078138369 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:50:09.185 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:50:09.185 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844026078138368 [0;39m <==        Row: 2023-05-12, 25, 9, 15, 2
2023-05-12 12:50:09.185 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:50:09.185 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844026078138369 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:50:09.185 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844026078138368 [0;39m <==      Total: 2
2023-05-12 12:50:09.185 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844026078138369 [0;39m <==      Total: 3
2023-05-12 12:50:09.185 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:50:09.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844026078138368 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":25,"viewIncrease":15,"voteCount":9,"voteIncrease":2}],"success":true}
2023-05-12 12:50:09.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844026078138369 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:50:09.185 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:50:09.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844026078138368 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 12:50:09.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844026078138369 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 12:50:09.185 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:50:09.185 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:50:09.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:50:09.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:50:09.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:50:09.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:50:09.186 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:50:09.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:50:09.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:50:09.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:50:09.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:50:09.187 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844026082332672 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:50:09.187 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844026082332672 [0;39m <==      Total: 15
2023-05-12 12:50:09.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844026082332672 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:50:09.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844026082332672 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:50:11.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844033858572288 [0;39m ------------- 开始 -------------
2023-05-12 12:50:11.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844033858572288 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:50:11.037 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844033858572288 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:50:11.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844033858572288 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:11.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844033858572288 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-12 12:50:11.038 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844033858572288 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:50:11.038 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844033858572288 [0;39m ==> Parameters: 201(Long)
2023-05-12 12:50:11.038 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844033858572288 [0;39m <==    Columns: count(0)
2023-05-12 12:50:11.038 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844033858572288 [0;39m <==        Row: 0
2023-05-12 12:50:11.038 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844033858572288 [0;39m <==      Total: 1
2023-05-12 12:50:11.038 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844033858572288 [0;39m 总行数：0
2023-05-12 12:50:11.038 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844033858572288 [0;39m 总页数：0
2023-05-12 12:50:11.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844033858572288 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:50:11.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844033858572288 [0;39m ------------- 结束 耗时：1 ms -------------
2023-05-12 12:50:11.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844037281124352 [0;39m ------------- 开始 -------------
2023-05-12 12:50:11.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844037281124352 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:50:11.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844037281124352 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:50:11.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844037281124352 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:11.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844037281124352 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 12:50:11.855 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844037281124352 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:50:11.855 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844037281124352 [0;39m ==> Parameters: 202(Long)
2023-05-12 12:50:11.855 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844037281124352 [0;39m <==    Columns: count(0)
2023-05-12 12:50:11.855 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844037281124352 [0;39m <==        Row: 1
2023-05-12 12:50:11.855 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844037281124352 [0;39m <==      Total: 1
2023-05-12 12:50:11.855 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844037281124352 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:50:11.855 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844037281124352 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 12:50:11.855 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844037281124352 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:50:11.855 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844037281124352 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 25, 9
2023-05-12 12:50:11.855 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844037281124352 [0;39m <==      Total: 1
2023-05-12 12:50:11.855 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844037281124352 [0;39m 总行数：1
2023-05-12 12:50:11.855 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844037281124352 [0;39m 总页数：1
2023-05-12 12:50:11.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844037281124352 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":25,"voteCount":9}],"total":1},"success":true}
2023-05-12 12:50:11.855 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844037281124352 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-12 12:50:12.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844039931924480 [0;39m ------------- 开始 -------------
2023-05-12 12:50:12.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844039931924480 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:50:12.485 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844039931924480 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:50:12.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844039931924480 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:12.486 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844039931924480 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-12 12:50:12.488 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844039931924480 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:50:12.488 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844039931924480 [0;39m ==> Parameters: 102(Long)
2023-05-12 12:50:12.488 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844039931924480 [0;39m <==    Columns: count(0)
2023-05-12 12:50:12.488 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844039931924480 [0;39m <==        Row: 0
2023-05-12 12:50:12.490 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844039931924480 [0;39m <==      Total: 1
2023-05-12 12:50:12.490 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844039931924480 [0;39m 总行数：0
2023-05-12 12:50:12.490 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844039931924480 [0;39m 总页数：0
2023-05-12 12:50:12.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844039931924480 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:50:12.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844039931924480 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:50:13.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844043023126528 [0;39m ------------- 开始 -------------
2023-05-12 12:50:13.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844043023126528 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:50:13.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844043023126528 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:50:13.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844043023126528 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:13.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844043023126528 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 12:50:13.224 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844043023126528 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:50:13.224 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844043023126528 [0;39m ==> Parameters: 202(Long)
2023-05-12 12:50:13.224 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844043023126528 [0;39m <==    Columns: count(0)
2023-05-12 12:50:13.225 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844043023126528 [0;39m <==        Row: 1
2023-05-12 12:50:13.225 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844043023126528 [0;39m <==      Total: 1
2023-05-12 12:50:13.225 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844043023126528 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:50:13.225 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844043023126528 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 12:50:13.225 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844043023126528 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:50:13.225 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844043023126528 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 25, 9
2023-05-12 12:50:13.225 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844043023126528 [0;39m <==      Total: 1
2023-05-12 12:50:13.225 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844043023126528 [0;39m 总行数：1
2023-05-12 12:50:13.225 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844043023126528 [0;39m 总页数：1
2023-05-12 12:50:13.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844043023126528 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":25,"voteCount":9}],"total":1},"success":true}
2023-05-12 12:50:13.225 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844043023126528 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 12:50:13.927 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844045980110848 [0;39m ------------- 开始 -------------
2023-05-12 12:50:13.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844045980110848 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 12:50:13.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844045980110848 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:50:13.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844045980110848 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:13.928 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844045980110848 [0;39m 请求参数: [1]
2023-05-12 12:50:13.929 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844045980110848 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:50:13.929 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844045980110848 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:50:13.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844045980110848 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:50:13.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844045980110848 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 9, 4
2023-05-12 12:50:13.930 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844045980110848 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 4, 2
2023-05-12 12:50:13.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844045980110848 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 3, 1
2023-05-12 12:50:13.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844045980110848 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 3, 1
2023-05-12 12:50:13.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844045980110848 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 1, 0
2023-05-12 12:50:13.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844045980110848 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 1, 0
2023-05-12 12:50:13.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844045980110848 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 1, 0
2023-05-12 12:50:13.931 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844045980110848 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 3, 1
2023-05-12 12:50:13.931 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844045980110848 [0;39m <==      Total: 8
2023-05-12 12:50:13.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844045980110848 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":9,"voteCount":4},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":4,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":3,"voteCount":1}],"success":true}
2023-05-12 12:50:13.932 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844045980110848 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:50:13.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844046038831104 [0;39m ------------- 开始 -------------
2023-05-12 12:50:13.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844046038831104 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 12:50:13.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844046038831104 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:50:13.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844046038831104 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:13.942 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844046038831104 [0;39m 请求参数: [1]
2023-05-12 12:50:13.943 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37844046038831104 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:50:13.943 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37844046038831104 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:50:13.943 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37844046038831104 [0;39m <==    Columns: id, content
2023-05-12 12:50:13.943 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37844046038831104 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 12:50:13.943 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37844046038831104 [0;39m <==      Total: 1
2023-05-12 12:50:13.945 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37844046038831104 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:50:13.945 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37844046038831104 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:50:13.946 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37844046038831104 [0;39m <==    Updates: 1
2023-05-12 12:50:13.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844046038831104 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 12:50:13.947 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844046038831104 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:50:28.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844108483629056 [0;39m ------------- 开始 -------------
2023-05-12 12:50:28.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844108483629056 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/1 GET
2023-05-12 12:50:28.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844108483629056 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-12 12:50:28.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844108483629056 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:28.829 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844108483629056 [0;39m 请求参数: [1]
2023-05-12 12:50:28.830 INFO  com.jiawa.wiki.util.RedisUtil                     :28   [32m37844108483629056 [0;39m key已存在：DOC_VOTE_1_127.0.0.1
2023-05-12 12:50:28.830 WARN  com.jiawa.wiki.config.ControllerExceptionHandler  :44   [32m37844108483629056 [0;39m 业务异常：您已点赞过
2023-05-12 12:50:28.831 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m37844108483629056 [0;39m Resolved [com.jiawa.wiki.exception.BusinessException: 您已点赞过]
2023-05-12 12:50:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37844134433787904 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:50:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844134433787904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:50:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844134433787904 [0;39m ==> Parameters: 
2023-05-12 12:50:35.022 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844134433787904 [0;39m <==    Updates: 1
2023-05-12 12:50:35.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37844134433787904 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-12 12:50:55.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844220911947776 [0;39m ------------- 开始 -------------
2023-05-12 12:50:55.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844220911947776 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:50:55.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844220911947776 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:50:55.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844220911947776 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:55.635 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844220911947776 [0;39m 请求参数: []
2023-05-12 12:50:55.636 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844220911947776 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:50:55.636 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844220911947776 [0;39m ==> Parameters: 
2023-05-12 12:50:55.637 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844220911947776 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:50:55.637 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844220911947776 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:50:55.638 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844220911947776 [0;39m <==        Row: 2023-05-12, 25, 9, 15, 2
2023-05-12 12:50:55.638 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844220911947776 [0;39m <==      Total: 2
2023-05-12 12:50:55.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844220911947776 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":25,"viewIncrease":15,"voteCount":9,"voteIncrease":2}],"success":true}
2023-05-12 12:50:55.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844220911947776 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:50:55.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844220937113600 [0;39m ------------- 开始 -------------
2023-05-12 12:50:55.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844220937113600 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:50:55.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844220937113600 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:50:55.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844220937113600 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:55.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844220937113600 [0;39m 请求参数: []
2023-05-12 12:50:55.641 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844220937113600 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:50:55.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844220945502208 [0;39m ------------- 开始 -------------
2023-05-12 12:50:55.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844220945502208 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:50:55.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844220945502208 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:50:55.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844220945502208 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:55.642 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844220945502208 [0;39m 请求参数: []
2023-05-12 12:50:55.641 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844220937113600 [0;39m ==> Parameters: 
2023-05-12 12:50:55.642 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844220945502208 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:50:55.643 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844220945502208 [0;39m ==> Parameters: 
2023-05-12 12:50:55.643 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844220937113600 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:50:55.643 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:50:55.643 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844220937113600 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:50:55.643 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:50:55.643 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844220937113600 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:50:55.643 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:50:55.644 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:50:55.644 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844220937113600 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:50:55.644 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:50:55.644 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844220937113600 [0;39m <==      Total: 3
2023-05-12 12:50:55.644 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:50:55.644 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:50:55.644 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:50:55.645 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:50:55.644 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844220937113600 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:50:55.645 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:50:55.645 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844220937113600 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:50:55.645 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:50:55.645 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:50:55.645 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:50:55.645 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:50:55.646 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:50:55.646 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844220945502208 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:50:55.646 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844220945502208 [0;39m <==      Total: 15
2023-05-12 12:50:55.646 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844220945502208 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:50:55.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844220945502208 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:50:56.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844224082841600 [0;39m ------------- 开始 -------------
2023-05-12 12:50:56.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844224082841600 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:50:56.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844224082841600 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:50:56.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844224082841600 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:56.391 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844224082841600 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 12:50:56.393 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844224082841600 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:50:56.393 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844224082841600 [0;39m ==> Parameters: 101(Long)
2023-05-12 12:50:56.394 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844224082841600 [0;39m <==    Columns: count(0)
2023-05-12 12:50:56.394 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844224082841600 [0;39m <==        Row: 1
2023-05-12 12:50:56.395 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844224082841600 [0;39m <==      Total: 1
2023-05-12 12:50:56.395 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844224082841600 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:50:56.395 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844224082841600 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 12:50:56.396 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844224082841600 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:50:56.397 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844224082841600 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:50:56.397 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844224082841600 [0;39m <==      Total: 1
2023-05-12 12:50:56.397 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844224082841600 [0;39m 总行数：1
2023-05-12 12:50:56.397 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844224082841600 [0;39m 总页数：1
2023-05-12 12:50:56.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844224082841600 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-12 12:50:56.398 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844224082841600 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 12:50:57.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844229531242496 [0;39m ------------- 开始 -------------
2023-05-12 12:50:57.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844229531242496 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/2 GET
2023-05-12 12:50:57.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844229531242496 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:50:57.689 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844229531242496 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:57.691 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844229531242496 [0;39m 请求参数: [2]
2023-05-12 12:50:57.692 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844229531242496 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:50:57.692 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844229531242496 [0;39m ==> Parameters: 2(Long)
2023-05-12 12:50:57.693 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844229531242496 [0;39m <==      Total: 0
2023-05-12 12:50:57.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844229531242496 [0;39m 返回结果: {"content":[],"success":true}
2023-05-12 12:50:57.694 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844229531242496 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:50:58.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844234396635137 [0;39m ------------- 开始 -------------
2023-05-12 12:50:58.849 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844234396635136 [0;39m ------------- 开始 -------------
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844234396635137 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844234396635136 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844234396635137 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844234400829440 [0;39m ------------- 开始 -------------
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844234396635137 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844234400829440 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844234396635136 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844234400829440 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844234396635137 [0;39m 请求参数: []
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844234396635136 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844234400829440 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844234396635136 [0;39m 请求参数: []
2023-05-12 12:50:58.850 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844234400829440 [0;39m 请求参数: []
2023-05-12 12:50:58.850 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844234396635136 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:50:58.850 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844234396635137 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:50:58.850 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844234396635137 [0;39m ==> Parameters: 
2023-05-12 12:50:58.850 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844234396635136 [0;39m ==> Parameters: 
2023-05-12 12:50:58.850 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844234400829440 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:50:58.852 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844234400829440 [0;39m ==> Parameters: 
2023-05-12 12:50:58.852 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844234396635137 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:50:58.852 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844234396635136 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:50:58.853 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844234396635137 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:50:58.853 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844234396635136 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:50:58.853 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844234396635137 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:50:58.853 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844234396635136 [0;39m <==        Row: 2023-05-12, 25, 9, 15, 2
2023-05-12 12:50:58.853 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844234396635136 [0;39m <==      Total: 2
2023-05-12 12:50:58.853 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844234396635137 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:50:58.853 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844234396635137 [0;39m <==      Total: 3
2023-05-12 12:50:58.853 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844234396635136 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":25,"viewIncrease":15,"voteCount":9,"voteIncrease":2}],"success":true}
2023-05-12 12:50:58.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844234396635137 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:50:58.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844234396635136 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:50:58.854 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844234396635137 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:50:58.853 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:50:58.854 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:50:58.854 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:50:58.855 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:50:58.855 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:50:58.855 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:50:58.855 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:50:58.855 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:50:58.855 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:50:58.855 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:50:58.856 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:50:58.856 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:50:58.856 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:50:58.857 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:50:58.857 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:50:58.857 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844234400829440 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:50:58.857 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844234400829440 [0;39m <==      Total: 15
2023-05-12 12:50:58.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844234400829440 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:50:58.857 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844234400829440 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:50:59.440 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844236875468800 [0;39m ------------- 开始 -------------
2023-05-12 12:50:59.440 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844236875468800 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:50:59.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844236875468800 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:50:59.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844236875468800 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:50:59.441 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844236875468800 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-12 12:50:59.442 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844236875468800 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:50:59.442 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844236875468800 [0;39m ==> Parameters: 201(Long)
2023-05-12 12:50:59.443 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844236875468800 [0;39m <==    Columns: count(0)
2023-05-12 12:50:59.444 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844236875468800 [0;39m <==        Row: 0
2023-05-12 12:50:59.444 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844236875468800 [0;39m <==      Total: 1
2023-05-12 12:50:59.444 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844236875468800 [0;39m 总行数：0
2023-05-12 12:50:59.444 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844236875468800 [0;39m 总页数：0
2023-05-12 12:50:59.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844236875468800 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:50:59.444 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844236875468800 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:51:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37844239291387904 [0;39m 生成今日电子书快照开始
2023-05-12 12:51:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37844239291387904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:51:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37844239291387904 [0;39m ==> Parameters: 
2023-05-12 12:51:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37844239291387904 [0;39m <==    Updates: 0
2023-05-12 12:51:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37844239291387904 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-12 12:51:00.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844240151220224 [0;39m ------------- 开始 -------------
2023-05-12 12:51:00.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844240151220224 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:51:00.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844240151220224 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:51:00.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844240151220224 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:51:00.222 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844240151220224 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 12:51:00.222 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844240151220224 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:51:00.224 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844240151220224 [0;39m ==> Parameters: 202(Long)
2023-05-12 12:51:00.224 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844240151220224 [0;39m <==    Columns: count(0)
2023-05-12 12:51:00.224 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844240151220224 [0;39m <==        Row: 1
2023-05-12 12:51:00.225 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844240151220224 [0;39m <==      Total: 1
2023-05-12 12:51:00.225 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844240151220224 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:51:00.225 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844240151220224 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 12:51:00.226 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844240151220224 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:51:00.226 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844240151220224 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 26, 9
2023-05-12 12:51:00.226 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844240151220224 [0;39m <==      Total: 1
2023-05-12 12:51:00.226 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844240151220224 [0;39m 总行数：1
2023-05-12 12:51:00.226 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844240151220224 [0;39m 总页数：1
2023-05-12 12:51:00.226 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844240151220224 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":26,"voteCount":9}],"total":1},"success":true}
2023-05-12 12:51:00.226 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844240151220224 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:51:01.081 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844243758321664 [0;39m ------------- 开始 -------------
2023-05-12 12:51:01.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844243758321664 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 12:51:01.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844243758321664 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:51:01.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844243758321664 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:51:01.083 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844243758321664 [0;39m 请求参数: [1]
2023-05-12 12:51:01.084 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844243758321664 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:51:01.084 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844243758321664 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:51:01.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844243758321664 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:51:01.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844243758321664 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 10, 4
2023-05-12 12:51:01.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844243758321664 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 4, 2
2023-05-12 12:51:01.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844243758321664 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 3, 1
2023-05-12 12:51:01.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844243758321664 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 3, 1
2023-05-12 12:51:01.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844243758321664 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 1, 0
2023-05-12 12:51:01.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844243758321664 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 1, 0
2023-05-12 12:51:01.085 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844243758321664 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 1, 0
2023-05-12 12:51:01.086 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844243758321664 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 3, 1
2023-05-12 12:51:01.086 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844243758321664 [0;39m <==      Total: 8
2023-05-12 12:51:01.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844243758321664 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":10,"voteCount":4},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":4,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":3,"voteCount":1}],"success":true}
2023-05-12 12:51:01.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844243758321664 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:51:01.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844243812847616 [0;39m ------------- 开始 -------------
2023-05-12 12:51:01.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844243812847616 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 12:51:01.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844243812847616 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:51:01.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844243812847616 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:51:01.094 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844243812847616 [0;39m 请求参数: [1]
2023-05-12 12:51:01.095 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37844243812847616 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:51:01.095 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37844243812847616 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:51:01.096 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37844243812847616 [0;39m <==    Columns: id, content
2023-05-12 12:51:01.096 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37844243812847616 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 12:51:01.096 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37844243812847616 [0;39m <==      Total: 1
2023-05-12 12:51:01.096 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37844243812847616 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:51:01.097 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37844243812847616 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:51:01.104 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37844243812847616 [0;39m <==    Updates: 1
2023-05-12 12:51:01.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844243812847616 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 12:51:01.104 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844243812847616 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 12:51:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37844260225159168 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:51:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844260225159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:51:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844260225159168 [0;39m ==> Parameters: 
2023-05-12 12:51:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844260225159168 [0;39m <==    Updates: 1
2023-05-12 12:51:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37844260225159168 [0;39m 更新电子书下的文档数据结束，耗时：10毫秒
2023-05-12 12:51:07.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844271163904000 [0;39m ------------- 开始 -------------
2023-05-12 12:51:07.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844271163904001 [0;39m ------------- 开始 -------------
2023-05-12 12:51:07.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844271163904001 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:51:07.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844271163904000 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:51:07.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844271163904001 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:51:07.615 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844271163904000 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:51:07.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844271163904001 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:51:07.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844271163904001 [0;39m 请求参数: []
2023-05-12 12:51:07.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844271168098304 [0;39m ------------- 开始 -------------
2023-05-12 12:51:07.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844271168098304 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:51:07.616 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844271163904001 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:51:07.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844271168098304 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:51:07.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844271168098304 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:51:07.617 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844271163904001 [0;39m ==> Parameters: 
2023-05-12 12:51:07.617 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844271168098304 [0;39m 请求参数: []
2023-05-12 12:51:07.617 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844271168098304 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:51:07.617 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844271163904001 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:51:07.617 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844271168098304 [0;39m ==> Parameters: 
2023-05-12 12:51:07.618 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844271163904001 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:51:07.618 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:51:07.618 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844271163904001 [0;39m <==        Row: 2023-05-12, 26, 9, 16, 2
2023-05-12 12:51:07.618 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:51:07.618 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844271163904001 [0;39m <==      Total: 2
2023-05-12 12:51:07.618 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:51:07.618 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:51:07.618 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844271163904001 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":26,"viewIncrease":16,"voteCount":9,"voteIncrease":2}],"success":true}
2023-05-12 12:51:07.619 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:51:07.619 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844271163904001 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:51:07.616 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844271163904000 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:51:07.619 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:51:07.619 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:51:07.619 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:51:07.619 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:51:07.619 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:51:07.620 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:51:07.620 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844271163904000 [0;39m 请求参数: []
2023-05-12 12:51:07.620 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:51:07.620 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:51:07.620 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844271163904000 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:51:07.620 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:51:07.620 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:51:07.620 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844271163904000 [0;39m ==> Parameters: 
2023-05-12 12:51:07.620 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844271168098304 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:51:07.620 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844271168098304 [0;39m <==      Total: 15
2023-05-12 12:51:07.621 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844271163904000 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:51:07.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844271168098304 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:51:07.621 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844271163904000 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:51:07.621 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844271168098304 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:51:07.621 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844271163904000 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:51:07.621 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844271163904000 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:51:07.622 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844271163904000 [0;39m <==      Total: 3
2023-05-12 12:51:07.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844271163904000 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:51:07.622 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844271163904000 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:51:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37844386087833600 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:51:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844386087833600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:51:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844386087833600 [0;39m ==> Parameters: 
2023-05-12 12:51:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844386087833600 [0;39m <==    Updates: 1
2023-05-12 12:51:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37844386087833600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:51:48.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844442476056576 [0;39m ------------- 开始 -------------
2023-05-12 12:51:48.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844442476056576 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:51:48.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844442476056576 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:51:48.459 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844442476056576 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:51:48.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844442476056576 [0;39m 请求参数: []
2023-05-12 12:51:48.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844442480250880 [0;39m ------------- 开始 -------------
2023-05-12 12:51:48.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844442480250880 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:51:48.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844442480250880 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:51:48.460 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844442476056576 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:51:48.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844442480250880 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:51:48.460 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844442476056576 [0;39m ==> Parameters: 
2023-05-12 12:51:48.460 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844442480250880 [0;39m 请求参数: []
2023-05-12 12:51:48.461 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844442480250880 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:51:48.461 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844442476056576 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:51:48.461 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844442476056576 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:51:48.462 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844442476056576 [0;39m <==        Row: 2023-05-12, 26, 9, 16, 2
2023-05-12 12:51:48.462 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844442476056576 [0;39m <==      Total: 2
2023-05-12 12:51:48.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844442476056576 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":26,"viewIncrease":16,"voteCount":9,"voteIncrease":2}],"success":true}
2023-05-12 12:51:48.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844442476056576 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:51:48.464 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844442480250880 [0;39m ==> Parameters: 
2023-05-12 12:51:48.464 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844442480250880 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:51:48.465 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844442480250880 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:51:48.465 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844442480250880 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:51:48.465 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844442480250880 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:51:48.465 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844442480250880 [0;39m <==      Total: 3
2023-05-12 12:51:48.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844442480250880 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:51:48.466 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844442480250880 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:51:48.470 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844442522193920 [0;39m ------------- 开始 -------------
2023-05-12 12:51:48.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844442522193920 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:51:48.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844442522193920 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:51:48.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844442522193920 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:51:48.471 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844442522193920 [0;39m 请求参数: []
2023-05-12 12:51:48.472 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844442522193920 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:51:48.472 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844442522193920 [0;39m ==> Parameters: 
2023-05-12 12:51:48.472 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:51:48.472 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:51:48.473 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:51:48.473 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:51:48.473 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:51:48.473 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:51:48.474 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:51:48.474 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:51:48.474 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:51:48.474 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:51:48.474 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:51:48.474 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:51:48.475 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:51:48.475 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:51:48.475 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:51:48.475 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844442522193920 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:51:48.475 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844442522193920 [0;39m <==      Total: 15
2023-05-12 12:51:48.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844442522193920 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:51:48.476 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844442522193920 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:52:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37844490911879168 [0;39m 生成今日电子书快照开始
2023-05-12 12:52:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37844490911879168 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:52:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37844490911879168 [0;39m ==> Parameters: 
2023-05-12 12:52:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37844490911879168 [0;39m <==    Updates: 0
2023-05-12 12:52:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37844490911879168 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-12 12:52:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37844511879204864 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:52:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844511879204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:52:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844511879204864 [0;39m ==> Parameters: 
2023-05-12 12:52:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844511879204864 [0;39m <==    Updates: 1
2023-05-12 12:52:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37844511879204864 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 12:52:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37844637746073600 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:52:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844637746073600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:52:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844637746073600 [0;39m ==> Parameters: 
2023-05-12 12:52:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844637746073600 [0;39m <==    Updates: 1
2023-05-12 12:52:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37844637746073600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:53:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37844742578507776 [0;39m 生成今日电子书快照开始
2023-05-12 12:53:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37844742578507776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:53:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37844742578507776 [0;39m ==> Parameters: 
2023-05-12 12:53:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37844742578507776 [0;39m <==    Updates: 0
2023-05-12 12:53:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37844742578507776 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 12:53:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37844763516473344 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:53:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844763516473344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:53:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844763516473344 [0;39m ==> Parameters: 
2023-05-12 12:53:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844763516473344 [0;39m <==    Updates: 1
2023-05-12 12:53:05.001 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37844763516473344 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:53:15.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844805618896896 [0;39m ------------- 开始 -------------
2023-05-12 12:53:15.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844805618896896 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:53:15.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844805618896896 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:53:15.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844805618896896 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:15.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844805618896896 [0;39m 请求参数: [{"categoryId2":102,"page":1,"size":1000}]
2023-05-12 12:53:15.041 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844805618896896 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:53:15.042 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844805618896896 [0;39m ==> Parameters: 102(Long)
2023-05-12 12:53:15.042 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844805618896896 [0;39m <==    Columns: count(0)
2023-05-12 12:53:15.043 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844805618896896 [0;39m <==        Row: 0
2023-05-12 12:53:15.043 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844805618896896 [0;39m <==      Total: 1
2023-05-12 12:53:15.043 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844805618896896 [0;39m 总行数：0
2023-05-12 12:53:15.043 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844805618896896 [0;39m 总页数：0
2023-05-12 12:53:15.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844805618896896 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:53:15.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844805618896896 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:53:15.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844806919131136 [0;39m ------------- 开始 -------------
2023-05-12 12:53:15.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844806919131136 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:53:15.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844806919131136 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:53:15.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844806919131136 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:15.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844806919131136 [0;39m 请求参数: [{"categoryId2":201,"page":1,"size":1000}]
2023-05-12 12:53:15.349 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844806919131136 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:53:15.349 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844806919131136 [0;39m ==> Parameters: 201(Long)
2023-05-12 12:53:15.349 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844806919131136 [0;39m <==    Columns: count(0)
2023-05-12 12:53:15.349 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844806919131136 [0;39m <==        Row: 0
2023-05-12 12:53:15.349 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844806919131136 [0;39m <==      Total: 1
2023-05-12 12:53:15.349 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844806919131136 [0;39m 总行数：0
2023-05-12 12:53:15.349 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844806919131136 [0;39m 总页数：0
2023-05-12 12:53:15.349 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844806919131136 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:53:15.353 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844806919131136 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:53:16.556 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844811981656064 [0;39m ------------- 开始 -------------
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844811985850369 [0;39m ------------- 开始 -------------
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844811985850368 [0;39m ------------- 开始 -------------
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844811981656064 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844811985850369 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844811985850368 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844811985850369 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844811981656064 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844811985850368 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844811981656064 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844811985850368 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844811985850369 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844811981656064 [0;39m 请求参数: []
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844811985850368 [0;39m 请求参数: []
2023-05-12 12:53:16.557 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844811985850369 [0;39m 请求参数: []
2023-05-12 12:53:16.557 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844811985850368 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:53:16.557 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844811985850369 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:53:16.557 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844811981656064 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:53:16.557 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844811985850369 [0;39m ==> Parameters: 
2023-05-12 12:53:16.557 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844811985850368 [0;39m ==> Parameters: 
2023-05-12 12:53:16.557 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844811981656064 [0;39m ==> Parameters: 
2023-05-12 12:53:16.558 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844811981656064 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:53:16.558 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844811985850368 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:53:16.558 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:53:16.558 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:53:16.558 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844811985850368 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:53:16.558 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844811981656064 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:53:16.559 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:53:16.559 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844811985850368 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:53:16.559 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:53:16.559 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844811981656064 [0;39m <==        Row: 2023-05-12, 27, 9, 17, 2
2023-05-12 12:53:16.559 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844811985850368 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:53:16.559 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:53:16.559 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844811981656064 [0;39m <==      Total: 2
2023-05-12 12:53:16.559 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844811985850368 [0;39m <==      Total: 3
2023-05-12 12:53:16.559 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:53:16.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844811981656064 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":27,"viewIncrease":17,"voteCount":9,"voteIncrease":2}],"success":true}
2023-05-12 12:53:16.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844811985850368 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:53:16.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844811981656064 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 12:53:16.559 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844811985850368 [0;39m ------------- 结束 耗时：2 ms -------------
2023-05-12 12:53:16.559 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:53:16.559 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:53:16.560 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:53:16.560 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:53:16.560 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:53:16.560 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:53:16.560 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:53:16.560 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:53:16.561 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:53:16.561 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844811985850369 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:53:16.561 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844811985850369 [0;39m <==      Total: 15
2023-05-12 12:53:16.561 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844811985850369 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:53:16.562 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844811985850369 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:53:18.181 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844818797400064 [0;39m ------------- 开始 -------------
2023-05-12 12:53:18.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844818797400064 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:53:18.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844818797400064 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:53:18.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844818797400064 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:18.182 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844818797400064 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 12:53:18.184 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844818797400064 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:53:18.184 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844818797400064 [0;39m ==> Parameters: 202(Long)
2023-05-12 12:53:18.184 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844818797400064 [0;39m <==    Columns: count(0)
2023-05-12 12:53:18.184 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844818797400064 [0;39m <==        Row: 1
2023-05-12 12:53:18.184 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844818797400064 [0;39m <==      Total: 1
2023-05-12 12:53:18.184 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844818797400064 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:53:18.184 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844818797400064 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 12:53:18.188 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844818797400064 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:53:18.188 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844818797400064 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 27, 9
2023-05-12 12:53:18.188 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844818797400064 [0;39m <==      Total: 1
2023-05-12 12:53:18.188 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844818797400064 [0;39m 总行数：1
2023-05-12 12:53:18.188 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844818797400064 [0;39m 总页数：1
2023-05-12 12:53:18.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844818797400064 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":27,"voteCount":9}],"total":1},"success":true}
2023-05-12 12:53:18.188 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844818797400064 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:53:23.040 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844839177523200 [0;39m ------------- 开始 -------------
2023-05-12 12:53:23.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844839177523200 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 12:53:23.041 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844839177523200 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:53:23.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844839177523200 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:23.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844839177523200 [0;39m 请求参数: [1]
2023-05-12 12:53:23.044 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844839177523200 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:53:23.044 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844839177523200 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:53:23.044 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844839177523200 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:53:23.045 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844839177523200 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 11, 4
2023-05-12 12:53:23.045 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844839177523200 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 4, 2
2023-05-12 12:53:23.045 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844839177523200 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 3, 1
2023-05-12 12:53:23.045 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844839177523200 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 3, 1
2023-05-12 12:53:23.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844839177523200 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 1, 0
2023-05-12 12:53:23.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844839177523200 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 1, 0
2023-05-12 12:53:23.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844839177523200 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 1, 0
2023-05-12 12:53:23.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844839177523200 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 3, 1
2023-05-12 12:53:23.046 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844839177523200 [0;39m <==      Total: 8
2023-05-12 12:53:23.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844839177523200 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":11,"voteCount":4},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":4,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":3,"voteCount":1}],"success":true}
2023-05-12 12:53:23.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844839177523200 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 12:53:23.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844839278186496 [0;39m ------------- 开始 -------------
2023-05-12 12:53:23.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844839278186496 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 12:53:23.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844839278186496 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:53:23.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844839278186496 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:23.064 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844839278186496 [0;39m 请求参数: [1]
2023-05-12 12:53:23.065 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37844839278186496 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:53:23.067 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37844839278186496 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:53:23.068 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37844839278186496 [0;39m <==    Columns: id, content
2023-05-12 12:53:23.068 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37844839278186496 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 12:53:23.069 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37844839278186496 [0;39m <==      Total: 1
2023-05-12 12:53:23.069 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37844839278186496 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:53:23.069 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37844839278186496 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:53:23.077 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37844839278186496 [0;39m <==    Updates: 1
2023-05-12 12:53:23.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844839278186496 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 12:53:23.078 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844839278186496 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-12 12:53:33.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844883892998144 [0;39m ------------- 开始 -------------
2023-05-12 12:53:33.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844883892998144 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 12:53:33.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844883892998144 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 12:53:33.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844883897192448 [0;39m ------------- 开始 -------------
2023-05-12 12:53:33.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844883897192448 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 12:53:33.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844883892998145 [0;39m ------------- 开始 -------------
2023-05-12 12:53:33.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844883897192448 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 12:53:33.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844883892998145 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 12:53:33.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844883892998144 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:33.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844883897192448 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:33.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844883892998145 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 12:53:33.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844883892998144 [0;39m 请求参数: []
2023-05-12 12:53:33.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844883897192448 [0;39m 请求参数: []
2023-05-12 12:53:33.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844883892998145 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:33.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844883892998145 [0;39m 请求参数: []
2023-05-12 12:53:33.703 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844883897192448 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 12:53:33.703 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844883892998145 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:53:33.703 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844883892998144 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 12:53:33.703 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844883897192448 [0;39m ==> Parameters: 
2023-05-12 12:53:33.703 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844883892998145 [0;39m ==> Parameters: 
2023-05-12 12:53:33.703 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844883892998144 [0;39m ==> Parameters: 
2023-05-12 12:53:33.703 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 12:53:33.703 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844883892998144 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 12:53:33.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 12:53:33.704 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844883892998144 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 12:53:33.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 12:53:33.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 12:53:33.704 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844883892998144 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 12:53:33.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 12:53:33.704 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m37844883892998144 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 12:53:33.703 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844883892998145 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 12:53:33.704 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 12:53:33.704 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m37844883892998144 [0;39m <==      Total: 3
2023-05-12 12:53:33.705 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844883892998145 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 12:53:33.705 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 12:53:33.705 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844883892998144 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 12:53:33.705 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 12:53:33.705 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844883892998144 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:53:33.705 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m37844883892998145 [0;39m <==        Row: 2023-05-12, 27, 9, 17, 2
2023-05-12 12:53:33.705 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 12:53:33.705 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m37844883892998145 [0;39m <==      Total: 2
2023-05-12 12:53:33.705 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 12:53:33.705 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844883892998145 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":27,"viewIncrease":17,"voteCount":9,"voteIncrease":2}],"success":true}
2023-05-12 12:53:33.705 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844883892998145 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:53:33.705 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 12:53:33.705 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 12:53:33.706 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 12:53:33.706 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 12:53:33.706 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 12:53:33.706 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m37844883897192448 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 12:53:33.706 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m37844883897192448 [0;39m <==      Total: 15
2023-05-12 12:53:33.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844883897192448 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 12:53:33.707 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844883897192448 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:53:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37844889370759168 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:53:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844889370759168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:53:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844889370759168 [0;39m ==> Parameters: 
2023-05-12 12:53:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37844889370759168 [0;39m <==    Updates: 1
2023-05-12 12:53:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37844889370759168 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-12 12:53:41.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844917858471936 [0;39m ------------- 开始 -------------
2023-05-12 12:53:41.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844917858471936 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:53:41.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844917858471936 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:53:41.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844917858471936 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:41.800 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844917858471936 [0;39m 请求参数: [{"categoryId2":401,"page":1,"size":1000}]
2023-05-12 12:53:41.801 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844917858471936 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:53:41.801 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844917858471936 [0;39m ==> Parameters: 401(Long)
2023-05-12 12:53:41.802 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844917858471936 [0;39m <==    Columns: count(0)
2023-05-12 12:53:41.802 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844917858471936 [0;39m <==        Row: 1
2023-05-12 12:53:41.802 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844917858471936 [0;39m <==      Total: 1
2023-05-12 12:53:41.803 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844917858471936 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:53:41.803 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844917858471936 [0;39m ==> Parameters: 401(Long), 1000(Integer)
2023-05-12 12:53:41.804 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844917858471936 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:53:41.804 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844917858471936 [0;39m <==        Row: 4, Mysql 入门教程, 400, 401, 零基础入门 Mysql 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:53:41.804 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844917858471936 [0;39m <==      Total: 1
2023-05-12 12:53:41.805 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844917858471936 [0;39m 总行数：1
2023-05-12 12:53:41.805 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844917858471936 [0;39m 总页数：1
2023-05-12 12:53:41.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844917858471936 [0;39m 返回结果: {"content":{"list":[{"category1Id":400,"category2Id":401,"description":"零基础入门 Mysql 开发，企业级应用开发最佳首选框架","docCount":0,"id":4,"name":"Mysql 入门教程","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-12 12:53:41.805 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844917858471936 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:53:42.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844919469084672 [0;39m ------------- 开始 -------------
2023-05-12 12:53:42.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844919469084672 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:53:42.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844919469084672 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:53:42.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844919469084672 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:42.183 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844919469084672 [0;39m 请求参数: [{"categoryId2":302,"page":1,"size":1000}]
2023-05-12 12:53:42.184 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844919469084672 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:53:42.184 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844919469084672 [0;39m ==> Parameters: 302(Long)
2023-05-12 12:53:42.184 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844919469084672 [0;39m <==    Columns: count(0)
2023-05-12 12:53:42.185 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844919469084672 [0;39m <==        Row: 0
2023-05-12 12:53:42.185 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844919469084672 [0;39m <==      Total: 1
2023-05-12 12:53:42.185 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844919469084672 [0;39m 总行数：0
2023-05-12 12:53:42.185 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844919469084672 [0;39m 总页数：0
2023-05-12 12:53:42.185 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844919469084672 [0;39m 返回结果: {"content":{"list":[],"total":0},"success":true}
2023-05-12 12:53:42.186 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844919469084672 [0;39m ------------- 结束 耗时：3 ms -------------
2023-05-12 12:53:43.199 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844923730497536 [0;39m ------------- 开始 -------------
2023-05-12 12:53:43.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844923730497536 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:53:43.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844923730497536 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:53:43.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844923730497536 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:43.200 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844923730497536 [0;39m 请求参数: [{"categoryId2":301,"page":1,"size":1000}]
2023-05-12 12:53:43.201 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844923730497536 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:53:43.201 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844923730497536 [0;39m ==> Parameters: 301(Long)
2023-05-12 12:53:43.203 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844923730497536 [0;39m <==    Columns: count(0)
2023-05-12 12:53:43.203 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844923730497536 [0;39m <==        Row: 1
2023-05-12 12:53:43.203 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844923730497536 [0;39m <==      Total: 1
2023-05-12 12:53:43.203 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844923730497536 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:53:43.203 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844923730497536 [0;39m ==> Parameters: 301(Long), 1000(Integer)
2023-05-12 12:53:43.204 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844923730497536 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:53:43.204 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844923730497536 [0;39m <==        Row: 3, Python 入门教程, 300, 301, 零基础入门 Python 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 12:53:43.204 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844923730497536 [0;39m <==      Total: 1
2023-05-12 12:53:43.204 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844923730497536 [0;39m 总行数：1
2023-05-12 12:53:43.204 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844923730497536 [0;39m 总页数：1
2023-05-12 12:53:43.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844923730497536 [0;39m 返回结果: {"content":{"list":[{"category1Id":300,"category2Id":301,"description":"零基础入门 Python 开发，企业级应用开发最佳首选框架","docCount":0,"id":3,"name":"Python 入门教程","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-12 12:53:43.205 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844923730497536 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 12:53:44.798 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844930437189632 [0;39m ------------- 开始 -------------
2023-05-12 12:53:44.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844930437189632 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 12:53:44.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844930437189632 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 12:53:44.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844930437189632 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:44.799 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844930437189632 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 12:53:44.801 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844930437189632 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 12:53:44.801 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844930437189632 [0;39m ==> Parameters: 202(Long)
2023-05-12 12:53:44.801 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844930437189632 [0;39m <==    Columns: count(0)
2023-05-12 12:53:44.801 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m37844930437189632 [0;39m <==        Row: 1
2023-05-12 12:53:44.802 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m37844930437189632 [0;39m <==      Total: 1
2023-05-12 12:53:44.802 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844930437189632 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 12:53:44.802 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844930437189632 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 12:53:44.802 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844930437189632 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 12:53:44.802 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m37844930437189632 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 28, 9
2023-05-12 12:53:44.802 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m37844930437189632 [0;39m <==      Total: 1
2023-05-12 12:53:44.802 INFO  com.jiawa.wiki.service.EbookService               :48   [32m37844930437189632 [0;39m 总行数：1
2023-05-12 12:53:44.802 INFO  com.jiawa.wiki.service.EbookService               :49   [32m37844930437189632 [0;39m 总页数：1
2023-05-12 12:53:44.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844930437189632 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":28,"voteCount":9}],"total":1},"success":true}
2023-05-12 12:53:44.802 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844930437189632 [0;39m ------------- 结束 耗时：4 ms -------------
2023-05-12 12:53:46.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844938427338752 [0;39m ------------- 开始 -------------
2023-05-12 12:53:46.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844938427338752 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 12:53:46.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844938427338752 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 12:53:46.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844938427338752 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:46.704 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844938427338752 [0;39m 请求参数: [1]
2023-05-12 12:53:46.704 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844938427338752 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 12:53:46.704 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844938427338752 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:53:46.705 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844938427338752 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 12:53:46.705 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844938427338752 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 12, 4
2023-05-12 12:53:46.706 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844938427338752 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 4, 2
2023-05-12 12:53:46.706 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844938427338752 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 3, 1
2023-05-12 12:53:46.706 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844938427338752 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 3, 1
2023-05-12 12:53:46.706 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844938427338752 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 1, 0
2023-05-12 12:53:46.706 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844938427338752 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 1, 0
2023-05-12 12:53:46.707 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844938427338752 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 1, 0
2023-05-12 12:53:46.707 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37844938427338752 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 3, 1
2023-05-12 12:53:46.707 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37844938427338752 [0;39m <==      Total: 8
2023-05-12 12:53:46.708 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844938427338752 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":12,"voteCount":4},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":4,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":3,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":1,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":1,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":3,"voteCount":1}],"success":true}
2023-05-12 12:53:46.708 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844938427338752 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 12:53:46.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37844938519613440 [0;39m ------------- 开始 -------------
2023-05-12 12:53:46.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37844938519613440 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 12:53:46.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37844938519613440 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 12:53:46.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37844938519613440 [0;39m 远程地址: 127.0.0.1
2023-05-12 12:53:46.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37844938519613440 [0;39m 请求参数: [1]
2023-05-12 12:53:46.726 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37844938519613440 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 12:53:46.726 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37844938519613440 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:53:46.727 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37844938519613440 [0;39m <==    Columns: id, content
2023-05-12 12:53:46.727 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37844938519613440 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 12:53:46.727 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37844938519613440 [0;39m <==      Total: 1
2023-05-12 12:53:46.727 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37844938519613440 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 12:53:46.728 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37844938519613440 [0;39m ==> Parameters: 1(Long)
2023-05-12 12:53:46.736 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37844938519613440 [0;39m <==    Updates: 1
2023-05-12 12:53:46.736 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37844938519613440 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 12:53:46.736 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37844938519613440 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 12:54:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37844994249330688 [0;39m 生成今日电子书快照开始
2023-05-12 12:54:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37844994249330688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:54:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37844994249330688 [0;39m ==> Parameters: 
2023-05-12 12:54:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37844994249330688 [0;39m <==    Updates: 0
2023-05-12 12:54:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37844994249330688 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 12:54:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37845015204073472 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:54:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845015204073472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:54:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845015204073472 [0;39m ==> Parameters: 
2023-05-12 12:54:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845015204073472 [0;39m <==    Updates: 1
2023-05-12 12:54:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37845015204073472 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-12 12:54:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37845141058359296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:54:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845141058359296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:54:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845141058359296 [0;39m ==> Parameters: 
2023-05-12 12:54:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845141058359296 [0;39m <==    Updates: 1
2023-05-12 12:54:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37845141058359296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:55:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37845245874016256 [0;39m 生成今日电子书快照开始
2023-05-12 12:55:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37845245874016256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:55:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37845245874016256 [0;39m ==> Parameters: 
2023-05-12 12:55:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37845245874016256 [0;39m <==    Updates: 0
2023-05-12 12:55:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37845245874016256 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-12 12:55:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37845266891673600 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:55:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845266891673600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:55:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845266891673600 [0;39m ==> Parameters: 
2023-05-12 12:55:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845266891673600 [0;39m <==    Updates: 1
2023-05-12 12:55:05.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37845266891673600 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 12:55:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37845392720793600 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:55:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845392720793600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:55:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845392720793600 [0;39m ==> Parameters: 
2023-05-12 12:55:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845392720793600 [0;39m <==    Updates: 1
2023-05-12 12:55:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37845392720793600 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:56:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37845497532256256 [0;39m 生成今日电子书快照开始
2023-05-12 12:56:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37845497532256256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:56:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37845497532256256 [0;39m ==> Parameters: 
2023-05-12 12:56:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37845497532256256 [0;39m <==    Updates: 0
2023-05-12 12:56:00.007 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37845497532256256 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 12:56:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37845518549913600 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:56:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845518549913600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:56:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845518549913600 [0;39m ==> Parameters: 
2023-05-12 12:56:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845518549913600 [0;39m <==    Updates: 1
2023-05-12 12:56:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37845518549913600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:56:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37845644366450688 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:56:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845644366450688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:56:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845644366450688 [0;39m ==> Parameters: 
2023-05-12 12:56:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845644366450688 [0;39m <==    Updates: 1
2023-05-12 12:56:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37845644366450688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:57:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37845749236633600 [0;39m 生成今日电子书快照开始
2023-05-12 12:57:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37845749236633600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:57:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37845749236633600 [0;39m ==> Parameters: 
2023-05-12 12:57:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37845749236633600 [0;39m <==    Updates: 0
2023-05-12 12:57:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37845749236633600 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 12:57:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37845770153627648 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:57:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845770153627648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:57:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845770153627648 [0;39m ==> Parameters: 
2023-05-12 12:57:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845770153627648 [0;39m <==    Updates: 1
2023-05-12 12:57:05.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37845770153627648 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:57:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37845896003719168 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:57:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845896003719168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:57:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845896003719168 [0;39m ==> Parameters: 
2023-05-12 12:57:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37845896003719168 [0;39m <==    Updates: 1
2023-05-12 12:57:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37845896003719168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 12:58:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37846000886484992 [0;39m 生成今日电子书快照开始
2023-05-12 12:58:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37846000886484992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:58:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37846000886484992 [0;39m ==> Parameters: 
2023-05-12 12:58:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37846000886484992 [0;39m <==    Updates: 0
2023-05-12 12:58:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37846000886484992 [0;39m 生成今日电子书快照结束，耗时：1毫秒
2023-05-12 12:58:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37846021862199296 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:58:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846021862199296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:58:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846021862199296 [0;39m ==> Parameters: 
2023-05-12 12:58:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846021862199296 [0;39m <==    Updates: 1
2023-05-12 12:58:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37846021862199296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:58:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37846147666153472 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:58:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846147666153472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:58:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846147666153472 [0;39m ==> Parameters: 
2023-05-12 12:58:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846147666153472 [0;39m <==    Updates: 1
2023-05-12 12:58:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37846147666153472 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 12:59:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37846252557307904 [0;39m 生成今日电子书快照开始
2023-05-12 12:59:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37846252557307904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 12:59:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37846252557307904 [0;39m ==> Parameters: 
2023-05-12 12:59:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37846252557307904 [0;39m <==    Updates: 0
2023-05-12 12:59:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37846252557307904 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 12:59:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37846273524633600 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:59:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846273524633600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:59:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846273524633600 [0;39m ==> Parameters: 
2023-05-12 12:59:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846273524633600 [0;39m <==    Updates: 1
2023-05-12 12:59:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37846273524633600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 12:59:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37846399320199168 [0;39m 更新电子书下的文档数据开始
2023-05-12 12:59:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846399320199168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 12:59:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846399320199168 [0;39m ==> Parameters: 
2023-05-12 12:59:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846399320199168 [0;39m <==    Updates: 1
2023-05-12 12:59:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37846399320199168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:00:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37846504207159296 [0;39m 生成今日电子书快照开始
2023-05-12 13:00:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37846504207159296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:00:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37846504207159296 [0;39m ==> Parameters: 
2023-05-12 13:00:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37846504207159296 [0;39m <==    Updates: 0
2023-05-12 13:00:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37846504207159296 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 13:00:05.017 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37846525191262208 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:00:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846525191262208 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:00:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846525191262208 [0;39m ==> Parameters: 
2023-05-12 13:00:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846525191262208 [0;39m <==    Updates: 1
2023-05-12 13:00:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37846525191262208 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:00:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37846650999410688 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:00:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846650999410688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846650999410688 [0;39m ==> Parameters: 
2023-05-12 13:00:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846650999410688 [0;39m <==    Updates: 1
2023-05-12 13:00:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37846650999410688 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 13:00:58.746 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37846750547021824 [0;39m ------------- 开始 -------------
2023-05-12 13:00:58.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37846750547021824 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-12 13:00:58.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37846750547021824 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 13:00:58.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37846750547021824 [0;39m 远程地址: 127.0.0.1
2023-05-12 13:00:58.747 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37846750547021824 [0;39m 请求参数: [2]
2023-05-12 13:00:58.750 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846750547021824 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 13:00:58.750 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846750547021824 [0;39m ==> Parameters: 2(Long)
2023-05-12 13:00:58.751 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846750547021824 [0;39m <==      Total: 0
2023-05-12 13:00:58.751 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846750547021824 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 13:00:58.751 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846750547021824 [0;39m ==> Parameters: 2(Long)
2023-05-12 13:00:58.752 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846750547021824 [0;39m <==    Updates: 1
2023-05-12 13:00:58.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37846750547021824 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 13:00:58.752 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37846750547021824 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 13:00:59.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37846752535121920 [0;39m ------------- 开始 -------------
2023-05-12 13:00:59.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37846752535121920 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/3 GET
2023-05-12 13:00:59.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37846752535121920 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 13:00:59.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37846752535121920 [0;39m 远程地址: 127.0.0.1
2023-05-12 13:00:59.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37846752535121920 [0;39m 请求参数: [3]
2023-05-12 13:00:59.220 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846752535121920 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 13:00:59.220 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846752535121920 [0;39m ==> Parameters: 3(Long)
2023-05-12 13:00:59.225 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846752535121920 [0;39m <==      Total: 0
2023-05-12 13:00:59.225 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846752535121920 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 13:00:59.225 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846752535121920 [0;39m ==> Parameters: 3(Long)
2023-05-12 13:00:59.232 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846752535121920 [0;39m <==    Updates: 1
2023-05-12 13:00:59.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37846752535121920 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 13:00:59.232 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37846752535121920 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 13:00:59.750 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37846754758103040 [0;39m ------------- 开始 -------------
2023-05-12 13:00:59.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37846754758103040 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/4 GET
2023-05-12 13:00:59.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37846754758103040 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 13:00:59.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37846754758103040 [0;39m 远程地址: 127.0.0.1
2023-05-12 13:00:59.751 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37846754758103040 [0;39m 请求参数: [4]
2023-05-12 13:00:59.752 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846754758103040 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 13:00:59.752 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846754758103040 [0;39m ==> Parameters: 4(Long)
2023-05-12 13:00:59.753 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846754758103040 [0;39m <==      Total: 0
2023-05-12 13:00:59.753 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846754758103040 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 13:00:59.753 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846754758103040 [0;39m ==> Parameters: 4(Long)
2023-05-12 13:00:59.760 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846754758103040 [0;39m <==    Updates: 1
2023-05-12 13:00:59.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37846754758103040 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 13:00:59.760 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37846754758103040 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 13:01:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37846755831844864 [0;39m 生成今日电子书快照开始
2023-05-12 13:01:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37846755831844864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:01:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37846755831844864 [0;39m ==> Parameters: 
2023-05-12 13:01:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37846755831844864 [0;39m <==    Updates: 0
2023-05-12 13:01:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37846755831844864 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 13:01:00.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37846758482644992 [0;39m ------------- 开始 -------------
2023-05-12 13:01:00.638 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37846758482644992 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/5 GET
2023-05-12 13:01:00.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37846758482644992 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 13:01:00.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37846758482644992 [0;39m 远程地址: 127.0.0.1
2023-05-12 13:01:00.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37846758482644992 [0;39m 请求参数: [5]
2023-05-12 13:01:00.639 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846758482644992 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 13:01:00.639 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846758482644992 [0;39m ==> Parameters: 5(Long)
2023-05-12 13:01:00.640 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846758482644992 [0;39m <==      Total: 0
2023-05-12 13:01:00.640 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846758482644992 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 13:01:00.640 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846758482644992 [0;39m ==> Parameters: 5(Long)
2023-05-12 13:01:00.647 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846758482644992 [0;39m <==    Updates: 1
2023-05-12 13:01:00.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37846758482644992 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 13:01:00.647 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37846758482644992 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 13:01:00.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37846759996788736 [0;39m ------------- 开始 -------------
2023-05-12 13:01:00.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37846759996788736 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/6 GET
2023-05-12 13:01:00.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37846759996788736 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 13:01:00.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37846759996788736 [0;39m 远程地址: 127.0.0.1
2023-05-12 13:01:00.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37846759996788736 [0;39m 请求参数: [6]
2023-05-12 13:01:01.000 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846759996788736 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 13:01:01.000 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846759996788736 [0;39m ==> Parameters: 6(Long)
2023-05-12 13:01:01.000 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846759996788736 [0;39m <==      Total: 0
2023-05-12 13:01:01.000 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846759996788736 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 13:01:01.002 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846759996788736 [0;39m ==> Parameters: 6(Long)
2023-05-12 13:01:01.008 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846759996788736 [0;39m <==    Updates: 1
2023-05-12 13:01:01.008 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37846759996788736 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 13:01:01.008 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37846759996788736 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 13:01:01.373 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37846761565458432 [0;39m ------------- 开始 -------------
2023-05-12 13:01:01.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37846761565458432 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/37841703666847744 GET
2023-05-12 13:01:01.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37846761565458432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 13:01:01.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37846761565458432 [0;39m 远程地址: 127.0.0.1
2023-05-12 13:01:01.374 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37846761565458432 [0;39m 请求参数: [37841703666847744]
2023-05-12 13:01:01.375 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846761565458432 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 13:01:01.375 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846761565458432 [0;39m ==> Parameters: 37841703666847744(Long)
2023-05-12 13:01:01.376 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37846761565458432 [0;39m <==    Columns: id, content
2023-05-12 13:01:01.376 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37846761565458432 [0;39m <==        Row: 37841703666847744, <<BLOB>>
2023-05-12 13:01:01.377 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846761565458432 [0;39m <==      Total: 1
2023-05-12 13:01:01.377 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846761565458432 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 13:01:01.377 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846761565458432 [0;39m ==> Parameters: 37841703666847744(Long)
2023-05-12 13:01:01.378 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846761565458432 [0;39m <==    Updates: 1
2023-05-12 13:01:01.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37846761565458432 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 13:01:01.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37846761565458432 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 13:01:01.743 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37846763117350912 [0;39m ------------- 开始 -------------
2023-05-12 13:01:01.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37846763117350912 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/37841746528440320 GET
2023-05-12 13:01:01.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37846763117350912 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 13:01:01.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37846763117350912 [0;39m 远程地址: 127.0.0.1
2023-05-12 13:01:01.744 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37846763117350912 [0;39m 请求参数: [37841746528440320]
2023-05-12 13:01:01.745 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846763117350912 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 13:01:01.745 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846763117350912 [0;39m ==> Parameters: 37841746528440320(Long)
2023-05-12 13:01:01.745 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37846763117350912 [0;39m <==    Columns: id, content
2023-05-12 13:01:01.746 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37846763117350912 [0;39m <==        Row: 37841746528440320, <<BLOB>>
2023-05-12 13:01:01.746 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846763117350912 [0;39m <==      Total: 1
2023-05-12 13:01:01.746 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846763117350912 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 13:01:01.746 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846763117350912 [0;39m ==> Parameters: 37841746528440320(Long)
2023-05-12 13:01:01.754 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846763117350912 [0;39m <==    Updates: 1
2023-05-12 13:01:01.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37846763117350912 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 13:01:01.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37846763117350912 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 13:01:02.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37846765818482688 [0;39m ------------- 开始 -------------
2023-05-12 13:01:02.387 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37846765818482688 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 13:01:02.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37846765818482688 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 13:01:02.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37846765818482688 [0;39m 远程地址: 127.0.0.1
2023-05-12 13:01:02.388 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37846765818482688 [0;39m 请求参数: [1]
2023-05-12 13:01:02.388 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846765818482688 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 13:01:02.388 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846765818482688 [0;39m ==> Parameters: 1(Long)
2023-05-12 13:01:02.389 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37846765818482688 [0;39m <==    Columns: id, content
2023-05-12 13:01:02.389 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37846765818482688 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 13:01:02.389 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846765818482688 [0;39m <==      Total: 1
2023-05-12 13:01:02.389 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846765818482688 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 13:01:02.389 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846765818482688 [0;39m ==> Parameters: 1(Long)
2023-05-12 13:01:02.396 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846765818482688 [0;39m <==    Updates: 1
2023-05-12 13:01:02.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37846765818482688 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 13:01:02.396 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37846765818482688 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 13:01:03.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37846769031319552 [0;39m ------------- 开始 -------------
2023-05-12 13:01:03.153 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37846769031319552 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/2 GET
2023-05-12 13:01:03.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37846769031319552 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 13:01:03.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37846769031319552 [0;39m 远程地址: 127.0.0.1
2023-05-12 13:01:03.154 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37846769031319552 [0;39m 请求参数: [2]
2023-05-12 13:01:03.155 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846769031319552 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 13:01:03.155 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846769031319552 [0;39m ==> Parameters: 2(Long)
2023-05-12 13:01:03.156 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846769031319552 [0;39m <==      Total: 0
2023-05-12 13:01:03.156 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846769031319552 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 13:01:03.156 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846769031319552 [0;39m ==> Parameters: 2(Long)
2023-05-12 13:01:03.165 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846769031319552 [0;39m <==    Updates: 1
2023-05-12 13:01:03.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37846769031319552 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 13:01:03.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37846769031319552 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 13:01:03.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37846771828920320 [0;39m ------------- 开始 -------------
2023-05-12 13:01:03.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37846771828920320 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 13:01:03.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37846771828920320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 13:01:03.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37846771828920320 [0;39m 远程地址: 127.0.0.1
2023-05-12 13:01:03.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37846771828920320 [0;39m 请求参数: [1]
2023-05-12 13:01:03.821 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846771828920320 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 13:01:03.821 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846771828920320 [0;39m ==> Parameters: 1(Long)
2023-05-12 13:01:03.822 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37846771828920320 [0;39m <==    Columns: id, content
2023-05-12 13:01:03.822 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37846771828920320 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 13:01:03.823 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37846771828920320 [0;39m <==      Total: 1
2023-05-12 13:01:03.823 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846771828920320 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 13:01:03.824 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846771828920320 [0;39m ==> Parameters: 1(Long)
2023-05-12 13:01:03.832 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37846771828920320 [0;39m <==    Updates: 1
2023-05-12 13:01:03.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37846771828920320 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 13:01:03.832 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37846771828920320 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 13:01:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37846776786587648 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:01:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846776786587648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:01:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846776786587648 [0;39m ==> Parameters: 
2023-05-12 13:01:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846776786587648 [0;39m <==    Updates: 1
2023-05-12 13:01:05.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37846776786587648 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-12 13:01:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37846902657650688 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:01:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846902657650688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:01:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846902657650688 [0;39m ==> Parameters: 
2023-05-12 13:01:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37846902657650688 [0;39m <==    Updates: 1
2023-05-12 13:01:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37846902657650688 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:02:00.025 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37847007569776640 [0;39m 生成今日电子书快照开始
2023-05-12 13:02:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37847007569776640 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:02:00.025 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37847007569776640 [0;39m ==> Parameters: 
2023-05-12 13:02:00.036 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37847007569776640 [0;39m <==    Updates: 0
2023-05-12 13:02:00.036 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37847007569776640 [0;39m 生成今日电子书快照结束，耗时：11毫秒
2023-05-12 13:02:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37847028499353600 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:02:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847028499353600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:02:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847028499353600 [0;39m ==> Parameters: 
2023-05-12 13:02:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847028499353600 [0;39m <==    Updates: 1
2023-05-12 13:02:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37847028499353600 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 13:02:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37847154332667904 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:02:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847154332667904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:02:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847154332667904 [0;39m ==> Parameters: 
2023-05-12 13:02:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847154332667904 [0;39m <==    Updates: 1
2023-05-12 13:02:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37847154332667904 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:03:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37847259165102080 [0;39m 生成今日电子书快照开始
2023-05-12 13:03:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37847259165102080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:03:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37847259165102080 [0;39m ==> Parameters: 
2023-05-12 13:03:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37847259165102080 [0;39m <==    Updates: 0
2023-05-12 13:03:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37847259165102080 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 13:03:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37847280132427776 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:03:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847280132427776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:03:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847280132427776 [0;39m ==> Parameters: 
2023-05-12 13:03:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847280132427776 [0;39m <==    Updates: 1
2023-05-12 13:03:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37847280132427776 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 13:03:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37847405923799040 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:03:35.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847405923799040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:03:35.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847405923799040 [0;39m ==> Parameters: 
2023-05-12 13:03:35.000 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847405923799040 [0;39m <==    Updates: 1
2023-05-12 13:03:35.000 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37847405923799040 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:03:40.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37847427302166528 [0;39m ------------- 开始 -------------
2023-05-12 13:03:40.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37847427302166528 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 13:03:40.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37847427302166528 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 13:03:40.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37847427302166528 [0;39m 远程地址: 127.0.0.1
2023-05-12 13:03:40.097 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37847427302166528 [0;39m 请求参数: [1]
2023-05-12 13:03:40.098 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37847427302166528 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 13:03:40.098 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37847427302166528 [0;39m ==> Parameters: 1(Long)
2023-05-12 13:03:40.099 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37847427302166528 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 13:03:40.100 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37847427302166528 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 15, 4
2023-05-12 13:03:40.100 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37847427302166528 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 13:03:40.100 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37847427302166528 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 4, 1
2023-05-12 13:03:40.100 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37847427302166528 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 13:03:40.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37847427302166528 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 13:03:40.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37847427302166528 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 13:03:40.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37847427302166528 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 13:03:40.101 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m37847427302166528 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 13:03:40.101 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m37847427302166528 [0;39m <==      Total: 8
2023-05-12 13:03:40.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37847427302166528 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":15,"voteCount":4},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 13:03:40.102 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37847427302166528 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 13:03:40.167 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m37847427595767808 [0;39m ------------- 开始 -------------
2023-05-12 13:03:40.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m37847427595767808 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 13:03:40.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m37847427595767808 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 13:03:40.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m37847427595767808 [0;39m 远程地址: 127.0.0.1
2023-05-12 13:03:40.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m37847427595767808 [0;39m 请求参数: [1]
2023-05-12 13:03:40.168 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37847427595767808 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 13:03:40.168 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37847427595767808 [0;39m ==> Parameters: 1(Long)
2023-05-12 13:03:40.170 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37847427595767808 [0;39m <==    Columns: id, content
2023-05-12 13:03:40.170 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m37847427595767808 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 13:03:40.171 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m37847427595767808 [0;39m <==      Total: 1
2023-05-12 13:03:40.171 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37847427595767808 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 13:03:40.171 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37847427595767808 [0;39m ==> Parameters: 1(Long)
2023-05-12 13:03:40.178 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m37847427595767808 [0;39m <==    Updates: 1
2023-05-12 13:03:40.178 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m37847427595767808 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 13:03:40.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m37847427595767808 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 13:04:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37847510806564864 [0;39m 生成今日电子书快照开始
2023-05-12 13:04:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37847510806564864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:04:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37847510806564864 [0;39m ==> Parameters: 
2023-05-12 13:04:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37847510806564864 [0;39m <==    Updates: 0
2023-05-12 13:04:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37847510806564864 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 13:04:05.021 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37847531840999424 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:04:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847531840999424 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:04:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847531840999424 [0;39m ==> Parameters: 
2023-05-12 13:04:05.027 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847531840999424 [0;39m <==    Updates: 1
2023-05-12 13:04:05.027 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37847531840999424 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-12 13:04:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37847657611399168 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847657611399168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847657611399168 [0;39m ==> Parameters: 
2023-05-12 13:04:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847657611399168 [0;39m <==    Updates: 1
2023-05-12 13:04:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37847657611399168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:05:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37847762481582080 [0;39m 生成今日电子书快照开始
2023-05-12 13:05:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37847762481582080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:05:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37847762481582080 [0;39m ==> Parameters: 
2023-05-12 13:05:00.021 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37847762481582080 [0;39m <==    Updates: 0
2023-05-12 13:05:00.022 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37847762481582080 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-12 13:05:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37847783444713472 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847783444713472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847783444713472 [0;39m ==> Parameters: 
2023-05-12 13:05:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847783444713472 [0;39m <==    Updates: 1
2023-05-12 13:05:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37847783444713472 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:05:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37847909290610688 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:05:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847909290610688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:05:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847909290610688 [0;39m ==> Parameters: 
2023-05-12 13:05:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37847909290610688 [0;39m <==    Updates: 1
2023-05-12 13:05:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37847909290610688 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 13:06:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37848014114656256 [0;39m 生成今日电子书快照开始
2023-05-12 13:06:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37848014114656256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:06:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37848014114656256 [0;39m ==> Parameters: 
2023-05-12 13:06:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37848014114656256 [0;39m <==    Updates: 0
2023-05-12 13:06:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37848014114656256 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 13:06:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37848035094564864 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:06:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848035094564864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:06:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848035094564864 [0;39m ==> Parameters: 
2023-05-12 13:06:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848035094564864 [0;39m <==    Updates: 1
2023-05-12 13:06:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37848035094564864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 13:06:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37848160957239296 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:06:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848160957239296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:06:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848160957239296 [0;39m ==> Parameters: 
2023-05-12 13:06:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848160957239296 [0;39m <==    Updates: 1
2023-05-12 13:06:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37848160957239296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:07:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37848265814839296 [0;39m 生成今日电子书快照开始
2023-05-12 13:07:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37848265814839296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:07:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37848265814839296 [0;39m ==> Parameters: 
2023-05-12 13:07:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37848265814839296 [0;39m <==    Updates: 0
2023-05-12 13:07:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37848265814839296 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 13:07:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37848286782164992 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:07:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848286782164992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:07:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848286782164992 [0;39m ==> Parameters: 
2023-05-12 13:07:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848286782164992 [0;39m <==    Updates: 1
2023-05-12 13:07:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37848286782164992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 13:07:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37848412615479296 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:07:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848412615479296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:07:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848412615479296 [0;39m ==> Parameters: 
2023-05-12 13:07:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848412615479296 [0;39m <==    Updates: 1
2023-05-12 13:07:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37848412615479296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:08:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37848517468884992 [0;39m 生成今日电子书快照开始
2023-05-12 13:08:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37848517468884992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:08:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37848517468884992 [0;39m ==> Parameters: 
2023-05-12 13:08:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37848517468884992 [0;39m <==    Updates: 0
2023-05-12 13:08:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37848517468884992 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 13:08:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37848538398461952 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848538398461952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:08:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848538398461952 [0;39m ==> Parameters: 
2023-05-12 13:08:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848538398461952 [0;39m <==    Updates: 1
2023-05-12 13:08:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37848538398461952 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 13:08:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37848664223387648 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:08:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848664223387648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:08:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848664223387648 [0;39m ==> Parameters: 
2023-05-12 13:08:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848664223387648 [0;39m <==    Updates: 1
2023-05-12 13:08:35.002 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37848664223387648 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:09:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37848769089376256 [0;39m 生成今日电子书快照开始
2023-05-12 13:09:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37848769089376256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:09:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37848769089376256 [0;39m ==> Parameters: 
2023-05-12 13:09:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37848769089376256 [0;39m <==    Updates: 0
2023-05-12 13:09:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37848769089376256 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 13:09:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37848790111227904 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:09:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848790111227904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:09:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848790111227904 [0;39m ==> Parameters: 
2023-05-12 13:09:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848790111227904 [0;39m <==    Updates: 1
2023-05-12 13:09:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37848790111227904 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 13:09:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37848915890016256 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:09:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848915890016256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:09:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848915890016256 [0;39m ==> Parameters: 
2023-05-12 13:09:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37848915890016256 [0;39m <==    Updates: 1
2023-05-12 13:09:35.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37848915890016256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 13:10:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37849020785364992 [0;39m 生成今日电子书快照开始
2023-05-12 13:10:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37849020785364992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:10:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37849020785364992 [0;39m ==> Parameters: 
2023-05-12 13:10:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37849020785364992 [0;39m <==    Updates: 0
2023-05-12 13:10:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37849020785364992 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 13:10:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37849041761079296 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:10:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849041761079296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:10:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849041761079296 [0;39m ==> Parameters: 
2023-05-12 13:10:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849041761079296 [0;39m <==    Updates: 1
2023-05-12 13:10:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37849041761079296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:10:35.023 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37849167627948032 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:10:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849167627948032 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:10:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849167627948032 [0;39m ==> Parameters: 
2023-05-12 13:10:35.023 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849167627948032 [0;39m <==    Updates: 1
2023-05-12 13:10:35.023 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37849167627948032 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:11:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37849272447799296 [0;39m 生成今日电子书快照开始
2023-05-12 13:11:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37849272447799296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:11:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37849272447799296 [0;39m ==> Parameters: 
2023-05-12 13:11:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37849272447799296 [0;39m <==    Updates: 0
2023-05-12 13:11:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37849272447799296 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 13:11:05.018 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37849293436096512 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:11:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849293436096512 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:11:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849293436096512 [0;39m ==> Parameters: 
2023-05-12 13:11:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849293436096512 [0;39m <==    Updates: 1
2023-05-12 13:11:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37849293436096512 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:11:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37849419219079168 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849419219079168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:11:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849419219079168 [0;39m ==> Parameters: 
2023-05-12 13:11:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849419219079168 [0;39m <==    Updates: 1
2023-05-12 13:11:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37849419219079168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 13:12:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37849524110233600 [0;39m 生成今日电子书快照开始
2023-05-12 13:12:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37849524110233600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:12:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37849524110233600 [0;39m ==> Parameters: 
2023-05-12 13:12:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37849524110233600 [0;39m <==    Updates: 0
2023-05-12 13:12:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37849524110233600 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 13:12:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37849545052393472 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:12:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849545052393472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:12:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849545052393472 [0;39m ==> Parameters: 
2023-05-12 13:12:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849545052393472 [0;39m <==    Updates: 1
2023-05-12 13:12:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37849545052393472 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 13:12:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37849670856347648 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:12:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849670856347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:12:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849670856347648 [0;39m ==> Parameters: 
2023-05-12 13:12:35.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849670856347648 [0;39m <==    Updates: 1
2023-05-12 13:12:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37849670856347648 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 13:13:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37849775743307776 [0;39m 生成今日电子书快照开始
2023-05-12 13:13:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37849775743307776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:13:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37849775743307776 [0;39m ==> Parameters: 
2023-05-12 13:13:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37849775743307776 [0;39m <==    Updates: 0
2023-05-12 13:13:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37849775743307776 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 13:13:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37849796702244864 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:13:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849796702244864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:13:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849796702244864 [0;39m ==> Parameters: 
2023-05-12 13:13:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849796702244864 [0;39m <==    Updates: 1
2023-05-12 13:13:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37849796702244864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 13:13:35.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37849922506199040 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:13:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849922506199040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:13:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849922506199040 [0;39m ==> Parameters: 
2023-05-12 13:13:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37849922506199040 [0;39m <==    Updates: 1
2023-05-12 13:13:35.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37849922506199040 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 13:14:00.030 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37850027489628160 [0;39m 生成今日电子书快照开始
2023-05-12 13:14:00.030 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37850027489628160 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:14:00.030 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37850027489628160 [0;39m ==> Parameters: 
2023-05-12 13:14:00.030 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37850027489628160 [0;39m <==    Updates: 0
2023-05-12 13:14:00.030 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37850027489628160 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 13:14:05.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37850048402427904 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:14:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850048402427904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:14:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850048402427904 [0;39m ==> Parameters: 
2023-05-12 13:14:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850048402427904 [0;39m <==    Updates: 1
2023-05-12 13:14:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37850048402427904 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 13:14:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37850174206382080 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:14:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850174206382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:14:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850174206382080 [0;39m ==> Parameters: 
2023-05-12 13:14:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850174206382080 [0;39m <==    Updates: 1
2023-05-12 13:14:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37850174206382080 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 13:15:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37850279084953600 [0;39m 生成今日电子书快照开始
2023-05-12 13:15:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37850279084953600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:15:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37850279084953600 [0;39m ==> Parameters: 
2023-05-12 13:15:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37850279084953600 [0;39m <==    Updates: 0
2023-05-12 13:15:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37850279084953600 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 13:15:05.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37850300048084992 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:15:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850300048084992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:15:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850300048084992 [0;39m ==> Parameters: 
2023-05-12 13:15:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850300048084992 [0;39m <==    Updates: 1
2023-05-12 13:15:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37850300048084992 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:15:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37850425881399296 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:15:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850425881399296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:15:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850425881399296 [0;39m ==> Parameters: 
2023-05-12 13:15:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850425881399296 [0;39m <==    Updates: 1
2023-05-12 13:15:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37850425881399296 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:16:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37850530743193600 [0;39m 生成今日电子书快照开始
2023-05-12 13:16:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37850530743193600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:16:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37850530743193600 [0;39m ==> Parameters: 
2023-05-12 13:16:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37850530743193600 [0;39m <==    Updates: 0
2023-05-12 13:16:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37850530743193600 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 13:16:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37850551681159168 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:16:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850551681159168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:16:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850551681159168 [0;39m ==> Parameters: 
2023-05-12 13:16:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850551681159168 [0;39m <==    Updates: 1
2023-05-12 13:16:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37850551681159168 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:16:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37850677539639296 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:16:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850677539639296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:16:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850677539639296 [0;39m ==> Parameters: 
2023-05-12 13:16:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850677539639296 [0;39m <==    Updates: 1
2023-05-12 13:16:35.016 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37850677539639296 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 13:17:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37850782397239296 [0;39m 生成今日电子书快照开始
2023-05-12 13:17:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37850782397239296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:17:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37850782397239296 [0;39m ==> Parameters: 
2023-05-12 13:17:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37850782397239296 [0;39m <==    Updates: 0
2023-05-12 13:17:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37850782397239296 [0;39m 生成今日电子书快照结束，耗时：0毫秒
2023-05-12 13:17:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37850803372953600 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:17:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850803372953600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:17:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850803372953600 [0;39m ==> Parameters: 
2023-05-12 13:17:05.018 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850803372953600 [0;39m <==    Updates: 1
2023-05-12 13:17:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37850803372953600 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 13:17:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37850929193684992 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:17:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850929193684992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:17:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850929193684992 [0;39m ==> Parameters: 
2023-05-12 13:17:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37850929193684992 [0;39m <==    Updates: 1
2023-05-12 13:17:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37850929193684992 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 13:18:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m37851034059673600 [0;39m 生成今日电子书快照开始
2023-05-12 13:18:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37851034059673600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 13:18:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37851034059673600 [0;39m ==> Parameters: 
2023-05-12 13:18:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m37851034059673600 [0;39m <==    Updates: 0
2023-05-12 13:18:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m37851034059673600 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 13:18:05.029 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m37851055089913856 [0;39m 更新电子书下的文档数据开始
2023-05-12 13:18:05.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37851055089913856 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 13:18:05.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37851055089913856 [0;39m ==> Parameters: 
2023-05-12 13:18:05.029 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m37851055089913856 [0;39m <==    Updates: 1
2023-05-12 13:18:05.029 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m37851055089913856 [0;39m 更新电子书下的文档数据结束，耗时：0毫秒
2023-05-12 23:32:35.593 INFO  com.jiawa.wiki.WikiApplication                    :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_271 on LAPTOP-TLCI2GAA with PID 20788 (D:\work\jiawawiki\target\classes started by k in D:\work\jiawawiki)
2023-05-12 23:32:35.601 INFO  com.jiawa.wiki.WikiApplication                    :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2023-05-12 23:32:35.607 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2023-05-12 23:32:35.688 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-12 23:32:35.689 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-12 23:32:36.611 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2023-05-12 23:32:36.615 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-05-12 23:32:36.665 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2023-05-12 23:32:37.088 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$26a97c78] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:37.102 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.287 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.289 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonConfig' of type [com.jiawa.wiki.config.JacksonConfig$$EnhancerBySpringCGLIB$$c8e3f179] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.290 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.292 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.295 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.313 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.316 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.323 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.324 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.343 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.344 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.348 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.352 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:38.368 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:40.803 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:40.805 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-12 23:32:41.550 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2023-05-12 23:32:41.560 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2023-05-12 23:32:41.561 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2023-05-12 23:32:41.561 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2023-05-12 23:32:41.692 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2023-05-12 23:32:41.692 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 6003 ms
2023-05-12 23:32:42.949 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2023-05-12 23:32:43.521 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2023-05-12 23:32:43.633 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2023-05-12 23:32:44.496 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='127.0.0.1:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2023-05-12 23:32:44.499 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2023-05-12 23:32:44.509 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2023-05-12 23:32:44.526 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2023-05-12 23:32:44.548 INFO  com.jiawa.wiki.WikiApplication                    :61   [32m                  [0;39m Started WikiApplication in 9.594 seconds (JVM running for 11.241)
2023-05-12 23:32:44.552 INFO  com.jiawa.wiki.WikiApplication                    :26   [32m                  [0;39m 启动成功！！
2023-05-12 23:32:44.552 INFO  com.jiawa.wiki.WikiApplication                    :27   [32m                  [0;39m 地址: 	http://127.0.0.1:8880
2023-05-12 23:33:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38005803868884992 [0;39m 生成今日电子书快照开始
2023-05-12 23:33:00.031 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m38005803868884992 [0;39m HikariPool-1 - Starting...
2023-05-12 23:33:00.619 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m38005803868884992 [0;39m HikariPool-1 - Start completed.
2023-05-12 23:33:00.626 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38005803868884992 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:33:00.644 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38005803868884992 [0;39m ==> Parameters: 
2023-05-12 23:33:00.659 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38005803868884992 [0;39m <==    Updates: 0
2023-05-12 23:33:00.662 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38005803868884992 [0;39m 生成今日电子书快照结束，耗时：648毫秒
2023-05-12 23:33:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38005824836210688 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:33:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38005824836210688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:33:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38005824836210688 [0;39m ==> Parameters: 
2023-05-12 23:33:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38005824836210688 [0;39m <==    Updates: 1
2023-05-12 23:33:05.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38005824836210688 [0;39m 更新电子书下的文档数据结束，耗时：6毫秒
2023-05-12 23:33:10.937 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-12 23:33:10.938 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2023-05-12 23:33:10.940 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 2 ms
2023-05-12 23:33:11.092 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m                  [0;39m 有新连接：token：aTaKj4ofq7，session id：0，当前连接数：1
2023-05-12 23:33:11.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38005850463408128 [0;39m ------------- 开始 -------------
2023-05-12 23:33:11.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38005850463408130 [0;39m ------------- 开始 -------------
2023-05-12 23:33:11.123 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38005850463408129 [0;39m ------------- 开始 -------------
2023-05-12 23:33:11.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38005850463408129 [0;39m 请求地址: http://127.0.0.1:8880/category/all GET
2023-05-12 23:33:11.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38005850463408129 [0;39m 类名方法: com.jiawa.wiki.controller.CategoryController.all
2023-05-12 23:33:11.124 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38005850463408128 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2023-05-12 23:33:11.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38005850463408130 [0;39m 请求地址: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2023-05-12 23:33:11.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38005850463408128 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.getStatistic
2023-05-12 23:33:11.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38005850463408130 [0;39m 类名方法: com.jiawa.wiki.controller.EbookSnapshotController.get30Statistic
2023-05-12 23:33:11.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38005850463408128 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:33:11.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38005850463408130 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:33:11.125 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38005850463408129 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:33:11.127 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38005850463408129 [0;39m 请求参数: []
2023-05-12 23:33:11.127 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38005850463408130 [0;39m 请求参数: []
2023-05-12 23:33:11.128 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38005850463408128 [0;39m 请求参数: []
2023-05-12 23:33:11.142 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38005850463408128 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 23:33:11.142 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38005850463408130 [0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2023-05-12 23:33:11.143 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38005850463408130 [0;39m ==> Parameters: 
2023-05-12 23:33:11.145 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38005850463408128 [0;39m ==> Parameters: 
2023-05-12 23:33:11.163 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38005850463408128 [0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2023-05-12 23:33:11.163 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38005850463408130 [0;39m <==    Columns: date, viewIncrease, voteIncrease
2023-05-12 23:33:11.164 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38005850463408130 [0;39m <==        Row: 2023-04-24, 10, 7
2023-05-12 23:33:11.164 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38005850463408128 [0;39m <==        Row: 2023-05-11, 10, 7, 0, 0
2023-05-12 23:33:11.167 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38005850463408130 [0;39m <==        Row: 2023-05-10, 10, 7
2023-05-12 23:33:11.167 TRACE c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m38005850463408128 [0;39m <==        Row: 2023-05-12, 40, 9, 30, 2
2023-05-12 23:33:11.167 TRACE c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m38005850463408130 [0;39m <==        Row: 2023-05-11, 0, 0
2023-05-12 23:33:11.168 DEBUG c.j.w.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m38005850463408130 [0;39m <==      Total: 3
2023-05-12 23:33:11.168 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m38005850463408128 [0;39m <==      Total: 2
2023-05-12 23:33:11.187 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38005850463408129 [0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2023-05-12 23:33:11.189 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38005850463408129 [0;39m ==> Parameters: 
2023-05-12 23:33:11.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38005850463408128 [0;39m 返回结果: {"content":[{"date":1683734400000,"viewCount":10,"viewIncrease":0,"voteCount":7,"voteIncrease":0},{"date":1683820800000,"viewCount":40,"viewIncrease":30,"voteCount":9,"voteIncrease":2}],"success":true}
2023-05-12 23:33:11.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38005850463408130 [0;39m 返回结果: {"content":[{"date":1682265600000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683648000000,"viewCount":0,"viewIncrease":10,"voteCount":0,"voteIncrease":7},{"date":1683734400000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2023-05-12 23:33:11.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38005850463408130 [0;39m ------------- 结束 耗时：71 ms -------------
2023-05-12 23:33:11.193 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38005850463408128 [0;39m ------------- 结束 耗时：71 ms -------------
2023-05-12 23:33:11.194 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==    Columns: id, parent, name, sort
2023-05-12 23:33:11.194 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 100, 0, 前端开发, 100
2023-05-12 23:33:11.195 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 101, 100, Vue, 101
2023-05-12 23:33:11.195 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 102, 100, HTML & CSS, 102
2023-05-12 23:33:11.196 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 200, 0, Java, 200
2023-05-12 23:33:11.196 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 201, 200, 基础应用, 201
2023-05-12 23:33:11.197 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 202, 200, 框架应用, 202
2023-05-12 23:33:11.197 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 300, 0, Python, 300
2023-05-12 23:33:11.197 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 301, 300, 基础应用, 301
2023-05-12 23:33:11.344 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 302, 300, 进阶方向应用, 302
2023-05-12 23:33:11.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 400, 0, 数据库, 400
2023-05-12 23:33:11.348 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 401, 400, MySQL, 401
2023-05-12 23:33:11.349 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 500, 0, 其它, 500
2023-05-12 23:33:11.349 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 501, 500, 服务器, 501
2023-05-12 23:33:11.349 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 502, 500, 开发工具, 502
2023-05-12 23:33:11.350 TRACE c.jiawa.wiki.mapper.CategoryMapper.selectByExample:143  [32m38005850463408129 [0;39m <==        Row: 503, 500, 热门服务端语言, 503
2023-05-12 23:33:11.350 DEBUG c.jiawa.wiki.mapper.CategoryMapper.selectByExample:137  [32m38005850463408129 [0;39m <==      Total: 15
2023-05-12 23:33:11.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38005850463408129 [0;39m 返回结果: {"content":[{"id":100,"name":"前端开发","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"Java","parent":0,"sort":200},{"id":201,"name":"基础应用","parent":200,"sort":201},{"id":202,"name":"框架应用","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"基础应用","parent":300,"sort":301},{"id":302,"name":"进阶方向应用","parent":300,"sort":302},{"id":400,"name":"数据库","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"其它","parent":0,"sort":500},{"id":501,"name":"服务器","parent":500,"sort":501},{"id":502,"name":"开发工具","parent":500,"sort":502},{"id":503,"name":"热门服务端语言","parent":500,"sort":503}],"success":true}
2023-05-12 23:33:11.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38005850463408129 [0;39m ------------- 结束 耗时：285 ms -------------
2023-05-12 23:33:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38005950656942080 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:33:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38005950656942080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:33:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38005950656942080 [0;39m ==> Parameters: 
2023-05-12 23:33:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38005950656942080 [0;39m <==    Updates: 1
2023-05-12 23:33:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38005950656942080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 23:34:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38006055489376256 [0;39m 生成今日电子书快照开始
2023-05-12 23:34:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38006055489376256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:34:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38006055489376256 [0;39m ==> Parameters: 
2023-05-12 23:34:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38006055489376256 [0;39m <==    Updates: 0
2023-05-12 23:34:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38006055489376256 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 23:34:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38006076448313344 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:34:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006076448313344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:34:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006076448313344 [0;39m ==> Parameters: 
2023-05-12 23:34:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006076448313344 [0;39m <==    Updates: 1
2023-05-12 23:34:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38006076448313344 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:34:29.495 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38006179183595520 [0;39m ------------- 开始 -------------
2023-05-12 23:34:29.496 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38006179183595520 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 23:34:29.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38006179183595520 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 23:34:29.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38006179183595520 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:34:29.502 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38006179183595520 [0;39m 请求参数: [{"categoryId2":101,"page":1,"size":1000}]
2023-05-12 23:34:29.644 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38006179183595520 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 23:34:29.645 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38006179183595520 [0;39m ==> Parameters: 101(Long)
2023-05-12 23:34:29.660 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38006179183595520 [0;39m <==    Columns: count(0)
2023-05-12 23:34:29.661 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38006179183595520 [0;39m <==        Row: 1
2023-05-12 23:34:29.663 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38006179183595520 [0;39m <==      Total: 1
2023-05-12 23:34:29.666 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38006179183595520 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 23:34:29.677 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38006179183595520 [0;39m ==> Parameters: 101(Long), 1000(Integer)
2023-05-12 23:34:29.681 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38006179183595520 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 23:34:29.682 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38006179183595520 [0;39m <==        Row: 2, Vue 入门教程, 100, 101, 零基础入门 Vue 开发，企业级应用开发最佳首选框架, null, 0, 0, 0
2023-05-12 23:34:29.686 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38006179183595520 [0;39m <==      Total: 1
2023-05-12 23:34:29.688 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38006179183595520 [0;39m 总行数：1
2023-05-12 23:34:29.689 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38006179183595520 [0;39m 总页数：1
2023-05-12 23:34:29.724 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38006179183595520 [0;39m 返回结果: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"零基础入门 Vue 开发，企业级应用开发最佳首选框架","docCount":0,"id":2,"name":"Vue 入门教程","viewCount":0,"voteCount":0}],"total":1},"success":true}
2023-05-12 23:34:29.725 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38006179183595520 [0;39m ------------- 结束 耗时：230 ms -------------
2023-05-12 23:34:32.701 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38006192630534144 [0;39m ------------- 开始 -------------
2023-05-12 23:34:32.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38006192630534144 [0;39m 请求地址: http://127.0.0.1:8880/ebook/list GET
2023-05-12 23:34:32.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38006192630534144 [0;39m 类名方法: com.jiawa.wiki.controller.EbookController.list
2023-05-12 23:34:32.702 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38006192630534144 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:34:32.703 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38006192630534144 [0;39m 请求参数: [{"categoryId2":202,"page":1,"size":1000}]
2023-05-12 23:34:32.707 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38006192630534144 [0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2023-05-12 23:34:32.707 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38006192630534144 [0;39m ==> Parameters: 202(Long)
2023-05-12 23:34:32.710 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38006192630534144 [0;39m <==    Columns: count(0)
2023-05-12 23:34:32.710 TRACE c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :143  [32m38006192630534144 [0;39m <==        Row: 1
2023-05-12 23:34:32.711 DEBUG c.j.wiki.mapper.EbookMapper.selectByExample_COUNT :137  [32m38006192630534144 [0;39m <==      Total: 1
2023-05-12 23:34:32.711 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38006192630534144 [0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2023-05-12 23:34:32.712 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38006192630534144 [0;39m ==> Parameters: 202(Long), 1000(Integer)
2023-05-12 23:34:32.713 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38006192630534144 [0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2023-05-12 23:34:32.713 TRACE com.jiawa.wiki.mapper.EbookMapper.selectByExample :143  [32m38006192630534144 [0;39m <==        Row: 1, Spring Boot 入门教程, 200, 202, 零基础入门 Java 开发，企业级应用开发最佳首选框架, null, 8, 40, 9
2023-05-12 23:34:32.714 DEBUG com.jiawa.wiki.mapper.EbookMapper.selectByExample :137  [32m38006192630534144 [0;39m <==      Total: 1
2023-05-12 23:34:32.714 INFO  com.jiawa.wiki.service.EbookService               :48   [32m38006192630534144 [0;39m 总行数：1
2023-05-12 23:34:32.715 INFO  com.jiawa.wiki.service.EbookService               :49   [32m38006192630534144 [0;39m 总页数：1
2023-05-12 23:34:32.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38006192630534144 [0;39m 返回结果: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"零基础入门 Java 开发，企业级应用开发最佳首选框架","docCount":8,"id":1,"name":"Spring Boot 入门教程","viewCount":40,"voteCount":9}],"total":1},"success":true}
2023-05-12 23:34:32.715 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38006192630534144 [0;39m ------------- 结束 耗时：14 ms -------------
2023-05-12 23:34:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38006202327764992 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:34:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006202327764992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:34:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006202327764992 [0;39m ==> Parameters: 
2023-05-12 23:34:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006202327764992 [0;39m <==    Updates: 1
2023-05-12 23:34:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38006202327764992 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 23:34:35.302 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38006203539918848 [0;39m ------------- 开始 -------------
2023-05-12 23:34:35.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38006203539918848 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:34:35.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38006203539918848 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:34:35.303 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38006203539918848 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:34:35.304 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38006203539918848 [0;39m 请求参数: [1]
2023-05-12 23:34:35.311 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38006203539918848 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:34:35.312 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38006203539918848 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:34:35.313 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38006203539918848 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:34:35.313 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38006203539918848 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 16, 4
2023-05-12 23:34:35.314 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38006203539918848 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:34:35.314 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38006203539918848 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 4, 1
2023-05-12 23:34:35.315 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38006203539918848 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:34:35.315 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38006203539918848 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:34:35.315 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38006203539918848 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:34:35.315 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38006203539918848 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:34:35.317 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38006203539918848 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:34:35.317 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38006203539918848 [0;39m <==      Total: 8
2023-05-12 23:34:35.325 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38006203539918848 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":16,"voteCount":4},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:34:35.326 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38006203539918848 [0;39m ------------- 结束 耗时：24 ms -------------
2023-05-12 23:34:35.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38006203820937216 [0;39m ------------- 开始 -------------
2023-05-12 23:34:35.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38006203820937216 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:34:35.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38006203820937216 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:34:35.369 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38006203820937216 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:34:35.370 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38006203820937216 [0;39m 请求参数: [1]
2023-05-12 23:34:35.371 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38006203820937216 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:34:35.371 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38006203820937216 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:34:35.374 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38006203820937216 [0;39m <==    Columns: id, content
2023-05-12 23:34:35.375 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38006203820937216 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:34:35.375 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38006203820937216 [0;39m <==      Total: 1
2023-05-12 23:34:35.377 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38006203820937216 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:34:35.378 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38006203820937216 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:34:35.390 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38006203820937216 [0;39m <==    Updates: 1
2023-05-12 23:34:35.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38006203820937216 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:34:35.392 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38006203820937216 [0;39m ------------- 结束 耗时：23 ms -------------
2023-05-12 23:35:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38006307172782080 [0;39m 生成今日电子书快照开始
2023-05-12 23:35:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38006307172782080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:35:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38006307172782080 [0;39m ==> Parameters: 
2023-05-12 23:35:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38006307172782080 [0;39m <==    Updates: 0
2023-05-12 23:35:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38006307172782080 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 23:35:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38006328165273600 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:35:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006328165273600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:35:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006328165273600 [0;39m ==> Parameters: 
2023-05-12 23:35:05.021 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006328165273600 [0;39m <==    Updates: 1
2023-05-12 23:35:05.022 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38006328165273600 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-12 23:35:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38006453981810688 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:35:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006453981810688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:35:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006453981810688 [0;39m ==> Parameters: 
2023-05-12 23:35:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006453981810688 [0;39m <==    Updates: 1
2023-05-12 23:35:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38006453981810688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:36:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38006558814244864 [0;39m 生成今日电子书快照开始
2023-05-12 23:36:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38006558814244864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:36:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38006558814244864 [0;39m ==> Parameters: 
2023-05-12 23:36:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38006558814244864 [0;39m <==    Updates: 0
2023-05-12 23:36:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38006558814244864 [0;39m 生成今日电子书快照结束，耗时：12毫秒
2023-05-12 23:36:05.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38006579823513600 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:36:05.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006579823513600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:36:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006579823513600 [0;39m ==> Parameters: 
2023-05-12 23:36:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006579823513600 [0;39m <==    Updates: 1
2023-05-12 23:36:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38006579823513600 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:36:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38006705593913344 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:36:35.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006705593913344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:36:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006705593913344 [0;39m ==> Parameters: 
2023-05-12 23:36:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006705593913344 [0;39m <==    Updates: 1
2023-05-12 23:36:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38006705593913344 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:37:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38006810480873472 [0;39m 生成今日电子书快照开始
2023-05-12 23:37:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38006810480873472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:37:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38006810480873472 [0;39m ==> Parameters: 
2023-05-12 23:37:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38006810480873472 [0;39m <==    Updates: 0
2023-05-12 23:37:00.014 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38006810480873472 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-12 23:37:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38006831423033344 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:37:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006831423033344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:37:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006831423033344 [0;39m ==> Parameters: 
2023-05-12 23:37:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006831423033344 [0;39m <==    Updates: 1
2023-05-12 23:37:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38006831423033344 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 23:37:35.004 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38006957264736256 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:37:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006957264736256 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:37:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006957264736256 [0;39m ==> Parameters: 
2023-05-12 23:37:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38006957264736256 [0;39m <==    Updates: 1
2023-05-12 23:37:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38006957264736256 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 23:38:00.006 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38007062130724864 [0;39m 生成今日电子书快照开始
2023-05-12 23:38:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38007062130724864 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:38:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38007062130724864 [0;39m ==> Parameters: 
2023-05-12 23:38:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38007062130724864 [0;39m <==    Updates: 0
2023-05-12 23:38:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38007062130724864 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 23:38:05.000 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38007083077079040 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:38:05.001 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007083077079040 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:38:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007083077079040 [0;39m ==> Parameters: 
2023-05-12 23:38:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007083077079040 [0;39m <==    Updates: 1
2023-05-12 23:38:05.007 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38007083077079040 [0;39m 更新电子书下的文档数据结束，耗时：7毫秒
2023-05-12 23:38:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38007208943947776 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:38:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007208943947776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:38:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007208943947776 [0;39m ==> Parameters: 
2023-05-12 23:38:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007208943947776 [0;39m <==    Updates: 1
2023-05-12 23:38:35.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38007208943947776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:39:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38007313801547776 [0;39m 生成今日电子书快照开始
2023-05-12 23:39:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38007313801547776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:39:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38007313801547776 [0;39m ==> Parameters: 
2023-05-12 23:39:00.018 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38007313801547776 [0;39m <==    Updates: 0
2023-05-12 23:39:00.018 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38007313801547776 [0;39m 生成今日电子书快照结束，耗时：9毫秒
2023-05-12 23:39:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38007334781456384 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:39:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007334781456384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:39:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007334781456384 [0;39m ==> Parameters: 
2023-05-12 23:39:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007334781456384 [0;39m <==    Updates: 1
2023-05-12 23:39:05.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38007334781456384 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 23:39:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38007460606382080 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:39:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007460606382080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:39:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007460606382080 [0;39m ==> Parameters: 
2023-05-12 23:39:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007460606382080 [0;39m <==    Updates: 1
2023-05-12 23:39:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38007460606382080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 23:40:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38007565443010560 [0;39m 生成今日电子书快照开始
2023-05-12 23:40:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38007565443010560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:40:00.132 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38007565443010560 [0;39m ==> Parameters: 
2023-05-12 23:40:00.169 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38007565443010560 [0;39m <==    Updates: 0
2023-05-12 23:40:00.173 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38007565443010560 [0;39m 生成今日电子书快照结束，耗时：164毫秒
2023-05-12 23:40:05.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38007586452279296 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:40:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007586452279296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:40:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007586452279296 [0;39m ==> Parameters: 
2023-05-12 23:40:05.019 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007586452279296 [0;39m <==    Updates: 1
2023-05-12 23:40:05.019 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38007586452279296 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 23:40:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38007712277204992 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:40:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007712277204992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:40:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007712277204992 [0;39m ==> Parameters: 
2023-05-12 23:40:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007712277204992 [0;39m <==    Updates: 1
2023-05-12 23:40:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38007712277204992 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 23:40:46.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38007762227171328 [0;39m ------------- 开始 -------------
2023-05-12 23:40:46.922 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38007762227171328 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:40:46.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38007762227171328 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:40:46.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38007762227171328 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:40:46.923 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38007762227171328 [0;39m 请求参数: [1]
2023-05-12 23:40:46.925 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38007762227171328 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:40:46.925 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38007762227171328 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:40:46.926 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007762227171328 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:40:46.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007762227171328 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 17, 4
2023-05-12 23:40:46.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007762227171328 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:40:46.927 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007762227171328 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 4, 1
2023-05-12 23:40:46.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007762227171328 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:40:46.928 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007762227171328 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:40:46.929 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007762227171328 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:40:46.929 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007762227171328 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:40:46.929 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007762227171328 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:40:46.932 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38007762227171328 [0;39m <==      Total: 8
2023-05-12 23:40:46.934 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38007762227171328 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":17,"voteCount":4},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:40:46.935 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38007762227171328 [0;39m ------------- 结束 耗时：13 ms -------------
2023-05-12 23:40:47.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38007762730487808 [0;39m ------------- 开始 -------------
2023-05-12 23:40:47.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38007762730487808 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:40:47.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38007762730487808 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:40:47.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38007762730487808 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:40:47.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38007762730487808 [0;39m 请求参数: [1]
2023-05-12 23:40:47.044 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38007762730487808 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:40:47.044 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38007762730487808 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:40:47.046 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38007762730487808 [0;39m <==    Columns: id, content
2023-05-12 23:40:47.046 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38007762730487808 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:40:47.046 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38007762730487808 [0;39m <==      Total: 1
2023-05-12 23:40:47.047 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38007762730487808 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:40:47.047 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38007762730487808 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:40:47.051 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38007762730487808 [0;39m <==    Updates: 1
2023-05-12 23:40:47.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38007762730487808 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:40:47.053 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38007762730487808 [0;39m ------------- 结束 耗时：11 ms -------------
2023-05-12 23:40:55.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38007798017167360 [0;39m ------------- 开始 -------------
2023-05-12 23:40:55.455 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38007798017167360 [0;39m 请求地址: http://127.0.0.1:8880/doc/vote/1 GET
2023-05-12 23:40:55.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38007798017167360 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.vote
2023-05-12 23:40:55.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38007798017167360 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:40:55.456 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38007798017167360 [0;39m 请求参数: [1]
2023-05-12 23:40:56.005 INFO  com.jiawa.wiki.util.RedisUtil                     :31   [32m38007798017167360 [0;39m key不存在，放入：DOC_VOTE_1_127.0.0.1，过期 5000 秒
2023-05-12 23:40:56.012 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m38007798017167360 [0;39m ==>  Preparing: update doc set vote_count = vote_count + 1 where id = ?
2023-05-12 23:40:56.012 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m38007798017167360 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:40:56.015 DEBUG c.j.wiki.mapper.DocMapperCust.increaseVoteCount   :137  [32m38007798017167360 [0;39m <==    Updates: 1
2023-05-12 23:40:56.015 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m38007798017167360 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc where id = ?
2023-05-12 23:40:56.016 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m38007798017167360 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:40:56.017 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m38007798017167360 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:40:56.017 TRACE com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:143  [32m38007798017167360 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 18, 5
2023-05-12 23:40:56.018 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByPrimaryKey:137  [32m38007798017167360 [0;39m <==      Total: 1
2023-05-12 23:40:56.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38007801007706112 [0;39m ------------- 开始 -------------
2023-05-12 23:40:56.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38007801007706112 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:40:56.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38007801007706112 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:40:56.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38007801007706112 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:40:56.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38007801007706112 [0;39m 请求参数: [1]
2023-05-12 23:40:56.170 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38007801007706112 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:40:56.170 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38007801007706112 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:40:56.171 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007801007706112 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:40:56.171 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007801007706112 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 18, 5
2023-05-12 23:40:56.172 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007801007706112 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:40:56.172 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007801007706112 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 4, 1
2023-05-12 23:40:56.172 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007801007706112 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:40:56.173 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007801007706112 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:40:56.173 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007801007706112 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:40:56.173 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007801007706112 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:40:56.174 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007801007706112 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:40:56.174 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38007801007706112 [0;39m <==      Total: 8
2023-05-12 23:40:56.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38007801007706112 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":18,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:40:56.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38007801007706112 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 23:40:56.267 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38007801422942208 [0;39m ------------- 开始 -------------
2023-05-12 23:40:56.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38007801422942208 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:40:56.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38007801422942208 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:40:56.268 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38007801422942208 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:40:56.269 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38007801422942208 [0;39m 请求参数: [1]
2023-05-12 23:40:56.269 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38007801422942208 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:40:56.270 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38007801422942208 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:40:56.271 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38007801422942208 [0;39m <==    Columns: id, content
2023-05-12 23:40:56.271 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38007801422942208 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:40:56.272 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38007801422942208 [0;39m <==      Total: 1
2023-05-12 23:40:56.272 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38007801422942208 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:40:56.273 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38007801422942208 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:40:56.275 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38007801422942208 [0;39m <==    Updates: 1
2023-05-12 23:40:56.275 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38007801422942208 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:40:56.276 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38007801422942208 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 23:40:56.933 INFO  com.jiawa.wiki.rocketmq.VoteTopicConsumer         :25   [32m                  [0;39m ROCKETMQ收到消息：【文档1】被点赞！
2023-05-12 23:40:56.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38007798017167360 [0;39m 返回结果: {"success":true}
2023-05-12 23:40:56.946 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38007798017167360 [0;39m ------------- 结束 耗时：1491 ms -------------
2023-05-12 23:40:56.947 INFO  com.jiawa.wiki.websocket.WebSocketServer          :71   [32m                  [0;39m 推送消息：aTaKj4ofq7，内容：【文档1】被点赞！
2023-05-12 23:41:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38007817113833472 [0;39m 生成今日电子书快照开始
2023-05-12 23:41:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38007817113833472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:41:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38007817113833472 [0;39m ==> Parameters: 
2023-05-12 23:41:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38007817113833472 [0;39m <==    Updates: 0
2023-05-12 23:41:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38007817113833472 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 23:41:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38007838085353472 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:41:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007838085353472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:41:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007838085353472 [0;39m ==> Parameters: 
2023-05-12 23:41:05.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007838085353472 [0;39m <==    Updates: 1
2023-05-12 23:41:05.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38007838085353472 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-12 23:41:35.059 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38007964103217152 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:41:35.065 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007964103217152 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:41:35.065 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007964103217152 [0;39m ==> Parameters: 
2023-05-12 23:41:35.067 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38007964103217152 [0;39m <==    Updates: 1
2023-05-12 23:41:35.067 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38007964103217152 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-12 23:41:43.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38007998085468160 [0;39m ------------- 开始 -------------
2023-05-12 23:41:43.155 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38007998085468160 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:41:43.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38007998085468160 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:41:43.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38007998085468160 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:41:43.156 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38007998085468160 [0;39m 请求参数: [1]
2023-05-12 23:41:43.157 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38007998085468160 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:41:43.158 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38007998085468160 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:41:43.159 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007998085468160 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:41:43.159 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007998085468160 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 19, 5
2023-05-12 23:41:43.160 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007998085468160 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:41:43.160 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007998085468160 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 4, 1
2023-05-12 23:41:43.160 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007998085468160 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:41:43.161 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007998085468160 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:41:43.161 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007998085468160 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:41:43.162 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007998085468160 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:41:43.162 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38007998085468160 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:41:43.163 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38007998085468160 [0;39m <==      Total: 8
2023-05-12 23:41:43.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38007998085468160 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":19,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:41:43.165 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38007998085468160 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 23:41:43.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38007998551035904 [0;39m ------------- 开始 -------------
2023-05-12 23:41:43.266 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38007998551035904 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:41:45.252 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008006880923648 [0;39m ------------- 开始 -------------
2023-05-12 23:41:45.334 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008007224856576 [0;39m ------------- 开始 -------------
2023-05-12 23:41:45.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38007998551035904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:41:45.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38007998551035904 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:41:45.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38007998551035904 [0;39m 请求参数: [1]
2023-05-12 23:41:45.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008007224856576 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:41:45.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008006880923648 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/4 GET
2023-05-12 23:41:45.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008007224856576 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:41:45.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008007224856576 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:41:45.381 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38007998551035904 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:41:45.381 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38007998551035904 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:41:45.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008007224856576 [0;39m 请求参数: [1]
2023-05-12 23:41:45.381 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008006880923648 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:41:45.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008006880923648 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:41:45.382 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008006880923648 [0;39m 请求参数: [4]
2023-05-12 23:41:45.383 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008007224856576 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:41:45.383 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38007998551035904 [0;39m <==    Columns: id, content
2023-05-12 23:41:45.383 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38007998551035904 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:41:45.383 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008007224856576 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:41:45.383 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008006880923648 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:41:45.383 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38007998551035904 [0;39m <==      Total: 1
2023-05-12 23:41:45.383 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008006880923648 [0;39m ==> Parameters: 4(Long)
2023-05-12 23:41:45.384 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008007224856576 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:41:45.384 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38007998551035904 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:41:45.384 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008007224856576 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 19, 5
2023-05-12 23:41:45.384 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38007998551035904 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:41:45.386 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008006880923648 [0;39m <==      Total: 0
2023-05-12 23:41:45.387 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008007224856576 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:41:45.387 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008007224856576 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 4, 1
2023-05-12 23:41:45.387 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008006880923648 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:41:45.387 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008007224856576 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:41:45.387 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008006880923648 [0;39m ==> Parameters: 4(Long)
2023-05-12 23:41:45.387 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008007224856576 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:41:45.388 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008007224856576 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:41:45.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008007224856576 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:41:45.389 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008007224856576 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:41:45.390 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008007224856576 [0;39m <==      Total: 8
2023-05-12 23:41:45.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008007224856576 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":19,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:41:45.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008007224856576 [0;39m ------------- 结束 耗时：56 ms -------------
2023-05-12 23:41:45.405 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38007998551035904 [0;39m <==    Updates: 1
2023-05-12 23:41:45.405 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38007998551035904 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:41:45.405 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38007998551035904 [0;39m ------------- 结束 耗时：2139 ms -------------
2023-05-12 23:41:45.406 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008006880923648 [0;39m <==    Updates: 1
2023-05-12 23:41:45.406 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008006880923648 [0;39m 返回结果: {"content":"","success":true}
2023-05-12 23:41:45.407 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008006880923648 [0;39m ------------- 结束 耗时：155 ms -------------
2023-05-12 23:41:45.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008007602343936 [0;39m ------------- 开始 -------------
2023-05-12 23:41:45.424 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008007602343936 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:41:45.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008007602343936 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:41:45.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008007602343936 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:41:45.433 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008007602343936 [0;39m 请求参数: [1]
2023-05-12 23:41:45.434 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008007602343936 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:41:45.434 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008007602343936 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:41:45.435 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008007602343936 [0;39m <==    Columns: id, content
2023-05-12 23:41:45.436 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008007602343936 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:41:45.436 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008007602343936 [0;39m <==      Total: 1
2023-05-12 23:41:45.437 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008007602343936 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:41:45.437 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008007602343936 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:41:45.439 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008007602343936 [0;39m <==    Updates: 1
2023-05-12 23:41:45.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008007602343936 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:41:45.439 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008007602343936 [0;39m ------------- 结束 耗时：16 ms -------------
2023-05-12 23:41:54.863 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008047192379392 [0;39m ------------- 开始 -------------
2023-05-12 23:41:54.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008047192379392 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:41:54.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008047192379392 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:41:54.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008047192379392 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:41:54.864 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008047192379392 [0;39m 请求参数: [1]
2023-05-12 23:41:54.866 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008047192379392 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:41:54.867 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008047192379392 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:41:54.868 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008047192379392 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:41:54.868 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008047192379392 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 21, 5
2023-05-12 23:41:54.868 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008047192379392 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:41:54.869 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008047192379392 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:41:54.870 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008047192379392 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:41:54.870 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008047192379392 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:41:54.870 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008047192379392 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:41:54.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008047192379392 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:41:54.871 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008047192379392 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:41:54.871 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008047192379392 [0;39m <==      Total: 8
2023-05-12 23:41:54.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008047192379392 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":21,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:41:54.872 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008047192379392 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 23:41:54.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008047498563584 [0;39m ------------- 开始 -------------
2023-05-12 23:41:54.936 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008047498563584 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:41:54.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008047498563584 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:41:54.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008047498563584 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:41:54.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008047498563584 [0;39m 请求参数: [1]
2023-05-12 23:41:54.939 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008047498563584 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:41:54.940 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008047498563584 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:41:54.941 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008047498563584 [0;39m <==    Columns: id, content
2023-05-12 23:41:54.942 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008047498563584 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:41:54.942 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008047498563584 [0;39m <==      Total: 1
2023-05-12 23:41:54.943 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008047498563584 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:41:54.943 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008047498563584 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:41:54.956 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008047498563584 [0;39m <==    Updates: 1
2023-05-12 23:41:54.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008047498563584 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:41:54.957 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008047498563584 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-12 23:42:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38008068801433600 [0;39m 生成今日电子书快照开始
2023-05-12 23:42:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38008068801433600 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:42:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38008068801433600 [0;39m ==> Parameters: 
2023-05-12 23:42:00.020 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38008068801433600 [0;39m <==    Updates: 0
2023-05-12 23:42:00.021 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38008068801433600 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-12 23:42:01.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008073125761024 [0;39m ------------- 开始 -------------
2023-05-12 23:42:01.047 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008073125761024 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:42:01.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008073125761024 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:42:01.048 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008073125761024 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:42:01.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008073125761024 [0;39m 请求参数: [1]
2023-05-12 23:42:01.050 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008073125761024 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:42:01.051 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008073125761024 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:01.052 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008073125761024 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:42:01.052 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008073125761024 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 22, 5
2023-05-12 23:42:01.052 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008073125761024 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:42:01.052 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008073125761024 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:42:01.053 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008073125761024 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:42:01.053 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008073125761024 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:42:01.053 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008073125761024 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:42:01.053 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008073125761024 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:42:01.054 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008073125761024 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:42:01.054 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008073125761024 [0;39m <==      Total: 8
2023-05-12 23:42:01.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008073125761024 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":22,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:42:01.055 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008073125761024 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 23:42:01.095 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008073331281920 [0;39m ------------- 开始 -------------
2023-05-12 23:42:01.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008073331281920 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:42:01.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008073331281920 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:42:01.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008073331281920 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:42:01.096 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008073331281920 [0;39m 请求参数: [1]
2023-05-12 23:42:01.097 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008073331281920 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:42:01.097 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008073331281920 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:01.098 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008073331281920 [0;39m <==    Columns: id, content
2023-05-12 23:42:01.099 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008073331281920 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:42:01.099 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008073331281920 [0;39m <==      Total: 1
2023-05-12 23:42:01.100 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008073331281920 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:42:01.100 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008073331281920 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:01.102 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008073331281920 [0;39m <==    Updates: 1
2023-05-12 23:42:01.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008073331281920 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:42:01.103 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008073331281920 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 23:42:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38008089735204864 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:42:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008089735204864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:42:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008089735204864 [0;39m ==> Parameters: 
2023-05-12 23:42:05.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008089735204864 [0;39m <==    Updates: 1
2023-05-12 23:42:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38008089735204864 [0;39m 更新电子书下的文档数据结束，耗时：9毫秒
2023-05-12 23:42:11.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008115031052288 [0;39m ------------- 开始 -------------
2023-05-12 23:42:11.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008115031052288 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:42:11.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008115031052288 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:42:11.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008115031052288 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:42:11.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008115031052288 [0;39m 请求参数: [1]
2023-05-12 23:42:11.040 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008115031052288 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:42:11.040 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008115031052288 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:11.042 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008115031052288 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:42:11.042 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008115031052288 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 23, 5
2023-05-12 23:42:11.042 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008115031052288 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:42:11.043 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008115031052288 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:42:11.043 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008115031052288 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:42:11.043 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008115031052288 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:42:11.043 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008115031052288 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:42:11.044 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008115031052288 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:42:11.044 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008115031052288 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:42:11.044 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008115031052288 [0;39m <==      Total: 8
2023-05-12 23:42:11.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008115031052288 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":23,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:42:11.045 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008115031052288 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 23:42:11.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008115219795968 [0;39m ------------- 开始 -------------
2023-05-12 23:42:11.082 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008115219795968 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:42:11.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008115219795968 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:42:11.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008115219795968 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:42:11.115 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008115219795968 [0;39m 请求参数: [1]
2023-05-12 23:42:11.116 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008115219795968 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:42:11.117 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008115219795968 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:11.118 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008115219795968 [0;39m <==    Columns: id, content
2023-05-12 23:42:11.118 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008115219795968 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:42:11.118 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008115219795968 [0;39m <==      Total: 1
2023-05-12 23:42:11.119 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008115219795968 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:42:11.120 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008115219795968 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:11.121 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008115219795968 [0;39m <==    Updates: 1
2023-05-12 23:42:11.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008115219795968 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:42:11.122 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008115219795968 [0;39m ------------- 结束 耗时：40 ms -------------
2023-05-12 23:42:13.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008126489890816 [0;39m ------------- 开始 -------------
2023-05-12 23:42:13.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008126489890816 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:42:13.769 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008126489890816 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:42:13.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008126489890816 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:42:13.770 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008126489890816 [0;39m 请求参数: [1]
2023-05-12 23:42:13.771 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008126489890816 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:42:13.771 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008126489890816 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:13.772 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008126489890816 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:42:13.772 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008126489890816 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 24, 5
2023-05-12 23:42:13.772 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008126489890816 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:42:13.773 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008126489890816 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:42:13.773 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008126489890816 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:42:13.773 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008126489890816 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:42:13.774 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008126489890816 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:42:13.774 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008126489890816 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:42:13.774 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008126489890816 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:42:13.775 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008126489890816 [0;39m <==      Total: 8
2023-05-12 23:42:13.775 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008126489890816 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":24,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:42:13.776 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008126489890816 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 23:42:13.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008126703800320 [0;39m ------------- 开始 -------------
2023-05-12 23:42:13.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008126703800320 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:42:13.820 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008126703800320 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:42:13.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008126703800320 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:42:13.821 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008126703800320 [0;39m 请求参数: [1]
2023-05-12 23:42:13.823 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008126703800320 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:42:13.824 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008126703800320 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:13.825 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008126703800320 [0;39m <==    Columns: id, content
2023-05-12 23:42:13.825 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008126703800320 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:42:13.825 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008126703800320 [0;39m <==      Total: 1
2023-05-12 23:42:13.826 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008126703800320 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:42:13.827 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008126703800320 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:13.829 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008126703800320 [0;39m <==    Updates: 1
2023-05-12 23:42:13.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008126703800320 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:42:13.830 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008126703800320 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 23:42:30.541 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008196836757504 [0;39m ------------- 开始 -------------
2023-05-12 23:42:30.542 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008196836757504 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:42:30.542 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008196836757504 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:42:30.542 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008196836757504 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:42:30.542 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008196836757504 [0;39m 请求参数: [1]
2023-05-12 23:42:30.543 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008196836757504 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:42:30.544 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008196836757504 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:30.545 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008196836757504 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:42:30.545 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008196836757504 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 25, 5
2023-05-12 23:42:30.545 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008196836757504 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:42:30.546 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008196836757504 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:42:30.546 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008196836757504 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:42:30.546 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008196836757504 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:42:30.546 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008196836757504 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:42:30.547 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008196836757504 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:42:30.547 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008196836757504 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:42:30.547 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008196836757504 [0;39m <==      Total: 8
2023-05-12 23:42:30.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008196836757504 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":25,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:42:30.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008196836757504 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 23:42:30.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008197063249920 [0;39m ------------- 开始 -------------
2023-05-12 23:42:30.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008197063249920 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:42:30.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008197063249920 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:42:30.595 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008197063249920 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:42:30.596 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008197063249920 [0;39m 请求参数: [1]
2023-05-12 23:42:30.596 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008197063249920 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:42:30.597 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008197063249920 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:30.598 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008197063249920 [0;39m <==    Columns: id, content
2023-05-12 23:42:30.599 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008197063249920 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:42:30.599 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008197063249920 [0;39m <==      Total: 1
2023-05-12 23:42:30.599 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008197063249920 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:42:30.600 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008197063249920 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:30.604 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008197063249920 [0;39m <==    Updates: 1
2023-05-12 23:42:30.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008197063249920 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:42:30.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008197063249920 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 23:42:35.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38008215547547648 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008215547547648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:42:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008215547547648 [0;39m ==> Parameters: 
2023-05-12 23:42:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008215547547648 [0;39m <==    Updates: 1
2023-05-12 23:42:35.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38008215547547648 [0;39m 更新电子书下的文档数据结束，耗时：8毫秒
2023-05-12 23:42:39.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008233067155456 [0;39m ------------- 开始 -------------
2023-05-12 23:42:39.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008233067155456 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:42:39.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008233067155456 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:42:39.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008233067155456 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:42:39.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008233067155456 [0;39m 请求参数: [1]
2023-05-12 23:42:39.184 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008233067155456 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:42:39.185 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008233067155456 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:39.187 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008233067155456 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:42:39.187 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008233067155456 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 26, 5
2023-05-12 23:42:39.187 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008233067155456 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:42:39.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008233067155456 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:42:39.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008233067155456 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:42:39.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008233067155456 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:42:39.188 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008233067155456 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:42:39.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008233067155456 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:42:39.189 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008233067155456 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:42:39.189 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008233067155456 [0;39m <==      Total: 8
2023-05-12 23:42:39.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008233067155456 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":26,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:42:39.189 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008233067155456 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 23:42:39.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008233302036480 [0;39m ------------- 开始 -------------
2023-05-12 23:42:39.235 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008233302036480 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:42:39.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008233302036480 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:42:39.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008233302036480 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:42:39.236 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008233302036480 [0;39m 请求参数: [1]
2023-05-12 23:42:39.236 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008233302036480 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:42:39.237 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008233302036480 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:39.238 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008233302036480 [0;39m <==    Columns: id, content
2023-05-12 23:42:39.238 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008233302036480 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:42:39.238 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008233302036480 [0;39m <==      Total: 1
2023-05-12 23:42:39.239 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008233302036480 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:42:39.239 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008233302036480 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:42:39.242 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008233302036480 [0;39m <==    Updates: 1
2023-05-12 23:42:39.242 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008233302036480 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:42:39.243 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008233302036480 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 23:43:00.003 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38008320409341952 [0;39m 生成今日电子书快照开始
2023-05-12 23:43:00.004 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38008320409341952 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:43:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38008320409341952 [0;39m ==> Parameters: 
2023-05-12 23:43:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38008320409341952 [0;39m <==    Updates: 0
2023-05-12 23:43:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38008320409341952 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 23:43:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38008341401833472 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:43:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008341401833472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:43:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008341401833472 [0;39m ==> Parameters: 
2023-05-12 23:43:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008341401833472 [0;39m <==    Updates: 1
2023-05-12 23:43:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38008341401833472 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 23:43:05.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008342072922112 [0;39m ------------- 开始 -------------
2023-05-12 23:43:05.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008342072922112 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:43:05.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008342072922112 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:43:05.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008342072922112 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:43:05.169 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008342072922112 [0;39m 请求参数: [1]
2023-05-12 23:43:05.170 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008342072922112 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:43:05.171 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008342072922112 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:43:05.172 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008342072922112 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:43:05.172 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008342072922112 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 27, 5
2023-05-12 23:43:05.173 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008342072922112 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:43:05.173 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008342072922112 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:43:05.173 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008342072922112 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:43:05.173 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008342072922112 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:43:05.174 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008342072922112 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:43:05.174 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008342072922112 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:43:05.174 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008342072922112 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:43:05.174 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008342072922112 [0;39m <==      Total: 8
2023-05-12 23:43:05.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008342072922112 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":27,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:43:05.175 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008342072922112 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 23:43:05.220 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008342291025920 [0;39m ------------- 开始 -------------
2023-05-12 23:43:05.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008342291025920 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:43:05.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008342291025920 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:43:05.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008342291025920 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:43:05.221 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008342291025920 [0;39m 请求参数: [1]
2023-05-12 23:43:05.222 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008342291025920 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:43:05.222 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008342291025920 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:43:05.223 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008342291025920 [0;39m <==    Columns: id, content
2023-05-12 23:43:05.223 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008342291025920 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:43:05.224 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008342291025920 [0;39m <==      Total: 1
2023-05-12 23:43:05.224 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008342291025920 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:43:05.225 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008342291025920 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:43:05.227 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008342291025920 [0;39m <==    Updates: 1
2023-05-12 23:43:05.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008342291025920 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:43:05.227 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008342291025920 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 23:43:16.513 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38008073125761024 [0;39m 连接关闭，token：aTaKj4ofq7，session id：0！当前连接数：0
2023-05-12 23:43:18.073 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38008196836757504 [0;39m 有新连接：token：uy20noXGtF，session id：1，当前连接数：1
2023-05-12 23:43:18.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008396645011456 [0;39m ------------- 开始 -------------
2023-05-12 23:43:18.179 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008396645011456 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:43:18.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008396645011456 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:43:18.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008396645011456 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:43:18.180 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008396645011456 [0;39m 请求参数: [1]
2023-05-12 23:43:18.181 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008396645011456 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:43:18.182 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008396645011456 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:43:18.183 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008396645011456 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:43:18.183 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008396645011456 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 28, 5
2023-05-12 23:43:18.184 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008396645011456 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:43:18.184 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008396645011456 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:43:18.185 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008396645011456 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:43:18.185 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008396645011456 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:43:18.186 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008396645011456 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:43:18.186 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008396645011456 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:43:18.186 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008396645011456 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:43:18.186 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008396645011456 [0;39m <==      Total: 8
2023-05-12 23:43:18.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008396645011456 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":28,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:43:18.187 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008396645011456 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 23:43:18.378 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008397479677952 [0;39m ------------- 开始 -------------
2023-05-12 23:43:18.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008397479677952 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:43:18.379 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008397479677952 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:43:18.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008397479677952 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:43:18.380 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008397479677952 [0;39m 请求参数: [1]
2023-05-12 23:43:18.381 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008397479677952 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:43:18.381 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008397479677952 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:43:18.382 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008397479677952 [0;39m <==    Columns: id, content
2023-05-12 23:43:18.383 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008397479677952 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:43:18.383 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008397479677952 [0;39m <==      Total: 1
2023-05-12 23:43:18.384 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008397479677952 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:43:18.385 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008397479677952 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:43:18.389 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008397479677952 [0;39m <==    Updates: 1
2023-05-12 23:43:18.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008397479677952 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:43:18.390 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008397479677952 [0;39m ------------- 结束 耗时：12 ms -------------
2023-05-12 23:43:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38008467230953472 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:43:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008467230953472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:43:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008467230953472 [0;39m ==> Parameters: 
2023-05-12 23:43:35.052 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008467230953472 [0;39m <==    Updates: 1
2023-05-12 23:43:35.053 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38008467230953472 [0;39m 更新电子书下的文档数据结束，耗时：45毫秒
2023-05-12 23:43:36.448 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38008233302036480 [0;39m 连接关闭，token：uy20noXGtF，session id：1！当前连接数：0
2023-05-12 23:43:37.663 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38008115219795968 [0;39m 有新连接：token：AnXrjEThO8，session id：2，当前连接数：1
2023-05-12 23:43:37.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008479037919232 [0;39m ------------- 开始 -------------
2023-05-12 23:43:37.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008479037919232 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:43:37.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008479037919232 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:43:37.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008479037919232 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:43:37.823 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008479037919232 [0;39m 请求参数: [1]
2023-05-12 23:43:37.825 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008479037919232 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:43:37.826 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008479037919232 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:43:37.827 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008479037919232 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:43:37.827 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008479037919232 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 29, 5
2023-05-12 23:43:37.828 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008479037919232 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:43:37.828 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008479037919232 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:43:37.829 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008479037919232 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:43:37.829 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008479037919232 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:43:37.829 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008479037919232 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:43:37.830 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008479037919232 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:43:37.831 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008479037919232 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:43:37.831 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008479037919232 [0;39m <==      Total: 8
2023-05-12 23:43:37.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008479037919232 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":29,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:43:37.831 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008479037919232 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 23:43:37.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008479771922432 [0;39m ------------- 开始 -------------
2023-05-12 23:43:37.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008479771922432 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:43:37.998 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008479771922432 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:43:37.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008479771922432 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:43:37.999 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008479771922432 [0;39m 请求参数: [1]
2023-05-12 23:43:38.000 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008479771922432 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:43:38.000 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008479771922432 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:43:38.001 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008479771922432 [0;39m <==    Columns: id, content
2023-05-12 23:43:38.001 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008479771922432 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:43:38.001 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008479771922432 [0;39m <==      Total: 1
2023-05-12 23:43:38.002 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008479771922432 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:43:38.002 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008479771922432 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:43:38.007 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008479771922432 [0;39m <==    Updates: 1
2023-05-12 23:43:38.008 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008479771922432 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:43:38.008 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008479771922432 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 23:43:46.604 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008515868102656 [0;39m ------------- 开始 -------------
2023-05-12 23:43:46.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008515868102656 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:43:46.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008515868102656 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:43:46.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008515868102656 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:43:46.605 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008515868102656 [0;39m 请求参数: [1]
2023-05-12 23:43:46.606 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008515868102656 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:43:46.607 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008515868102656 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:43:46.608 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008515868102656 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:43:46.608 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008515868102656 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 30, 5
2023-05-12 23:43:46.608 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008515868102656 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:43:46.608 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008515868102656 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:43:46.609 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008515868102656 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:43:46.609 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008515868102656 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:43:46.609 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008515868102656 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:43:46.609 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008515868102656 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:43:46.610 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008515868102656 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:43:46.610 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008515868102656 [0;39m <==      Total: 8
2023-05-12 23:43:46.610 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008515868102656 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":30,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:43:46.611 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008515868102656 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 23:43:46.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008516014903296 [0;39m ------------- 开始 -------------
2023-05-12 23:43:46.639 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008516014903296 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:43:46.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008516014903296 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:43:46.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008516014903296 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:43:46.640 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008516014903296 [0;39m 请求参数: [1]
2023-05-12 23:43:46.640 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008516014903296 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:43:46.641 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008516014903296 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:43:46.641 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008516014903296 [0;39m <==    Columns: id, content
2023-05-12 23:43:46.641 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008516014903296 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:43:46.641 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008516014903296 [0;39m <==      Total: 1
2023-05-12 23:43:46.643 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008516014903296 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:43:46.643 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008516014903296 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:43:46.661 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008516014903296 [0;39m <==    Updates: 1
2023-05-12 23:43:46.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008516014903296 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:43:46.661 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008516014903296 [0;39m ------------- 结束 耗时：22 ms -------------
2023-05-12 23:44:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38008572071776256 [0;39m 生成今日电子书快照开始
2023-05-12 23:44:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38008572071776256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:44:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38008572071776256 [0;39m ==> Parameters: 
2023-05-12 23:44:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38008572071776256 [0;39m <==    Updates: 0
2023-05-12 23:44:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38008572071776256 [0;39m 生成今日电子书快照结束，耗时：5毫秒
2023-05-12 23:44:01.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008578187071488 [0;39m ------------- 开始 -------------
2023-05-12 23:44:01.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008578187071488 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:44:01.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008578187071488 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:44:01.462 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008578187071488 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:44:01.463 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008578187071488 [0;39m 请求参数: [1]
2023-05-12 23:44:01.465 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008578187071488 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:44:01.465 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008578187071488 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:01.466 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008578187071488 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:44:01.466 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008578187071488 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 31, 5
2023-05-12 23:44:01.467 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008578187071488 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:44:01.467 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008578187071488 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:44:01.467 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008578187071488 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:44:01.467 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008578187071488 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:44:01.467 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008578187071488 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:44:01.468 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008578187071488 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:44:01.468 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008578187071488 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:44:01.468 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008578187071488 [0;39m <==      Total: 8
2023-05-12 23:44:01.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008578187071488 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":31,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:44:01.468 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008578187071488 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 23:44:01.511 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008578392592384 [0;39m ------------- 开始 -------------
2023-05-12 23:44:01.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008578392592384 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:44:01.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008578392592384 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:44:01.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008578392592384 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:44:01.512 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008578392592384 [0;39m 请求参数: [1]
2023-05-12 23:44:01.513 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008578392592384 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:44:01.513 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008578392592384 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:01.514 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008578392592384 [0;39m <==    Columns: id, content
2023-05-12 23:44:01.515 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008578392592384 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:44:01.516 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008578392592384 [0;39m <==      Total: 1
2023-05-12 23:44:01.516 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008578392592384 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:44:01.517 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008578392592384 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:01.520 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008578392592384 [0;39m <==    Updates: 1
2023-05-12 23:44:01.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008578392592384 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:44:01.520 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008578392592384 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 23:44:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38008593039101952 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:44:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008593039101952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:44:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008593039101952 [0;39m ==> Parameters: 
2023-05-12 23:44:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008593039101952 [0;39m <==    Updates: 1
2023-05-12 23:44:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38008593039101952 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 23:44:09.006 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008609828900864 [0;39m ------------- 开始 -------------
2023-05-12 23:44:09.006 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008609828900864 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:44:09.006 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008609828900864 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:44:09.006 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008609828900864 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:44:09.006 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008609828900864 [0;39m 请求参数: [1]
2023-05-12 23:44:09.007 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008609828900864 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:44:09.008 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008609828900864 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:09.009 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008609828900864 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:44:09.009 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008609828900864 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 32, 5
2023-05-12 23:44:09.009 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008609828900864 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:44:09.009 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008609828900864 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:44:09.010 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008609828900864 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:44:09.010 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008609828900864 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:44:09.010 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008609828900864 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:44:09.010 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008609828900864 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:44:09.010 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008609828900864 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:44:09.010 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008609828900864 [0;39m <==      Total: 8
2023-05-12 23:44:09.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008609828900864 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":32,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:44:09.011 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008609828900864 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 23:44:09.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008609963118592 [0;39m ------------- 开始 -------------
2023-05-12 23:44:09.038 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008609963118592 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:44:09.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008609963118592 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:44:09.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008609963118592 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:44:09.039 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008609963118592 [0;39m 请求参数: [1]
2023-05-12 23:44:09.040 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008609963118592 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:44:09.040 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008609963118592 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:09.041 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008609963118592 [0;39m <==    Columns: id, content
2023-05-12 23:44:09.041 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008609963118592 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:44:09.041 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008609963118592 [0;39m <==      Total: 1
2023-05-12 23:44:09.041 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008609963118592 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:44:09.043 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008609963118592 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:09.046 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008609963118592 [0;39m <==    Updates: 1
2023-05-12 23:44:09.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008609963118592 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:44:09.046 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008609963118592 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 23:44:20.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008656117239808 [0;39m ------------- 开始 -------------
2023-05-12 23:44:20.042 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008656117239808 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:44:20.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008656117239808 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:44:20.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008656117239808 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:44:20.043 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008656117239808 [0;39m 请求参数: [1]
2023-05-12 23:44:20.044 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008656117239808 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:44:20.044 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008656117239808 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:20.045 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008656117239808 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:44:20.045 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008656117239808 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 33, 5
2023-05-12 23:44:20.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008656117239808 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:44:20.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008656117239808 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:44:20.046 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008656117239808 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:44:20.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008656117239808 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:44:20.047 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008656117239808 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:44:20.048 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008656117239808 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:44:20.049 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008656117239808 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:44:20.049 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008656117239808 [0;39m <==      Total: 8
2023-05-12 23:44:20.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008656117239808 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":33,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:44:20.049 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008656117239808 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 23:44:20.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008656293400576 [0;39m ------------- 开始 -------------
2023-05-12 23:44:20.085 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008656293400576 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:44:20.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008656293400576 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:44:20.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008656293400576 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:44:20.086 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008656293400576 [0;39m 请求参数: [1]
2023-05-12 23:44:20.086 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008656293400576 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:44:20.087 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008656293400576 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:20.088 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008656293400576 [0;39m <==    Columns: id, content
2023-05-12 23:44:20.088 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008656293400576 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:44:20.088 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008656293400576 [0;39m <==      Total: 1
2023-05-12 23:44:20.088 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008656293400576 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:44:20.089 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008656293400576 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:20.091 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008656293400576 [0;39m <==    Updates: 1
2023-05-12 23:44:20.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008656293400576 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:44:20.092 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008656293400576 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 23:44:28.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008691550720000 [0;39m ------------- 开始 -------------
2023-05-12 23:44:28.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008691550720000 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:44:28.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008691550720000 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:44:28.490 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008691550720000 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:44:28.491 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008691550720000 [0;39m 请求参数: [1]
2023-05-12 23:44:28.493 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008691550720000 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:44:28.493 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008691550720000 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:28.494 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008691550720000 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:44:28.494 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008691550720000 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 34, 5
2023-05-12 23:44:28.495 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008691550720000 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:44:28.495 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008691550720000 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:44:28.495 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008691550720000 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:44:28.495 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008691550720000 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:44:28.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008691550720000 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:44:28.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008691550720000 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:44:28.496 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008691550720000 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:44:28.496 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008691550720000 [0;39m <==      Total: 8
2023-05-12 23:44:28.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008691550720000 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":34,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:44:28.497 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008691550720000 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 23:44:28.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008691684937728 [0;39m ------------- 开始 -------------
2023-05-12 23:44:28.522 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008691684937728 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:44:28.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008691684937728 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:44:28.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008691684937728 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:44:28.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008691684937728 [0;39m 请求参数: [1]
2023-05-12 23:44:28.524 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008691684937728 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:44:28.524 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008691684937728 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:28.525 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008691684937728 [0;39m <==    Columns: id, content
2023-05-12 23:44:28.526 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008691684937728 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:44:28.526 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008691684937728 [0;39m <==      Total: 1
2023-05-12 23:44:28.526 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008691684937728 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:44:28.526 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008691684937728 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:28.528 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008691684937728 [0;39m <==    Updates: 1
2023-05-12 23:44:28.528 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008691684937728 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:44:28.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008691684937728 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 23:44:35.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38008718889193472 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:44:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008718889193472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:44:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008718889193472 [0;39m ==> Parameters: 
2023-05-12 23:44:35.026 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008718889193472 [0;39m <==    Updates: 1
2023-05-12 23:44:35.026 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38008718889193472 [0;39m 更新电子书下的文档数据结束，耗时：18毫秒
2023-05-12 23:44:36.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008725671383040 [0;39m ------------- 开始 -------------
2023-05-12 23:44:36.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008725671383040 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:44:36.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008725671383040 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:44:36.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008725671383040 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:44:36.625 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008725671383040 [0;39m 请求参数: [1]
2023-05-12 23:44:36.628 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008725671383040 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:44:36.628 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008725671383040 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:36.630 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008725671383040 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:44:36.630 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008725671383040 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 35, 5
2023-05-12 23:44:36.631 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008725671383040 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:44:36.631 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008725671383040 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:44:36.631 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008725671383040 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:44:36.632 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008725671383040 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:44:36.632 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008725671383040 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:44:36.632 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008725671383040 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:44:36.632 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008725671383040 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:44:36.633 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008725671383040 [0;39m <==      Total: 8
2023-05-12 23:44:36.633 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008725671383040 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":35,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:44:36.634 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008725671383040 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 23:44:36.657 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008725805600768 [0;39m ------------- 开始 -------------
2023-05-12 23:44:36.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008725805600768 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:44:36.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008725805600768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:44:36.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008725805600768 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:44:36.659 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008725805600768 [0;39m 请求参数: [1]
2023-05-12 23:44:36.660 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008725805600768 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:44:36.660 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008725805600768 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:36.661 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008725805600768 [0;39m <==    Columns: id, content
2023-05-12 23:44:36.662 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008725805600768 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:44:36.662 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008725805600768 [0;39m <==      Total: 1
2023-05-12 23:44:36.662 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008725805600768 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:44:36.663 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008725805600768 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:36.664 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008725805600768 [0;39m <==    Updates: 1
2023-05-12 23:44:36.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008725805600768 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:44:36.665 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008725805600768 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 23:44:43.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008755312529408 [0;39m ------------- 开始 -------------
2023-05-12 23:44:43.692 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008755312529408 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:44:43.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008755312529408 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:44:43.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008755312529408 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:44:43.693 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008755312529408 [0;39m 请求参数: [1]
2023-05-12 23:44:43.694 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008755312529408 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:44:43.695 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008755312529408 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:43.695 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008755312529408 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:44:43.695 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008755312529408 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 36, 5
2023-05-12 23:44:43.696 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008755312529408 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:44:43.696 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008755312529408 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:44:43.696 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008755312529408 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:44:43.696 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008755312529408 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:44:43.697 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008755312529408 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:44:43.697 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008755312529408 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:44:43.697 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008755312529408 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:44:43.697 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008755312529408 [0;39m <==      Total: 8
2023-05-12 23:44:43.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008755312529408 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":36,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:44:43.699 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008755312529408 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 23:44:43.754 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008755572576256 [0;39m ------------- 开始 -------------
2023-05-12 23:44:43.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008755572576256 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:44:43.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008755572576256 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:44:43.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008755572576256 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:44:43.755 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008755572576256 [0;39m 请求参数: [1]
2023-05-12 23:44:43.757 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008755572576256 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:44:43.758 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008755572576256 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:43.759 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008755572576256 [0;39m <==    Columns: id, content
2023-05-12 23:44:43.760 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008755572576256 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:44:43.760 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008755572576256 [0;39m <==      Total: 1
2023-05-12 23:44:43.760 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008755572576256 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:44:43.761 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008755572576256 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:44:43.763 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008755572576256 [0;39m <==    Updates: 1
2023-05-12 23:44:43.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008755572576256 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:44:43.764 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008755572576256 [0;39m ------------- 结束 耗时：10 ms -------------
2023-05-12 23:45:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38008823763570688 [0;39m 生成今日电子书快照开始
2023-05-12 23:45:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38008823763570688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:45:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38008823763570688 [0;39m ==> Parameters: 
2023-05-12 23:45:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38008823763570688 [0;39m <==    Updates: 0
2023-05-12 23:45:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38008823763570688 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 23:45:01.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008829799174144 [0;39m ------------- 开始 -------------
2023-05-12 23:45:01.451 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008829799174144 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:45:01.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008829799174144 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:45:01.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008829799174144 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:45:01.452 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008829799174144 [0;39m 请求参数: [1]
2023-05-12 23:45:01.453 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008829799174144 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:45:01.453 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008829799174144 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:45:01.454 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008829799174144 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:45:01.454 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008829799174144 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 37, 5
2023-05-12 23:45:01.454 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008829799174144 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:45:01.455 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008829799174144 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:45:01.455 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008829799174144 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:45:01.455 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008829799174144 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:45:01.456 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008829799174144 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:45:01.456 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008829799174144 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:45:01.456 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008829799174144 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:45:01.456 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008829799174144 [0;39m <==      Total: 8
2023-05-12 23:45:01.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008829799174144 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":37,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:45:01.457 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008829799174144 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 23:45:01.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008830138912768 [0;39m ------------- 开始 -------------
2023-05-12 23:45:01.532 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008830138912768 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:45:01.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008830138912768 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:45:01.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008830138912768 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:45:01.533 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008830138912768 [0;39m 请求参数: [1]
2023-05-12 23:45:01.534 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008830138912768 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:45:01.534 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008830138912768 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:45:01.535 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008830138912768 [0;39m <==    Columns: id, content
2023-05-12 23:45:01.536 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008830138912768 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:45:01.536 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008830138912768 [0;39m <==      Total: 1
2023-05-12 23:45:01.537 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008830138912768 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:45:01.537 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008830138912768 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:45:01.539 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008830138912768 [0;39m <==    Updates: 1
2023-05-12 23:45:01.539 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008830138912768 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:45:01.540 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008830138912768 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 23:45:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38008844709924864 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:45:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008844709924864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:45:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008844709924864 [0;39m ==> Parameters: 
2023-05-12 23:45:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008844709924864 [0;39m <==    Updates: 1
2023-05-12 23:45:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38008844709924864 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 23:45:11.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008870295179264 [0;39m ------------- 开始 -------------
2023-05-12 23:45:11.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008870295179264 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:45:11.106 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008870295179264 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:45:11.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008870295179264 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:45:11.107 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008870295179264 [0;39m 请求参数: [1]
2023-05-12 23:45:11.108 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008870295179264 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:45:11.109 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008870295179264 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:45:11.109 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008870295179264 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:45:11.111 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008870295179264 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 38, 5
2023-05-12 23:45:11.111 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008870295179264 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:45:11.111 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008870295179264 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:45:11.111 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008870295179264 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:45:11.111 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008870295179264 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:45:11.111 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008870295179264 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:45:11.111 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008870295179264 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:45:11.112 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38008870295179264 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:45:11.112 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38008870295179264 [0;39m <==      Total: 8
2023-05-12 23:45:11.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008870295179264 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":38,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:45:11.113 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008870295179264 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 23:45:11.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38008870441979904 [0;39m ------------- 开始 -------------
2023-05-12 23:45:11.141 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38008870441979904 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:45:11.161 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38008870441979904 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:45:11.161 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38008870441979904 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:45:11.162 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38008870441979904 [0;39m 请求参数: [1]
2023-05-12 23:45:11.162 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008870441979904 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:45:11.162 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008870441979904 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:45:11.163 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008870441979904 [0;39m <==    Columns: id, content
2023-05-12 23:45:11.164 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38008870441979904 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:45:11.164 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38008870441979904 [0;39m <==      Total: 1
2023-05-12 23:45:11.164 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008870441979904 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:45:11.165 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008870441979904 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:45:11.167 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38008870441979904 [0;39m <==    Updates: 1
2023-05-12 23:45:11.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38008870441979904 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:45:11.168 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38008870441979904 [0;39m ------------- 结束 耗时：27 ms -------------
2023-05-12 23:45:35.015 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38008970576793600 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:45:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008970576793600 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:45:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008970576793600 [0;39m ==> Parameters: 
2023-05-12 23:45:35.020 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38008970576793600 [0;39m <==    Updates: 1
2023-05-12 23:45:35.020 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38008970576793600 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-12 23:46:00.010 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38009075413422080 [0;39m 生成今日电子书快照开始
2023-05-12 23:46:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38009075413422080 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:46:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38009075413422080 [0;39m ==> Parameters: 
2023-05-12 23:46:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38009075413422080 [0;39m <==    Updates: 0
2023-05-12 23:46:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38009075413422080 [0;39m 生成今日电子书快照结束，耗时：6毫秒
2023-05-12 23:46:00.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38009078177468416 [0;39m ------------- 开始 -------------
2023-05-12 23:46:00.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38009078177468416 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:46:00.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38009078177468416 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:46:00.669 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38009078177468416 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:46:00.670 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38009078177468416 [0;39m 请求参数: [1]
2023-05-12 23:46:00.671 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38009078177468416 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:46:00.671 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38009078177468416 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:46:00.672 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009078177468416 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:46:00.672 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009078177468416 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 39, 5
2023-05-12 23:46:00.672 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009078177468416 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:46:00.673 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009078177468416 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:46:00.673 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009078177468416 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:46:00.673 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009078177468416 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:46:00.673 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009078177468416 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:46:00.673 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009078177468416 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:46:00.674 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009078177468416 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:46:00.674 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38009078177468416 [0;39m <==      Total: 8
2023-05-12 23:46:00.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38009078177468416 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":39,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:46:00.674 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38009078177468416 [0;39m ------------- 结束 耗时：5 ms -------------
2023-05-12 23:46:00.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38009078349434880 [0;39m ------------- 开始 -------------
2023-05-12 23:46:00.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38009078349434880 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:46:00.710 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38009078349434880 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:46:00.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38009078349434880 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:46:00.711 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38009078349434880 [0;39m 请求参数: [1]
2023-05-12 23:46:00.711 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38009078349434880 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:46:00.712 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38009078349434880 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:46:00.713 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38009078349434880 [0;39m <==    Columns: id, content
2023-05-12 23:46:00.713 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38009078349434880 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:46:00.714 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38009078349434880 [0;39m <==      Total: 1
2023-05-12 23:46:00.714 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38009078349434880 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:46:00.715 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38009078349434880 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:46:00.716 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38009078349434880 [0;39m <==    Updates: 1
2023-05-12 23:46:00.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38009078349434880 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:46:00.717 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38009078349434880 [0;39m ------------- 结束 耗时：7 ms -------------
2023-05-12 23:46:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38009096376553472 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:46:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009096376553472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:46:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009096376553472 [0;39m ==> Parameters: 
2023-05-12 23:46:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009096376553472 [0;39m <==    Updates: 1
2023-05-12 23:46:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38009096376553472 [0;39m 更新电子书下的文档数据结束，耗时：4毫秒
2023-05-12 23:46:08.223 INFO  com.jiawa.wiki.websocket.WebSocketServer          :41   [32m38008656293400576 [0;39m 连接关闭，token：AnXrjEThO8，session id：2！当前连接数：0
2023-05-12 23:46:08.814 INFO  com.jiawa.wiki.websocket.WebSocketServer          :32   [32m38008829799174144 [0;39m 有新连接：token：2vHmlPXmjR，session id：3，当前连接数：1
2023-05-12 23:46:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38009112516235264 [0;39m ------------- 开始 -------------
2023-05-12 23:46:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38009112516235264 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:46:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38009112516235264 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:46:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38009112516235264 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:46:08.856 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38009112516235264 [0;39m 请求参数: [1]
2023-05-12 23:46:08.858 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38009112516235264 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:46:08.859 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38009112516235264 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:46:08.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009112516235264 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:46:08.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009112516235264 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 40, 5
2023-05-12 23:46:08.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009112516235264 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:46:08.860 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009112516235264 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:46:08.861 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009112516235264 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:46:08.861 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009112516235264 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:46:08.861 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009112516235264 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:46:08.861 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009112516235264 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:46:08.861 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009112516235264 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:46:08.862 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38009112516235264 [0;39m <==      Total: 8
2023-05-12 23:46:08.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38009112516235264 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":40,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:46:08.862 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38009112516235264 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 23:46:08.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38009112696590336 [0;39m ------------- 开始 -------------
2023-05-12 23:46:08.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38009112696590336 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:46:08.899 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38009112696590336 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:46:08.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38009112696590336 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:46:08.900 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38009112696590336 [0;39m 请求参数: [1]
2023-05-12 23:46:08.900 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38009112696590336 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:46:08.901 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38009112696590336 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:46:08.901 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38009112696590336 [0;39m <==    Columns: id, content
2023-05-12 23:46:08.902 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38009112696590336 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:46:08.902 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38009112696590336 [0;39m <==      Total: 1
2023-05-12 23:46:08.903 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38009112696590336 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:46:08.903 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38009112696590336 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:46:08.907 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38009112696590336 [0;39m <==    Updates: 1
2023-05-12 23:46:08.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38009112696590336 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:46:08.907 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38009112696590336 [0;39m ------------- 结束 耗时：8 ms -------------
2023-05-12 23:46:15.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38009142216101888 [0;39m ------------- 开始 -------------
2023-05-12 23:46:15.937 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38009142216101888 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:46:15.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38009142216101888 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:46:15.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38009142216101888 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:46:15.938 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38009142216101888 [0;39m 请求参数: [1]
2023-05-12 23:46:15.952 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38009142216101888 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:46:15.953 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38009142216101888 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:46:15.955 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009142216101888 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:46:15.955 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009142216101888 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 41, 5
2023-05-12 23:46:15.956 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009142216101888 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:46:15.956 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009142216101888 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:46:15.956 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009142216101888 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:46:15.956 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009142216101888 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:46:15.957 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009142216101888 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:46:15.957 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009142216101888 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:46:15.957 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009142216101888 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:46:15.957 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38009142216101888 [0;39m <==      Total: 8
2023-05-12 23:46:15.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38009142216101888 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":41,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:46:15.958 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38009142216101888 [0;39m ------------- 结束 耗时：21 ms -------------
2023-05-12 23:46:15.988 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38009142430011392 [0;39m ------------- 开始 -------------
2023-05-12 23:46:15.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38009142430011392 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:46:15.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38009142430011392 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:46:15.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38009142430011392 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:46:15.989 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38009142430011392 [0;39m 请求参数: [1]
2023-05-12 23:46:15.990 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38009142430011392 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:46:15.990 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38009142430011392 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:46:15.991 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38009142430011392 [0;39m <==    Columns: id, content
2023-05-12 23:46:15.992 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38009142430011392 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:46:15.992 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38009142430011392 [0;39m <==      Total: 1
2023-05-12 23:46:15.992 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38009142430011392 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:46:15.993 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38009142430011392 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:46:16.004 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38009142430011392 [0;39m <==    Updates: 1
2023-05-12 23:46:16.005 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38009142430011392 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:46:16.005 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38009142430011392 [0;39m ------------- 结束 耗时：17 ms -------------
2023-05-12 23:46:34.523 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38009220171436032 [0;39m ------------- 开始 -------------
2023-05-12 23:46:34.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38009220171436032 [0;39m 请求地址: http://127.0.0.1:8880/doc/all/1 GET
2023-05-12 23:46:34.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38009220171436032 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.all
2023-05-12 23:46:34.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38009220171436032 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:46:34.524 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38009220171436032 [0;39m 请求参数: [1]
2023-05-12 23:46:34.525 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38009220171436032 [0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2023-05-12 23:46:34.525 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38009220171436032 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:46:34.526 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009220171436032 [0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2023-05-12 23:46:34.526 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009220171436032 [0;39m <==        Row: 1, 1, 0, 文档1, 1, 42, 5
2023-05-12 23:46:34.526 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009220171436032 [0;39m <==        Row: 2, 1, 1, 文档1.1, 1, 6, 2
2023-05-12 23:46:34.527 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009220171436032 [0;39m <==        Row: 4, 1, 3, 文档2.1, 1, 5, 1
2023-05-12 23:46:34.527 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009220171436032 [0;39m <==        Row: 6, 1, 5, 文档2.2.1, 1, 4, 1
2023-05-12 23:46:34.527 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009220171436032 [0;39m <==        Row: 37841703666847744, 1, 5, 文档2.2.2, 1, 2, 0
2023-05-12 23:46:34.527 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009220171436032 [0;39m <==        Row: 37841746528440320, 1, 37841703666847744, 文档2.2.2.1, 1, 2, 0
2023-05-12 23:46:34.528 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009220171436032 [0;39m <==        Row: 3, 1, 0, 文档2, 2, 2, 0
2023-05-12 23:46:34.528 TRACE com.jiawa.wiki.mapper.DocMapper.selectByExample   :143  [32m38009220171436032 [0;39m <==        Row: 5, 1, 3, 文档2.2, 2, 4, 1
2023-05-12 23:46:34.528 DEBUG com.jiawa.wiki.mapper.DocMapper.selectByExample   :137  [32m38009220171436032 [0;39m <==      Total: 8
2023-05-12 23:46:34.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38009220171436032 [0;39m 返回结果: {"content":[{"ebookId":1,"id":1,"name":"文档1","parent":0,"sort":1,"viewCount":42,"voteCount":5},{"ebookId":1,"id":2,"name":"文档1.1","parent":1,"sort":1,"viewCount":6,"voteCount":2},{"ebookId":1,"id":4,"name":"文档2.1","parent":3,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":6,"name":"文档2.2.1","parent":5,"sort":1,"viewCount":4,"voteCount":1},{"ebookId":1,"id":37841703666847744,"name":"文档2.2.2","parent":5,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":37841746528440320,"name":"文档2.2.2.1","parent":37841703666847744,"sort":1,"viewCount":2,"voteCount":0},{"ebookId":1,"id":3,"name":"文档2","parent":0,"sort":2,"viewCount":2,"voteCount":0},{"ebookId":1,"id":5,"name":"文档2.2","parent":3,"sort":2,"viewCount":4,"voteCount":1}],"success":true}
2023-05-12 23:46:34.529 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38009220171436032 [0;39m ------------- 结束 耗时：6 ms -------------
2023-05-12 23:46:34.545 INFO  com.jiawa.wiki.aspect.LogAspect                   :53   [32m38009220263710720 [0;39m ------------- 开始 -------------
2023-05-12 23:46:34.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :54   [32m38009220263710720 [0;39m 请求地址: http://127.0.0.1:8880/doc/find-content/1 GET
2023-05-12 23:46:34.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :55   [32m38009220263710720 [0;39m 类名方法: com.jiawa.wiki.controller.DocController.findContent
2023-05-12 23:46:34.547 INFO  com.jiawa.wiki.aspect.LogAspect                   :56   [32m38009220263710720 [0;39m 远程地址: 127.0.0.1
2023-05-12 23:46:34.548 INFO  com.jiawa.wiki.aspect.LogAspect                   :78   [32m38009220263710720 [0;39m 请求参数: [1]
2023-05-12 23:46:34.549 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38009220263710720 [0;39m ==>  Preparing: select id , content from content where id = ?
2023-05-12 23:46:34.549 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38009220263710720 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:46:34.550 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38009220263710720 [0;39m <==    Columns: id, content
2023-05-12 23:46:34.551 TRACE c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :143  [32m38009220263710720 [0;39m <==        Row: 1, <<BLOB>>
2023-05-12 23:46:34.551 DEBUG c.j.wiki.mapper.ContentMapper.selectByPrimaryKey  :137  [32m38009220263710720 [0;39m <==      Total: 1
2023-05-12 23:46:34.552 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38009220263710720 [0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2023-05-12 23:46:34.552 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38009220263710720 [0;39m ==> Parameters: 1(Long)
2023-05-12 23:46:34.554 DEBUG c.j.wiki.mapper.DocMapperCust.increaseViewCount   :137  [32m38009220263710720 [0;39m <==    Updates: 1
2023-05-12 23:46:34.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :93   [32m38009220263710720 [0;39m 返回结果: {"content":"<p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".</p><p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p><p>If you’re looking for information about a specific version, or instructions about how to upgrade from an earlier release, check out&nbsp;<a href=\"https://github.com/spring-projects/spring-boot/wiki#release-notes\">the project release notes section</a>&nbsp;on our wiki.</p><h2><a href=\"https://spring.io/projects/spring-boot#features\"></a>Features</h2><ul><li><p>Create stand-alone Spring applications</p></li><li><p>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</p></li><li><p>Provide opinionated 'starter' dependencies to simplify your build configuration</p></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#getting-started\"></a>Getting Started</h2><ul><li><p>Super quick — try the&nbsp;<a href=\"https://spring.io/quickstart\">Quickstart Guide</a>.</p></li><li><p>More general — try&nbsp;<a href=\"https://spring.io/guides/gs/spring-boot/\">Building an Application with Spring Boot</a></p></li><li><p>More specific — try&nbsp;<a href=\"https://spring.io/guides/gs/rest-service/\">Building a RESTful Web Service</a>.</p></li><li><p>Or search through all our guides on the&nbsp;<a href=\"https://spring.io/guides\">Guides</a>&nbsp;homepage.</p></li></ul><h2><a href=\"https://spring.io/projects/spring-boot#talks-and-videos\"></a>Talks and videos</h2><ul><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/its-a-kind-of-magic-under-the-covers-of-spring-boot-brian-clozel-st%C3%A9phane-nicoll\">It’s a Kind of Magic: Under the Covers of Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/whats-new-in-spring-boot-2-0-phillip-webb-madhura-bhave\">What’s New in Spring Boot 2.0</a></p></li><li><p><a href=\"https://content.pivotal.io/webinars/mar-13-introducing-spring-boot-2-0-webinar\">Introducing Spring Boot 2.0 webinar</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/test-driven-development-with-spring-boot-sannidhi-jalukar-madhura-bhave\">Test Driven Development with Spring Boot</a></p></li><li><p><a href=\"https://content.pivotal.io/springone-platform-2017/from-zero-to-hero-with-spring-boot-brian-clozel\">From Zero to Hero with Spring Boot 2.0</a></p></li></ul><p>You can also join the&nbsp;<a href=\"https://gitter.im/spring-projects/spring-boot\">Spring Boot community on Gitter</a>!</p>","success":true}
2023-05-12 23:46:34.554 INFO  com.jiawa.wiki.aspect.LogAspect                   :94   [32m38009220263710720 [0;39m ------------- 结束 耗时：9 ms -------------
2023-05-12 23:46:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38009222201479168 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:46:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009222201479168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:46:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009222201479168 [0;39m ==> Parameters: 
2023-05-12 23:46:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009222201479168 [0;39m <==    Updates: 1
2023-05-12 23:46:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38009222201479168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:47:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38009327063273472 [0;39m 生成今日电子书快照开始
2023-05-12 23:47:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38009327063273472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:47:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38009327063273472 [0;39m ==> Parameters: 
2023-05-12 23:47:00.019 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38009327063273472 [0;39m <==    Updates: 0
2023-05-12 23:47:00.019 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38009327063273472 [0;39m 生成今日电子书快照结束，耗时：10毫秒
2023-05-12 23:47:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38009348013821952 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:47:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009348013821952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:47:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009348013821952 [0;39m ==> Parameters: 
2023-05-12 23:47:05.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009348013821952 [0;39m <==    Updates: 1
2023-05-12 23:47:05.006 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38009348013821952 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 23:47:35.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38009473872302080 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:47:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009473872302080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:47:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009473872302080 [0;39m ==> Parameters: 
2023-05-12 23:47:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009473872302080 [0;39m <==    Updates: 1
2023-05-12 23:47:35.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38009473872302080 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 23:48:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38009578725707776 [0;39m 生成今日电子书快照开始
2023-05-12 23:48:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38009578725707776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:48:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38009578725707776 [0;39m ==> Parameters: 
2023-05-12 23:48:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38009578725707776 [0;39m <==    Updates: 0
2023-05-12 23:48:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38009578725707776 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 23:48:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38009599693033472 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:48:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009599693033472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:48:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009599693033472 [0;39m ==> Parameters: 
2023-05-12 23:48:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009599693033472 [0;39m <==    Updates: 1
2023-05-12 23:48:05.010 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38009599693033472 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:48:35.005 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38009725509570560 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:48:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009725509570560 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:48:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009725509570560 [0;39m ==> Parameters: 
2023-05-12 23:48:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009725509570560 [0;39m <==    Updates: 1
2023-05-12 23:48:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38009725509570560 [0;39m 更新电子书下的文档数据结束，耗时：5毫秒
2023-05-12 23:49:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38009830379753472 [0;39m 生成今日电子书快照开始
2023-05-12 23:49:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38009830379753472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:49:00.011 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38009830379753472 [0;39m ==> Parameters: 
2023-05-12 23:49:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38009830379753472 [0;39m <==    Updates: 0
2023-05-12 23:49:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38009830379753472 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 23:49:05.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38009851342884864 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:49:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009851342884864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:49:05.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009851342884864 [0;39m ==> Parameters: 
2023-05-12 23:49:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009851342884864 [0;39m <==    Updates: 1
2023-05-12 23:49:05.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38009851342884864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:49:35.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38009977176199168 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:49:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009977176199168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:49:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009977176199168 [0;39m ==> Parameters: 
2023-05-12 23:49:35.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38009977176199168 [0;39m <==    Updates: 1
2023-05-12 23:49:35.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38009977176199168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:50:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38010082042187776 [0;39m 生成今日电子书快照开始
2023-05-12 23:50:00.009 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38010082042187776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:50:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38010082042187776 [0;39m ==> Parameters: 
2023-05-12 23:50:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38010082042187776 [0;39m <==    Updates: 0
2023-05-12 23:50:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38010082042187776 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 23:50:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38010102984347648 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:50:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010102984347648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:50:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010102984347648 [0;39m ==> Parameters: 
2023-05-12 23:50:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010102984347648 [0;39m <==    Updates: 1
2023-05-12 23:50:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38010102984347648 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:50:35.013 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38010228859604992 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:50:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010228859604992 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:50:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010228859604992 [0;39m ==> Parameters: 
2023-05-12 23:50:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010228859604992 [0;39m <==    Updates: 1
2023-05-12 23:50:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38010228859604992 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:51:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38010333708816384 [0;39m 生成今日电子书快照开始
2023-05-12 23:51:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38010333708816384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:51:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38010333708816384 [0;39m ==> Parameters: 
2023-05-12 23:51:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38010333708816384 [0;39m <==    Updates: 0
2023-05-12 23:51:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38010333708816384 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 23:51:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38010354638393344 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:51:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010354638393344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:51:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010354638393344 [0;39m ==> Parameters: 
2023-05-12 23:51:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010354638393344 [0;39m <==    Updates: 1
2023-05-12 23:51:05.004 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38010354638393344 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:51:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38010480530427904 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:51:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010480530427904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:51:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010480530427904 [0;39m ==> Parameters: 
2023-05-12 23:51:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010480530427904 [0;39m <==    Updates: 1
2023-05-12 23:51:35.018 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38010480530427904 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:52:00.011 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38010585367056384 [0;39m 生成今日电子书快照开始
2023-05-12 23:52:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38010585367056384 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:52:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38010585367056384 [0;39m ==> Parameters: 
2023-05-12 23:52:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38010585367056384 [0;39m <==    Updates: 0
2023-05-12 23:52:00.013 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38010585367056384 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 23:52:05.003 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38010606305021952 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:52:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010606305021952 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:52:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010606305021952 [0;39m ==> Parameters: 
2023-05-12 23:52:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010606305021952 [0;39m <==    Updates: 1
2023-05-12 23:52:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38010606305021952 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:52:35.016 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38010732188667904 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:52:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010732188667904 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:52:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010732188667904 [0;39m ==> Parameters: 
2023-05-12 23:52:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010732188667904 [0;39m <==    Updates: 1
2023-05-12 23:52:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38010732188667904 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 23:53:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38010837012713472 [0;39m 生成今日电子书快照开始
2023-05-12 23:53:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38010837012713472 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:53:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38010837012713472 [0;39m ==> Parameters: 
2023-05-12 23:53:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38010837012713472 [0;39m <==    Updates: 0
2023-05-12 23:53:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38010837012713472 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 23:53:05.008 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38010857984233472 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:53:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010857984233472 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:53:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010857984233472 [0;39m ==> Parameters: 
2023-05-12 23:53:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010857984233472 [0;39m <==    Updates: 1
2023-05-12 23:53:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38010857984233472 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 23:53:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38010983830130688 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:53:35.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010983830130688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:53:35.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010983830130688 [0;39m ==> Parameters: 
2023-05-12 23:53:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38010983830130688 [0;39m <==    Updates: 1
2023-05-12 23:53:35.014 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38010983830130688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:54:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38011088658370560 [0;39m 生成今日电子书快照开始
2023-05-12 23:54:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38011088658370560 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:54:00.006 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38011088658370560 [0;39m ==> Parameters: 
2023-05-12 23:54:00.008 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38011088658370560 [0;39m <==    Updates: 0
2023-05-12 23:54:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38011088658370560 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 23:54:05.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38011109613113344 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:54:05.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011109613113344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:54:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011109613113344 [0;39m ==> Parameters: 
2023-05-12 23:54:05.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011109613113344 [0;39m <==    Updates: 1
2023-05-12 23:54:05.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38011109613113344 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 23:54:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38011235442233344 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:54:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011235442233344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:54:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011235442233344 [0;39m ==> Parameters: 
2023-05-12 23:54:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011235442233344 [0;39m <==    Updates: 1
2023-05-12 23:54:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38011235442233344 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:55:00.015 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38011340354359296 [0;39m 生成今日电子书快照开始
2023-05-12 23:55:00.015 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38011340354359296 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:55:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38011340354359296 [0;39m ==> Parameters: 
2023-05-12 23:55:00.017 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38011340354359296 [0;39m <==    Updates: 0
2023-05-12 23:55:00.017 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38011340354359296 [0;39m 生成今日电子书快照结束，耗时：2毫秒
2023-05-12 23:55:05.007 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38011361296519168 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:55:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011361296519168 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:55:05.008 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011361296519168 [0;39m ==> Parameters: 
2023-05-12 23:55:05.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011361296519168 [0;39m <==    Updates: 1
2023-05-12 23:55:05.009 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38011361296519168 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:55:35.014 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38011487154999296 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:55:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011487154999296 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:55:35.016 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011487154999296 [0;39m ==> Parameters: 
2023-05-12 23:55:35.017 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011487154999296 [0;39m <==    Updates: 1
2023-05-12 23:55:35.017 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38011487154999296 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 23:56:00.009 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38011591991627776 [0;39m 生成今日电子书快照开始
2023-05-12 23:56:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38011591991627776 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:56:00.010 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38011591991627776 [0;39m ==> Parameters: 
2023-05-12 23:56:00.012 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38011591991627776 [0;39m <==    Updates: 0
2023-05-12 23:56:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38011591991627776 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 23:56:05.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38011612975730688 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:56:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011612975730688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:56:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011612975730688 [0;39m ==> Parameters: 
2023-05-12 23:56:05.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011612975730688 [0;39m <==    Updates: 1
2023-05-12 23:56:05.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38011612975730688 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:56:35.001 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38011738758713344 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:56:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011738758713344 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:56:35.002 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011738758713344 [0;39m ==> Parameters: 
2023-05-12 23:56:35.003 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011738758713344 [0;39m <==    Updates: 1
2023-05-12 23:56:35.003 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38011738758713344 [0;39m 更新电子书下的文档数据结束，耗时：1毫秒
2023-05-12 23:57:00.002 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38011843620507648 [0;39m 生成今日电子书快照开始
2023-05-12 23:57:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38011843620507648 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:57:00.003 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38011843620507648 [0;39m ==> Parameters: 
2023-05-12 23:57:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38011843620507648 [0;39m <==    Updates: 0
2023-05-12 23:57:00.005 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38011843620507648 [0;39m 生成今日电子书快照结束，耗时：3毫秒
2023-05-12 23:57:05.011 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38011864629776384 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:57:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011864629776384 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:57:05.012 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011864629776384 [0;39m ==> Parameters: 
2023-05-12 23:57:05.013 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011864629776384 [0;39m <==    Updates: 1
2023-05-12 23:57:05.013 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38011864629776384 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:57:35.009 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38011990450507776 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:57:35.009 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011990450507776 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:57:35.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011990450507776 [0;39m ==> Parameters: 
2023-05-12 23:57:35.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38011990450507776 [0;39m <==    Updates: 1
2023-05-12 23:57:35.011 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38011990450507776 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:58:00.012 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38012095320690688 [0;39m 生成今日电子书快照开始
2023-05-12 23:58:00.013 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012095320690688 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:58:00.014 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012095320690688 [0;39m ==> Parameters: 
2023-05-12 23:58:00.016 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012095320690688 [0;39m <==    Updates: 0
2023-05-12 23:58:00.016 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38012095320690688 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 23:58:05.002 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38012116250267648 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:58:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012116250267648 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:58:05.004 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012116250267648 [0;39m ==> Parameters: 
2023-05-12 23:58:05.005 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012116250267648 [0;39m <==    Updates: 1
2023-05-12 23:58:05.005 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38012116250267648 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:58:35.012 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38012242121330688 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:58:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012242121330688 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:58:35.014 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012242121330688 [0;39m ==> Parameters: 
2023-05-12 23:58:35.015 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012242121330688 [0;39m <==    Updates: 1
2023-05-12 23:58:35.015 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38012242121330688 [0;39m 更新电子书下的文档数据结束，耗时：3毫秒
2023-05-12 23:59:00.004 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :32   [32m38012346945376256 [0;39m 生成今日电子书快照开始
2023-05-12 23:59:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012346945376256 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2023-05-12 23:59:00.005 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012346945376256 [0;39m ==> Parameters: 
2023-05-12 23:59:00.007 DEBUG c.j.w.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m38012346945376256 [0;39m <==    Updates: 0
2023-05-12 23:59:00.008 INFO  com.jiawa.wiki.job.EbookSnapshotJob               :35   [32m38012346945376256 [0;39m 生成今日电子书快照结束，耗时：4毫秒
2023-05-12 23:59:05.010 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38012367942062080 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:59:05.010 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012367942062080 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:59:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012367942062080 [0;39m ==> Parameters: 
2023-05-12 23:59:05.011 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012367942062080 [0;39m <==    Updates: 1
2023-05-12 23:59:05.012 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38012367942062080 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
2023-05-12 23:59:35.006 INFO  com.jiawa.wiki.job.DocJob                         :30   [32m38012493754404864 [0;39m 更新电子书下的文档数据开始
2023-05-12 23:59:35.006 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012493754404864 [0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2023-05-12 23:59:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012493754404864 [0;39m ==> Parameters: 
2023-05-12 23:59:35.007 DEBUG c.jiawa.wiki.mapper.DocMapperCust.updateEbookInfo :137  [32m38012493754404864 [0;39m <==    Updates: 1
2023-05-12 23:59:35.008 INFO  com.jiawa.wiki.job.DocJob                         :33   [32m38012493754404864 [0;39m 更新电子书下的文档数据结束，耗时：2毫秒
